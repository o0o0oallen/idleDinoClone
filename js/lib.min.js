"use strict";function langueOfvalue(t,e){return t.replace("{}",e)}function getStateName(t){var e="NONE";switch(t){case FB_AD_STATE.NEW:e="NEW";break;case FB_AD_STATE.LOADING:e="LOADING";break;case FB_AD_STATE.LOADED:e="LOADED";break;case FB_AD_STATE.PLAYING:e="PLAYING"}return e}function waitTimeSecond(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,new Promise(function(i,a){setTimeout(function(){e&&e(),i()},1e3*t)})]})})}function getOption(t,e,i){return t&&"undefined"!=typeof t[e]?t[e]:i}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i};if("undefined"==typeof global)var global=window;if("undefined"==typeof __global)var __global=global;var __define=this&&this.__define||function(t,e,i,a){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:i,set:a})},egret;!function(t){t.$hashCount=1;var e=function(){function e(){this.$hashCode=t.$hashCount++}return Object.defineProperty(e.prototype,"hashCode",{get:function(){return this.$hashCode},enumerable:!0,configurable:!0}),e}();t.HashObject=e,__reflect(e.prototype,"egret.HashObject",["egret.IHashObject"])}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function a(t){void 0===t&&(t=null);var e=i.call(this)||this;return e.$EventDispatcher={0:t?t:e,1:{},2:{},3:0},e}return __extends(a,i),a.prototype.$getEventMap=function(t){var e=this.$EventDispatcher,i=t?e[2]:e[1];return i},a.prototype.addEventListener=function(t,e,i,a,n){this.$addListener(t,e,i,a,n)},a.prototype.once=function(t,e,i,a,n){this.$addListener(t,e,i,a,n,!0)},a.prototype.$addListener=function(t,e,i,a,n,r){var s=this.$EventDispatcher,o=a?s[2]:s[1],l=o[t];l?0!==s[3]&&(o[t]=l=l.concat()):l=o[t]=[],this.$insertEventBin(l,t,e,i,a,n,r)},a.prototype.$insertEventBin=function(t,e,i,a,n,r,s){r=0|+r;for(var o=-1,l=t.length,h=0;l>h;h++){var p=t[h];if(p.listener==i&&p.thisObject==a&&p.target==this)return!1;-1==o&&p.priority<r&&(o=h)}var u={type:e,listener:i,thisObject:a,priority:r,target:this,useCapture:n,dispatchOnce:!!s};return-1!==o?t.splice(o,0,u):t.push(u),!0},a.prototype.removeEventListener=function(t,e,i,a){var n=this.$EventDispatcher,r=a?n[2]:n[1],s=r[t];s&&(0!==n[3]&&(r[t]=s=s.concat()),this.$removeEventBin(s,e,i),0==s.length&&(r[t]=null))},a.prototype.$removeEventBin=function(t,e,i){for(var a=t.length,n=0;a>n;n++){var r=t[n];if(r.listener==e&&r.thisObject==i&&r.target==this)return t.splice(n,1),!0}return!1},a.prototype.a1256=function(t){var e=this.$EventDispatcher;return!(!e[1][t]&&!e[2][t])},a.prototype.willTrigger=function(t){return this.a1256(t)},a.prototype.a1258=function(t){return t.$currentTarget=this.$EventDispatcher[0],t.$setTarget(t.$currentTarget),this.$notifyListener(t,!1)},a.prototype.$notifyListener=function(t,i){var a=this.$EventDispatcher,n=i?a[2]:a[1],r=n[t.$type];if(!r)return!0;var s=r.length;if(0==s)return!0;var o=e;a[3]++;for(var l=0;s>l;l++){var h=r[l];if(h.listener.call(h.thisObject,t),h.dispatchOnce&&o.push(h),t.$isPropagationImmediateStopped)break}for(a[3]--;o.length;){var h=o.pop();h.target.removeEventListener(h.type,h.listener,h.thisObject,h.useCapture)}return!t.$a1271},a.prototype.dispatchEventWith=function(e,i,a,n){if(i||this.a1256(e)){var r=t.Event.create(t.Event,e,i,n);r.data=a;var s=this.a1258(r);return t.Event.release(r),s}return!0},a}(t.HashObject);t.EventDispatcher=i,__reflect(i.prototype,"egret.EventDispatcher",["egret.IEventDispatcher"])}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.type=null,i.$id=null,i.paddingTop=0,i.paddingBottom=0,i.paddingLeft=0,i.paddingRight=0,i.$uniforms={},t.nativeRender&&egret_native.NativeDisplayObject.createFilter(i),i}return __extends(i,e),i.prototype.$toJson=function(){return""},i.prototype.a1259=function(){},i.prototype.a1260=function(){var e=this;e.a1259(),t.nativeRender&&(egret_native.NativeDisplayObject.setFilterPadding(e.$id,e.paddingTop,e.paddingBottom,e.paddingLeft,e.paddingRight),egret_native.NativeDisplayObject.setDataToFilter(e))},i}(t.HashObject);t.Filter=e,__reflect(e.prototype,"egret.Filter")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=360,t>180?t-=360:-180>t&&(t+=360),t}var i=function(i){function a(){var e=i.call(this)||this;return e.$children=null,e.$name="",e.$parent=null,e.$stage=null,e.$nestLevel=0,e.$useTranslate=!1,e.$matrix=new t.Matrix,e.$matrixDirty=!1,e.$x=0,e.$y=0,e.$scaleX=1,e.$scaleY=1,e.$rotation=0,e.$skewX=0,e.$skewXdeg=0,e.$skewY=0,e.$skewYdeg=0,e.$explicitWidth=0/0,e.$explicitHeight=0/0,e.$anchorOffsetX=0,e.$anchorOffsetY=0,e.$visible=!0,e.$displayList=null,e.$cacheAsBitmap=!1,e.$cacheDirty=!1,e.$alpha=1,e.$touchEnabled=a.defaultTouchEnabled,e.$scrollRect=null,e.$blendMode=0,e.$maskedObject=null,e.$mask=null,e.$maskRect=null,e.$parentDisplayList=null,e.$a1377=null,e.$renderDirty=!1,e.$renderMode=null,e._tint=0,e.$tintRGB=0,e.$sortDirty=!1,e._zIndex=0,e.$lastSortedIndex=0,e.sortableChildren=!1,t.nativeRender&&e.createNativeDisplayObject(),e.tint=16777215,e}return __extends(a,i),a.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(0)},Object.defineProperty(a.prototype,"name",{get:function(){return this.$name},set:function(t){this.$name=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.$parent},enumerable:!0,configurable:!0}),a.prototype.$setParent=function(t){this.$parent=t},a.prototype.$onAddToStage=function(e,i){var a=this;a.$stage=e,a.$nestLevel=i,a.$hasAddToStage=!0,t.Sprite.$EVENT_ADD_TO_STAGE_LIST.push(a)},a.prototype.$a1692=function(){var e=this;e.$nestLevel=0,t.Sprite.$EVENT_REMOVE_FROM_STAGE_LIST.push(e)},a.prototype.$updateUseTransform=function(){var t=this;1==t.$scaleX&&1==t.$scaleY&&0==t.$skewX&&0==t.$skewY?t.$useTranslate=!1:t.$useTranslate=!0},Object.defineProperty(a.prototype,"stage",{get:function(){return this.$stage},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matrix",{get:function(){return this.$getMatrix().clone()},set:function(t){this.$setMatrix(t)},enumerable:!0,configurable:!0}),a.prototype.$getMatrix=function(){var t=this;return t.$matrixDirty&&(t.$matrixDirty=!1,t.$matrix.$updateScaleAndRotation(t.$scaleX,t.$scaleY,t.$skewX,t.$skewY)),t.$matrix.tx=t.$x,t.$matrix.ty=t.$y,t.$matrix},a.prototype.$setMatrix=function(i,a){void 0===a&&(a=!0);var n=this,r=n.$matrix;r.a=i.a,r.b=i.b,r.c=i.c,r.d=i.d,n.$x=i.tx,n.$y=i.ty,n.$matrixDirty=!1,1==r.a&&0==r.b&&0==r.c&&1==r.d?n.$useTranslate=!1:n.$useTranslate=!0,a&&(n.$scaleX=r.$getScaleX(),n.$scaleY=r.$getScaleY(),n.$skewX=i.$getSkewX(),n.$skewY=i.$getSkewY(),n.$skewXdeg=e(180*n.$skewX/Math.PI),n.$skewYdeg=e(180*n.$skewY/Math.PI),n.$rotation=e(180*n.$skewY/Math.PI)),t.nativeRender&&n.$nativeDisplayObject.setMatrix(i.a,i.b,i.c,i.d,i.tx,i.ty)},a.prototype.$getConcatenatedMatrix=function(){var e=this,i=e.$concatenatedMatrix;i||(i=e.$concatenatedMatrix=new t.Matrix),e.$parent?e.$parent.$getConcatenatedMatrix().$preMultiplyInto(e.$getMatrix(),i):i.copyFrom(e.$getMatrix());var a=e.$anchorOffsetX,n=e.$anchorOffsetY,r=e.$scrollRect;return r?i.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-r.x-a,-r.y-n),i):(0!=a||0!=n)&&i.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-a,-n),i),e.$concatenatedMatrix},a.prototype.$getInvertedConcatenatedMatrix=function(){var e=this;return e.$invertedConcatenatedMatrix||(e.$invertedConcatenatedMatrix=new t.Matrix),e.$getConcatenatedMatrix().$invertInto(e.$invertedConcatenatedMatrix),e.$invertedConcatenatedMatrix},Object.defineProperty(a.prototype,"x",{get:function(){return this.$getX()},set:function(t){this.$setX(t)},enumerable:!0,configurable:!0}),a.prototype.$getX=function(){return this.$x},a.prototype.$setX=function(e){var i=this;if(i.$x==e)return!1;if(i.$x=e,t.nativeRender)i.$nativeDisplayObject.setX(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(a.prototype,"y",{get:function(){return this.$getY()},set:function(t){this.$setY(t)},enumerable:!0,configurable:!0}),a.prototype.$getY=function(){return this.$y},a.prototype.$setY=function(e){var i=this;if(i.$y==e)return!1;if(i.$y=e,t.nativeRender)i.$nativeDisplayObject.setY(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(a.prototype,"scaleX",{get:function(){return this.$getScaleX()},set:function(t){this.$setScaleX(t)},enumerable:!0,configurable:!0}),a.prototype.$getScaleX=function(){return this.$scaleX},a.prototype.$setScaleX=function(e){var i=this;if(i.$scaleX!=e)if(i.$scaleX=e,i.$matrixDirty=!0,i.$updateUseTransform(),t.nativeRender)i.$nativeDisplayObject.setScaleX(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"scaleY",{get:function(){return this.$getScaleY()},set:function(t){this.$setScaleY(t)},enumerable:!0,configurable:!0}),a.prototype.$getScaleY=function(){return this.$scaleY},a.prototype.$setScaleY=function(e){var i=this;if(i.$scaleY!=e)if(i.$scaleY=e,i.$matrixDirty=!0,i.$updateUseTransform(),t.nativeRender)i.$nativeDisplayObject.setScaleY(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"rotation",{get:function(){return this.$getRotation()},set:function(t){this.$setRotation(t)},enumerable:!0,configurable:!0}),a.prototype.$getRotation=function(){return this.$rotation},a.prototype.$setRotation=function(i){i=e(i);var a=this;if(i!=a.$rotation){var n=i-a.$rotation,r=n/180*Math.PI;if(a.$skewX+=r,a.$skewY+=r,a.$rotation=i,a.$matrixDirty=!0,a.$updateUseTransform(),t.nativeRender)a.$nativeDisplayObject.setRotation(i);else{var s=a.$parent;s&&!s.$cacheDirty&&(s.$cacheDirty=!0,s.$cacheDirtyUp());var o=a.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}}},Object.defineProperty(a.prototype,"skewX",{get:function(){return this.$skewXdeg},set:function(t){this.$setSkewX(t)},enumerable:!0,configurable:!0}),a.prototype.$setSkewX=function(i){var a=this;if(i!=a.$skewXdeg)if(a.$skewXdeg=i,i=e(i),i=i/180*Math.PI,a.$skewX=i,a.$matrixDirty=!0,a.$updateUseTransform(),t.nativeRender)a.$nativeDisplayObject.setSkewX(a.$skewXdeg);else{var n=a.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=a.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"skewY",{get:function(){return this.$skewYdeg},set:function(t){this.$setSkewY(t)},enumerable:!0,configurable:!0}),a.prototype.$setSkewY=function(i){var a=this;if(i!=a.$skewYdeg)if(a.$skewYdeg=i,i=e(i),i=(i+a.$rotation)/180*Math.PI,a.$skewY=i,a.$matrixDirty=!0,a.$updateUseTransform(),t.nativeRender)a.$nativeDisplayObject.setSkewY(a.$skewYdeg);else{var n=a.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=a.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"width",{get:function(){return this.$a1872()},set:function(t){this.$setWidth(t)},enumerable:!0,configurable:!0}),a.prototype.$a1872=function(){var t=this;return isNaN(t.$explicitWidth)?t.$getOriginalBounds().width:t.$explicitWidth},a.prototype.$setWidth=function(t){t=isNaN(t)?0/0:t,this.$explicitWidth!=t&&(this.$explicitWidth=t)},Object.defineProperty(a.prototype,"height",{get:function(){return this.$a1873()},set:function(t){this.$setHeight(t)},enumerable:!0,configurable:!0}),a.prototype.$a1873=function(){var t=this;return isNaN(t.$explicitHeight)?t.$getOriginalBounds().height:t.$explicitHeight},a.prototype.$setHeight=function(t){t=isNaN(t)?0/0:t,this.$explicitHeight!=t&&(this.$explicitHeight=t)},Object.defineProperty(a.prototype,"measuredWidth",{get:function(){return this.$getOriginalBounds().width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"measuredHeight",{get:function(){return this.$getOriginalBounds().height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"anchorOffsetX",{get:function(){return this.$anchorOffsetX},set:function(t){this.$setAnchorOffsetX(t)},enumerable:!0,configurable:!0}),a.prototype.$setAnchorOffsetX=function(e){var i=this;if(i.$anchorOffsetX!=e)if(i.$anchorOffsetX=e,t.nativeRender)i.$nativeDisplayObject.setAnchorOffsetX(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"anchorOffsetY",{get:function(){return this.$anchorOffsetY},set:function(t){this.$setAnchorOffsetY(t)},enumerable:!0,configurable:!0}),a.prototype.$setAnchorOffsetY=function(e){var i=this;if(i.$anchorOffsetY!=e)if(i.$anchorOffsetY=e,t.nativeRender)i.$nativeDisplayObject.setAnchorOffsetY(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"visible",{get:function(){return this.$visible},set:function(t){this.$setVisible(t)},enumerable:!0,configurable:!0}),a.prototype.$setVisible=function(e){var i=this;if(i.$visible!=e)if(i.$visible=e,t.nativeRender)i.$nativeDisplayObject.setVisible(e);else{i.$updateRenderMode();var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"cacheAsBitmap",{get:function(){return this.$cacheAsBitmap},set:function(e){var i=this;i.$cacheAsBitmap=e,t.nativeRender?i.$nativeDisplayObject.setCacheAsBitmap(e):i.$setHasDisplayList(e)},enumerable:!0,configurable:!0}),a.prototype.$setHasDisplayList=function(e){var i=this,a=!!i.$displayList;if(a!=e)if(e){var n=t.sys.DisplayList.create(i);n&&(i.$displayList=n,i.$cacheDirty=!0)}else i.$displayList=null},a.prototype.$cacheDirtyUp=function(){var t=this.$parent;t&&!t.$cacheDirty&&(t.$cacheDirty=!0,t.$cacheDirtyUp())},Object.defineProperty(a.prototype,"alpha",{get:function(){return this.$alpha},set:function(t){this.$setAlpha(t)},enumerable:!0,configurable:!0}),a.prototype.$setAlpha=function(e){var i=this;if(i.$alpha!=e)if(i.$alpha=e,t.nativeRender)i.$nativeDisplayObject.setAlpha(e);else{i.$updateRenderMode();var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"touchEnabled",{get:function(){return this.$getTouchEnabled()},set:function(t){this.$setTouchEnabled(t)},enumerable:!0,configurable:!0}),a.prototype.$getTouchEnabled=function(){return this.$touchEnabled},a.prototype.$setTouchEnabled=function(t){this.$touchEnabled=!!t},Object.defineProperty(a.prototype,"scrollRect",{get:function(){return this.$scrollRect},set:function(t){this.$setScrollRect(t)},enumerable:!0,configurable:!0}),a.prototype.$setScrollRect=function(e){var i=this;if(!e&&!i.$scrollRect)return void i.$updateRenderMode();if(e?(i.$scrollRect||(i.$scrollRect=new t.Rectangle),i.$scrollRect.copyFrom(e),t.nativeRender&&i.$nativeDisplayObject.setScrollRect(e.x,e.y,e.width,e.height)):(i.$scrollRect=null,t.nativeRender&&i.$nativeDisplayObject.setScrollRect(0,0,0,0)),!t.nativeRender){i.$updateRenderMode();var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(a.prototype,"blendMode",{get:function(){return t.sys.numberToBlendMode(this.$blendMode)},set:function(e){var i=this,a=t.sys.blendModeToNumber(e);if(i.$blendMode!=a)if(i.$blendMode=a,t.nativeRender)i.$nativeDisplayObject.setBlendMode(a);else{i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=i.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mask",{get:function(){var t=this;return t.$mask?t.$mask:t.$maskRect},set:function(e){var i=this;if(e!==i){if(e)if(e instanceof a){if(e==i.$mask)return;e.$maskedObject&&(e.$maskedObject.mask=null),e.$maskedObject=i,i.$mask=e,t.nativeRender||e.$updateRenderMode(),i.$maskRect&&(t.nativeRender&&i.$nativeDisplayObject.setMaskRect(0,0,0,0),i.$maskRect=null),t.nativeRender&&i.$nativeDisplayObject.setMask(e.$nativeDisplayObject.id)}else i.$maskRect||(i.$maskRect=new t.Rectangle),i.$maskRect.copyFrom(e),t.nativeRender&&i.$nativeDisplayObject.setMaskRect(e.x,e.y,e.width,e.height),i.$mask&&(i.$mask.$maskedObject=null,t.nativeRender||i.$mask.$updateRenderMode()),i.mask&&(t.nativeRender&&i.$nativeDisplayObject.setMask(-1),i.$mask=null);else i.$mask&&(i.$mask.$maskedObject=null,t.nativeRender||i.$mask.$updateRenderMode()),i.mask&&(t.nativeRender&&i.$nativeDisplayObject.setMask(-1),i.$mask=null),i.$maskRect&&(t.nativeRender&&i.$nativeDisplayObject.setMaskRect(0,0,0,0),i.$maskRect=null);t.nativeRender||i.$updateRenderMode()}},enumerable:!0,configurable:!0}),a.prototype.$setMaskRect=function(e){var i=this;(e||i.$maskRect)&&(e?(i.$maskRect||(i.$maskRect=new t.Rectangle),i.$maskRect.copyFrom(e)):i.$maskRect=null)},Object.defineProperty(a.prototype,"filters",{get:function(){return this.$filters},set:function(e){var i=this,a=i.$filters;if(a||e){if(e&&e.length?(e=e.concat(),i.$filters=e,t.nativeRender&&i.$nativeDisplayObject.setFilters(e)):(i.$filters=e,t.nativeRender&&i.$nativeDisplayObject.setFilters(null)),!t.nativeRender){i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=i.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}}else if(i.$filters=e,t.nativeRender)i.$nativeDisplayObject.setFilters(null);else{i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=i.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),a.prototype.getTransformedBounds=function(t,e){return t=t||this,this.$getTransformedBounds(t,e)},a.prototype.a1261=function(t,e){void 0===e&&(e=!0);var i=this;return t=i.$getTransformedBounds(i,t),e&&(0!=i.$anchorOffsetX&&(t.x-=i.$anchorOffsetX),0!=i.$anchorOffsetY&&(t.y-=i.$anchorOffsetY)),t},a.prototype.$getTransformedBounds=function(e,i){var a=this,n=a.$getOriginalBounds();if(i||(i=new t.Rectangle),i.copyFrom(n),e==a)return i;var r;if(e){r=t.$TempMatrix;var s=e.$getInvertedConcatenatedMatrix();s.$preMultiplyInto(a.$getConcatenatedMatrix(),r)}else r=a.$getConcatenatedMatrix();return r.$transformBounds(i),i},a.prototype.globalToLocal=function(e,i,a){if(void 0===e&&(e=0),void 0===i&&(i=0),t.nativeRender){egret_native.updateNativeRender();var n=egret_native.nrGlobalToLocal(this.$nativeDisplayObject.id,e,i),r=n.split(","),s=parseFloat(r[0]),o=parseFloat(r[1]);return a?a.setTo(s,o):a=new t.Point(s,o),a}var l=this.$getInvertedConcatenatedMatrix();return l.a1329(e,i,a)},a.prototype.a1263=function(e,i,a){if(void 0===e&&(e=0),void 0===i&&(i=0),t.nativeRender){egret_native.updateNativeRender();var n=egret_native.nrLocalToGlobal(this.$nativeDisplayObject.id,e,i),r=n.split(","),s=parseFloat(r[0]),o=parseFloat(r[1]);return a?a.setTo(s,o):a=new t.Point(s,o),a}var l=this.$getConcatenatedMatrix();return l.a1329(e,i,a)},a.prototype.$getOriginalBounds=function(){var t=this,e=t.$getContentBounds();t.$measureChildBounds(e);var i=t.$measureFiltersOffset(!1);return i&&(e.x+=i.minX,e.y+=i.minY,e.width+=-i.minX+i.maxX,e.height+=-i.minY+i.maxY),e},a.prototype.$measureChildBounds=function(t){},a.prototype.$getContentBounds=function(){var e=t.$TempRectangle;return e.setEmpty(),this.$measureContentBounds(e),e},a.prototype.$measureContentBounds=function(t){},a.prototype.$getRenderNode=function(){var t=this,e=t.$a1377;return e?(t.$renderDirty&&(e.a1300(),t.$updateRenderNode(),t.$renderDirty=!1,e=t.$a1377),e):null},a.prototype.$updateRenderMode=function(){var t=this;!t.$visible||t.$alpha<=0||t.$maskedObject?t.$renderMode=1:t.filters&&t.filters.length>0?t.$renderMode=2:0!==t.$blendMode||t.$mask&&t.$mask.$stage?t.$renderMode=3:t.$scrollRect||t.$maskRect?t.$renderMode=4:t.$renderMode=null},a.prototype.$measureFiltersOffset=function(e){for(var i=this,a=0,n=0,r=0,s=0;i;){var o=i.$filters;if(o&&o.length)for(var l=o.length,h=0;l>h;h++){var p=o[h];if("blur"==p.type){var u=p.blurX,c=p.blurY;a-=u,n-=c,r+=u,s+=c}else if("glow"==p.type){var u=p.blurX,c=p.blurY;a-=u,n-=c,r+=u,s+=c;var d=p.distance||0,g=p.angle||0,f=0,m=0;0!=d&&(f=d*t.NumberUtils.cos(g),f=f>0?Math.ceil(f):Math.floor(f),m=d*t.NumberUtils.sin(g),m=m>0?Math.ceil(m):Math.floor(m),a+=f,r+=f,n+=m,s+=m)}else if("custom"==p.type){var v=p.padding;a-=v,n-=v,r+=v,s+=v}}i=e?i.$parent:null}return a=Math.min(a,0),n=Math.min(n,0),r=Math.max(r,0),s=Math.max(s,0),{minX:a,minY:n,maxX:r,maxY:s}},a.prototype.$getConcatenatedMatrixAt=function(e,i){var a=e.$getInvertedConcatenatedMatrix();if(0===a.a||0===a.d){var n=this,r=e.$nestLevel;for(i.identity();n.$nestLevel>r;){var s=n.$scrollRect;s&&i.concat(t.$TempMatrix.setTo(1,0,0,1,-s.x,-s.y)),i.concat(n.$getMatrix()),n=n.$parent}}else a.$preMultiplyInto(i,i)},a.prototype.$updateRenderNode=function(){},a.prototype.$hitTest=function(e,i){var a=this;if(!t.nativeRender&&!a.$a1377||!a.$visible||0==a.$scaleX||0==a.$scaleY)return null;var n=a.$getInvertedConcatenatedMatrix();if(0==n.a&&0==n.b&&0==n.c&&0==n.d)return null;var r=a.$getContentBounds(),s=n.a*e+n.c*i+n.tx,o=n.b*e+n.d*i+n.ty;if(a.touchEnabled&&r.contains(s,o)){if(!a.$children){var l=a.$scrollRect?a.$scrollRect:a.$maskRect;if(l&&!l.contains(s,o))return null;if(a.$mask&&!a.$mask.$hitTest(e,i))return null}return a}return null},a.prototype.a1264=function(e,i,a){var n=this;if(a){var r=n.$getInvertedConcatenatedMatrix(),s=r.a*e+r.c*i+r.tx,o=r.b*e+r.d*i+r.ty,l=void 0;if(t.nativeRender){var h=t.sys.customHitTestBuffer;h.resize(3,3),egret_native.forHitTest=!0,egret_native.activateBuffer(h),egret_native.updateNativeRender(),egret_native.nrRenderDisplayObject2(n.$nativeDisplayObject.id,1-s,1-o,!0);try{l=new Uint8Array(4),egret_native.nrGetPixels(1,1,1,1,l)}catch(p){throw new Error(t.sys.tr(1039))}return egret_native.activateBuffer(null),egret_native.forHitTest=!1,0===l[3]?!1:!0}var u=n.$displayList;if(u){var h=u.renderBuffer;try{l=h.a1267(s-u.offsetX,o-u.offsetY)}catch(p){throw new Error(t.sys.tr(1039))}}else{var h=t.sys.customHitTestBuffer;h.resize(3,3);var c=t.Matrix.create();c.identity(),c.translate(1-s,1-o),t.sys.systemRenderer.render(this,h,c,!0),t.Matrix.release(c);try{l=h.a1267(1,1)}catch(p){throw new Error(t.sys.tr(1039))}}return 0===l[3]?!1:!0}if(0==n.$scaleX||0==n.$scaleY)return!1;var r=n.$getInvertedConcatenatedMatrix(),d=n.a1261(null,!1),s=r.a*e+r.c*i+r.tx,o=r.b*e+r.d*i+r.ty;if(d.contains(s,o)){var g=n.$scrollRect?n.$scrollRect:n.$maskRect;return g&&!g.contains(s,o)?!1:!0}return!1},a.prototype.$addListener=function(e,n,r,s,o,l){i.prototype.$addListener.call(this,e,n,r,s,o,l);var h=e==t.Event.ENTER_FRAME;if(h||e==t.Event.RENDER){var p=h?a.$enterFrameCallBackList:a.$renderCallBackList;-1==p.indexOf(this)&&p.push(this)}},a.prototype.removeEventListener=function(e,n,r,s){i.prototype.removeEventListener.call(this,e,n,r,s);var o=e==t.Event.ENTER_FRAME;if((o||e==t.Event.RENDER)&&!this.a1256(e)){var l=o?a.$enterFrameCallBackList:a.$renderCallBackList,h=l.indexOf(this);-1!==h&&l.splice(h,1)}},a.prototype.a1258=function(t){if(!t.$bubbles)return i.prototype.a1258.call(this,t);var e=this.$getPropagationList(this),a=.5*e.length;return t.$setTarget(this),this.$dispatchPropagationEvent(t,e,a),!t.$a1271},a.prototype.$getPropagationList=function(t){for(var e=[];t;)e.push(t),t=t.$parent;var i=e.concat();return i.reverse(),e=i.concat(e)},a.prototype.$dispatchPropagationEvent=function(t,e,i){for(var a=e.length,n=i-1,r=0;a>r;r++){var s=e[r];if(t.$currentTarget=s,n>r?t.$eventPhase=1:r==i||r==n?t.$eventPhase=2:t.$eventPhase=3,s.$notifyListener(t,i>r),t.$isPropagationStopped||t.$isPropagationImmediateStopped)return}},a.prototype.willTrigger=function(t){for(var e=this;e;){if(e.a1256(t))return!0;e=e.$parent}return!1},Object.defineProperty(a.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this.$tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!0,configurable:!0}),a.prototype.sortChildren=function(){this.$sortDirty=!1},Object.defineProperty(a.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.$sortDirty=!0)},enumerable:!0,configurable:!0}),a.defaultTouchEnabled=!1,a.$enterFrameCallBackList=[],a.$renderCallBackList=[],a}(t.EventDispatcher);t.DisplayObject=i,__reflect(i.prototype,"egret.DisplayObject")}(egret||(egret={}));var egret;!function(t){t.$TextureScaleFactor=1;var e=function(e){function i(){var t=e.call(this)||this;return t.disposeBitmapData=!0,t.$bitmapX=0,t.$bitmapY=0,t.$bitmapWidth=0,t.$bitmapHeight=0,t.$offsetX=0,t.$offsetY=0,t.$textureWidth=0,t.$textureHeight=0,t.$sourceWidth=0,t.$sourceHeight=0,t.$bitmapData=null,t.$ktxData=null,t.$rotated=!1,t}return __extends(i,e),Object.defineProperty(i.prototype,"textureWidth",{get:function(){return this.$getTextureWidth()},enumerable:!0,configurable:!0}),i.prototype.$getTextureWidth=function(){return this.$textureWidth},Object.defineProperty(i.prototype,"textureHeight",{get:function(){return this.$getTextureHeight()},enumerable:!0,configurable:!0}),i.prototype.$getTextureHeight=function(){return this.$textureHeight},i.prototype.$getScaleBitmapWidth=function(){return this.$bitmapWidth*t.$TextureScaleFactor},i.prototype.$getScaleBitmapHeight=function(){return this.$bitmapHeight*t.$TextureScaleFactor},Object.defineProperty(i.prototype,"bitmapData",{get:function(){return this.$bitmapData},set:function(t){this.$ktxData=null,this._setBitmapData(t)},enumerable:!0,configurable:!0}),i.prototype._setBitmapData=function(e){this.$bitmapData=e;var i=t.$TextureScaleFactor,a=e.width*i,n=e.height*i;this.$initData(0,0,a,n,0,0,a,n,e.width,e.height)},Object.defineProperty(i.prototype,"ktxData",{get:function(){return this.$ktxData},set:function(t){this._setKtxData(t)},enumerable:!0,configurable:!0}),i.prototype._setKtxData=function(e){if(!e)return void t.error("ktx data is null");if(e!=this.$ktxData){var i=new t.KTXContainer(e,1);if(i.isInvalid)return void t.error("ktx data is invalid");this.$ktxData=e;var a=new t.BitmapData(e);a.format="ktx",i.a1356(a,!1),this._setBitmapData(a)}},i.prototype.$initData=function(e,i,a,n,r,s,o,l,h,p,u){void 0===u&&(u=!1);var c=t.$TextureScaleFactor;this.$bitmapX=e/c,this.$bitmapY=i/c,this.$bitmapWidth=a/c,this.$bitmapHeight=n/c,this.$offsetX=r,this.$offsetY=s,this.$textureWidth=o,this.$textureHeight=l,this.$sourceWidth=h,this.$sourceHeight=p,this.$rotated=u,t.BitmapData.$a1310(this.$bitmapData)},i.prototype.a1266=function(t,e){throw new Error},i.prototype.a1267=function(t,e,i,a){throw void 0===i&&(i=1),void 0===a&&(a=1),new Error},i.prototype.toDataURL=function(t,e,i){throw new Error},i.prototype.saveToFile=function(t,e,i){throw new Error},i.prototype.dispose=function(){this.$bitmapData&&(this.disposeBitmapData&&this.$bitmapData.$dispose(),this.$bitmapData=null)},i}(t.HashObject);t.Texture=e,__reflect(e.prototype,"egret.Texture")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,a,n){var r=t.call(this)||this;return r.$eventPhase=2,r.$currentTarget=null,r.$target=null,r.$a1271=!1,r.$isPropagationStopped=!1,r.$isPropagationImmediateStopped=!1,r.$type=e,r.$bubbles=!!i,r.$cancelable=!!a,r.data=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.$type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bubbles",{get:function(){return this.$bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelable",{get:function(){return this.$cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventPhase",{get:function(){return this.$eventPhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this.$currentTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this.$target},enumerable:!0,configurable:!0}),e.prototype.$setTarget=function(t){return this.$target=t,!0},e.prototype.a1271=function(){return this.$a1271},e.prototype.preventDefault=function(){this.$cancelable&&(this.$a1271=!0)},e.prototype.stopPropagation=function(){this.$bubbles&&(this.$isPropagationStopped=!0)},e.prototype.stopImmediatePropagation=function(){this.$bubbles&&(this.$isPropagationImmediateStopped=!0)},e.prototype.clean=function(){this.data=this.$currentTarget=null,this.$setTarget(null)},e.a1258=function(t,i,a,n){void 0===a&&(a=!1);var r=e.create(e,i,a),s=e._getPropertyData(e);void 0!=n&&(s.data=n);var o=t.a1258(r);return e.release(r),o},e._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},e.create=function(t,e,i,a){var n,r=t.hasOwnProperty("eventPool");if(r&&(n=t.eventPool),n||(n=t.eventPool=[]),n.length){var s=n.pop();return s.$type=e,s.$bubbles=!!i,s.$cancelable=!!a,s.$a1271=!1,s.$isPropagationStopped=!1,s.$isPropagationImmediateStopped=!1,s.$eventPhase=2,s}return new t(e,i,a)},e.release=function(t){t.clean();var e=Object.getPrototypeOf(t).constructor;e.eventPool.push(t)},e.ADDED_TO_STAGE="addedToStage",e.REMOVED_FROM_STAGE="removedFromStage",e.ADDED="added",e.REMOVED="removed",e.ENTER_FRAME="enterFrame",e.RENDER="render",e.RESIZE="resize",e.CHANGE="change",e.CHANGING="changing",e.COMPLETE="complete",e.LOOP_COMPLETE="loopComplete",e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e.ENDED="ended",e.ACTIVATE="activate",e.DEACTIVATE="deactivate",e.CLOSE="close",e.CONNECT="connect",e.LEAVE_STAGE="leaveStage",e.SOUND_COMPLETE="soundComplete",e}(t.HashObject);t.Event=e,__reflect(e.prototype,"egret.Event")}(egret||(egret={}));var egret;!function(t){function e(){return""}function i(t){throw new Error("#"+t)}function a(){}function n(){}t.a1766=e,t.$error=i,t.$warn=a,t.$markCannotUse=n}(egret||(egret={}));var egret;!function(t){var e=[],i=Math.PI/180,a=function(a){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=a.call(this)||this;return i.x=t,i.y=e,i}return __extends(n,a),n.release=function(t){t&&e.push(t)},n.create=function(t,i){var a=e.pop();return a||(a=new n),a.setTo(t,i)},Object.defineProperty(n.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),n.prototype.setTo=function(t,e){return this.x=t,this.y=e,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},n.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},n.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},n.prototype.add=function(t){return new n(this.x+t.x,this.y+t.y)},n.interpolate=function(t,e,i){var a=1-i;return new n(t.x*i+e.x*a,t.y*i+e.y*a)},n.prototype.normalize=function(t){if(0!=this.x||0!=this.y){var e=t/this.length;this.x*=e,this.y*=e}},n.prototype.offset=function(t,e){this.x+=t,this.y+=e},n.polar=function(e,a){return new n(e*t.NumberUtils.cos(a/i),e*t.NumberUtils.sin(a/i))},n.prototype.subtract=function(t){return new n(this.x-t.x,this.y-t.y)
},n.prototype.toString=function(){return"(x="+this.x+", y="+this.y+")"},n}(t.HashObject);t.Point=a,__reflect(a.prototype,"egret.Point"),t.$TempPoint=new a}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$touchChildren=!0,t.$children=[],t}return __extends(i,e),Object.defineProperty(i.prototype,"numChildren",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.setChildrenSortMode=function(e){t.nativeRender&&this.$nativeDisplayObject.setChildrenSortMode&&this.$nativeDisplayObject.setChildrenSortMode(e)},i.prototype.addChild=function(t){var e=this.$children.length;return t.$parent==this&&e--,this.$doAddChild(t,e)},i.prototype.addChildAt=function(t,e){return e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length,t.$parent==this&&e--),this.$doAddChild(t,e)},i.prototype.$doAddChild=function(e,a,n){void 0===n&&(n=!0);var r=this,s=e.$parent;if(s==r)return r.doSetChildIndex(e,a),e;s&&s.removeChild(e),r.$children.splice(a,0,e),e.$setParent(r),t.nativeRender&&r.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id,a);var o=r.$stage;if(o&&e.$onAddToStage(o,r.$nestLevel+1),n&&e.dispatchEventWith(t.Event.ADDED,!0),o)for(var l=i.$EVENT_ADD_TO_STAGE_LIST;l.length;){var h=l.shift();h.$stage&&n&&h.dispatchEventWith(t.Event.ADDED_TO_STAGE)}if(!t.nativeRender&&(e.$maskedObject&&e.$maskedObject.$updateRenderMode(),!r.$cacheDirty)){r.$cacheDirty=!0;var p=r.$parent;p&&!p.$cacheDirty&&(p.$cacheDirty=!0,p.$cacheDirtyUp());var u=r.$maskedObject;u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp())}return this.$childAdded(e,a),e},i.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.$parent}return!1},i.prototype.getChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$children[t]:null},i.prototype.getChildIndex=function(t){return this.$children.indexOf(t)},i.prototype.getChildByName=function(t){for(var e,i=this.$children,a=i.length,n=0;a>n;n++)if(e=i[n],e.name==t)return e;return null},i.prototype.removeChild=function(t){var e=this.$children.indexOf(t);return e>=0?this.$doRemoveChild(e):null},i.prototype.removeChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$doRemoveChild(t):null},i.prototype.$doRemoveChild=function(e,a){void 0===a&&(a=!0),e=0|+e;var n=this,r=this.$children,s=r[e];if(this.$childRemoved(s,e),a&&s.dispatchEventWith(t.Event.REMOVED,!0),this.$stage){s.$a1692();for(var o=i.$EVENT_REMOVE_FROM_STAGE_LIST;o.length>0;){var l=o.shift();a&&l.$hasAddToStage&&(l.$hasAddToStage=!1,l.dispatchEventWith(t.Event.REMOVED_FROM_STAGE)),l.$hasAddToStage=!1,l.$stage=null}}this.$displayList||this.$parentDisplayList,s.$setParent(null);var h=r.indexOf(s);if(-1!=h&&r.splice(h,1),t.nativeRender)n.$nativeDisplayObject.removeChild(s.$nativeDisplayObject.id);else if(s.$maskedObject&&s.$maskedObject.$updateRenderMode(),!n.$cacheDirty){n.$cacheDirty=!0;var p=n.$parent;p&&!p.$cacheDirty&&(p.$cacheDirty=!0,p.$cacheDirtyUp());var u=n.$maskedObject;u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp())}return s},i.prototype.setChildIndex=function(t,e){e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length-1),this.doSetChildIndex(t,e)},i.prototype.doSetChildIndex=function(e,i){var a=this,n=this.$children.indexOf(e);if(n!=i)if(this.$childRemoved(e,n),this.$children.splice(n,1),this.$children.splice(i,0,e),this.$childAdded(e,i),t.nativeRender)this.$nativeDisplayObject.removeChild(e.$nativeDisplayObject.id),this.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id,i);else if(!a.$cacheDirty){a.$cacheDirty=!0;var r=a.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var s=a.$maskedObject;s&&!s.$cacheDirty&&(s.$cacheDirty=!0,s.$cacheDirtyUp())}},i.prototype.swapChildrenAt=function(t,e){t=0|+t,e=0|+e,t>=0&&t<this.$children.length&&e>=0&&e<this.$children.length&&this.doSwapChildrenAt(t,e)},i.prototype.swapChildren=function(t,e){var i=this.$children.indexOf(t),a=this.$children.indexOf(e);-1==i||-1==a||this.doSwapChildrenAt(i,a)},i.prototype.doSwapChildrenAt=function(e,i){var a=this;if(e>i){var n=i;i=e,e=n}else if(e==i)return;var r=this.$children,s=r[e],o=r[i];if(this.$childRemoved(s,e),this.$childRemoved(o,i),r[e]=o,r[i]=s,this.$childAdded(o,e),this.$childAdded(s,i),t.nativeRender)this.$nativeDisplayObject.swapChild(e,i);else if(!a.$cacheDirty){a.$cacheDirty=!0;var l=a.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());var h=a.$maskedObject;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp())}},i.prototype.removeChildren=function(){for(var t=this.$children,e=t.length-1;e>=0;e--)this.$doRemoveChild(e)},i.prototype.$childAdded=function(t,e){},i.prototype.$childRemoved=function(t,e){},i.prototype.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i);var a=this.$children,n=a.length;i++;for(var r=0;n>r;r++){var s=this.$children[r];s.$onAddToStage(t,i),s.$maskedObject&&s.$maskedObject.$updateRenderMode()}},i.prototype.$a1692=function(){e.prototype.$a1692.call(this);for(var t=this.$children,i=t.length,a=0;i>a;a++){var n=t[a];n.$a1692()}},i.prototype.$measureChildBounds=function(e){var i=this.$children,a=i.length;if(0!=a){for(var n=0,r=0,s=0,o=0,l=!1,h=-1;a>h;h++){var p=void 0;-1==h?p=e:(i[h].a1261(t.$TempRectangle),i[h].$getMatrix().$transformBounds(t.$TempRectangle),p=t.$TempRectangle),p.isEmpty()||(l?(n=Math.min(n,p.x),r=Math.max(r,p.x+p.width),s=Math.min(s,p.y),o=Math.max(o,p.y+p.height)):(l=!0,n=p.x,r=n+p.width,s=p.y,o=s+p.height))}e.setTo(n,s,r-n,o-s)}},Object.defineProperty(i.prototype,"touchChildren",{get:function(){return this.$getTouchChildren()},set:function(t){this.$setTouchChildren(!!t)},enumerable:!0,configurable:!0}),i.prototype.$getTouchChildren=function(){return this.$touchChildren},i.prototype.$setTouchChildren=function(t){return this.$touchChildren==t?!1:(this.$touchChildren=t,!0)},i.prototype.$hitTest=function(t,i){if(!this.$visible)return null;var a=this.$getInvertedConcatenatedMatrix(),n=a.a*t+a.c*i+a.tx,r=a.b*t+a.d*i+a.ty,s=this.$scrollRect?this.$scrollRect:this.$maskRect;if(s&&!s.contains(n,r))return null;if(this.$mask&&!this.$mask.$hitTest(t,i))return null;for(var o=this.$children,l=!1,h=null,p=o.length-1;p>=0;p--){var u=o[p];if(!u.$maskedObject&&(h=u.$hitTest(t,i))){if(l=!0,h.$touchEnabled)break;h=null}}return h?this.$touchChildren?h:this:l?this:e.prototype.$hitTest.call(this,t,i)},i.prototype._sortChildrenFunc=function(t,e){return t.zIndex===e.zIndex?t.$lastSortedIndex-e.$lastSortedIndex:t.zIndex-e.zIndex},i.prototype.sortChildren=function(){e.prototype.sortChildren.call(this),this.$sortDirty=!1;for(var t=!1,i=this.$children,a=null,n=0,r=i.length;r>n;++n)a=i[n],a.$lastSortedIndex=n,t||0===a.zIndex||(t=!0);t&&i.length>1&&i.sort(this._sortChildrenFunc)},i.$EVENT_ADD_TO_STAGE_LIST=[],i.$EVENT_REMOVE_FROM_STAGE_LIST=[],i}(t.DisplayObject);t.DisplayObjectContainer=e,__reflect(e.prototype,"egret.DisplayObjectContainer")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var a=e.call(this)||this;return a._bitmapX=0,a._bitmapY=0,a._textureMap=t.createMap(),a.$texture=i,a._bitmapX=i.$bitmapX-i.$offsetX,a._bitmapY=i.$bitmapY-i.$offsetY,a}return __extends(i,e),i.prototype.a1297=function(t){return this._textureMap[t]},i.prototype.createTexture=function(e,i,a,n,r,s,o,l,h){void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=s+n),void 0===h&&(h=o+r);var p=new t.Texture;return p.disposeBitmapData=!1,p.$bitmapData=this.$texture.$bitmapData,p.$initData(this._bitmapX+i,this._bitmapY+a,n,r,s,o,l,h,this.$texture.$sourceWidth,this.$texture.$sourceHeight),this._textureMap[e]=p,p},i.prototype.dispose=function(){this.$texture&&this.$texture.dispose()},i}(t.HashObject);t.SpriteSheet=e,__reflect(e.prototype,"egret.SpriteSheet")}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$language="en_US"}(egret||(egret={})),function(t){var e;!function(e){function i(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var n=t.$locale_strings[t.$language][e];if(!n)return"{"+e+"}";for(var r=i.length,s=0;r>s;s++)n=n.replace("{"+s+"}",i[s]);return n}e.tr=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(a){var n=e.call(this)||this;return n.$texture=null,n.$bitmapData=null,n.$bitmapX=0,n.$bitmapY=0,n.$bitmapWidth=0,n.$bitmapHeight=0,n.$offsetX=0,n.$offsetY=0,n.$textureWidth=0,n.$textureHeight=0,n.$sourceWidth=0,n.$sourceHeight=0,n.$smoothing=i.defaultSmoothing,n.$explicitBitmapWidth=0/0,n.$explicitBitmapHeight=0/0,n.$scale9Grid=null,n.$fillMode="scale",n._pixelHitTest=!1,n.$a1377=new t.sys.NormalBitmapNode,n.$setTexture(a),a&&(n.$a1377.rotated=a.$rotated),n}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(1)},i.prototype.$onAddToStage=function(i,a){e.prototype.$onAddToStage.call(this,i,a);var n=this.$texture;n&&n.$bitmapData&&t.BitmapData.$addDisplayObject(this,n.$bitmapData)},i.prototype.$a1692=function(){e.prototype.$a1692.call(this);var i=this.$texture;i&&t.BitmapData.$removeDisplayObject(this,i.$bitmapData)},Object.defineProperty(i.prototype,"texture",{get:function(){return this.$texture},set:function(t){var e=this;e.$setTexture(t),t&&e.$a1377&&(e.$a1377.rotated=t.$rotated)},enumerable:!0,configurable:!0}),i.prototype.$setTexture=function(e){var i=this,a=i.$texture;if(e==a)return!1;if(i.$texture=e,!e){a&&t.BitmapData.$removeDisplayObject(i,a.$bitmapData),i.a1299(null,0,0,0,0,0,0,0,0,0,0),i.$renderDirty=!0;var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=i.$maskedObject;return r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp()),t.nativeRender&&this.a1298(null),!0}if(i.$refreshImageData(),i.$stage){if(a&&a.$bitmapData){var s=a.$bitmapData.hashCode,o=e.$bitmapData?e.$bitmapData.hashCode:-1;if(s==o){i.$renderDirty=!0;var l=i.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());var h=i.$maskedObject;return h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp()),!0}t.BitmapData.$removeDisplayObject(i,a.$bitmapData)}t.BitmapData.$addDisplayObject(i,e.$bitmapData)}i.$renderDirty=!0;var p=i.$parent;p&&!p.$cacheDirty&&(p.$cacheDirty=!0,p.$cacheDirtyUp());var u=i.$maskedObject;return u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp()),!0},i.prototype.$setBitmapData=function(t){this.$setTexture(t)},i.prototype.a1298=function(t){this.$nativeDisplayObject.setTexture(t)},i.prototype.$refreshImageData=function(){var e=this.$texture;e?(t.nativeRender&&this.a1298(e),this.a1299(e.$bitmapData,e.$bitmapX,e.$bitmapY,e.$bitmapWidth,e.$bitmapHeight,e.$offsetX,e.$offsetY,e.$getTextureWidth(),e.$getTextureHeight(),e.$sourceWidth,e.$sourceHeight)):t.nativeRender&&this.a1298(null)},i.prototype.a1299=function(t,e,i,a,n,r,s,o,l,h,p){this.$bitmapData=t,this.$bitmapX=e,this.$bitmapY=i,this.$bitmapWidth=a,this.$bitmapHeight=n,this.$offsetX=r,this.$offsetY=s,this.$textureWidth=o,this.$textureHeight=l,this.$sourceWidth=h,this.$sourceHeight=p},Object.defineProperty(i.prototype,"scale9Grid",{get:function(){return this.$scale9Grid},set:function(t){this.$setScale9Grid(t)},enumerable:!0,configurable:!0}),i.prototype.$setScale9Grid=function(e){var i=this;if(i.$scale9Grid=e,i.$renderDirty=!0,t.nativeRender)e?i.$nativeDisplayObject.setScale9Grid(e.x,e.y,e.width,e.height):i.$nativeDisplayObject.setScale9Grid(0,0,-1,-1);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(i.prototype,"fillMode",{get:function(){return this.$fillMode},set:function(t){this.$setFillMode(t)},enumerable:!0,configurable:!0}),i.prototype.$setFillMode=function(e){var i=this;if(e==i.$fillMode)return!1;if(i.$fillMode=e,t.nativeRender)i.$nativeDisplayObject.setBitmapFillMode(i.$fillMode);else{i.$renderDirty=!0;var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(e){var i=this;if(e!=this.$smoothing&&(this.$smoothing=e,this.$a1377.smoothing=e,!t.nativeRender)){var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),i.prototype.$setWidth=function(e){var i=this;if(0>e||e==i.$explicitBitmapWidth)return!1;if(i.$explicitBitmapWidth=e,i.$renderDirty=!0,t.nativeRender)i.$nativeDisplayObject.setWidth(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},i.prototype.$setHeight=function(e){var i=this;if(0>e||e==i.$explicitBitmapHeight)return!1;if(i.$explicitBitmapHeight=e,i.$renderDirty=!0,t.nativeRender)i.$nativeDisplayObject.setHeight(e);else{var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},i.prototype.$a1872=function(){return isNaN(this.$explicitBitmapWidth)?this.$getContentBounds().width:this.$explicitBitmapWidth},i.prototype.$a1873=function(){return isNaN(this.$explicitBitmapHeight)?this.$getContentBounds().height:this.$explicitBitmapHeight},i.prototype.$measureContentBounds=function(t){if(this.$bitmapData){var e=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight;t.setTo(0,0,e,i)}else{var e=isNaN(this.$explicitBitmapWidth)?0:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?0:this.$explicitBitmapHeight;t.setTo(0,0,e,i)}},i.prototype.$updateRenderNode=function(){if(this.$texture){var e=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight,a=this.scale9Grid||this.$texture.scale9Grid;a?(this.$a1377 instanceof t.sys.NormalBitmapNode&&(this.$a1377=new t.sys.BitmapNode),t.sys.BitmapNode.$updateTextureDataWithScale9Grid(this.$a1377,this.$bitmapData,a,this.$bitmapX,this.$bitmapY,this.$bitmapWidth,this.$bitmapHeight,this.$offsetX,this.$offsetY,this.$textureWidth,this.$textureHeight,e,i,this.$sourceWidth,this.$sourceHeight,this.$smoothing)):(this.fillMode==t.BitmapFillMode.REPEAT&&this.$a1377 instanceof t.sys.NormalBitmapNode&&(this.$a1377=new t.sys.BitmapNode),t.sys.BitmapNode.$updateTextureData(this.$a1377,this.$bitmapData,this.$bitmapX,this.$bitmapY,this.$bitmapWidth,this.$bitmapHeight,this.$offsetX,this.$offsetY,this.$textureWidth,this.$textureHeight,e,i,this.$sourceWidth,this.$sourceHeight,this.$fillMode,this.$smoothing))}},Object.defineProperty(i.prototype,"pixelHitTest",{get:function(){return this._pixelHitTest},set:function(t){this._pixelHitTest=!!t},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(t,i){var a=e.prototype.$hitTest.call(this,t,i);if(a&&this._pixelHitTest){var n=this.a1264(t,i,!0);n||(a=null)}return a},i.defaultSmoothing=!0,i}(t.DisplayObject);t.Bitmap=e,__reflect(e.prototype,"egret.Bitmap")}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this.type=0,this.drawData=[],this.renderCount=0}return t.prototype.a1300=function(){this.drawData.length=0,this.renderCount=0},t.prototype.$getRenderCount=function(){return this.renderCount},t}();t.RenderNode=e,__reflect(e.prototype,"egret.sys.RenderNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this.type=0,this.$commands=[],this.$data=[],this.commandPosition=0,this.dataPosition=0,this.$lastX=0,this.$lastY=0}return t.prototype.moveTo=function(t,e){this.$commands[this.commandPosition++]=1;var i=this.dataPosition;this.$data[i++]=t,this.$data[i++]=e,this.dataPosition=i},t.prototype.lineTo=function(t,e){this.$commands[this.commandPosition++]=2;var i=this.dataPosition;this.$data[i++]=t,this.$data[i++]=e,this.dataPosition=i},t.prototype.curveTo=function(t,e,i,a){this.$commands[this.commandPosition++]=3;var n=this.dataPosition;this.$data[n++]=t,this.$data[n++]=e,this.$data[n++]=i,this.$data[n++]=a,this.dataPosition=n},t.prototype.cubicCurveTo=function(t,e,i,a,n,r){this.$commands[this.commandPosition++]=4;var s=this.dataPosition;this.$data[s++]=t,this.$data[s++]=e,this.$data[s++]=i,this.$data[s++]=a,this.$data[s++]=n,this.$data[s++]=r,this.dataPosition=s},t.prototype.drawRect=function(t,e,i,a){var n=t+i,r=e+a;this.moveTo(t,e),this.lineTo(n,e),this.lineTo(n,r),this.lineTo(t,r),this.lineTo(t,e)},t.prototype.drawRoundRect=function(t,e,i,a,n,r){var s=.5*n|0,o=r?.5*r|0:s;if(!s||!o)return void this.drawRect(t,e,i,a);var l=.5*i,h=.5*a;if(s>l&&(s=l),o>h&&(o=h),l===s&&h===o)return void(s===o?this.drawCircle(t+s,e+o,s):this.drawEllipse(t,e,2*s,2*o));var p=t+i,u=e+a,c=t+s,d=p-s,g=e+o,f=u-o;this.moveTo(p,f),this.curveTo(p,u,d,u),this.lineTo(c,u),this.curveTo(t,u,t,f),this.lineTo(t,g),this.curveTo(t,e,c,e),this.lineTo(d,e),this.curveTo(p,e,p,g),this.lineTo(p,f)},t.prototype.drawCircle=function(t,e,i){this.arcToBezier(t,e,i,i,0,2*Math.PI)},t.prototype.drawEllipse=function(t,e,i,a){var n=.5*i,r=.5*a;t+=n,e+=r,this.arcToBezier(t,e,n,r,0,2*Math.PI)},t.prototype.drawArc=function(t,e,i,a,n,r){r?n>=a&&(n-=2*Math.PI):a>=n&&(n+=2*Math.PI),this.arcToBezier(t,e,i,i,a,n,r)},t.prototype.arcToBezier=function(t,e,i,a,n,r,s){var o=.5*Math.PI,l=n,h=l;s?(h+=-o-l%o,r>h&&(h=r)):(h+=o-l%o,h>r&&(h=r));var p=t+Math.cos(l)*i,u=e+Math.sin(l)*a;(this.$lastX!=p||this.$lastY!=u)&&this.moveTo(p,u);for(var c=Math.cos(l),d=Math.sin(l),g=0;4>g;g++){var f=h-l,m=4*Math.tan(f/4)/3,v=p-d*m*i,y=u+c*m*a;c=Math.cos(h),d=Math.sin(h),p=t+c*i,u=e+d*a;var b=p+d*m*i,_=u-c*m*a;if(this.cubicCurveTo(v,y,b,_,p,u),h===r)break;l=h,s?(h=l-o,r>h&&(h=r)):(h=l+o,h>r&&(h=r))}},t}();t.Path2D=e,__reflect(e.prototype,"egret.sys.Path2D")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.fontMapping={}}(egret||(egret={}));var egret;!function(t){function e(){var t=Object.create(null);return t.__v8__=void 0,delete t.__v8__,t}t.createMap=e}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,a,n,r,s,o,l){void 0===e&&(e=16711680),void 0===i&&(i=1),void 0===a&&(a=6),void 0===n&&(n=6),void 0===r&&(r=2),void 0===s&&(s=1),void 0===o&&(o=!1),void 0===l&&(l=!1);var h=t.call(this)||this,p=h;return p.type="glow",p.$color=e,p.$blue=255&e,p.$green=(65280&e)>>8,p.$red=e>>16,p.$alpha=i,p.$blurX=a,p.$blurY=n,p.$strength=r,p.$quality=s,p.$inner=o,p.$knockout=l,p.$uniforms.color={x:h.$red/255,y:h.$green/255,z:h.$blue/255,w:1},p.$uniforms.alpha=i,p.$uniforms.blurX=a,p.$uniforms.blurY=n,p.$uniforms.strength=r,p.$uniforms.inner=o?1:0,p.$uniforms.knockout=l?0:1,p.$uniforms.dist=0,p.$uniforms.angle=0,p.$uniforms.hideObject=0,p.a1260(),h}return __extends(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.$color},set:function(t){this.$color!=t&&(this.$color=t,this.$blue=255&t,this.$green=(65280&t)>>8,this.$red=t>>16,this.$uniforms.color.x=this.$red/255,this.$uniforms.color.y=this.$green/255,this.$uniforms.color.z=this.$blue/255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.$alpha},set:function(t){this.$alpha!=t&&(this.$alpha=t,this.$uniforms.alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.$blurX},set:function(t){var e=this;e.$blurX!=t&&(e.$blurX=t,e.$uniforms.blurX=t,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.$blurY},set:function(t){var e=this;e.$blurY!=t&&(e.$blurY=t,e.$uniforms.blurY=t,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.$strength},set:function(t){this.$strength!=t&&(this.$strength=t,this.$uniforms.strength=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.$quality},set:function(t){this.$quality!=t&&(this.$quality=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inner",{get:function(){return this.$inner},set:function(t){this.$inner!=t&&(this.$inner=t,this.$uniforms.inner=t?1:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.$knockout},set:function(t){this.$knockout!=t&&(this.$knockout=t,this.$uniforms.knockout=t?0:1)},enumerable:!0,configurable:!0}),e.prototype.$toJson=function(){return'{"color": '+this.$color+', "red": '+this.$red+', "green": '+this.$green+', "blue": '+this.$blue+', "alpha": '+this.$alpha+', "blurX": '+this.$blurX+', "blurY": '+this.blurY+', "strength": '+this.$strength+', "quality": '+this.$quality+', "inner": '+this.$inner+', "knockout": '+this.$knockout+"}"},e.prototype.a1259=function(){var t=this;t.paddingLeft=t.blurX,t.paddingRight=t.blurX,t.paddingTop=t.blurY,t.paddingBottom=t.blurY},e}(t.Filter);t.GlowFilter=e,__reflect(e.prototype,"egret.GlowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$stageWidth=0,i.$stageHeight=0,i.$scaleMode=t.StageScaleMode.SHOW_ALL,i.$orientation=t.OrientationMode.AUTO,i.$maxTouches=99,i.$stage=i,i.$nestLevel=1,i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(13)},Object.defineProperty(i.prototype,"frameRate",{get:function(){return t.ticker.$frameRate},set:function(e){t.ticker.$a1955(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stageWidth",{get:function(){return this.$stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stageHeight",{get:function(){return this.$stageHeight},enumerable:!0,configurable:!0}),i.prototype.a1310=function(){t.sys.$invalidateRenderFlag=!0},i.prototype.registerImplementation=function(e,i){t.registerImplementation(e,i)},i.prototype.a1311=function(e){return t.a1311(e)},Object.defineProperty(i.prototype,"scaleMode",{get:function(){return this.$scaleMode},set:function(t){this.$scaleMode!=t&&(this.$scaleMode=t,this.$screen.updateScreenSize())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.$orientation},set:function(t){this.$orientation!=t&&(this.$orientation=t,this.$screen.updateScreenSize())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textureScaleFactor",{get:function(){return t.$TextureScaleFactor},set:function(e){t.$TextureScaleFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxTouches",{get:function(){return this.$maxTouches},set:function(t){this.$maxTouches!=t&&(this.$maxTouches=t,this.$screen.updateMaxTouches())},enumerable:!0,configurable:!0}),i.prototype.a1312=function(t,e){this.$screen.a1312(t,e)},i}(t.DisplayObjectContainer);t.Stage=e,__reflect(e.prototype,"egret.Stage")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.NORMAL="normal",t.ADD="add",t.ERASE="erase",t}();t.BlendMode=e,__reflect(e.prototype,"egret.BlendMode")}(egret||(egret={})),function(t){var e;!function(t){function e(t){var e=n[t];return void 0===e?0:e}function i(t){var e=a[t];return void 0===e?"normal":e}for(var a=["normal","add","erase"],n={},r=a.length,s=0;r>s;s++){var o=a[s];n[o]=s}t.blendModeToNumber=e,t.numberToBlendMode=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.ChildrenSortMode={DEFAULT:"default",INCREASE_Y:"increaseY",DECREASE_Y:"decreaseY"}}(egret||(egret={}));var egret;!function(t){t.CapsStyle={NONE:"none",ROUND:"round",SQUARE:"square"}}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}return e.compileProgram=function(i,a,n){var r=e.compileFragmentShader(i,n),s=e.compileVertexShader(i,a),o=i.createProgram();return i.attachShader(o,s),i.attachShader(o,r),i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS)||t.$warn(1020),o},e.compileFragmentShader=function(t,i){return e._compileShader(t,i,t.FRAGMENT_SHADER)},e.compileVertexShader=function(t,i){return e._compileShader(t,i,t.VERTEX_SHADER)},e._compileShader=function(t,e,i){var a=t.createShader(i);return t.shaderSource(a,e),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)?a:null},e.checkCanUseWebGL=function(){if(void 0==e.canUseWebGL)try{var t=document.createElement("canvas");e.canUseWebGL=!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(i){e.canUseWebGL=!1}return e.canUseWebGL},e.deleteWebGLTexture=function(e){if(e&&!e[t.engine_default_empty_texture]){var i=e[t.glContext];i&&i.deleteTexture(e)}},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,a=t>>8&255,n=255&t;return i=i*e+.5|0,a=a*e+.5|0,n=n*e+.5|0,(255*e<<24)+(i<<16)+(a<<8)+n},e}();t.WebGLUtils=e,__reflect(e.prototype,"egret.WebGLUtils")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),t.call(this,e,i,a)||this}return __extends(e,t),e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e}(t.Event);t.FocusEvent=e,__reflect(e.prototype,"egret.FocusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.PERMISSION_DENIED="permissionDenied",e.UNAVAILABLE="unavailable",e}(t.Event);t.GeolocationEvent=e,__reflect(e.prototype,"egret.GeolocationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);var n=e.call(this,t,i,a)||this;return n._status=0,n}return __extends(i,e),Object.defineProperty(i.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),i.dispatchHTTPStatusEvent=function(e,a){var n=t.Event.create(i,i.HTTP_STATUS);n._status=a;var r=e.a1258(n);return t.Event.release(n),r},i.HTTP_STATUS="httpStatus",i}(t.Event);t.HTTPStatusEvent=e,__reflect(e.prototype,"egret.HTTPStatusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),e.call(this,t,i,a)||this}return __extends(i,e),i.dispatchIOErrorEvent=function(e){var a=t.Event.create(i,i.IO_ERROR),n=e.a1258(a);return t.Event.release(a),n},i.IO_ERROR="ioError",i}(t.Event);t.IOErrorEvent=e,__reflect(e.prototype,"egret.IOErrorEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Event);t.MotionEvent=e,__reflect(e.prototype,"egret.MotionEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Event);t.OrientationEvent=e,__reflect(e.prototype,"egret.OrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a,n,r){void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===n&&(n=0),void 0===r&&(r=0);var s=e.call(this,t,i,a)||this;return s.bytesLoaded=0,s.bytesTotal=0,s.bytesLoaded=n,s.bytesTotal=r,s}return __extends(i,e),i.dispatchProgressEvent=function(e,a,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var s=t.Event.create(i,a);s.bytesLoaded=n,s.bytesTotal=r;var o=e.a1258(s);return t.Event.release(s),o},i.PROGRESS="progress",i.SOCKET_DATA="socketData",i}(t.Event);t.ProgressEvent=e,__reflect(e.prototype,"egret.ProgressEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),e.call(this,t,i,a)||this}return __extends(i,e),i.dispatchStageOrientationEvent=function(e,a){var n=t.Event.create(i,a),r=e.a1258(n);return t.Event.release(n),r},i.ORIENTATION_CHANGE="orientationChange",i}(t.Event);t.StageOrientationEvent=e,__reflect(e.prototype,"egret.StageOrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a,n){void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===n&&(n="");var r=e.call(this,t,i,a)||this;return r.text=n,r}return __extends(i,e),i.dispatchTextEvent=function(e,a,n){var r=t.Event.create(i,a);r.text=n;var s=e.a1258(r);return t.Event.release(r),s},i.LINK="link",i}(t.Event);t.TextEvent=e,__reflect(e.prototype,"egret.TextEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a){return e.call(this,t,i,a)||this}return __extends(i,e),i.prototype.a1313=function(){t.sys.$requestRenderingFlag=!0},i.dispatchTimerEvent=function(e,a,n,r){var s=t.Event.create(i,a,n,r),o=e.a1258(s);return t.Event.release(s),o},i.TIMER="timer",i.TIMER_COMPLETE="timerComplete",i}(t.Event);t.TimerEvent=e,__reflect(e.prototype,"egret.TimerEvent")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t}();t.CompressedTextureData=e,__reflect(e.prototype,"egret.CompressedTextureData"),t.etc_alpha_mask="etc_alpha_mask",t.engine_default_empty_texture="engine_default_empty_texture",t.is_compressed_texture="is_compressed_texture",t.glContext="glContext",t.UNPACK_PREMULTIPLY_ALPHA_WEBGL="UNPACK_PREMULTIPLY_ALPHA_WEBGL";var i=function(e){function i(i){var a=e.call(this)||this;if(a.format="image",a.$deleteSource=!0,a.compressedTextureData=[],a.debugCompressedTextureURL="",a.etcAlphaMask=null,t.nativeRender){var n=new egret_native.NativeBitmapData;n.$init(),a.$nativeBitmapData=n}return a.source=i,a.source=i,a.source&&(a.width=+i.width,a.height=+i.height),a}return __extends(i,e),Object.defineProperty(i.prototype,"source",{get:function(){return this.$source},set:function(e){this.$source=e,t.nativeRender&&egret_native.NativeDisplayObject.setSourceToNativeBitmapData(this.$nativeBitmapData,e)},enumerable:!0,configurable:!0}),i.create=function(e,a,n){var r="";r="arraybuffer"===e?t.Base64Util.encode(a):a;var s="image/png";"/"===r.charAt(0)?s="image/jpeg":"R"===r.charAt(0)?s="image/gif":"i"===r.charAt(0)&&(s="image/png");var o=new Image;o.src="data:"+s+";base64,"+r,o.crossOrigin="*";var l=new i(o);return o.onload=function(){o.onload=void 0,l.source=o,l.height=o.height,l.width=o.width,n&&n(l)},l},i.prototype.$dispose=function(){"webgl"==t.Capabilities.renderMode&&this.webGLTexture&&(t.WebGLUtils.deleteWebGLTexture(this.webGLTexture),this.webGLTexture=null),this.source&&this.source.dispose&&this.source.dispose(),this.source&&this.source.src&&(this.source.src=""),this.source=null,this.clearCompressedTextureData(),this.debugCompressedTextureURL="",this.etcAlphaMask=null,t.nativeRender&&egret_native.NativeDisplayObject.disposeNativeBitmapData(this.$nativeBitmapData),i.$dispose(this)},i.$addDisplayObject=function(t,e){if(e){var a=e.hashCode;if(a){if(!i._displayList[a])return void(i._displayList[a]=[t]);var n=i._displayList[a];n.indexOf(t)<0&&n.push(t)}}},i.$removeDisplayObject=function(t,e){if(e){var a=e.hashCode;if(a&&i._displayList[a]){var n=i._displayList[a],r=n.indexOf(t);r>=0&&n.splice(r,1)}}},i.$a1310=function(e){if(e){var a=e.hashCode;if(a&&i._displayList[a])for(var n=i._displayList[a],r=0;r<n.length;r++){n[r]instanceof t.Bitmap&&n[r].$refreshImageData();var s=n[r];s.$renderDirty=!0;var o=s.$parent;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp());var l=s.$maskedObject;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp())}}},i.$dispose=function(e){if(e){var a=e.hashCode;if(a&&i._displayList[a]){for(var n=i._displayList[a],r=0,s=n;r<s.length;r++){var o=s[r];o instanceof t.Bitmap&&(o.$bitmapData=null),o.$renderDirty=!0;var l=o.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());
var h=o.$maskedObject;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp())}delete i._displayList[a]}}},i.prototype._getCompressedTextureData=function(t,e){var i=this.compressedTextureData[t];return i?i[e]:null},i.prototype.getCompressed2dTextureData=function(){return this._getCompressedTextureData(0,0)},i.prototype.a1314=function(){return!!this.getCompressed2dTextureData()},i.prototype.clearCompressedTextureData=function(){this.compressedTextureData.length=0},i._displayList=t.createMap(),i}(t.HashObject);t.BitmapData=i,__reflect(i.prototype,"egret.BitmapData")}(egret||(egret={}));var egret;!function(t){var e=new t.Point,i=function(i){function a(t,e,a,n,r,s){var o=i.call(this,t,e,a)||this;return o.targetChanged=!0,o.touchDown=!1,o.$initTo(n,r,s),o}return __extends(a,i),a.prototype.$initTo=function(t,e,i){this.touchPointID=+i||0,this.$stageX=+t||0,this.$stageY=+e||0},Object.defineProperty(a.prototype,"stageX",{get:function(){return this.$stageX},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"stageY",{get:function(){return this.$stageY},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"localX",{get:function(){return this.targetChanged&&this.getLocalXY(),this._localX},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"localY",{get:function(){return this.targetChanged&&this.getLocalXY(),this._localY},enumerable:!0,configurable:!0}),a.prototype.getLocalXY=function(){this.targetChanged=!1;var t=this.$target.$getInvertedConcatenatedMatrix();t.a1329(this.$stageX,this.$stageY,e),this._localX=e.x,this._localY=e.y},a.prototype.$setTarget=function(t){return this.$target=t,this.targetChanged=!!t,!0},a.prototype.a1313=function(){t.sys.$requestRenderingFlag=!0},a.dispatchTouchEvent=function(e,i,n,r,s,o,l,h){if(void 0===h&&(h=!1),!n&&!e.a1256(i))return!0;var p=t.Event.create(a,i,n,r);p.$initTo(s,o,l),p.touchDown=h;var u=e.a1258(p);return t.Event.release(p),u},a.TOUCH_MOVE="touchMove",a.TOUCH_BEGIN="a2143",a.TOUCH_END="touchEnd",a.TOUCH_CANCEL="touchCancel",a.TOUCH_TAP="touchTap",a.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside",a}(t.Event);t.TouchEvent=i,__reflect(i.prototype,"egret.TouchEvent")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t,n,r){void 0===t&&(t=4),void 0===n&&(n=4),void 0===r&&(r=1);var s=e.call(this)||this,o=s;return o.type="blur",o.$blurX=t,o.$blurY=n,o.$quality=r,o.blurXFilter=new i(t),o.blurYFilter=new a(n),o.a1260(),s}return __extends(n,e),Object.defineProperty(n.prototype,"blurX",{get:function(){return this.$blurX},set:function(t){var e=this;e.$blurX!=t&&(e.$blurX=t,e.blurXFilter.blurX=t,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"blurY",{get:function(){return this.$blurY},set:function(t){var e=this;e.$blurY!=t&&(e.$blurY=t,e.blurYFilter.blurY=t,e.a1260())},enumerable:!0,configurable:!0}),n.prototype.$toJson=function(){return'{"blurX": '+this.$blurX+', "blurY": '+this.$blurY+', "quality": 1}'},n.prototype.a1259=function(){var t=this;t.paddingLeft=t.blurX,t.paddingRight=t.blurX,t.paddingTop=t.blurY,t.paddingBottom=t.blurY},n.prototype.a1260=function(){var e=this;e.a1259(),t.nativeRender&&(egret_native.NativeDisplayObject.setFilterPadding(e.blurXFilter.$id,0,0,e.paddingLeft,e.paddingRight),egret_native.NativeDisplayObject.setFilterPadding(e.blurYFilter.$id,e.paddingTop,e.paddingBottom,0,0),egret_native.NativeDisplayObject.setDataToFilter(e))},n}(t.Filter);t.BlurFilter=e,__reflect(e.prototype,"egret.BlurFilter");var i=function(e){function i(i){void 0===i&&(i=4);var a=e.call(this)||this;return t.nativeRender?a.type="blur":a.type="blurX",a.$uniforms.blur={x:i,y:0},a.a1260(),a}return __extends(i,e),Object.defineProperty(i.prototype,"blurX",{get:function(){return this.$uniforms.blur.x},set:function(t){this.$uniforms.blur.x=t},enumerable:!0,configurable:!0}),i}(t.Filter);__reflect(i.prototype,"BlurXFilter",["egret.IBlurXFilter"]);var a=function(e){function i(i){void 0===i&&(i=4);var a=e.call(this)||this;return t.nativeRender?a.type="blur":a.type="blurY",a.$uniforms.blur={x:0,y:i},a.a1260(),a}return __extends(i,e),Object.defineProperty(i.prototype,"blurY",{get:function(){return this.$uniforms.blur.y},set:function(t){this.$uniforms.blur.y=t},enumerable:!0,configurable:!0}),i}(t.Filter);__reflect(a.prototype,"BlurYFilter",["egret.IBlurYFilter"])}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.$matrix=[],i.matrix2=[],i.type="colorTransform",i.$uniforms.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.$uniforms.colorAdd={x:0,y:0,z:0,w:0},i.setMatrix(e),i.a1260(),i}return __extends(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){for(var t=0;20>t;t++)this.matrix2[t]=this.$matrix[t];return this.matrix2},set:function(t){this.setMatrix(t)},enumerable:!0,configurable:!0}),e.prototype.setMatrix=function(t){if(t)for(var e=0;20>e;e++)this.$matrix[e]=t[e];else for(var e=0;20>e;e++)this.$matrix[e]=0==e||6==e||12==e||18==e?1:0;for(var i=this.$matrix,a=this.$uniforms.matrix,n=this.$uniforms.colorAdd,e=0,r=0;e<i.length;e++)4===e?n.x=i[e]/255:9===e?n.y=i[e]/255:14===e?n.z=i[e]/255:19===e?n.w=i[e]/255:(a[r]=i[e],r++);this.a1260()},e.prototype.$toJson=function(){return'{"matrix": ['+this.$matrix.toString()+"]}"},e}(t.Filter);t.ColorMatrixFilter=e,__reflect(e.prototype,"egret.ColorMatrixFilter")}(egret||(egret={}));var egret;!function(t){var e,i={},a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0,s=function(){for(var t=0;36>t;t++)8===t||13===t||18===t||23===t?n[t]="-":14===t?n[t]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[t]=a[19===t?3&e|8:e]);return n.join("")},o=function(e){function a(t,a,n){void 0===n&&(n={});var r=e.call(this)||this;r.$padding=0,r.$vertexSrc=t,r.$fragmentSrc=a;var o=t+a;return i[o]||(i[o]=s()),r.$shaderKey=i[o],r.$uniforms=n,r.type="custom",r}return __extends(a,e),Object.defineProperty(a.prototype,"padding",{get:function(){return this.$padding},set:function(t){var e=this;e.$padding!=t&&(e.$padding=t,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"uniforms",{get:function(){return this.$uniforms},enumerable:!0,configurable:!0}),a.prototype.a1260=function(){if(t.nativeRender){var e=this;egret_native.NativeDisplayObject.setFilterPadding(e.$id,e.$padding,e.$padding,e.$padding,e.$padding),egret_native.NativeDisplayObject.setDataToFilter(e)}},a}(t.Filter);t.CustomFilter=o,__reflect(o.prototype,"egret.CustomFilter")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a,n,r,s,o,l,h,p,u){void 0===t&&(t=4),void 0===i&&(i=45),void 0===a&&(a=0),void 0===n&&(n=1),void 0===r&&(r=4),void 0===s&&(s=4),void 0===o&&(o=1),void 0===l&&(l=1),void 0===h&&(h=!1),void 0===p&&(p=!1),void 0===u&&(u=!1);var c=e.call(this,a,n,r,s,o,l,h,p)||this,d=c;return d.$distance=t,d.$angle=i,d.$hideObject=u,d.$uniforms.dist=t,d.$uniforms.angle=i/180*Math.PI,d.$uniforms.hideObject=u?1:0,d.a1260(),c}return __extends(i,e),Object.defineProperty(i.prototype,"distance",{get:function(){return this.$distance},set:function(t){var e=this;e.$distance!=t&&(e.$distance=t,e.$uniforms.dist=t,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.$angle},set:function(t){var e=this;e.$angle!=t&&(e.$angle=t,e.$uniforms.angle=t/180*Math.PI,e.a1260())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideObject",{get:function(){return this.$hideObject},set:function(t){this.$hideObject!=t&&(this.$hideObject=t,this.$uniforms.hideObject=t?1:0)},enumerable:!0,configurable:!0}),i.prototype.$toJson=function(){return'{"distance": '+this.$distance+', "angle": '+this.$angle+', "color": '+this.$color+', "red": '+this.$red+', "green": '+this.$green+', "blue": '+this.$blue+', "alpha": '+this.$alpha+', "blurX": '+this.$blurX+', "blurY": '+this.blurY+', "strength": '+this.$strength+', "quality": '+this.$quality+', "inner": '+this.$inner+', "knockout": '+this.$knockout+', "hideObject": '+this.$hideObject+"}"},i.prototype.a1259=function(){var e=this;e.paddingLeft=e.blurX,e.paddingRight=e.blurX,e.paddingTop=e.blurY,e.paddingBottom=e.blurY;var i=e.distance||0,a=e.angle||0,n=0,r=0;0!=i&&(n=i*t.NumberUtils.cos(a),n=n>0?Math.ceil(n):Math.floor(n),r=i*t.NumberUtils.sin(a),r=r>0?Math.ceil(r):Math.floor(r),e.paddingLeft+=n,e.paddingRight+=n,e.paddingTop+=r,e.paddingBottom+=r)},i}(t.GlowFilter);t.DropShadowFilter=e,__reflect(e.prototype,"egret.DropShadowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.LINEAR="linear",t.RADIAL="radial",t}();t.GradientType=e,__reflect(e.prototype,"egret.GradientType")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=2*Math.PI,0>t&&(t+=2*Math.PI),t}function i(t,e){for(var i=[],n=0;e>n;n++){var r=a(t,n/e);r&&i.push(r)}return i}function a(e,i){var a=0,s=0,o=0,l=e.length;if(l/2==3){var h=e[a++],p=e[a++],u=e[a++],c=e[a++],d=e[a++],g=e[a++];s=n(h,u,d,i),o=n(p,c,g,i)}else if(l/2==4){var h=e[a++],p=e[a++],u=e[a++],c=e[a++],d=e[a++],g=e[a++],f=e[a++],m=e[a++];s=r(h,u,d,f,i),o=r(p,c,g,m,i)}return t.Point.create(s,o)}function n(t,e,i,a){var n=Math.pow(1-a,2)*t+2*a*(1-a)*e+Math.pow(a,2)*i;return n}function r(t,e,i,a,n){var r=Math.pow(1-n,3)*t+3*n*Math.pow(1-n,2)*e+3*(1-n)*Math.pow(n,2)*i+Math.pow(n,3)*a;return r}var s=function(a){function n(){var e=a.call(this)||this;return e.lastX=0,e.lastY=0,e.fillPath=null,e.strokePath=null,e.topLeftStrokeWidth=0,e.bottomRightStrokeWidth=0,e.minX=1/0,e.minY=1/0,e.maxX=-(1/0),e.maxY=-(1/0),e.includeLastPosition=!0,e.$a1377=new t.sys.GraphicsNode,e}return __extends(n,a),n.prototype.$setTarget=function(e){this.$targetDisplay&&(this.$targetDisplay.$a1377=null),e.$a1377=this.$a1377,this.$targetDisplay=e,this.$targetIsSprite=e instanceof t.Sprite},n.prototype.a1317=function(t){switch(t){case 1:this.topLeftStrokeWidth=0,this.bottomRightStrokeWidth=1;break;case 3:this.topLeftStrokeWidth=1,this.bottomRightStrokeWidth=2;break;default:var e=0|Math.ceil(.5*t);this.topLeftStrokeWidth=e,this.bottomRightStrokeWidth=e}},n.prototype.beginFill=function(e,i){void 0===i&&(i=1),e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setBeginFill(e,i),this.fillPath=this.$a1377.beginFill(e,i,this.strokePath),this.$a1377.drawData.length>1&&this.fillPath.moveTo(this.lastX,this.lastY)},n.prototype.a1319=function(e,i,a,n,r){void 0===r&&(r=null),t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setBeginGradientFill(e,i,a,n,r),this.fillPath=this.$a1377.a1319(e,i,a,n,r,this.strokePath),this.$a1377.drawData.length>1&&this.fillPath.moveTo(this.lastX,this.lastY)},n.prototype.endFill=function(){t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setEndFill(),this.fillPath=null},n.prototype.lineStyle=function(e,i,a,n,r,s,o,l,h){void 0===e&&(e=0/0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===n&&(n=!1),void 0===r&&(r="normal"),void 0===s&&(s=null),void 0===o&&(o=null),void 0===l&&(l=3),e=+e||0,i=+i||0,a=+a||0,l=+l||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setLineStyle(e,i,a,n,r,s,o,l),0>=e?(this.strokePath=null,this.a1317(0)):(this.a1317(e),this.strokePath=this.$a1377.lineStyle(e,i,a,s,o,l,h),this.$a1377.drawData.length>1&&this.strokePath.moveTo(this.lastX,this.lastY))},n.prototype.drawRect=function(e,i,a,n){e=+e||0,i=+i||0,a=+a||0,n=+n||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawRect(e,i,a,n);var r=this.fillPath,s=this.strokePath;r&&r.drawRect(e,i,a,n),s&&s.drawRect(e,i,a,n),this.a1324(e+a,i+n),this.a1328(e,i),this.dirty()},n.prototype.drawRoundRect=function(e,i,a,n,r,s){e=+e||0,i=+i||0,a=+a||0,n=+n||0,r=+r||0,s=+s||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawRoundRect(e,i,a,n,r,s);var o=this.fillPath,l=this.strokePath;o&&o.drawRoundRect(e,i,a,n,r,s),l&&l.drawRoundRect(e,i,a,n,r,s);var h=.5*r|0,p=s?.5*s|0:h,u=e+a,c=i+n,d=c-p;this.a1324(e,i),this.a1324(u,c),this.a1328(u,d),this.dirty()},n.prototype.drawCircle=function(e,i,a){e=+e||0,i=+i||0,a=+a||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawCircle(e,i,a);var n=this.fillPath,r=this.strokePath;n&&n.drawCircle(e,i,a),r&&r.drawCircle(e,i,a),this.a1324(e-a-1,i-a-1),this.a1324(e+a+2,i+a+2),this.a1328(e+a,i),this.dirty()},n.prototype.drawEllipse=function(e,i,a,n){e=+e||0,i=+i||0,a=+a||0,n=+n||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawEllipse(e,i,a,n);var r=this.fillPath,s=this.strokePath;r&&r.drawEllipse(e,i,a,n),s&&s.drawEllipse(e,i,a,n),this.a1324(e-1,i-1),this.a1324(e+a+2,i+n+2),this.a1328(e+a,i+.5*n),this.dirty()},n.prototype.moveTo=function(e,i){e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setMoveTo(e,i);var a=this.fillPath,n=this.strokePath;a&&a.moveTo(e,i),n&&n.moveTo(e,i),this.includeLastPosition=!1,this.lastX=e,this.lastY=i,this.dirty()},n.prototype.lineTo=function(e,i){e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setLineTo(e,i);var a=this.fillPath,n=this.strokePath;a&&a.lineTo(e,i),n&&n.lineTo(e,i),this.a1328(e,i),this.dirty()},n.prototype.curveTo=function(e,a,n,r){e=+e||0,a=+a||0,n=+n||0,r=+r||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setCurveTo(e,a,n,r);var s=this.fillPath,o=this.strokePath;s&&s.curveTo(e,a,n,r),o&&o.curveTo(e,a,n,r);for(var l=this.lastX||0,h=this.lastY||0,p=i([l,h,e,a,n,r],50),u=0;u<p.length;u++){var c=p[u];this.a1324(c.x,c.y),t.Point.release(c)}this.a1324(n,r),this.a1328(n,r),this.dirty()},n.prototype.cubicCurveTo=function(e,a,n,r,s,o){e=+e||0,a=+a||0,n=+n||0,r=+r||0,s=+s||0,o=+o||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setCubicCurveTo(e,a,n,r,s,o);var l=this.fillPath,h=this.strokePath;l&&l.cubicCurveTo(e,a,n,r,s,o),h&&h.cubicCurveTo(e,a,n,r,s,o);for(var p=this.lastX||0,u=this.lastY||0,c=i([p,u,e,a,n,r,s,o],50),d=0;d<c.length;d++){var g=c[d];this.a1324(g.x,g.y),t.Point.release(g)}this.a1324(s,o),this.a1328(s,o),this.dirty()},n.prototype.drawArc=function(i,a,n,r,s,o){if(!(0>n||r===s)){i=+i||0,a=+a||0,n=+n||0,r=+r||0,s=+s||0,o=!!o,r=e(r),s=e(s),t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawArc(i,a,n,r,s,o);var l=this.fillPath,h=this.strokePath;l&&(l.$lastX=this.lastX,l.$lastY=this.lastY,l.drawArc(i,a,n,r,s,o)),h&&(h.$lastX=this.lastX,h.$lastY=this.lastY,h.drawArc(i,a,n,r,s,o)),o?this.arcBounds(i,a,n,s,r):this.arcBounds(i,a,n,r,s);var p=i+Math.cos(s)*n,u=a+Math.sin(s)*n;this.a1328(p,u),this.dirty()}},n.prototype.dirty=function(){var e=this;if(e.$a1377.dirtyRender=!0,!t.nativeRender){var i=e.$targetDisplay;i.$cacheDirty=!0;var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},n.prototype.arcBounds=function(t,e,i,a,n){var r=Math.PI;if(Math.abs(a-n)<.01)return this.a1324(t-i,e-i),void this.a1324(t+i,e+i);a>n&&(n+=2*r);for(var s=Math.cos(a)*i,o=Math.cos(n)*i,l=Math.min(s,o),h=Math.max(s,o),p=Math.sin(a)*i,u=Math.sin(n)*i,c=Math.min(p,u),d=Math.max(p,u),g=a/(.5*r),f=n/(.5*r),m=Math.ceil(g);f>=m;m++)switch(m%4){case 0:h=i;break;case 1:d=i;break;case 2:l=-i;break;case 3:c=-i}l=Math.floor(l),c=Math.floor(c),h=Math.ceil(h),d=Math.ceil(d),this.a1324(l+t,c+e),this.a1324(h+t,d+e)},n.prototype.clear=function(){t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setGraphicsClear(),this.$a1377.clear(),this.a1328(0,0),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.dirty()},n.prototype.a1324=function(t,e){this.extendBoundsByX(t),this.extendBoundsByY(e)},n.prototype.extendBoundsByX=function(t){this.minX=Math.min(this.minX,t-this.topLeftStrokeWidth),this.maxX=Math.max(this.maxX,t+this.bottomRightStrokeWidth),this.a1327()},n.prototype.extendBoundsByY=function(t){this.minY=Math.min(this.minY,t-this.topLeftStrokeWidth),this.maxY=Math.max(this.maxY,t+this.bottomRightStrokeWidth),this.a1327()},n.prototype.a1327=function(){var t=this.$a1377;t.x=this.minX,t.y=this.minY,t.width=Math.ceil(this.maxX-this.minX),t.height=Math.ceil(this.maxY-this.minY)},n.prototype.a1328=function(t,e){this.includeLastPosition||(this.a1324(this.lastX,this.lastY),this.includeLastPosition=!0),this.lastX=t,this.lastY=e,this.a1324(t,e)},n.prototype.$measureContentBounds=function(t){this.minX===1/0?t.setEmpty():t.setTo(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY)},n.prototype.$hitTest=function(e,i){var a=this.$targetDisplay,n=a.$getInvertedConcatenatedMatrix(),r=n.a*e+n.c*i+n.tx,s=n.b*e+n.d*i+n.ty,o=t.sys.canvasHitTestBuffer;o.resize(3,3);var l=this.$a1377,h=t.Matrix.create();h.identity(),h.translate(1-r,1-s),t.sys.canvasRenderer.drawNodeToBuffer(l,o,h,!0),t.Matrix.release(h);try{var p=o.a1267(1,1);if(0===p[3])return null}catch(u){throw new Error(t.sys.tr(1039))}return a},n.prototype.$a1692=function(){this.$a1377&&this.$a1377.clean(),t.nativeRender&&egret_native.NativeDisplayObject.disposeGraphicData(this)},n}(t.HashObject);t.Graphics=s,__reflect(s.prototype,"egret.Graphics")}(egret||(egret={}));var egret;!function(t){var e=Math.PI,i=2*e,a=e/180,n=[],r=function(r){function s(t,e,i,a,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===n&&(n=0),void 0===s&&(s=0);var o=r.call(this)||this;return o.a=t,o.b=e,o.c=i,o.d=a,o.tx=n,o.ty=s,o}return __extends(s,r),s.release=function(t){t&&n.push(t)},s.create=function(){var t=n.pop();return t||(t=new s),t},s.prototype.clone=function(){return new s(this.a,this.b,this.c,this.d,this.tx,this.ty)},s.prototype.concat=function(t){var e=this.a*t.a,i=0,a=0,n=this.d*t.d,r=this.tx*t.a+t.tx,s=this.ty*t.d+t.ty;(0!==this.b||0!==this.c||0!==t.b||0!==t.c)&&(e+=this.b*t.c,n+=this.c*t.b,i+=this.a*t.b+this.b*t.d,a+=this.c*t.a+this.d*t.c,r+=this.ty*t.c,s+=this.tx*t.b),this.a=e,this.b=i,this.c=a,this.d=n,this.tx=r,this.ty=s},s.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},s.prototype.identity=function(){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0},s.prototype.invert=function(){this.$invertInto(this)},s.prototype.$invertInto=function(t){var e=this.a,i=this.b,a=this.c,n=this.d,r=this.tx,s=this.ty;if(0==i&&0==a)return t.b=t.c=0,void(0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*r,t.ty=-n*s));var o=e*n-i*a;if(0==o)return void t.identity();o=1/o;var l=t.a=n*o;i=t.b=-i*o,a=t.c=-a*o,n=t.d=e*o,t.tx=-(l*r+a*s),t.ty=-(i*r+n*s)},s.prototype.rotate=function(e){if(e=+e,0!==e){e/=a;var i=t.NumberUtils.cos(e),n=t.NumberUtils.sin(e),r=this.a,s=this.b,o=this.c,l=this.d,h=this.tx,p=this.ty;this.a=r*i-s*n,this.b=r*n+s*i,this.c=o*i-l*n,this.d=o*n+l*i,this.tx=h*i-p*n,this.ty=h*n+p*i}},s.prototype.scale=function(t,e){1!==t&&(this.a*=t,this.c*=t,this.tx*=t),1!==e&&(this.b*=e,this.d*=e,this.ty*=e)},s.prototype.setTo=function(t,e,i,a,n,r){return this.a=t,this.b=e,this.c=i,this.d=a,this.tx=n,this.ty=r,this},s.prototype.a1329=function(e,i,a){var n=this.a*e+this.c*i+this.tx,r=this.b*e+this.d*i+this.ty;return a?(a.setTo(n,r),a):new t.Point(n,r)},s.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},s.prototype.equals=function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty},s.prototype.a1331=function(t,e,i,a,n,r){var s=this.tx;if(1!=t||0!=e||0!=i||1!=a){var o=this.a,l=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*a,this.c=l*t+this.d*i,this.d=l*e+this.d*a}return this.tx=s*t+this.ty*i+n,this.ty=s*e+this.ty*a+r,this},s.prototype.append=function(t,e,i,a,n,r){var s=this.a,o=this.b,l=this.c,h=this.d;return(1!=t||0!=e||0!=i||1!=a)&&(this.a=t*s+e*l,this.b=t*o+e*h,this.c=i*s+a*l,this.d=i*o+a*h),this.tx=n*s+r*l+this.tx,this.ty=n*o+r*h+this.ty,this},s.prototype.a1333=function(e){var i=this,a=i.a*e.x+i.c*e.y,n=i.b*e.x+i.d*e.y;return new t.Point(a,n)},s.prototype.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"},s.prototype.a1334=function(e,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0);var o=this;if(0!==n){n/=a;var l=t.NumberUtils.cos(n),h=t.NumberUtils.sin(n);o.a=l*e,o.b=h*i,o.c=-h*e,o.d=l*i}else o.a=e,o.b=0,o.c=0,o.d=i;o.tx=r,o.ty=s},s.prototype.a1335=function(t,e,i,a,n){void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=0),this.a1334(t/1638.4,e/1638.4,i,a+t/2,n+e/2)},s.prototype.$transformBounds=function(t){var e=this.a,i=this.b,a=this.c,n=this.d,r=this.tx,s=this.ty,o=t.x,l=t.y,h=o+t.width,p=l+t.height,u=e*o+a*l+r,c=i*o+n*l+s,d=e*h+a*l+r,g=i*h+n*l+s,f=e*h+a*p+r,m=i*h+n*p+s,v=e*o+a*p+r,y=i*o+n*p+s,b=0;u>d&&(b=u,u=d,d=b),f>v&&(b=f,f=v,v=b),t.x=Math.floor(f>u?u:f),t.width=Math.ceil((d>v?d:v)-t.x),c>g&&(b=c,c=g,g=b),m>y&&(b=m,m=y,y=b),t.y=Math.floor(m>c?c:m),t.height=Math.ceil((g>y?g:y)-t.y)},s.prototype.a1336=function(){return this.a*this.d-this.b*this.c},s.prototype.$getScaleX=function(){var t=this;if(0==t.b)return t.a;var e=Math.sqrt(t.a*t.a+t.b*t.b);return this.a1336()<0?-e:e},s.prototype.$getScaleY=function(){var t=this;if(0==t.c)return t.d;var e=Math.sqrt(t.c*t.c+t.d*t.d);return this.a1336()<0?-e:e},s.prototype.$getSkewX=function(){return this.d<0?Math.atan2(this.d,this.c)+e/2:Math.atan2(this.d,this.c)-e/2},s.prototype.$getSkewY=function(){return this.a<0?Math.atan2(this.b,this.a)-e:Math.atan2(this.b,this.a)},s.prototype.$updateScaleAndRotation=function(e,n,r,s){if(!(0!=r&&r!=i||0!=s&&s!=i))return this.a=e,this.b=this.c=0,void(this.d=n);r/=a,s/=a;var o=t.NumberUtils.cos(r),l=t.NumberUtils.sin(r);r==s?(this.a=o*e,this.b=l*e):(this.a=t.NumberUtils.cos(s)*e,this.b=t.NumberUtils.sin(s)*e),this.c=-l*n,this.d=o*n},s.prototype.$preMultiplyInto=function(t,e){var i=t.a*this.a,a=0,n=0,r=t.d*this.d,s=t.tx*this.a+this.tx,o=t.ty*this.d+this.ty;(0!==t.b||0!==t.c||0!==this.b||0!==this.c)&&(i+=t.b*this.c,r+=t.c*this.b,a+=t.a*this.b+t.b*this.d,n+=t.c*this.a+t.d*this.c,s+=t.ty*this.c,o+=t.tx*this.b),e.a=i,e.b=a,e.c=n,e.d=r,e.tx=s,e.ty=o},s}(t.HashObject);t.Matrix=r,__reflect(r.prototype,"egret.Matrix"),t.$TempMatrix=new r}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function a(t,e,a,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===a&&(a=0),void 0===n&&(n=0);var r=i.call(this)||this;return r.x=t,r.y=e,r.width=a,r.height=n,r}return __extends(a,i),a.release=function(t){t&&e.push(t)},a.create=function(){var t=e.pop();return t||(t=new a),t},Object.defineProperty(a.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"topLeft",{get:function(){return new t.Point(this.left,this.top)},set:function(t){this.top=t.y,this.left=t.x},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottomRight",{get:function(){return new t.Point(this.right,this.bottom)},set:function(t){this.bottom=t.y,this.right=t.x},enumerable:!0,configurable:!0}),a.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},a.prototype.setTo=function(t,e,i,a){return this.x=t,this.y=e,this.width=i,this.height=a,this},a.prototype.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},a.prototype.a1337=function(t){return this.clone().$intersectInPlace(t)},a.prototype.inflate=function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},a.prototype.$intersectInPlace=function(t){var e=this.x,i=this.y,a=t.x,n=t.y,r=Math.max(e,a),s=Math.min(e+this.width,a+t.width);if(s>=r){var o=Math.max(i,n),l=Math.min(i+this.height,n+t.height);if(l>=o)return this.setTo(r,o,s-r,l-o),this}return this.setEmpty(),this},a.prototype.a1339=function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)},a.prototype.isEmpty=function(){return this.width<=0||this.height<=0},a.prototype.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.a1342=function(t){return this.x<=t.x&&this.x+this.width>t.x&&this.y<=t.y&&this.y+this.height>t.y?!0:!1},a.prototype.a1343=function(t){var e=t.x+t.width,i=t.y+t.height,a=this.x+this.width,n=this.y+this.height;return t.x>=this.x&&t.x<a&&t.y>=this.y&&t.y<n&&e>this.x&&a>=e&&i>this.y&&n>=i},a.prototype.equals=function(t){return this===t?!0:this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},a.prototype.inflatePoint=function(t){this.inflate(t.x,t.y)},a.prototype.offset=function(t,e){this.x+=t,this.y+=e},a.prototype.a1345=function(t){this.offset(t.x,t.y)},a.prototype.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},a.prototype.union=function(t){var e=this.clone();if(t.isEmpty())return e;if(e.isEmpty())return e.copyFrom(t),e;var i=Math.min(e.x,t.x),a=Math.min(e.y,t.y);return e.setTo(i,a,Math.max(e.right,t.right)-i,Math.max(e.bottom,t.bottom)-a),e},a.prototype.$getBaseWidth=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return e*this.width+i*this.height},a.prototype.$getBaseHeight=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return i*this.width+e*this.height},a}(t.HashObject);t.Rectangle=i,__reflect(i.prototype,"egret.Rectangle"),t.$TempRectangle=new i}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.en_US=t.$locale_strings.en_US||{};var e=t.$locale_strings.en_US;e[1001]="Could not find Egret entry class: {0}。",e[1002]="Egret entry class '{0}' must inherit from egret.DisplayObject.",e[1003]="Parameter {0} must be non-null.",e[1004]="An object cannot be added as a child to one of it's children (or children's children, etc.).",e[1005]="An object cannot be added as a child of itself.",e[1006]="The supplied DisplayObject must be a child of the caller.",e[1007]="An index specified for a parameter was out of range.",e[1008]="Instantiate singleton error，singleton class {0} can not create multiple instances.",e[1009]='the Class {0} cannot use the property "{1}"',e[1010]='the property "{1}" of the Class "{0}" is readonly',e[1011]="Stream Error. URL: {0}",e[1012]="The type of parameter {0} must be Class.",e[1013]="Variable assignment is NaN, please see the code!",e[1014]='the constant "{1}" of the Class "{0}" is read-only',e[1015]="xml not found!",e[1016]="{0}has been obsoleted",e[1017]="The format of JSON file is incorrect: {0}\ndata: {1}",e[1018]="the scale9Grid is not correct",e[1019]="Network ab:{0}",e[1020]="Cannot initialize Shader",e[1021]="Current browser does not support webgl",e[1022]="{0} ArgumentError",e[1023]="This method is not available in the ScrollView!",e[1025]="end of the file",e[1026]="! EncodingError The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]=". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="Photos can not be used across domains toDataURL to convert base64",e[1034]='Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',e[1035]="Native does not support this feature!",e[1036]="Sound has stopped, please recall Sound.play () to play the sound!",e[1037]="Non-load the correct blob!",e[1038]="XML format error!",e[1039]="Cross domains pictures can not get pixel information!",e[1040]="a1264 can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",e[1041]="{0} is deprecated, please use {1} replace",e[1042]="The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",e[1043]="Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",e[1044]="The current version of the Runtime does not support video playback, please use the latest version",e[1045]="The resource url is not found",e[1046]="BitmapText no corresponding characters: {0}, please check the configuration file",e[1047]="egret.localStorage.setItem save failed,key={0}&value={1}",e[1048]="Video loading failed",e[1049]="In the absence of sound is not allowed to play after loading",e[1050]="ExternalInterface calls the method without js registration: {0}",e[1051]="runtime only support webgl render mode",e[1052]="network request timeout{0}",e[3e3]="Theme configuration file failed to load: {0}",e[3001]="Cannot find the skin name which is configured in Theme: {0}",e[3002]='Index:"{0}" is out of the collection element index range',e[3003]="Cannot be available in this component. If this component is container, please continue to use",e[3004]="addChild(){0}addElement() replace",e[3005]="addChildAt(){0}addElementAt() replace",e[3006]="removeChild(){0}removeElement() replace",e[3007]="removeChildAt(){0}removeElementAt() replace",e[3008]="setChildIndex(){0}setElementIndex() replace",e[3009]="swapChildren(){0}swapElements() replace",e[3010]="swapChildrenAt(){0}swapElementsAt() replace",e[3011]='Index:"{0}" is out of the visual element index range',e[3012]="This method is not available in Scroller component!",e[3013]="UIStage is GUI root container, and only one such instant is in the display list！",e[3014]="set fullscreen error",e[3100]="Current browser does not support WebSocket",e[3101]="Please connect Socket firstly",e[3102]="Please set the type of binary type",e[3200]="a1529 must be called after loadConfig",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!",e[4500]="The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}(egret||(egret={}));var egret;!function(t){t.JointStyle={BEVEL:"bevel",MITER:"miter",ROUND:"round"}}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.zh_CN=t.$locale_strings.zh_CN||{};var e=t.$locale_strings.zh_CN;e[1001]="找不到Egret入口类: {0}。",e[1002]="Egret入口类 {0} 必须继承自egret.DisplayObject。",e[1003]="参数 {0} 不能为 null。",e[1004]="无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",e[1005]="不能将对象添加为其自身的子对象。",e[1006]="提供的 DisplayObject 必须是调用者的子级。",e[1007]="为参数指定的索引不在范围内。",e[1008]="实例化单例出错，不允许实例化多个 {0} 对象。",e[1009]="类 {0} 不可以使用属性 {1}",e[1010]="类 {0} 属性 {1} 是只读的",e[1011]="流错误。URL: {0}",e[1012]="参数 {0} 的类型必须为 Class。",e[1013]="变量赋值为NaN，请查看代码！",e[1014]="类 {0} 常量 {1} 是只读的",e[1015]="xml not found!",e[1016]="{0}已经废弃",e[1017]="JSON文件格式不正确: {0}\ndata: {1}",e[1018]="9宫格设置错误",e[1019]="网络异常:{0}",e[1020]="无法初始化着色器",e[1021]="当前浏览器不支持webgl",e[1022]="{0} ArgumentError",e[1023]="此方法在ScrollView内不可用!",e[1025]="遇到文件尾",e[1026]="EncodingError! The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]="调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="跨域图片不可以使用toDataURL来转换成base64",e[1034]='音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',e[1035]="Native 下暂未实现此功能！",e[1036]="声音已停止，请重新调用 Sound.play() 来播放声音！",e[1037]="非正确的blob加载！",e[1038]="XML 格式错误!",e[1039]="跨域图片不能获取像素信息!",e[1040]="a1264 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素",e[1041]="{0} 已废弃,请使用 {1} 代替",e[1042]="drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常",e[1043]="{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",e[1044]="当前的 runtime 版本不支持视频播放,请使用最新的版本",e[1045]="没有设置要加载的资源地址",e[1046]="BitmapText 找不到对应字符:{0}，请检查配置文件",e[1047]="egret.localStorage.setItem保存失败,key={0}&value={1}",e[1048]="视频加载失败",e[1049]="声音在没有加载完之前不允许播放",e[1050]="ExternalInterface调用了js没有注册的方法: {0}",e[1051]="runtime 只支持 webgl 渲染模式",e[1052]="网络请求超时:{0}",e[3e3]="主题配置文件加载失败: {0}",e[3001]="找不到主题中所配置的皮肤类名: {0}",e[3002]='索引:"{0}"超出集合元素索引范围',e[3003]="在此组件中不可用，若此组件为容器类，请使用",e[3004]="addChild(){0}addElement()代替",e[3005]="addChildAt(){0}addElementAt()代替",e[3006]="removeChild(){0}removeElement()代替",e[3007]="removeChildAt(){0}removeElementAt()代替",e[3008]="setChildIndex(){0}setElementIndex()代替",e[3009]="swapChildren(){0}swapElements()代替",e[3010]="swapChildrenAt(){0}swapElementsAt()代替",e[3011]='索引:"{0}"超出可视元素索引范围',e[3012]="此方法在Scroller组件内不可用!",e[3013]="UIStage是GUI根容器，只能有一个此实例在显示列表中！",e[3014]="设置全屏模式失败",e[3100]="当前浏览器不支持WebSocket",e[3101]="请先连接WebSocket",e[3102]="请先设置type为二进制类型",e[3200]="a1529 必须在 loadConfig 之后调用",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!",e[4500]="该平台不支持 {0} 适配模式，已经自动替换为 {1} 模式，请修改您的代码适配逻辑"
}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.localStorage||(t.localStorage={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){a.indexOf(t)<0&&a.push(t)}function i(t){var e=a.indexOf(t);return e>=0?(a.splice(e,1),!0):!1}var a=[];t.$pushSoundChannel=e,t.$popSoundChannel=i}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.GET="GET",t.POST="POST"}(e=t.HttpMethod||(t.HttpMethod={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TEXT="text",t.ARRAY_BUFFER="arraybuffer",t}();t.HttpResponseType=e,__reflect(e.prototype,"egret.HttpResponseType")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function a(a){var n=i.call(this)||this;return n.isStage=!1,n.$a1377=new e.BitmapNode,n.renderBuffer=null,n.offsetX=0,n.offsetY=0,n.offsetMatrix=new t.Matrix,n.$canvasScaleX=1,n.$canvasScaleY=1,n.root=a,n.isStage=a instanceof t.Stage,n}return __extends(a,i),a.create=function(i){var a=new t.sys.DisplayList(i);try{var n=new e.RenderBuffer;a.renderBuffer=n}catch(r){return null}return a.root=i,a},a.prototype.$getRenderNode=function(){return this.$a1377},a.prototype.setClipRect=function(t,e){t*=a.$canvasScaleX,e*=a.$canvasScaleY,this.renderBuffer.resize(t,e)},a.prototype.drawToSurface=function(){var i=0;this.$canvasScaleX=this.offsetMatrix.a=a.$canvasScaleX,this.$canvasScaleY=this.offsetMatrix.d=a.$canvasScaleY,this.isStage||this.a1349();var n=this.renderBuffer;if(n.clear(),i=e.systemRenderer.render(this.root,n,this.offsetMatrix),!this.isStage){var r=n.surface,s=this.$a1377;s.drawData.length=0;var o=r.width,l=r.height;this.bitmapData?(this.bitmapData.source=r,this.bitmapData.width=o,this.bitmapData.height=l):this.bitmapData=new t.BitmapData(r),s.image=this.bitmapData,s.imageWidth=o,s.imageHeight=l,s.drawImage(0,0,o,l,-this.offsetX,-this.offsetY,o/this.$canvasScaleX,l/this.$canvasScaleY)}return i},a.prototype.a1349=function(){var t=(this.root,this.offsetX),e=this.offsetY,i=this.root.$getOriginalBounds(),a=this.$canvasScaleX,n=this.$canvasScaleY;this.offsetX=-i.x,this.offsetY=-i.y,this.offsetMatrix.setTo(this.offsetMatrix.a,0,0,this.offsetMatrix.d,this.offsetX,this.offsetY);var r=this.renderBuffer,s=Math.max(257,i.width*a),o=Math.max(257,i.height*n);(this.offsetX!=t||this.offsetY!=e||r.surface.width!=s||r.surface.height!=o)&&r.resize(s,o)},a.$setCanvasScale=function(e,i){a.$canvasScaleX=e,a.$canvasScaleY=i,t.nativeRender&&egret_native.nrSetCanvasScaleFactor(a.$canvasScaleFactor,e,i)},a.$canvasScaleFactor=1,a.$canvasScaleX=1,a.$canvasScaleY=1,a}(t.HashObject);e.DisplayList=i,__reflect(i.prototype,"egret.sys.DisplayList")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}var a=function(a){function l(e,i,n){var r=a.call(this)||this;return r.a1713=!1,r.entryClassName=n,r.stage=i,r.screenDisplayList=r.a1350(i,e),r.showFPS=!1,r.showLog=!1,r.stageDisplayList=null,t.nativeRender&&(egret_native.rootWebGLBuffer=e),r}return __extends(l,a),l.prototype.a1350=function(t,i){var a=new e.DisplayList(t);return a.renderBuffer=i,t.$displayList=a,a},l.prototype.start=function(){!this.a1713&&this.stage&&(e.$TempStage=e.$TempStage||this.stage,this.a1713=!0,this.root||this.initialize(),t.ticker.$addPlayer(this))},l.prototype.initialize=function(){var e;if(this.entryClassName&&(e=t.getDefinitionByName(this.entryClassName)),e){var i=new e;this.root=i,i instanceof t.DisplayObject&&this.stage.addChild(i)}},l.prototype.stop=function(){this.pause(),this.stage=null},l.prototype.pause=function(){this.a1713&&(this.a1713=!1,t.ticker.$removePlayer(this))},l.prototype.$render=function(e,i){if(t.nativeRender)return egret_native.updateNativeRender(),void egret_native.nrRender();var a=this.stage,r=t.getTimer(),s=a.$displayList.drawToSurface(),o=t.getTimer();e&&this.showFPS&&n.update(s,o-r,i)},l.prototype.updateStageSize=function(e,i){var a=this.stage;a.$stageWidth=e,a.$stageHeight=i,t.nativeRender?egret_native.nrResize(e,i):(this.screenDisplayList.setClipRect(e,i),this.stageDisplayList&&this.stageDisplayList.setClipRect(e,i)),a.dispatchEventWith(t.Event.RESIZE)},l.prototype.a1352=function(a,l,h,p){if(l=!!l,l&&(t.log=function(){for(var t=arguments.length,a="",n=0;t>n;n++)a+=arguments[n]+" ";e.$logToFPS(a),console.log.apply(console,i(arguments))},t.warn=function(){for(var t=arguments.length,a="",n=0;t>n;n++)a+=arguments[n]+" ";e.$warnToFPS(a),console.warn.apply(console,i(arguments))},t.error=function(){for(var t=arguments.length,a="",n=0;t>n;n++)a+=arguments[n]+" ";e.$errorToFPS(a),console.error.apply(console,i(arguments))}),this.showFPS=!!a,this.showLog=l,!n){n=new FPS(this.stage,a,l,h,p);for(var u=r.length,c=0;u>c;c++)n.updateInfo(r[c]);r=null;for(var d=s.length,c=0;d>c;c++)n.a1354(s[c]);s=null;for(var g=o.length,c=0;g>c;c++)n.a1355(o[c]);o=null}},l}(t.HashObject);e.Player=a,__reflect(a.prototype,"egret.sys.Player");var n,r=[],s=[],o=[];e.$logToFPS=function(t){return n?void n.updateInfo(t):void r.push(t)},e.$warnToFPS=function(t){return n?void n.a1354(t):void s.push(t)},e.$errorToFPS=function(t){return n?void n.a1355(t):void o.push(t)};var l=function(){function e(e,i,a,n,r){this.showFPS=i,this.showLog=a,this.logFilter=n,this.styles=r,this.infoLines=[],this.totalTime=0,this.totalTick=0,this.lastTime=0,this.drawCalls=0,this.costRender=0,this.costTicker=0,this.infoLines=[],this.totalTime=0,this.totalTick=0,this.lastTime=0,this.drawCalls=0,this.costRender=0,this.costTicker=0,this._stage=e,this.showFPS=i,this.showLog=a,this.logFilter=n,this.styles=r,this.fpsDisplay=new t.FPSDisplay(e,i,a,n,r);var s;try{s=n?new RegExp(n):null}catch(o){t.log(o)}this.filter=function(t){return s?s.test(t):!n||0==t.indexOf(n)}}return e.prototype.update=function(e,i,a){var n=t.getTimer();if(this.totalTime+=n-this.lastTime,this.lastTime=n,this.totalTick++,this.drawCalls+=e,this.costRender+=i,this.costTicker+=a,this.totalTime>=1e3){var r=Math.min(Math.ceil(1e3*this.totalTick/this.totalTime),t.ticker.$frameRate),s=Math.round(this.drawCalls/this.totalTick),o=Math.round(this.costRender/this.totalTick),l=Math.round(this.costTicker/this.totalTick);this.fpsDisplay.update({fps:r,draw:s,costTicker:l,costRender:o}),this.totalTick=0,this.totalTime=this.totalTime%1e3,this.drawCalls=0,this.costRender=0,this.costTicker=0}},e.prototype.updateInfo=function(t){t&&this.showLog&&this.filter(t)&&this.fpsDisplay.updateInfo(t)},e.prototype.a1354=function(t){t&&this.showLog&&this.filter(t)&&(this.fpsDisplay.a1354?this.fpsDisplay.a1354(t):this.fpsDisplay.updateInfo("[Warning]"+t))},e.prototype.a1355=function(t){t&&this.showLog&&this.filter(t)&&(this.fpsDisplay.a1355?this.fpsDisplay.a1355(t):this.fpsDisplay.updateInfo("[Error]"+t))},e}();__reflect(l.prototype,"FPSImpl"),__global.FPS=l,t.warn=function(){console.warn.apply(console,i(arguments))},t.error=function(){console.error.apply(console,i(arguments))},t.assert=function(){console.assert.apply(console,i(arguments))},t.log=function(){console.log.apply(console,i(arguments))}}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){if(t.nativeRender=__global.nativeRender,t.nativeRender){var e=egret_native.nrABIVersion,i=egret_native.nrMinEgretVersion,a=5;if(a>e){t.nativeRender=!1;var n="需要升级微端版本到 0.1.14 才可以开启原生渲染加速";t.sys.$warnToFPS(n),t.warn(n)}else if(e>a){t.nativeRender=!1;var n="需要升级引擎版本到 "+i+" 才可以开启原生渲染加速";t.sys.$warnToFPS(n),t.warn(n)}}}(egret||(egret={}));var egret;!function(t){var e=function(){function e(t,i,a,n){this.arrayBuffer=t,this.isInvalid=!1;var r=new Uint8Array(this.arrayBuffer,0,12);if(171!==r[0]||75!==r[1]||84!==r[2]||88!==r[3]||32!==r[4]||49!==r[5]||49!==r[6]||187!==r[7]||13!==r[8]||10!==r[9]||26!==r[10]||10!==r[11])return this.isInvalid=!0,void console.error("texture missing KTX identifier");var s=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(this.arrayBuffer,12,13*s),l=o.getUint32(0,!0),h=67305985===l;return this.glType=o.getUint32(1*s,h),this.glTypeSize=o.getUint32(2*s,h),this.glFormat=o.getUint32(3*s,h),this.glInternalFormat=o.getUint32(4*s,h),this.glBaseInternalFormat=o.getUint32(5*s,h),this.pixelWidth=o.getUint32(6*s,h),this.pixelHeight=o.getUint32(7*s,h),this.pixelDepth=o.getUint32(8*s,h),this.numberOfArrayElements=o.getUint32(9*s,h),this.numberOfFaces=o.getUint32(10*s,h),this.numberOfMipmapLevels=o.getUint32(11*s,h),this.bytesOfKeyValueData=o.getUint32(12*s,h),0!==this.glType?void console.error("only compressed formats currently supported"):(this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),0===this.pixelHeight||0!==this.pixelDepth?void console.error("only 2D textures currently supported"):0!==this.numberOfArrayElements?void console.error("texture arrays not currently supported"):this.numberOfFaces!==i?void console.error("number of faces expected"+i+", but found "+this.numberOfFaces):void(this.loadType=e.COMPRESSED_2D))}return e.prototype.a1356=function(t,i){this.loadType===e.COMPRESSED_2D&&this._upload2DCompressedLevels(t,i)},e.prototype._upload2DCompressedLevels=function(i,a){i.clearCompressedTextureData();for(var n=i.compressedTextureData,r=e.HEADER_LEN+this.bytesOfKeyValueData,s=this.pixelWidth,o=this.pixelHeight,l=a?this.numberOfMipmapLevels:1,h=0;l>h;h++){var p=new Int32Array(this.arrayBuffer,r,1)[0];r+=4;for(var u=[],c=0;c<this.numberOfFaces;c++){var d=new Uint8Array(this.arrayBuffer,r,p),g=new t.CompressedTextureData;g.glInternalFormat=this.glInternalFormat,g.width=s,g.height=o,g.byteArray=d,g.face=c,g.level=h,u.push(g),r+=p,r+=3-(p+3)%4}n.push(u),s=Math.max(1,.5*s),o=Math.max(1,.5*o)}var f=i.getCompressed2dTextureData();f&&(i.width=f.width,i.height=f.height)},e.HEADER_LEN=64,e.COMPRESSED_2D=0,e.COMPRESSED_3D=1,e.TEX_2D=2,e.TEX_3D=3,e}();t.KTXContainer=e,__reflect(e.prototype,"egret.KTXContainer")}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.calculateStageSize=function(e,i,a,n,r){var s=i,o=a,l=n,h=r,p=i/l||0,u=a/h||0;switch(e){case t.StageScaleMode.EXACT_FIT:break;case t.StageScaleMode.FIXED_HEIGHT:l=Math.round(i/u);break;case t.StageScaleMode.FIXED_WIDTH:h=Math.round(a/p);break;case t.StageScaleMode.NO_BORDER:p>u?o=Math.round(h*p):s=Math.round(l*u);break;case t.StageScaleMode.SHOW_ALL:p>u?s=Math.round(l*u):o=Math.round(h*p);break;case t.StageScaleMode.FIXED_NARROW:p>u?l=Math.round(i/u):h=Math.round(a/p);break;case t.StageScaleMode.FIXED_WIDE:p>u?h=Math.round(a/p):l=Math.round(i/u);break;default:l=i,h=a}return t.Capabilities.runtimeType!=t.RuntimeType.WXGAME&&(l%2!=0&&(l+=1),h%2!=0&&(h+=1),s%2!=0&&(s+=1),o%2!=0&&(o+=1)),{stageWidth:l,stageHeight:h,displayWidth:s,displayHeight:o}},i}(t.HashObject);e.DefaultScreenAdapter=i,__reflect(i.prototype,"egret.sys.DefaultScreenAdapter",["egret.sys.IScreenAdapter"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.NO_SCALE="noScale",t.SHOW_ALL="showAll",t.NO_BORDER="noBorder",t.EXACT_FIT="exactFit",t.FIXED_WIDTH="fixedWidth",t.FIXED_HEIGHT="fixedHeight",t.FIXED_NARROW="fixedNarrow",t.FIXED_WIDE="fixedWide",t}();t.StageScaleMode=e,__reflect(e.prototype,"egret.StageScaleMode")}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t,e){return console.error("empty sys.mainCanvas = "+t+", "+e),null}function i(t,e){return console.error("empty sys.createCanvas = "+t+", "+e),null}function a(t,e,i,a){console.error("empty sys.resizeContext = "+t+", "+e+", "+i+", "+a)}function n(t){return console.error("empty sys.getContextWebGL = "+t),null}function r(t){return console.error("empty sys.getContext2d = "+t),null}function s(t,e){return console.error("empty sys.createTexture = "+e),null}function o(t,e,i,a){return console.error("empty sys._createTexture = "+e+", "+i+", "+a),null}function l(t,e,i){return console.error("empty sys.drawTextureElements = "+t+", "+e+", "+i),0}function h(t,e){return console.error("empty sys.measureTextWith = "+t+", "+e),0}function p(t,e,i,a){return console.error("empty sys.createCanvasRenderBufferSurface = "+e+", "+i),null}function u(t,e,i,a){console.error("empty sys.resizeContext = "+t+", "+e+", "+i+", "+a)}t.mainCanvas=e,t.createCanvas=i,t.resizeContext=a,t.getContextWebGL=n,t.getContext2d=r,t.createTexture=s,t._createTexture=o,t.drawTextureElements=l,t.measureTextWith=h,t.createCanvasRenderBufferSurface=p,t.resizeCanvasRenderBuffer=u}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){e.$START_TIME=0,e.$invalidateRenderFlag=!1,e.$requestRenderingFlag=!1;var i=function(){function i(){this.playerList=[],this.callBackList=[],this.thisObjectList=[],this.$frameRate=30,this.lastTimeStamp=0,this.costEnterFrame=0,this.isPaused=!1,e.$START_TIME=Date.now(),this.frameDeltaTime=1e3/this.$frameRate,this.lastCount=this.frameInterval=Math.round(6e4/this.$frameRate)}return i.prototype.$addPlayer=function(t){-1==this.playerList.indexOf(t)&&(this.playerList=this.playerList.concat(),this.playerList.push(t))},i.prototype.$removePlayer=function(t){var e=this.playerList.indexOf(t);-1!==e&&(this.playerList=this.playerList.concat(),this.playerList.splice(e,1))},i.prototype.$startTick=function(t,e){var i=this.a1357(t,e);-1==i&&(this.concatTick(),this.callBackList.push(t),this.thisObjectList.push(e))},i.prototype.$stopTick=function(t,e){var i=this.a1357(t,e);-1!=i&&(this.concatTick(),this.callBackList.splice(i,1),this.thisObjectList.splice(i,1))},i.prototype.a1357=function(t,e){for(var i=this.callBackList,a=this.thisObjectList,n=i.length-1;n>=0;n--)if(i[n]==t&&a[n]==e)return n;return-1},i.prototype.concatTick=function(){this.callBackList=this.callBackList.concat(),this.thisObjectList=this.thisObjectList.concat()},i.prototype.$a1955=function(t){return 0>=t?!1:this.$frameRate==t?!1:(this.$frameRate=t,t>60&&(t=60),this.frameDeltaTime=1e3/t,this.lastCount=this.frameInterval=Math.round(6e4/t),!0)},i.prototype.pause=function(){this.isPaused=!0},i.prototype.resume=function(){this.isPaused=!1},i.prototype.update=function(i){for(var a=t.getTimer(),n=this.callBackList,r=this.thisObjectList,s=n.length,o=e.$requestRenderingFlag,l=t.getTimer(),h=t.lifecycle.contexts,p=0,u=h;p<u.length;p++){var c=u[p];c.onUpdate&&c.onUpdate()}if(this.isPaused)return void(this.lastTimeStamp=l);this.a1362();for(var d=0;s>d;d++)n[d].call(r[d],l)&&(o=!0);var g=t.getTimer(),f=l-this.lastTimeStamp;if(this.lastTimeStamp=l,f>=this.frameDeltaTime||i)this.lastCount=this.frameInterval;else{if(this.lastCount-=1e3,this.lastCount>0)return void(o&&this.render(!1,this.costEnterFrame+g-a));this.lastCount+=this.frameInterval}this.render(!0,this.costEnterFrame+g-a);var m=t.getTimer();this.a1359();var v=t.getTimer();this.costEnterFrame=v-m},i.prototype.render=function(t,i){var a=this.playerList,n=a.length;if(0!=n){this.callLaters(),e.$invalidateRenderFlag&&(this.a1360(),e.$invalidateRenderFlag=!1);for(var r=0;n>r;r++)a[r].$render(t,i);e.$requestRenderingFlag=!1}},i.prototype.a1359=function(){var e=t.DisplayObject.$enterFrameCallBackList,i=e.length;if(0!=i){e=e.concat();for(var a=0;i>a;a++)e[a].dispatchEventWith(t.Event.ENTER_FRAME)}},i.prototype.a1360=function(){var e=t.DisplayObject.$renderCallBackList,i=e.length;if(0!=i){e=e.concat();for(var a=0;i>a;a++)e[a].dispatchEventWith(t.Event.RENDER)}},i.prototype.callLaters=function(){var e,i,a;if(t.$callLaterFunctionList.length>0&&(e=t.$callLaterFunctionList,t.$callLaterFunctionList=[],i=t.$callLaterThisList,t.$callLaterThisList=[],a=t.$callLaterArgsList,t.$callLaterArgsList=[]),e)for(var n=e.length,r=0;n>r;r++){var s=e[r];null!=s&&s.apply(i[r],a[r])}},i.prototype.a1362=function(){if(t.$callAsyncFunctionList.length>0){var e=t.$callAsyncFunctionList,i=t.$callAsyncThisList,a=t.$callAsyncArgsList;t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[];for(var n=0;n<e.length;n++){var r=e[n];null!=r&&r.apply(i[n],a[n])}}},i}();e.SystemTicker=i,__reflect(i.prototype,"egret.sys.SystemTicker")}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){var e;!function(e){function i(t){var i=new n;e.contexts.push(i),t(i)}e.contexts=[];var a=!0,n=function(){function i(){}return i.prototype.pause=function(){a&&(a=!1,e.stage.a1258(new t.Event(t.Event.DEACTIVATE)),e.onPause&&e.onPause())},i.prototype.resume=function(){a||(a=!0,e.stage.a1258(new t.Event(t.Event.ACTIVATE)),e.onResume&&e.onResume())},i}();e.LifecycleContext=n,__reflect(n.prototype,"egret.lifecycle.LifecycleContext"),e.addLifecycleListener=i}(e=t.lifecycle||(t.lifecycle={})),t.ticker=new t.sys.SystemTicker}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t){var i=e.call(this)||this;return i.maxTouches=0,i.useTouchesCount=0,i.touchDownTarget={},i.lastTouchX=-1,i.lastTouchY=-1,i.stage=t,i}return __extends(i,e),i.prototype.$initMaxTouches=function(){this.maxTouches=this.stage.$maxTouches},i.prototype.a1363=function(e,i,a){if(!(this.useTouchesCount>=this.maxTouches)){this.lastTouchX=e,this.lastTouchY=i;var n=this.findTarget(e,i);null==this.touchDownTarget[a]&&(this.touchDownTarget[a]=n,this.useTouchesCount++),t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_BEGIN,!0,!0,e,i,a,!0)}},i.prototype.a1364=function(e,i,a){if(null!=this.touchDownTarget[a]&&(this.lastTouchX!=e||this.lastTouchY!=i)){this.lastTouchX=e,this.lastTouchY=i;var n=this.touchDownTarget[a];t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_MOVE,!0,!0,e,i,a,!0)}},i.prototype.a1365=function(e,i,a){if(null!=this.touchDownTarget[a]){var n=this.findTarget(e,i),r=this.touchDownTarget[a];delete this.touchDownTarget[a],this.useTouchesCount--,t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_END,!0,!0,e,i,a,!1),r==n?t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_TAP,!0,!0,e,i,a,!1):t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_RELEASE_OUTSIDE,!0,!0,e,i,a,!1)}},i.prototype.findTarget=function(t,e){var i=this.stage.$hitTest(t,e);return i||(i=this.stage),i},i}(t.HashObject);e.TouchHandler=i,__reflect(i.prototype,"egret.sys.TouchHandler")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.image=null,t.smoothing=!0,t.blendMode=null,t.alpha=0/0,t.filter=null,t.rotated=!1,t.type=1,t}return __extends(i,e),i.prototype.drawImage=function(t,e,i,a,n,r,s,o){this.drawData.push(t,e,i,a,n,r,s,o),this.renderCount++},i.prototype.a1300=function(){e.prototype.a1300.call(this),this.image=null,this.matrix=null,this.blendMode=null,this.alpha=0/0,this.filter=null},i.$updateTextureData=function(e,a,n,r,s,o,l,h,p,u,c,d,g,f,m,v){if(a){var y=t.$TextureScaleFactor;if(e.smoothing=v,e.image=a,e.imageWidth=g,e.imageHeight=f,m==t.BitmapFillMode.SCALE){var b=c/p*y,_=d/u*y;e.drawImage(n,r,s,o,b*l,_*h,b*s,_*o)}else if(m==t.BitmapFillMode.CLIP){var A=Math.min(p,c),T=Math.min(u,d),C=s*y,w=o*y;i.drawClipImage(e,y,n,r,C,w,l,h,A,T)}else for(var C=s*y,w=o*y,x=0;c>x;x+=p)for(var I=0;d>I;I+=u){var A=Math.min(c-x,p),T=Math.min(d-I,u);i.drawClipImage(e,y,n,r,C,w,l,h,A,T,x,I)}}},i.$updateTextureDataWithScale9Grid=function(e,i,a,n,r,s,o,l,h,p,u,c,d,g,f,m){e.smoothing=m,e.image=i,e.imageWidth=g,e.imageHeight=f;var v=s,y=o;c-=p-s*t.$TextureScaleFactor,d-=u-o*t.$TextureScaleFactor;var b=a.x-l,_=a.y-h,A=b/t.$TextureScaleFactor,T=_/t.$TextureScaleFactor,C=a.width/t.$TextureScaleFactor,w=a.height/t.$TextureScaleFactor;0==w&&(w=1,T>=y&&T--),0==C&&(C=1,A>=v&&A--);var x=n,I=x+A,D=I+C,E=v-A-C,S=r,G=S+T,P=G+w,k=y-T-w,M=E*t.$TextureScaleFactor,L=k*t.$TextureScaleFactor;if((A+E)*t.$TextureScaleFactor>c||(T+k)*t.$TextureScaleFactor>d)return void e.drawImage(n,r,s,o,l,h,c,d);var O=l,B=O+b,R=O+(c-M),U=c-b-M,F=h,V=F+_,$=F+d-L,N=d-_-L;T>0&&(A>0&&e.drawImage(x,S,A,T,O,F,b,_),C>0&&e.drawImage(I,S,C,T,B,F,U,_),E>0&&e.drawImage(D,S,E,T,R,F,M,_)),w>0&&(A>0&&e.drawImage(x,G,A,w,O,V,b,N),C>0&&e.drawImage(I,G,C,w,B,V,U,N),E>0&&e.drawImage(D,G,E,w,R,V,M,N)),k>0&&(A>0&&e.drawImage(x,P,A,k,O,$,b,L),C>0&&e.drawImage(I,P,C,k,B,$,U,L),E>0&&e.drawImage(D,P,E,k,R,$,M,L))},i.drawClipImage=function(t,e,i,a,n,r,s,o,l,h,p,u){void 0===p&&(p=0),void 0===u&&(u=0);var c=s+n-l;c>0&&(n-=c),c=o+r-h,c>0&&(r-=c),t.drawImage(i,a,n/e,r/e,p+s,u+o,n,r)},i}(e.RenderNode);e.BitmapNode=i,__reflect(i.prototype,"egret.sys.BitmapNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=["none","round","square"],a=["bevel","miter","round"],n=function(n){function r(){var t=n.call(this)||this;return t.dirtyRender=!0,t.type=3,t}return __extends(r,n),r.prototype.beginFill=function(t,i,a){void 0===i&&(i=1);var n=new e.FillPath;if(n.fillColor=t,n.fillAlpha=i,a){var r=this.drawData.lastIndexOf(a);this.drawData.splice(r,0,n)}else this.drawData.push(n);return this.renderCount++,n},r.prototype.a1319=function(i,a,n,r,s,o){var l=new t.Matrix;s?(l.a=819.2*s.a,l.b=819.2*s.b,l.c=819.2*s.c,l.d=819.2*s.d,l.tx=s.tx,l.ty=s.ty):(l.a=100,l.d=100);var h=new e.GradientFillPath;if(h.gradientType=i,h.colors=a,h.alphas=n,h.ratios=r,h.matrix=l,o){var p=this.drawData.lastIndexOf(o);this.drawData.splice(p,0,h)}else this.drawData.push(h);return this.renderCount++,h},r.prototype.lineStyle=function(n,r,s,o,l,h,p){void 0===s&&(s=1),void 0===h&&(h=3),void 0===p&&(p=[]),-1==i.indexOf(o)&&(o="round"),-1==a.indexOf(l)&&(l="round");var u=new e.StrokePath;return u.lineWidth=n,u.lineColor=r,u.lineAlpha=s,u.caps=o||t.CapsStyle.ROUND,u.joints=l,u.miterLimit=h,u.lineDash=p,this.drawData.push(u),this.renderCount++,u},r.prototype.clear=function(){this.drawData.length=0,this.dirtyRender=!0,this.renderCount=0},r.prototype.a1300=function(){},r.prototype.clean=function(){this.$texture&&(t.WebGLUtils.deleteWebGLTexture(this.$texture),this.$texture=null,this.dirtyRender=!0)},r}(e.RenderNode);e.GraphicsNode=n,__reflect(n.prototype,"egret.sys.GraphicsNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=4,e}return __extends(e,t),e.prototype.a1368=function(t){this.drawData.push(t)},e.prototype.a1300=function(){for(var t=this.drawData,e=t.length-1;e>=0;e--)t[e].a1300()},e.prototype.$getRenderCount=function(){for(var t=0,e=this.drawData,i=e.length-1;i>=0;i--)t+=e[i].$getRenderCount();return t},e}(t.RenderNode);t.GroupNode=e,__reflect(e.prototype,"egret.sys.GroupNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var i=e.call(this)||this;return i.image=null,i.smoothing=!0,i.bounds=new t.Rectangle,i.blendMode=null,i.alpha=0/0,i.filter=null,i.rotated=!1,i.type=5,i.vertices=[],i.uvs=[],i.indices=[],i}return __extends(i,e),i.prototype.drawMesh=function(t,e,i,a,n,r,s,o){this.drawData.push(t,e,i,a,n,r,s,o),this.renderCount++},i.prototype.a1300=function(){e.prototype.a1300.call(this),this.image=null,this.matrix=null},i}(e.RenderNode);e.MeshNode=i,__reflect(i.prototype,"egret.sys.MeshNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.image=null,e.smoothing=!0,e.rotated=!1,e.type=6,e}return __extends(e,t),e.prototype.drawImage=function(t,e,i,a,n,r,s,o){var l=this;l.sourceX=t,l.sourceY=e,l.sourceW=i,l.sourceH=a,l.drawX=n,l.drawY=r,l.drawW=s,l.drawH=o,l.renderCount=1},e.prototype.a1300=function(){t.prototype.a1300.call(this),this.image=null},e}(t.RenderNode);t.NormalBitmapNode=e,__reflect(e.prototype,"egret.sys.NormalBitmapNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var a=e.call(this,i)||this;return a._verticesDirty=!0,a._bounds=new t.Rectangle,a.$a1377=new t.sys.MeshNode,a}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(12)},i.prototype.a1298=function(t){this.$nativeDisplayObject.setBitmapDataToMesh(t)},i.prototype.$updateRenderNode=function(){var e=this.$bitmapData;if(e){var i=(t.$TextureScaleFactor,this.$a1377);i.smoothing=this.$smoothing,i.image=e,i.imageWidth=this.$sourceWidth,i.imageHeight=this.$sourceHeight;var a=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,n=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight,r=a/this.$textureWidth,s=n/this.$textureHeight,o=this.$bitmapWidth,l=this.$bitmapHeight;i.drawMesh(this.$bitmapX,this.$bitmapY,o,l,this.$offsetX*r,this.$offsetY*s,r*o,s*l)}},i.prototype.$updateVertices=function(){var e=this;if(e._verticesDirty=!0,e.$renderDirty=!0,t.nativeRender){var i=this.$a1377;this.$nativeDisplayObject.setDataToMesh(i.vertices,i.indices,i.uvs)}else{var a=e.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=e.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},i.prototype.$measureContentBounds=function(t){if(this._verticesDirty){this._verticesDirty=!1;var e=this.$a1377,i=e.vertices;if(i.length){this._bounds.setTo(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(var a=0,n=i.length;n>a;a+=2){var r=i[a],s=i[a+1];this._bounds.x>r&&(this._bounds.x=r),this._bounds.width<r&&(this._bounds.width=r),this._bounds.y>s&&(this._bounds.y=s),this._bounds.height<s&&(this._bounds.height=s)}this._bounds.width-=this._bounds.x,this._bounds.height-=this._bounds.y}else this._bounds.setTo(0,0,0,0);e.bounds.copyFrom(this._bounds)}t.copyFrom(this._bounds)},i}(t.Bitmap);t.Mesh=e,__reflect(e.prototype,"egret.Mesh")}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.textColor=16777215,t.strokeColor=0,t.size=30,t.stroke=0,t.bold=!1,t.italic=!1,t.fontFamily="Arial",t.dirtyRender=!0,t.type=2,t}return __extends(i,e),i.prototype.drawText=function(t,e,i,a){this.drawData.push(t,e,i,a),this.renderCount++,this.dirtyRender=!0},i.prototype.clean=function(){this.$texture&&(t.WebGLUtils.deleteWebGLTexture(this.$texture),this.$texture=null,this.dirtyRender=!0)},i.prototype.a1300=function(){e.prototype.a1300.call(this),this.dirtyRender=!0},i}(e.RenderNode);e.TextNode=i,__reflect(i.prototype,"egret.sys.TextNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=1,e}return __extends(e,t),e}(t.Path2D);t.FillPath=e,__reflect(e.prototype,"egret.sys.FillPath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=2,e}return __extends(e,t),e}(t.Path2D);t.GradientFillPath=e,__reflect(e.prototype,"egret.sys.GradientFillPath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.OrientationMode={AUTO:"auto",PORTRAIT:"portrait",LANDSCAPE:"landscape",LANDSCAPE_FLIPPED:"landscapeFlipped"}}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=3,e}return __extends(e,t),e}(t.Path2D);t.StrokePath=e,__reflect(e.prototype,"egret.sys.StrokePath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){function e(t,e){var i=null==e.italic?t.italic:e.italic,a=null==e.bold?t.bold:e.bold,n=null==e.size?t.size:e.size,r=e.fontFamily||t.fontFamily,s=i?"italic ":"normal ";return s+=a?"bold ":"normal ",s+=n+"px "+r}function i(t,e){var i=t>>16,a=t>>8&255,n=255&t;return"rgba("+i+","+a+","+n+","+e+")"}function a(e,a,n,r,s,o){var l;l=a==t.GradientType.LINEAR?e.createLinearGradient(-1,0,1,0):e.createRadialGradient(0,0,0,0,0,1);for(var h=n.length,p=0;h>p;p++)l.addColorStop(s[p]/255,i(n[p],r[p]));return l}function n(t,e,i){void 0===i&&(i=0);for(var a=0,n=e.length;n>a;a++)t[a+i]=e[a]}function r(t,e,i,a){for(var n=a[0],r=a[1],s=a[2],o=a[3],l=a[4],h=a[5],p=a[6],u=a[7],c=a[8],d=a[9],g=a[10],f=a[11],m=a[12],v=a[13],y=a[14],b=a[15],_=a[16],A=a[17],T=a[18],C=a[19],w=0,x=e*i*4;x>w;w+=4){var I=t[w+0],D=t[w+1],E=t[w+2],S=t[w+3];t[w+0]=n*I+r*D+s*E+o*S+l,t[w+1]=h*I+p*D+u*E+c*S+d,t[w+2]=g*I+f*D+m*E+v*S+y,t[w+3]=b*I+_*D+A*E+T*S+C}}function s(t,e,i,a,n){o(t,e,i,a),l(t,e,i,n)}function o(t,e,i,a){var r;r=C?new Uint8ClampedArray(4*e):new Array(4*e);for(var s=4*e,o=2*a+1,l=0;i>l;l++){for(var h=l*s,p=0,u=0,c=0,d=0,g=0,f=0,m=4*-a,v=4*a+4;v>m;m+=4){var y=h+m;h>y||y>=h+s||(g=t[y+3],p+=t[y+0]*g,u+=t[y+1]*g,c+=t[y+2]*g,d+=g)}for(var m=h,v=h+s,b=0,_=m-4*a,A=m+4*(a+1);v>m;m+=4,b+=4,A+=4,_+=4)0===d?(r[b+0]=0,r[b+1]=0,r[b+2]=0,r[b+3]=0):(r[b+0]=p/d,r[b+1]=u/d,r[b+2]=c/d,r[b+3]=d/o),g=t[A+3],f=t[_+3],g||0==g?f||0==f?(p+=t[A+0]*g-t[_+0]*f,u+=t[A+1]*g-t[_+1]*f,c+=t[A+2]*g-t[_+2]*f,d+=g-f):(p+=t[A+0]*g,u+=t[A+1]*g,c+=t[A+2]*g,d+=g):(f||0==f)&&(p+=-t[_+0]*f,u+=-t[_+1]*f,c+=-t[_+2]*f,d+=-f);C?t.set(r,h):n(t,r,h)}}function l(t,e,i,a){var n;n=C?new Uint8ClampedArray(4*i):new Array(4*i);for(var r=4*e,s=2*a+1,o=0;e>o;o++){for(var l=4*o,h=0,p=0,u=0,c=0,d=0,g=0,f=-a*r,m=a*r+r;m>f;f+=r){var v=l+f;l>v||v>=l+i*r||(d=t[v+3],h+=t[v+0]*d,p+=t[v+1]*d,u+=t[v+2]*d,c+=d)}for(var f=l,m=l+i*r,y=0,b=l-a*r,_=l+(a+1)*r;m>f;f+=r,y+=4,_+=r,b+=r)0===c?(n[y+0]=0,n[y+1]=0,n[y+2]=0,n[y+3]=0):(n[y+0]=h/c,n[y+1]=p/c,n[y+2]=u/c,n[y+3]=c/s),d=t[_+3],g=t[b+3],d||0==d?g||0==g?(h+=t[_+0]*d-t[b+0]*g,p+=t[_+1]*d-t[b+1]*g,u+=t[_+2]*d-t[b+2]*g,c+=d-g):(h+=t[_+0]*d,p+=t[_+1]*d,u+=t[_+2]*d,c+=d):(g||0==g)&&(h+=-t[b+0]*g,p+=-t[b+1]*g,u+=-t[b+2]*g,c+=-g);for(var A=4*o,m=A+i*r,T=0;m>A;A+=r,T+=4)t[A+0]=n[T+0],t[A+1]=n[T+1],t[A+2]=n[T+2],t[A+3]=n[T+3]}}function h(t,e,i,a,r,o,l,h,g){var f=p(t,a);u(f,e,i,l,h),s(f,e,i,r,o),c(f,g),d(f,t),t.set(f),C?t.set(f):n(t,f)}function p(t,e){e||(e=[0,0,0,0]);var i;C?i=new Uint8ClampedArray(t):(i=new Array(t.length),n(i,t));for(var a=e[0],r=e[1],s=e[2],o=e[3],l=0,h=i.length;h>l;l+=4){var p=i[l+3];i[l+0]=a*p,i[l+1]=r*p,i[l+2]=s*p,i[l+3]=o*p}return i}function u(t,e,i,a,r){var s,o,l=Math.sin(a)*r|0,h=Math.cos(a)*r|0;if(C){s=new Int32Array(t.buffer),o=new Int32Array(s.length);for(var p=0;i>p;p++){var u=p+l;if(!(0>u||u>i))for(var c=0;e>c;c++){var d=c+h;0>d||d>e||(o[u*e+d]=s[p*e+c])}}s.set(o)}else{s=t,o=new Array(s.length);for(var p=0;i>p;p++){var u=p+l;if(!(0>u||u>i))for(var c=0;e>c;c++){var d=c+h;0>d||d>e||(o[4*(u*e+d)+0]=s[4*(p*e+c)+0],o[4*(u*e+d)+1]=s[4*(p*e+c)+1],o[4*(u*e+d)+2]=s[4*(p*e+c)+2],o[4*(u*e+d)+3]=s[4*(p*e+c)+3])}}n(s,o)}}function c(t,e){for(var i=0,a=t.length;a>i;i+=4)t[i+3]*=e}function d(t,e){for(var i=0,a=t.length;a>i;i+=4){var n=t[i+0],r=t[i+1],s=t[i+2],o=t[i+3]/255,l=e[i+0],h=e[i+1],p=e[i+2],u=e[i+3]/255;t[i+0]=l+n*(1-u),t[i+1]=h+r*(1-u),t[i+2]=p+s*(1-u),t[i+3]=255*(u+o*(1-u))}}function g(t,e,i){return t*(1-i)+e*i}function f(t,e,i,a,r,s,o,l,h,p,u,c){var d;d=C?new Uint8ClampedArray(t.length):new Array(t.length);for(var f,m,v=a[3],y=0,b=0,_=l*Math.cos(o),A=l*Math.sin(o),T=7,w=12,x=3.141592653589793,I=r/T,D=s/T,E=0;e>E;E++)for(var S=0;i>S;S++){for(var G=0,P=S*e*4+4*E,k=0,M=0,L=t[P+0]/255,O=t[P+1]/255,B=t[P+2]/255,R=t[P+3]/255,U=0;2*x>=U;U+=2*x/w){f=Math.cos(U+G),m=Math.sin(U+G);for(var F=0;T>F;F++){y=F*I*f,b=F*D*m;var V=Math.round(E+y-_),$=Math.round(S+b-A),N=0;if(V>=e||0>V||0>$||$>=i)N=0;else{var j=$*e*4+4*V;N=t[j+3]/255}k+=(T-F)*N,M+=T-F}}R=Math.max(R,1e-4);var H=k/M*h*v*(1-p)*Math.max(Math.min(c,u),1-R),z=(M-k)/M*h*v*p*R;R=Math.max(R*u*(1-c),1e-4);var X=z/(z+R),Y=g(L,a[0],X),W=g(O,a[1],X),q=g(B,a[2],X),K=H/(z+R+H),Z=g(Y,a[0],K),J=g(W,a[1],K),Q=g(q,a[2],K),te=Math.min(R+H+z,1);
d[P+0]=255*Z,d[P+1]=255*J,d[P+2]=255*Q,d[P+3]=255*te}C?t.set(d):n(t,d)}var m=["source-over","lighter","destination-out"],v="source-over",y="#000000",b={none:"butt",square:"square",round:"round"},_=[],A=[],T=function(){function n(){this.nestLevel=0,this.renderingMask=!1}return n.prototype.render=function(e,i,a,n){this.nestLevel++;var r=i.context;r.transform(a.a,a.b,a.c,a.d,0,0);var s=this.drawDisplayObject(e,r,a.tx,a.ty,!0),o=t.Matrix.create();if(a.$invertInto(o),r.transform(o.a,o.b,o.c,o.d,0,0),t.Matrix.release(o),this.nestLevel--,0===this.nestLevel){_.length>6&&(_.length=6);for(var l=_.length,h=0;l>h;h++)_[h].resize(0,0)}return s},n.prototype.drawDisplayObject=function(e,i,a,n,r){var s,o=0,l=e.$displayList;if(l&&!r?((e.$cacheDirty||e.$renderDirty||l.$canvasScaleX!=t.sys.DisplayList.$canvasScaleX||l.$canvasScaleY!=t.sys.DisplayList.$canvasScaleY)&&(o+=l.drawToSurface()),s=l.$a1377):s=e.$renderDirty?e.$getRenderNode():e.$a1377,e.$cacheDirty=!1,s){switch(o++,i.$offsetX=a,i.$offsetY=n,s.type){case 1:this.a1379(s,i);break;case 2:this.renderText(s,i);break;case 3:this.a1382(s,i);break;case 4:this.a1384(s,i);break;case 5:this.renderMesh(s,i);break;case 6:this.renderNormalBitmap(s,i)}i.$offsetX=0,i.$offsetY=0}if(l&&!r)return o;var h=e.$children;if(h)for(var p=h.length,u=0;p>u;u++){var c=h[u],d=void 0,g=void 0;if(c.$useTranslate){var f=c.$getMatrix();d=a+c.$x,g=n+c.$y,i.save(),i.transform(f.a,f.b,f.c,f.d,d,g),d=-c.$anchorOffsetX,g=-c.$anchorOffsetY}else d=a+c.$x-c.$anchorOffsetX,g=n+c.$y-c.$anchorOffsetY;var m=void 0;switch(1!=c.$alpha&&(m=i.globalAlpha,i.globalAlpha*=c.$alpha),c.$renderMode){case 1:break;case 2:o+=this.drawWithFilter(c,i,d,g);break;case 3:o+=this.drawWithClip(c,i,d,g);break;case 4:o+=this.drawWithScrollRect(c,i,d,g);break;default:o+=this.drawDisplayObject(c,i,d,g)}c.$useTranslate?i.restore():m&&(i.globalAlpha=m)}return o},n.prototype.drawWithFilter=function(t,e,i,a){if(t.$children&&0==t.$children.length&&(!t.$a1377||0==t.$a1377.$getRenderCount()))return 0;var n,o=0,l=t.$filters,p=l.length,u=0!==t.$blendMode;u&&(n=m[t.$blendMode],n||(n=v));var c=t.$getOriginalBounds(),d=c.x,g=c.y,y=c.width,b=c.height;if(0>=y||0>=b)return o;var _=this.a1385(y-d,b-g,!0),T=_.context;if(o+=t.$mask?this.drawWithClip(t,T,-d,-g):t.$scrollRect||t.$maskRect?this.drawWithScrollRect(t,T,-d,-g):this.drawDisplayObject(t,T,-d,-g),o>0){u&&(e.globalCompositeOperation=n),o++;for(var C=T.getImageData(0,0,_.surface.width,_.surface.height),w=0;p>w;w++){var x=l[w];if("colorTransform"==x.type)r(C.data,_.surface.width,_.surface.height,x.$matrix);else if("blur"==x.type)s(C.data,_.surface.width,_.surface.height,x.$blurX,x.$blurY);else if("glow"==x.type){var I=x.$red,D=x.$green,E=x.$blue,S=x.$alpha;x.$inner||x.$knockout||x.$hideObject?f(C.data,_.surface.width,_.surface.height,[I/255,D/255,E/255,S],x.$blurX,x.$blurY,x.$angle?x.$angle/180*Math.PI:0,x.$distance||0,x.$strength,x.$inner?1:0,x.$knockout?0:1,x.$hideObject?1:0):h(C.data,_.surface.width,_.surface.height,[I/255,D/255,E/255,S],x.$blurX,x.$blurY,x.$angle?x.$angle/180*Math.PI:0,x.$distance||0,x.$strength)}else"custom"==x.type}T.putImageData(C,0,0),e.drawImage(_.surface,i+d,a+g),u&&(e.globalCompositeOperation=v)}return A.push(_),o},n.prototype.drawWithClip=function(e,i,a,n){var r,s=0,o=0!==e.$blendMode;o&&(r=m[e.$blendMode],r||(r=v));var l=e.$scrollRect?e.$scrollRect:e.$maskRect,h=e.$mask;if(h){var p=h.$getMatrix();if(0==p.a&&0==p.b||0==p.c&&0==p.d)return s}if(!(h||e.$children&&0!=e.$children.length))return l&&(i.save(),i.beginPath(),i.rect(l.x+a,l.y+n,l.width,l.height),i.clip()),o&&(i.globalCompositeOperation=r),s+=this.drawDisplayObject(e,i,a,n),o&&(i.globalCompositeOperation=v),l&&i.restore(),s;if(h){var u=h.$getRenderNode();if((!h.$children||0==h.$children.length)&&u&&3==u.type&&1==u.drawData.length&&1==u.drawData[0].type&&1==u.drawData[0].fillAlpha){this.renderingMask=!0,i.save();var c=t.Matrix.create();c.copyFrom(h.$getConcatenatedMatrix()),h.$getConcatenatedMatrixAt(e,c),c.a1331(1,0,0,1,a,n),i.transform(c.a,c.b,c.c,c.d,c.tx,c.ty);var d=this.drawDisplayObject(h,i,0,0);return this.renderingMask=!1,c.$invertInto(c),i.transform(c.a,c.b,c.c,c.d,c.tx,c.ty),t.Matrix.release(c),l&&(i.beginPath(),i.rect(l.x+a,l.y+n,l.width,l.height),i.clip()),d+=this.drawDisplayObject(e,i,a,n),i.restore(),d}}var g=e.$getOriginalBounds(),f=g.x,y=g.y,b=g.width,A=g.height;if(0>=b||0>=A)return s;var T=this.a1385(b,A),C=T.context;if(!C)return s+=this.drawDisplayObject(e,i,a,n);if(s+=this.drawDisplayObject(e,C,-f,-y),h){var u=h.$getRenderNode(),c=t.Matrix.create();if(c.copyFrom(h.$getConcatenatedMatrix()),h.$getConcatenatedMatrixAt(e,c),c.translate(-f,-y),u&&1==u.$getRenderCount()||h.$displayList)C.globalCompositeOperation="destination-in",C.save(),C.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),s+=this.drawDisplayObject(h,C,0,0),C.restore();else{var w=this.a1385(b,A),x=w.context;x.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),s+=this.drawDisplayObject(h,x,0,0),C.globalCompositeOperation="destination-in",C.drawImage(w.surface,0,0),_.push(w)}t.Matrix.release(c)}return s>0&&(s++,o&&(i.globalCompositeOperation=r),l&&(i.save(),i.beginPath(),i.rect(l.x+a,l.y+n,l.width,l.height),i.clip()),i.drawImage(T.surface,a+f,n+y),l&&i.restore(),o&&(i.globalCompositeOperation=v)),_.push(T),s},n.prototype.drawWithScrollRect=function(t,e,i,a){var n=0,r=t.$scrollRect?t.$scrollRect:t.$maskRect;return r.isEmpty()?n:(t.$scrollRect&&(i-=r.x,a-=r.y),e.save(),e.beginPath(),e.rect(r.x+i,r.y+a,r.width,r.height),e.clip(),n+=this.drawDisplayObject(t,e,i,a),e.restore(),n)},n.prototype.drawNodeToBuffer=function(t,e,i,a){var n=e.context;n.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this.a1377(t,n,a)},n.prototype.drawDisplayToBuffer=function(t,e,i){var a=e.context;i&&a.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);var n;n=t.$renderDirty?t.$getRenderNode():t.$a1377;var r=0;if(n)switch(r++,n.type){case 1:this.a1379(n,a);break;case 2:this.renderText(n,a);break;case 3:this.a1382(n,a);break;case 4:this.a1384(n,a);break;case 5:this.renderMesh(n,a);break;case 6:this.renderNormalBitmap(n,a)}var s=t.$children;if(s)for(var o=s.length,l=0;o>l;l++){var h=s[l];switch(h.$renderMode){case 1:break;case 2:r+=this.drawWithFilter(h,a,0,0);break;case 3:r+=this.drawWithClip(h,a,0,0);break;case 4:r+=this.drawWithScrollRect(h,a,0,0);break;default:r+=this.drawDisplayObject(h,a,0,0)}}return r},n.prototype.a1377=function(t,e,i){var a=0;switch(t.type){case 1:a=this.a1379(t,e);break;case 2:a=1,this.renderText(t,e);break;case 3:a=this.a1382(t,e,i);break;case 4:a=this.a1384(t,e);break;case 5:a=this.renderMesh(t,e);break;case 6:a+=this.renderNormalBitmap(t,e)}return a},n.prototype.renderNormalBitmap=function(t,e){var i=t.image;if(!i||!i.source)return 0;if(e.$imageSmoothingEnabled!=t.smoothing&&(e.imageSmoothingEnabled=t.smoothing,e.$imageSmoothingEnabled=t.smoothing),t.rotated){var a=t.sourceX,n=t.sourceY,r=t.sourceW,s=t.sourceH,o=t.drawX,l=t.drawY,h=t.drawW,p=t.drawH;e.save(),e.transform(0,-1,1,0,0,p),e.drawImage(i.source,a,n,s,r,o+e.$offsetX,l+e.$offsetY,p,h),e.restore()}else e.drawImage(i.source,t.sourceX,t.sourceY,t.sourceW,t.sourceH,t.drawX+e.$offsetX,t.drawY+e.$offsetY,t.drawW,t.drawH);return 1},n.prototype.a1379=function(t,e){var i=t.image;if(!i||!i.source)return 0;e.$imageSmoothingEnabled!=t.smoothing&&(e.imageSmoothingEnabled=t.smoothing,e.$imageSmoothingEnabled=t.smoothing);var a,n,s=t.drawData,o=s.length,l=0,h=t.matrix,p=t.blendMode,u=t.alpha,c=!1;h&&(e.save(),c=!0,(0!=e.$offsetX||0!=e.$offsetY)&&(e.translate(e.$offsetX,e.$offsetY),a=e.$offsetX,n=e.$offsetY,e.$offsetX=e.$offsetY=0),e.transform(h.a,h.b,h.c,h.d,h.tx,h.ty)),p&&(e.globalCompositeOperation=m[p]);var d;u==u&&(d=e.globalAlpha,e.globalAlpha*=u);var g=0,f=t.filter;if(f&&8==o){var y=s[0],b=s[1],A=s[2],T=s[3],C=s[4],w=s[5],x=s[6],I=s[7];t.rotated&&(A=s[3],T=s[2],x=s[7],I=s[6]);var D=this.a1385(x,I),E=D.context;g++,t.rotated&&e.transform(0,-1,1,0,0,x),E.drawImage(i.source,y,b,A,T,0,0,x,I),g++;var S=E.getImageData(0,0,x,I);r(S.data,x,I,f.$matrix),E.putImageData(S,0,0),e.drawImage(D.surface,0,0,x,I,C+e.$offsetX,w+e.$offsetY,x,I),_.push(D)}else for(;o>l;)if(g++,t.rotated){var y=s[l++],b=s[l++],T=s[l++],A=s[l++],G=s[l++],P=s[l++],I=s[l++],x=s[l++];e.save(),e.transform(0,-1,1,0,0,x),e.drawImage(i.source,y,b,A,T,G+e.$offsetX,P+e.$offsetY,x,I),e.restore()}else e.drawImage(i.source,s[l++],s[l++],s[l++],s[l++],s[l++]+e.$offsetX,s[l++]+e.$offsetY,s[l++],s[l++]);return c?e.restore():(p&&(e.globalCompositeOperation=v),u==u&&(e.globalAlpha=d)),a&&(e.$offsetX=a),n&&(e.$offsetY=n),g},n.prototype.renderMesh=function(t,e){return 0},n.prototype.renderText=function(i,a){a.textAlign="left",a.textBaseline="middle",a.lineJoin="round";for(var n=i.drawData,r=n.length,s=0;r>s;){var o=n[s++],l=n[s++],h=n[s++],p=n[s++];a.font=e(i,p);var u=null==p.textColor?i.textColor:p.textColor,c=null==p.strokeColor?i.strokeColor:p.strokeColor,d=null==p.stroke?i.stroke:p.stroke;a.fillStyle=t.toColorString(u),a.strokeStyle=t.toColorString(c),d&&(a.lineWidth=2*d,a.strokeText(h,o+a.$offsetX,l+a.$offsetY)),a.fillText(h,o+a.$offsetX,l+a.$offsetY)}},n.prototype.a1382=function(t,e,n){var r=t.drawData,s=r.length;n=!!n;for(var o=0;s>o;o++){var l=r[o];switch(l.type){case 1:var h=l;e.fillStyle=n?y:i(h.fillColor,h.fillAlpha),this.renderPath(l,e),this.renderingMask?e.clip():e.fill();break;case 2:var p=l;e.fillStyle=n?y:a(e,p.gradientType,p.colors,p.alphas,p.ratios,p.matrix),e.save();var u=p.matrix;this.renderPath(l,e),e.transform(u.a,u.b,u.c,u.d,u.tx,u.ty),e.fill(),e.restore();break;case 3:var c=l,d=c.lineWidth;e.lineWidth=d,e.strokeStyle=n?y:i(c.lineColor,c.lineAlpha),e.lineCap=b[c.caps],e.lineJoin=c.joints,e.miterLimit=c.miterLimit,e.setLineDash&&e.setLineDash(c.lineDash);var g=1===d||3===d;g&&e.translate(.5,.5),this.renderPath(l,e),e.stroke(),g&&e.translate(-.5,-.5)}}return 0==s?0:1},n.prototype.renderPath=function(t,e){e.beginPath();for(var i=t.$data,a=t.$commands,n=a.length,r=0,s=0;n>s;s++){var o=a[s];switch(o){case 4:e.bezierCurveTo(i[r++]+e.$offsetX,i[r++]+e.$offsetY,i[r++]+e.$offsetX,i[r++]+e.$offsetY,i[r++]+e.$offsetX,i[r++]+e.$offsetY);break;case 3:e.quadraticCurveTo(i[r++]+e.$offsetX,i[r++]+e.$offsetY,i[r++]+e.$offsetX,i[r++]+e.$offsetY);break;case 2:e.lineTo(i[r++]+e.$offsetX,i[r++]+e.$offsetY);break;case 1:e.moveTo(i[r++]+e.$offsetX,i[r++]+e.$offsetY)}}},n.prototype.a1384=function(t,e){var i,a,n=t.matrix,r=!1;n&&(e.save(),r=!0,(0!=e.$offsetX||0!=e.$offsetY)&&(e.translate(e.$offsetX,e.$offsetY),i=e.$offsetX,a=e.$offsetY,e.$offsetX=e.$offsetY=0),e.transform(n.a,n.b,n.c,n.d,n.tx,n.ty));for(var s=0,o=t.drawData,l=o.length,h=0;l>h;h++){var p=o[h];s+=this.a1377(p,e)}return r&&e.restore(),i&&(e.$offsetX=i),a&&(e.$offsetY=a),s},n.prototype.a1385=function(e,i,a){var n=a?A.pop():_.pop();return n?n.resize(e,i,!0):n=new t.sys.CanvasRenderBuffer(e,i),n},n}();t.CanvasRenderer=T,__reflect(T.prototype,"egret.CanvasRenderer"),t.getFontString=e,t.getRGBAString=i;var C=!1;try{C=void 0!==typeof Uint8ClampedArray}catch(w){}}(egret||(egret={}));var egret;!function(t){t.DeviceOrientation=null}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.WEB="web",t.NATIVE="native",t.RUNTIME2="runtime2",t.MYGAME="mygame",t.WXGAME="wxgame",t.BAIDUGAME="baidugame",t.QGAME="qgame",t.OPPOGAME="oppogame",t.QQGAME="qqgame",t.VIVOGAME="vivogame"}(e=t.RuntimeType||(t.RuntimeType={}));var i=function(){function e(){}return e.language="zh-CN",e.os="Unknown",e.runtimeType=t.RuntimeType.WEB,e.engineVersion="5.2.33",e.renderMode="Unknown",e.boundingClientWidth=0,e.boundingClientHeight=0,e}();t.Capabilities=i,__reflect(i.prototype,"egret.Capabilities")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;i.$renderBuffer=new t.sys.RenderBuffer;var a=new t.BitmapData(i.$renderBuffer.surface);return a.$deleteSource=!1,i._setBitmapData(a),i}return __extends(i,e),i.prototype.drawToTexture=function(e,i,a){if(void 0===a&&(a=1),i&&(0==i.width||0==i.height))return!1;var n=i||e.$getOriginalBounds();if(0==n.width||0==n.height)return!1;a/=t.$TextureScaleFactor;var r=(n.x+n.width)*a,s=(n.y+n.height)*a;i&&(r=n.width*a,s=n.height*a);var o=this.$renderBuffer;if(!o)return!1;if(o.resize(r,s),this.$bitmapData.width=r,this.$bitmapData.height=s,t.nativeRender){egret_native.activateBuffer(this.$renderBuffer);var l=!1,h=0,p=0,u=0,c=0;i&&(l=!0,h=i.x,p=i.y,u=i.width,c=i.height),egret_native.updateNativeRender(),egret_native.nrRenderDisplayObject(e.$nativeDisplayObject.id,a,l,h,p,u,c),egret_native.activateBuffer(null)}else{var d=t.Matrix.create();d.identity(),d.scale(a,a),i&&d.translate(-i.x,-i.y),t.sys.systemRenderer.render(e,o,d,!0),t.Matrix.release(d)}return this.$initData(0,0,r,s,0,0,r,s,r,s),!0},i.prototype.a1266=function(e,i){var a;if(this.$renderBuffer){var n=t.$TextureScaleFactor;e=Math.round(e/n),i=Math.round(i/n),a=this.$renderBuffer.a1267(e,i,1,1)}return a},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.$renderBuffer=null},i}(t.Texture);t.RenderTexture=e,__reflect(e.prototype,"egret.RenderTexture")}(egret||(egret={}));var egret;!function(t){function e(t,e){a[t]=e}function i(t){return a[t]}var a={};t.registerImplementation=e,t.a1311=i}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$graphics=new t.Graphics,i.$graphics.$setTarget(i),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(8)},Object.defineProperty(i.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),i.prototype.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},i.prototype.$hitTest=function(t,i){var a=e.prototype.$hitTest.call(this,t,i);return a==this&&(a=this.$graphics.$hitTest(t,i)),a},i.prototype.$a1692=function(){e.prototype.$a1692.call(this),this.$graphics&&this.$graphics.$a1692()},i}(t.DisplayObject);t.Shape=e,__reflect(e.prototype,"egret.Shape")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i){var a=t.call(this,e)||this;return a.firstCharHeight=0,"string"==typeof i?a.charList=a.a1388(i):i&&i.hasOwnProperty("frames")?a.charList=i.frames:a.charList={},a}return __extends(e,t),e.prototype.a1297=function(t){var e=this._textureMap[t];if(!e){var i=this.charList[t];if(!i)return null;e=this.createTexture(t,i.x,i.y,i.w,i.h,i.offX,i.offY,i.sourceW,i.sourceH),this._textureMap[t]=e}return e},e.prototype.a1387=function(t,e){return this.charList[t]?this.charList[t][e]:0},e.prototype._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var t in this.charList){var e=this.charList[t];if(e){var i=e.sourceH;if(void 0===i){var a=e.h;void 0===a&&(a=0);var n=e.offY;void 0===n&&(n=0),i=a+n}if(0>=i)continue;this.firstCharHeight=i;break}}return this.firstCharHeight},e.prototype.a1388=function(t){t=t.split("\r\n").join("\n");for(var e=t.split("\n"),i=this.a1389(e[3],"count"),a={},n=4;4+i>n;n++){var r=e[n],s=String.fromCharCode(this.a1389(r,"id")),o={};a[s]=o,o.x=this.a1389(r,"x"),o.y=this.a1389(r,"y"),o.w=this.a1389(r,"width"),o.h=this.a1389(r,"height"),o.offX=this.a1389(r,"xoffset"),o.offY=this.a1389(r,"yoffset"),o.xadvance=this.a1389(r,"xadvance")}return a},e.prototype.a1389=function(t,e){for(var i=t.split(" "),a=0,n=i.length;n>a;a++){var r=i[a];if(e==r.substring(0,e.length)){var s=r.substring(e.length+1);return parseInt(s)}}return 0},e}(t.SpriteSheet);t.BitmapFont=e,__reflect(e.prototype,"egret.BitmapFont")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$smoothing=t.Bitmap.defaultSmoothing,i.$text="",i.$textFieldWidth=0/0,i.$textLinesChanged=!1,i.$textFieldHeight=0/0,i.$font=null,i.$fontStringChanged=!1,i.$lineSpacing=0,i.$letterSpacing=0,i.$textAlign=t.HorizontalAlign.LEFT,i.$verticalAlign=t.VerticalAlign.TOP,i.$textWidth=0/0,i.$textHeight=0/0,i.$textOffsetX=0,i.$textOffsetY=0,i.$textStartX=0,i.$textStartY=0,i.textLines=[],i.$lineHeights=[],t.nativeRender||(i.$a1377=new t.sys.BitmapNode),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(11)},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(e){var i=this;if(e!=i.$smoothing&&(i.$smoothing=e,!t.nativeRender)){var a=i.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.$text},set:function(t){this.$setText(t)},enumerable:!0,configurable:!0}),i.prototype.$setText=function(t){t=null==t?"":String(t);var e=this;return t==e.$text?!1:(e.$text=t,e.$invalidateContentBounds(),!0)},i.prototype.$a1872=function(){var t=this,e=t.$textFieldWidth;return isNaN(e)?t.$getContentBounds().width:e},i.prototype.$setWidth=function(t){var e=this;return 0>t||t==e.$textFieldWidth?!1:(e.$textFieldWidth=t,e.$invalidateContentBounds(),!0)},i.prototype.$invalidateContentBounds=function(){this.$renderDirty=!0,this.$textLinesChanged=!0,this.$updateRenderNode()},i.prototype.$a1873=function(){var t=this,e=t.$textFieldHeight;return isNaN(e)?t.$getContentBounds().height:e},i.prototype.$setHeight=function(t){var e=this;return 0>t||t==e.$textFieldHeight?!1:(e.$textFieldHeight=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"font",{get:function(){return this.$font},set:function(t){this.$setFont(t)},enumerable:!0,configurable:!0}),i.prototype.$setFont=function(t){var e=this;return e.$font==t?!1:(e.$font=t,e.$fontStringChanged=!0,this.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this.$lineSpacing},set:function(t){this.$setLineSpacing(t)},enumerable:!0,configurable:!0}),i.prototype.$setLineSpacing=function(t){var e=this;return e.$lineSpacing==t?!1:(e.$lineSpacing=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this.$letterSpacing},set:function(t){this.$setLetterSpacing(t)},enumerable:!0,configurable:!0}),i.prototype.$setLetterSpacing=function(t){var e=this;return e.$letterSpacing==t?!1:(e.$letterSpacing=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"textAlign",{get:function(){return this.$textAlign},set:function(t){this.$setTextAlign(t)},enumerable:!0,configurable:!0}),i.prototype.$setTextAlign=function(t){var e=this;return e.$textAlign==t?!1:(e.$textAlign=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this.$verticalAlign},set:function(t){this.$setVerticalAlign(t)},enumerable:!0,configurable:!0}),i.prototype.$setVerticalAlign=function(t){var e=this;return e.$verticalAlign==t?!1:(e.$verticalAlign=t,e.$invalidateContentBounds(),!0)},i.prototype.$updateRenderNode=function(){var e=this,a=this.$getTextLines(),n=a.length;if(0==n)return void(t.nativeRender&&e.$font&&(e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,e.$font.$texture,[]),e.$nativeDisplayObject.setWidth(0),e.$nativeDisplayObject.setHeight(0)));var r,s=[],o=this.$textLinesWidth,l=e.$font;t.nativeRender||(r=this.$a1377,l.$texture&&(r.image=l.$texture.$bitmapData),r.smoothing=e.$smoothing);for(var h=l._getFirstCharHeight(),p=Math.ceil(h*i.EMPTY_FACTOR),u=!isNaN(e.$textFieldHeight),c=e.$textWidth,d=e.$textFieldWidth,g=e.$textFieldHeight,f=e.$textAlign,m=this.$textOffsetY+this.$textStartY,v=this.$lineHeights,y=0;n>y;y++){var b=v[y];if(u&&y>0&&m+b>g)break;var _=a[y],A=_.length,T=this.$textOffsetX;if(f!=t.HorizontalAlign.LEFT){var C=d>c?d:c;f==t.HorizontalAlign.RIGHT?T+=C-o[y]:f==t.HorizontalAlign.CENTER&&(T+=Math.floor((C-o[y])/2))}for(var w=0;A>w;w++){var x=_.charAt(w),I=l.a1297(x);if(I){var D=I.$bitmapWidth,E=I.$bitmapHeight;t.nativeRender?s.push(I.$bitmapX,I.$bitmapY,D,E,T+I.$offsetX,m+I.$offsetY,I.$getScaleBitmapWidth(),I.$getScaleBitmapHeight(),I.$sourceWidth,I.$sourceHeight):(r.imageWidth=I.$sourceWidth,r.imageHeight=I.$sourceHeight,r.drawImage(I.$bitmapX,I.$bitmapY,D,E,T+I.$offsetX,m+I.$offsetY,I.$getScaleBitmapWidth(),I.$getScaleBitmapHeight())),T+=(l.a1387(x,"xadvance")||I.$getTextureWidth())+e.$letterSpacing}else" "==x?T+=p:t.$warn(1046,x)}m+=b+e.$lineSpacing}if(t.nativeRender){e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,l.$texture,s);var S=e.$getContentBounds();e.$nativeDisplayObject.setWidth(S.width),e.$nativeDisplayObject.setHeight(S.height)}},i.prototype.$measureContentBounds=function(t){var e=this.$getTextLines();0==e.length?t.setEmpty():t.setTo(this.$textOffsetX+this.$textStartX,this.$textOffsetY+this.$textStartY,this.$textWidth-this.$textOffsetX,this.$textHeight-this.$textOffsetY)},Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.$getTextLines(),this.$textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this.$getTextLines(),this.$textHeight},enumerable:!0,configurable:!0}),i.prototype.$getTextLines=function(){function e(t){return b&&n.length>0&&g>b?!1:(g+=h+u,o||l||(p-=c),n.push(t),s.push(h),r.push(p),d=Math.max(p,d),!0)}var a=this;if(!a.$textLinesChanged)return a.textLines;var n=[];a.textLines=n;var r=[];a.$textLinesWidth=r,a.$textLinesChanged=!1;var s=[];if(a.$lineHeights=s,!a.$text||!a.$font)return a.$textWidth=0,a.$textHeight=0,n;for(var o,l,h,p,u=a.$lineSpacing,c=a.$letterSpacing,d=0,g=0,f=0,m=0,v=!isNaN(a.$textFieldWidth),y=a.$textFieldWidth,b=a.$textFieldHeight,_=a.$font,A=_._getFirstCharHeight(),T=Math.ceil(A*i.EMPTY_FACTOR),C=a.$text,w=C.split(/(?:\r\n|\r|\n)/),x=w.length,I=!0,D=0;x>D;D++){var E=w[D],S=E.length;h=0,p=0,o=!0,l=!1;for(var G=0;S>G;G++){o||(p+=c);var P=E.charAt(G),k=void 0,M=void 0,L=0,O=0,B=_.a1297(P);if(B)k=B.$getTextureWidth(),M=B.$getTextureHeight(),L=B.$offsetX,O=B.$offsetY;else{if(" "!=P){t.$warn(1046,P),o&&(o=!1);continue}k=T,M=A}if(o&&(o=!1),I&&(I=!1),v&&G>0&&p+k>y){if(!e(E.substring(0,G)))break;E=E.substring(G),S=E.length,G=0,p=G==S-1?k:_.a1387(P,"xadvance")||k,h=M}else p+=G==S-1?k:_.a1387(P,"xadvance")||k,h=Math.max(M,h)}if(b&&D>0&&g>b)break;if(l=!0,!e(E))break}g-=u,a.$textWidth=d,a.$textHeight=g,this.$textOffsetX=f,this.$textOffsetY=m,this.$textStartX=0,this.$textStartY=0;var R;return y>d&&(R=a.$textAlign,R==t.HorizontalAlign.RIGHT?this.$textStartX=y-d:R==t.HorizontalAlign.CENTER&&(this.$textStartX=Math.floor((y-d)/2))),b>g&&(R=a.$verticalAlign,R==t.VerticalAlign.BOTTOM?this.$textStartY=b-g:R==t.VerticalAlign.MIDDLE&&(this.$textStartY=Math.floor((b-g)/2))),n},i.EMPTY_FACTOR=.33,i}(t.DisplayObject);t.BitmapText=e,__reflect(e.prototype,"egret.BitmapText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.HorizontalAlign=e,__reflect(e.prototype,"egret.HorizontalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.replaceArr=[],this.resutlArr=[],this.initReplaceArr()}return e.prototype.initReplaceArr=function(){this.replaceArr=[],this.replaceArr.push([/&lt;/g,"<"]),this.replaceArr.push([/&gt;/g,">"]),this.replaceArr.push([/&amp;/g,"&"]),this.replaceArr.push([/&quot;/g,'"']),this.replaceArr.push([/&apos;/g,"'"])},e.prototype.a1391=function(t){for(var e=0;e<this.replaceArr.length;e++){var i=this.replaceArr[e][0],a=this.replaceArr[e][1];t=t.replace(i,a)}return t},e.prototype.parse=function(e){this.stackArray=[],this.resutlArr=[];for(var i=0,a=e.length;a>i;){var n=e.indexOf("<",i);if(0>n)this.a1394(e.substring(i)),i=a;else{this.a1394(e.substring(i,n));var r=e.indexOf(">",n);-1==r?(t.$error(1038),r=n):"/"==e.charAt(n+1)?this.stackArray.pop():this.a1397(e.substring(n+1,r)),i=r+1}}return this.resutlArr},e.prototype.parser=function(t){return this.parse(t)},e.prototype.a1394=function(t){""!=t&&(t=this.a1391(t),this.stackArray.length>0?this.resutlArr.push({text:t,style:this.stackArray[this.stackArray.length-1]}):this.resutlArr.push({text:t}))},e.prototype.changeStringToObject=function(t){t=t.trim();var e={},i=[];if("i"==t.charAt(0)||"b"==t.charAt(0)||"u"==t.charAt(0))this.addProperty(e,t,"true");else if(i=t.match(/^(font|a)\s/)){t=t.substring(i[0].length).trim();for(var a=0,n=void 0;n=t.match(this.a1395());){var r=n[0],s="";t=t.substring(r.length).trim(),'"'==t.charAt(0)?(a=t.indexOf('"',1),s=t.substring(1,a),a+=1):"'"==t.charAt(0)?(a=t.indexOf("'",1),s=t.substring(1,a),a+=1):(s=t.match(/(\S)+/)[0],a=s.length),this.addProperty(e,r.substring(0,r.length-1).trim(),s.trim()),t=t.substring(a).trim()}}return e},e.prototype.a1395=function(){return/^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\s)*=/},e.prototype.addProperty=function(t,e,i){switch(e.toLowerCase()){case"color":case"textcolor":i=i.replace(/#/,"0x"),t.textColor=parseInt(i);break;case"strokecolor":i=i.replace(/#/,"0x"),t.strokeColor=parseInt(i);break;case"stroke":t.stroke=parseInt(i);break;case"b":case"bold":t.bold="true"==i;break;case"u":t.underline="true"==i;break;case"i":case"italic":t.italic="true"==i;break;case"size":t.size=parseInt(i);break;case"fontfamily":t.fontFamily=i;break;case"href":t.href=this.a1391(i);break;case"target":t.target=this.a1391(i)}},e.prototype.a1397=function(t){var e=this.changeStringToObject(t);if(0==this.stackArray.length)this.stackArray.push(e);else{var i=this.stackArray[this.stackArray.length-1];for(var a in i)null==e[a]&&(e[a]=i[a]);this.stackArray.push(e)}},e}();t.HtmlTextParser=e,__reflect(e.prototype,"egret.HtmlTextParser")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.stageTextAdded=!1,t._text=null,t._isFocus=!1,t}return __extends(i,e),i.prototype.init=function(e){this._text=e,this.stageText=new t.StageText,this.stageText.$setTextField(this._text)},i.prototype._addStageText=function(){this.stageTextAdded||(this._text.$inputEnabled||(this._text.$touchEnabled=!0),this.tempStage=this._text.stage,this.stageText.$addToStage(),this.stageText.addEventListener("updateText",this.updateTextHandler,this),this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.a1400,this),this.stageText.addEventListener("blur",this.blurHandler,this),this.stageText.addEventListener("focus",this.a1398,this),this.stageTextAdded=!0)},i.prototype._removeStageText=function(){this.stageTextAdded&&(this._text.$inputEnabled||(this._text.$touchEnabled=!1),this.stageText.$removeFromStage(),this.stageText.removeEventListener("updateText",this.updateTextHandler,this),this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.a1400,this),this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.a1401,this),this.stageText.removeEventListener("blur",this.blurHandler,this),this.stageText.removeEventListener("focus",this.a1398,this),this.stageTextAdded=!1)},i.prototype._getText=function(){return this.stageText.$getText()},i.prototype._setText=function(t){this.stageText.$setText(t)},i.prototype._setColor=function(t){this.stageText.$setColor(t)},i.prototype.a1398=function(e){this._isFocus||(this._isFocus=!0,e.showing||this._text.$setIsTyping(!0),this._text.a1258(new t.FocusEvent(t.FocusEvent.FOCUS_IN,!0)))},i.prototype.blurHandler=function(e){this._isFocus&&(this._isFocus=!1,this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.a1401,this),this._text.$setIsTyping(!1),this.stageText.$onBlur(),this._text.a1258(new t.FocusEvent(t.FocusEvent.FOCUS_OUT,!0)))},i.prototype.a1400=function(t){this.$onFocus()},i.prototype.$onFocus=function(){var e=this;this._text.visible&&(this._isFocus||(this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.a1401,this),t.callLater(function(){e.tempStage.addEventListener(t.TouchEvent.TOUCH_BEGIN,e.a1401,e)},this),t.nativeRender&&this.stageText.$setText(this._text.$TextField[13]),this.stageText.$show()))},i.prototype.a1401=function(t){t.$target!=this._text&&this.stageText.$hide()},i.prototype.updateTextHandler=function(e){var i,a,n=this._text.$TextField,r=this.stageText.$getText(),s=!1;null!=n[35]&&(i=new RegExp("["+n[35]+"]","g"),a=r.match(i),r=a?a.join(""):"",s=!0),null!=n[36]&&(i=new RegExp("[^"+n[36]+"]","g"),a=r.match(i),r=a?a.join(""):"",s=!0),s&&this.stageText.$getText()!=r&&this.stageText.$setText(r),this.a1403(),this._text.a1258(new t.Event(t.Event.CHANGE,!0))},i.prototype.a1403=function(){this._text.$setBaseText(this.stageText.$getText())},i.prototype._hideInput=function(){this.stageText.$removeFromStage()},i.prototype.updateInput=function(){!this._text.$visible&&this.stageText&&this._hideInput()},i.prototype._updateProperties=function(){return this._isFocus?(this.stageText.$resetStageText(),void this.updateInput()):(this.stageText.$setText(this._text.$TextField[13]),this.stageText.$resetStageText(),void this.updateInput())},i}(t.HashObject);t.InputController=e,__reflect(e.prototype,"egret.InputController")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,i,n){n=n||{};var r=null==n.italic?i[16]:n.italic,s=null==n.bold?i[15]:n.bold,o=null==n.size?i[0]:n.size,l=n.fontFamily||i[8]||a.default_fontFamily;return t.sys.measureText(e,l,o,s,r)}var i=new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![。，！、》…）)}”】\\.\\,\\!\\?\\]\\:])"),a=function(a){function n(){var e=a.call(this)||this;e.$inputEnabled=!1,e.inputUtils=null,e.$graphicsNode=null,e.isFlow=!1,e.textArr=[],e.linesArr=[],e.$isTyping=!1;var i=new t.sys.TextNode;return i.fontFamily=n.default_fontFamily,e.textNode=i,e.$a1377=i,e.$TextField={0:n.default_size,1:0,2:n.default_textColor,3:0/0,4:0/0,5:0,6:0,7:0,8:n.default_fontFamily,9:"left",10:"top",11:"#ffffff",12:"",13:"",14:[],15:!1,16:!1,17:!0,18:!1,19:!1,20:!1,21:0,22:0,23:0,24:t.TextFieldType.DYNAMIC,25:0,26:"#000000",27:0,28:-1,29:0,30:!1,31:!1,32:0,33:!1,34:16777215,35:null,36:null,37:t.TextFieldInputType.TEXT,38:!1},e}return __extends(n,a),n.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(7)},n.prototype.a1405=function(){return this.$TextField[24]==t.TextFieldType.INPUT},n.prototype.$setTouchEnabled=function(t){a.prototype.$setTouchEnabled.call(this,t),this.a1405()&&(this.$inputEnabled=!0)},Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this.$TextField[8]},set:function(t){this.$setFontFamily(t)},enumerable:!0,configurable:!0}),n.prototype.$setFontFamily=function(e){var i=this.$TextField;return i[8]==e?!1:(i[8]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setFontFamily(e),!0)},Object.defineProperty(n.prototype,"size",{get:function(){return this.$TextField[0]},set:function(t){this.$setSize(t)},enumerable:!0,configurable:!0}),n.prototype.$setSize=function(e){var i=this.$TextField;return i[0]==e?!1:(i[0]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setFontSize(e),!0)},Object.defineProperty(n.prototype,"bold",{get:function(){return this.$TextField[15]},set:function(t){this.$setBold(t)},enumerable:!0,configurable:!0}),n.prototype.$setBold=function(e){var i=this.$TextField;return e==i[15]?!1:(i[15]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setBold(e),!0)},Object.defineProperty(n.prototype,"italic",{get:function(){return this.$TextField[16]
},set:function(t){this.$setItalic(t)},enumerable:!0,configurable:!0}),n.prototype.$setItalic=function(e){var i=this.$TextField;return e==i[16]?!1:(i[16]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setItalic(e),!0)},n.prototype.invalidateFontString=function(){this.$TextField[17]=!0,this.$invalidateTextField()},Object.defineProperty(n.prototype,"textAlign",{get:function(){return this.$TextField[9]},set:function(t){this.$setTextAlign(t)},enumerable:!0,configurable:!0}),n.prototype.$setTextAlign=function(e){var i=this.$TextField;return i[9]==e?!1:(i[9]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setTextAlign(e),!0)},Object.defineProperty(n.prototype,"verticalAlign",{get:function(){return this.$TextField[10]},set:function(t){this.$setVerticalAlign(t)},enumerable:!0,configurable:!0}),n.prototype.$setVerticalAlign=function(e){var i=this.$TextField;return i[10]==e?!1:(i[10]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setVerticalAlign(e),!0)},Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return this.$TextField[1]},set:function(t){this.$setLineSpacing(t)},enumerable:!0,configurable:!0}),n.prototype.$setLineSpacing=function(e){var i=this.$TextField;return i[1]==e?!1:(i[1]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setLineSpacing(e),!0)},Object.defineProperty(n.prototype,"textColor",{get:function(){return this.$TextField[2]},set:function(t){this.$setTextColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setTextColor=function(e){var i=this.$TextField;return i[2]==e?!1:(i[2]=e,this.inputUtils&&this.inputUtils._setColor(this.$TextField[2]),this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setTextColor(e),!0)},Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this.$TextField[19]},set:function(t){this.$setWordWrap(t)},enumerable:!0,configurable:!0}),n.prototype.$setWordWrap=function(e){var i=this.$TextField;e!=i[19]&&(i[20]||(i[19]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setWordWrap(e)))},Object.defineProperty(n.prototype,"type",{get:function(){return this.$TextField[24]},set:function(t){this.$setType(t)},enumerable:!0,configurable:!0}),n.prototype.$setType=function(e){var i=this.$TextField;return i[24]!=e?(i[24]=e,t.nativeRender&&this.$nativeDisplayObject.setType(e),e==t.TextFieldType.INPUT?(isNaN(i[3])&&this.$setWidth(100),isNaN(i[4])&&this.$setHeight(30),this.$setTouchEnabled(!0),null==this.inputUtils&&(this.inputUtils=new t.InputController),this.inputUtils.init(this),this.$invalidateTextField(),this.$stage&&this.inputUtils._addStageText()):(this.inputUtils&&(this.inputUtils._removeStageText(),this.inputUtils=null),this.$setTouchEnabled(!1)),!0):!1},Object.defineProperty(n.prototype,"inputType",{get:function(){return this.$TextField[37]},set:function(e){this.$TextField[37]!=e&&(this.$TextField[37]=e,t.nativeRender&&this.$nativeDisplayObject.setInputType(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.$getText()},set:function(t){this.$setText(t)},enumerable:!0,configurable:!0}),n.prototype.$getText=function(){return this.$TextField[24]==t.TextFieldType.INPUT?this.inputUtils._getText():this.$TextField[13]},n.prototype.$setBaseText=function(e){e=null==e?"":e.toString(),this.isFlow=!1;var i=this.$TextField;if(i[13]!=e){this.$invalidateTextField(),i[13]=e;var a="";return a=i[20]?this.a1408(e):e,t.nativeRender&&this.$nativeDisplayObject.setText(a),this.a1409([{text:a}]),!0}return!1},n.prototype.$setText=function(t){null==t&&(t="");var e=this.$setBaseText(t);return this.inputUtils&&this.inputUtils._setText(this.$TextField[13]),e},Object.defineProperty(n.prototype,"displayAsPassword",{get:function(){return this.$TextField[20]},set:function(t){this.$setDisplayAsPassword(t)},enumerable:!0,configurable:!0}),n.prototype.$setDisplayAsPassword=function(e){var i=this.$TextField;if(i[20]!=e){i[20]=e,this.$invalidateTextField();var a="";return a=e?this.a1408(i[13]):i[13],t.nativeRender&&this.$nativeDisplayObject.setText(a),this.a1409([{text:a}]),!0}return!1},Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this.$TextField[25]},set:function(t){this.$setStrokeColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setStrokeColor=function(e){var i=this.$TextField;return i[25]!=e?(this.$invalidateTextField(),i[25]=e,t.nativeRender&&this.$nativeDisplayObject.setStrokeColor(e),i[26]=t.toColorString(e),!0):!1},Object.defineProperty(n.prototype,"stroke",{get:function(){return this.$TextField[27]},set:function(t){this.$setStroke(t)},enumerable:!0,configurable:!0}),n.prototype.$setStroke=function(e){return this.$TextField[27]!=e?(this.$invalidateTextField(),this.$TextField[27]=e,t.nativeRender&&this.$nativeDisplayObject.setStroke(e),!0):!1},Object.defineProperty(n.prototype,"maxChars",{get:function(){return this.$TextField[21]},set:function(t){this.$setMaxChars(t)},enumerable:!0,configurable:!0}),n.prototype.$setMaxChars=function(e){return this.$TextField[21]!=e?(this.$TextField[21]=e,t.nativeRender&&this.$nativeDisplayObject.setMaxChars(e),!0):!1},Object.defineProperty(n.prototype,"scrollV",{get:function(){return Math.min(Math.max(this.$TextField[28],1),this.maxScrollV)},set:function(e){e=Math.max(e,1),e!=this.$TextField[28]&&(this.$TextField[28]=e,t.nativeRender&&this.$nativeDisplayObject.setScrollV(e),this.$invalidateTextField())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxScrollV",{get:function(){return this.$getLinesArr(),Math.max(this.$TextField[29]-t.TextFieldUtils.$getScrollNum(this)+1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionBeginIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionEndIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caretIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),n.prototype.$setSelection=function(t,e){return!1},n.prototype.$getLineHeight=function(){return this.$TextField[1]+this.$TextField[0]},Object.defineProperty(n.prototype,"numLines",{get:function(){return this.$getLinesArr(),this.$TextField[29]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiline",{get:function(){return this.$TextField[30]},set:function(t){this.$setMultiline(t)},enumerable:!0,configurable:!0}),n.prototype.$setMultiline=function(e){return this.$TextField[30]==e?!1:(this.$TextField[30]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setMultiline(e),!0)},Object.defineProperty(n.prototype,"restrict",{get:function(){var t=this.$TextField,e=null;return null!=t[35]&&(e=t[35]),null!=t[36]&&(null==e&&(e=""),e+="^"+t[36]),e},set:function(t){var e=this.$TextField;if(null==t)e[35]=null,e[36]=null;else{for(var i=-1;i<t.length&&(i=t.indexOf("^",i),0!=i)&&i>0&&"\\"==t.charAt(i-1);)i++;0==i?(e[35]=null,e[36]=t.substring(i+1)):i>0?(e[35]=t.substring(0,i),e[36]=t.substring(i+1)):(e[35]=t,e[36]=null)}},enumerable:!0,configurable:!0}),n.prototype.$setWidth=function(e){t.nativeRender&&this.$nativeDisplayObject.setTextFieldWidth(e);var i=this.$TextField;if(isNaN(e)){if(isNaN(i[3]))return!1;i[3]=0/0}else{if(i[3]==e)return!1;i[3]=e}return e=+e,0>e?!1:(this.$invalidateTextField(),!0)},n.prototype.$setHeight=function(e){t.nativeRender&&this.$nativeDisplayObject.setTextFieldHeight(e);var i=this.$TextField;if(isNaN(e)){if(isNaN(i[4]))return!1;i[4]=0/0}else{if(i[4]==e)return!1;i[4]=e}return e=+e,0>e?!1:(this.$invalidateTextField(),!0)},n.prototype.$a1872=function(){var t=this.$TextField;return isNaN(t[3])?this.$getContentBounds().width:t[3]},n.prototype.$a1873=function(){var t=this.$TextField;return isNaN(t[4])?this.$getContentBounds().height:t[4]},Object.defineProperty(n.prototype,"border",{get:function(){return this.$TextField[31]},set:function(t){this.$setBorder(t)},enumerable:!0,configurable:!0}),n.prototype.$setBorder=function(e){e=!!e,this.$TextField[31]!=e&&(this.$TextField[31]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setBorder(e))},Object.defineProperty(n.prototype,"borderColor",{get:function(){return this.$TextField[32]},set:function(t){this.$setBorderColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setBorderColor=function(e){e=+e||0,this.$TextField[32]!=e&&(this.$TextField[32]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setBorderColor(e))},Object.defineProperty(n.prototype,"background",{get:function(){return this.$TextField[33]},set:function(t){this.$setBackground(t)},enumerable:!0,configurable:!0}),n.prototype.$setBackground=function(e){this.$TextField[33]!=e&&(this.$TextField[33]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setBackground(e))},Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.$TextField[34]},set:function(t){this.$setBackgroundColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setBackgroundColor=function(e){this.$TextField[34]!=e&&(this.$TextField[34]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setBackgroundColor(e))},n.prototype.a1406=function(e){var i=this.$graphicsNode;i&&i.clear();var a=this.$TextField;if(a[33]||a[31]||e&&e.length>0){if(!i)if(i=this.$graphicsNode=new t.sys.GraphicsNode,t.nativeRender)this.$a1377=this.textNode;else{var n=new t.sys.GroupNode;n.a1368(i),n.a1368(this.textNode),this.$a1377=n}var r=void 0,s=void 0;if(a[33]&&(r=i.beginFill(a[34]),r.drawRect(0,0,this.$a1872(),this.$a1873())),a[31]&&(s=i.lineStyle(1,a[32]),s.drawRect(0,0,this.$a1872()-1,this.$a1873()-1)),e&&e.length>0)for(var o=a[2],l=-1,h=e.length,p=0;h>p;p+=4){var u=e[p],c=e[p+1],d=e[p+2],g=e[p+3]||o;(0>l||l!=g)&&(l=g,s=i.lineStyle(2,g,1,t.CapsStyle.NONE)),s.moveTo(u,c),s.lineTo(u+d,c)}}if(i){var f=this.$getRenderBounds();i.x=f.x,i.y=f.y,i.width=f.width,i.height=f.height,t.Rectangle.release(f)}},n.prototype.setFocus=function(){this.type==t.TextFieldType.INPUT&&this.$stage&&this.inputUtils.$onFocus()},n.prototype.$a1692=function(){a.prototype.$a1692.call(this),this.a1413(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._removeStageText(),this.textNode&&(this.textNode.clean(),t.nativeRender&&egret_native.NativeDisplayObject.disposeTextData(this))},n.prototype.$onAddToStage=function(e,i){a.prototype.$onAddToStage.call(this,e,i),this.a1412(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._addStageText()},n.prototype.$invalidateTextField=function(){var e=this;if(e.$renderDirty=!0,e.$TextField[18]=!0,e.$TextField[38]=!0,t.nativeRender);else{var i=e.$parent;i&&!i.$cacheDirty&&(i.$cacheDirty=!0,i.$cacheDirtyUp());var a=e.$maskedObject;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp())}},n.prototype.$getRenderBounds=function(){var e=this.$getContentBounds(),i=t.Rectangle.create();i.copyFrom(e),this.$TextField[31]&&(i.width+=2,i.height+=2);var a=2*this.$TextField[27];return a>0&&(i.width+=2*a,i.height+=2*a),i.x-=a+2,i.y-=a+2,i.width=Math.ceil(i.width)+4,i.height=Math.ceil(i.height)+4,i},n.prototype.$measureContentBounds=function(e){this.$getLinesArr();var i=0,a=0;t.nativeRender?(i=egret_native.nrGetTextFieldWidth(this.$nativeDisplayObject.id),a=egret_native.nrGetTextFieldHeight(this.$nativeDisplayObject.id)):(i=isNaN(this.$TextField[3])?this.$TextField[5]:this.$TextField[3],a=isNaN(this.$TextField[4])?t.TextFieldUtils.$getTextHeight(this):this.$TextField[4]),e.setTo(0,0,i,a)},n.prototype.$updateRenderNode=function(){if(this.$TextField[24]==t.TextFieldType.INPUT){if(this.inputUtils._updateProperties(),this.$isTyping)return void this.a1406()}else if(0==this.$TextField[3]){var e=this.$graphicsNode;return void(e&&e.clear())}var i=this.drawText();this.a1406(i);var a=this.$getRenderBounds(),n=this.textNode;n.x=a.x,n.y=a.y,n.width=Math.ceil(a.width),n.height=Math.ceil(a.height),t.Rectangle.release(a)},Object.defineProperty(n.prototype,"textFlow",{get:function(){return this.textArr},set:function(e){this.isFlow=!0;var i="";null==e&&(e=[]);for(var a=0;a<e.length;a++){var n=e[a];i+=n.text}this.$TextField[20]?this.$setBaseText(i):(this.$TextField[13]=i,this.a1409(e),t.nativeRender&&this.$nativeDisplayObject.setTextFlow(e))},enumerable:!0,configurable:!0}),n.prototype.a1408=function(t){if(this.$TextField[20]){for(var e="",i=0,a=t.length;a>i;i++)switch(t.charAt(i)){case"\n":e+="\n";break;case"\r":break;default:e+="*"}return e}return t},n.prototype.a1409=function(t){this.$TextField[18]=!0,this.$TextField[38]=!0,this.textArr=t,this.$invalidateTextField()},Object.defineProperty(n.prototype,"textWidth",{get:function(){return this.$getLinesArr(),t.nativeRender?egret_native.nrGetTextWidth(this.$nativeDisplayObject.id):this.$TextField[5]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this.$getLinesArr(),t.nativeRender?egret_native.nrGetTextHeight(this.$nativeDisplayObject.id):t.TextFieldUtils.$getTextHeight(this)},enumerable:!0,configurable:!0}),n.prototype.appendText=function(t){this.appendElement({text:t})},n.prototype.appendElement=function(e){var i=this.$TextField[13]+e.text;return t.nativeRender?(this.textArr.push(e),this.$TextField[13]=i,this.$TextField[18]=!0,this.$TextField[38]=!0,void this.$nativeDisplayObject.setTextFlow(this.textArr)):void(this.$TextField[20]?this.$setBaseText(i):(this.$TextField[13]=i,this.textArr.push(e),this.a1409(this.textArr)))},n.prototype.$getLinesArr=function(){var e=this.$TextField;return t.nativeRender&&e[38]?(egret_native.updateNativeRender(),void(e[38]=!1)):this.$getLinesArr2()},n.prototype.$getLinesArr2=function(){var a=this.$TextField;if(!a[18])return this.linesArr;a[18]=!1;var n=this.textArr;this.linesArr.length=0,a[6]=0,a[5]=0;var r=a[3];if(!isNaN(r)&&0==r)return a[29]=0,[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];for(var s,o=this.linesArr,l=0,h=0,p=0,u=0,c=0,d=n.length;d>c;c++){var g=n[c];if(g.text){g.style=g.style||{};for(var f=g.text.toString(),m=f.split(/(?:\r\n|\r|\n)/),v=0,y=m.length;y>v;v++){null==o[u]&&(s={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},o[u]=s,l=0,p=0,h=0),p=a[24]==t.TextFieldType.INPUT?a[0]:Math.max(p,g.style.size||a[0]);var b=!0;if(""==m[v])v==y-1&&(b=!1);else{var _=e(m[v],a,g.style);if(isNaN(r))l+=_,h+=m[v].length,s.elements.push({width:_,text:m[v],style:g.style}),v==y-1&&(b=!1);else if(r>=l+_)s.elements.push({width:_,text:m[v],style:g.style}),l+=_,h+=m[v].length,v==y-1&&(b=!1);else{var A=0,T=0,C=m[v],w=void 0;w=a[19]?C.split(i):C.match(/./g);for(var x=w.length,I=0;x>A;A++){var D=w[A].length,E=!1;if(1==D&&x-1>A){var S=w[A].charCodeAt(0),G=w[A+1].charCodeAt(0);if(S>=55296&&56319>=S&&56320==(64512&G)){var P=w[A]+w[A+1];D=2,E=!0,_=e(P,a,g.style)}else _=e(w[A],a,g.style)}else _=e(w[A],a,g.style);if(0!=l&&l+_>r&&l+A!=0)break;if(T+_>r)for(var k=w[A].match(/./g),M=0,L=k.length;L>M;M++){var D=k[M].length,O=!1;if(1==D&&L-1>M){var S=k[M].charCodeAt(0),G=k[M+1].charCodeAt(0);if(S>=55296&&56319>=S&&56320==(64512&G)){var P=k[M]+k[M+1];D=2,O=!0,_=e(P,a,g.style)}else _=e(k[M],a,g.style)}else _=e(k[M],a,g.style);if(M>0&&l+_>r)break;I+=D,T+=_,l+=_,h+=I,O&&M++}else I+=D,T+=_,l+=_,h+=I;E&&A++}if(A>0){s.elements.push({width:T,text:C.substring(0,I),style:g.style});var B=C.substring(I),R=void 0,U=B.length;for(R=0;U>R&&" "==B.charAt(R);R++);m[v]=B.substring(R)}""!=m[v]&&(v--,b=!1)}}b&&(h++,s.hasNextLine=!0),v<m.length-1&&(s.width=l,s.height=p,s.charNum=h,a[5]=Math.max(a[5],l),a[6]+=p,u++)}c==n.length-1&&s&&(s.width=l,s.height=p,s.charNum=h,a[5]=Math.max(a[5],l),a[6]+=p)}else s&&(s.width=l,s.height=p,s.charNum=h,a[5]=Math.max(a[5],l),a[6]+=p)}return a[29]=o.length,o},n.prototype.$setIsTyping=function(e){this.$isTyping=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setIsTyping(e)},n.prototype.drawText=function(){var e=this.textNode,i=this.$TextField;e.bold=i[15],e.fontFamily=i[8]||n.default_fontFamily,e.italic=i[16],e.size=i[0],e.stroke=i[27],e.strokeColor=i[25],e.textColor=i[2];var a=this.$getLinesArr();if(0==i[5])return[];var r=isNaN(i[3])?i[5]:i[3],s=t.TextFieldUtils.$getTextHeight(this),o=0,l=t.TextFieldUtils.$getStartLine(this),h=i[4];if(!isNaN(h)&&h>s){var p=t.TextFieldUtils.$getValign(this);o+=p*(h-s)}o=Math.round(o);for(var u=t.TextFieldUtils.$getHalign(this),c=0,d=[],g=l,f=i[29];f>g;g++){var m=a[g],v=m.height;if(o+=v/2,g!=l){if(i[24]==t.TextFieldType.INPUT&&!i[30])break;if(!isNaN(h)&&o>h)break}c=Math.round((r-m.width)*u);for(var y=0,b=m.elements.length;b>y;y++){var _=m.elements[y],A=_.style.size||i[0];e.drawText(c,o+(v-A)/2,_.text,_.style),_.style.underline&&d.push(c,o+v/2,_.width,_.style.textColor),c+=_.width}o+=v/2+i[1]}return d},n.prototype.a1412=function(){this.addEventListener(t.TouchEvent.TOUCH_TAP,this.a1414,this)},n.prototype.a1413=function(){this.removeEventListener(t.TouchEvent.TOUCH_TAP,this.a1414,this)},n.prototype.a1414=function(e){if(this.$TextField[24]!=t.TextFieldType.INPUT){var i=t.TextFieldUtils.$getTextElement(this,e.localX,e.localY);if(null!=i){var a=i.style;if(a&&a.href)if(a.href.match(/^event:/)){var n=a.href.match(/^event:/)[0];t.TextEvent.dispatchTextEvent(this,t.TextEvent.LINK,a.href.substring(n.length))}else open(a.href,a.target||"_blank")}}},n.default_fontFamily="Arial",n.default_size=30,n.default_textColor=16777215,n}(t.DisplayObject);t.TextField=a,__reflect(a.prototype,"egret.TextField")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TEXT="text",t.TEL="tel",t.PASSWORD="password",t}();t.TextFieldInputType=e,__reflect(e.prototype,"egret.TextFieldInputType")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,__reflect(e.prototype,"egret.TextFieldType")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}return e.$getStartLine=function(t){var i=t.$TextField,a=e.$getTextHeight(t),n=0,r=i[4];return isNaN(r)||(r>a||a>r&&(n=Math.max(i[28]-1,0),n=Math.min(i[29]-1,n)),i[30]||(n=Math.max(i[28]-1,0),i[29]>0&&(n=Math.min(i[29]-1,n)))),n},e.$getHalign=function(e){var i=e.$getLinesArr2(),a=0;return e.$TextField[9]==t.HorizontalAlign.CENTER?a=.5:e.$TextField[9]==t.HorizontalAlign.RIGHT&&(a=1),e.$TextField[24]==t.TextFieldType.INPUT&&!e.$TextField[30]&&i.length>1&&(a=0),a},e.$getTextHeight=function(e){var i=t.TextFieldType.INPUT!=e.$TextField[24]||e.$TextField[30]?e.$TextField[6]+(e.$TextField[29]-1)*e.$TextField[1]:e.$TextField[0];return i},e.$getValign=function(i){var a=e.$getTextHeight(i),n=i.$TextField[4];if(!isNaN(n)&&n>a){var r=0;return i.$TextField[10]==t.VerticalAlign.MIDDLE?r=.5:i.$TextField[10]==t.VerticalAlign.BOTTOM&&(r=1),r}return 0},e.$getTextElement=function(t,i,a){var n=e.$getHit(t,i,a),r=t.$getLinesArr2();return n&&r[n.lineIndex]&&r[n.lineIndex].elements[n.textElementIndex]?r[n.lineIndex].elements[n.textElementIndex]:null},e.$getHit=function(t,i,a){var n=t.$getLinesArr2();if(0==t.$TextField[3])return null;var r=0,s=e.$getTextHeight(t),o=0,l=t.$TextField[4];if(!isNaN(l)&&l>s){var h=e.$getValign(t);o=h*(l-s),0!=o&&(a-=o)}for(var p=e.$getStartLine(t),u=0,c=p;c<n.length;c++){var d=n[c];if(u+d.height>=a){a>u&&(r=c+1);break}if(u+=d.height,u+t.$TextField[1]>a)return null;u+=t.$TextField[1]}if(0==r)return null;var g=n[r-1],f=t.$TextField[3];isNaN(f)&&(f=t.textWidth);var m=e.$getHalign(t);i-=m*(f-g.width);for(var v=0,c=0;c<g.elements.length;c++){var y=g.elements[c];if(v+y.width<=i)v+=y.width;else if(i>v)return{lineIndex:r-1,textElementIndex:c}}return null},e.$getScrollNum=function(t){var e=1;if(t.$TextField[30]){var i=t.height,a=t.size,n=t.lineSpacing;e=Math.floor(i/(a+n));var r=i-(a+n)*e;r>a/2&&e++}return e},e}();t.TextFieldUtils=e,__reflect(e.prototype,"egret.TextFieldUtils")}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TOP="top",t.BOTTOM="bottom",t.MIDDLE="middle",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.VerticalAlign=e,__reflect(e.prototype,"egret.VerticalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.encode=function(t){for(var e=new Uint8Array(t),i=e.length,a="",n=0;i>n;n+=3)a+=chars[e[n]>>2],a+=chars[(3&e[n])<<4|e[n+1]>>4],a+=chars[(15&e[n+1])<<2|e[n+2]>>6],a+=chars[63&e[n+2]];return i%3===2?a=a.substring(0,a.length-1)+"=":i%3===1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(t){var e=.75*t.length,i=t.length,a=0,n=0,r=0,s=0,o=0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);for(var l=new ArrayBuffer(e),h=new Uint8Array(l),p=0;i>p;p+=4)n=lookup[t.charCodeAt(p)],r=lookup[t.charCodeAt(p+1)],s=lookup[t.charCodeAt(p+2)],o=lookup[t.charCodeAt(p+3)],h[a++]=n<<2|r>>4,h[a++]=(15&r)<<4|s>>2,h[a++]=(3&s)<<6|63&o;return l},t}();t.Base64Util=e,__reflect(e.prototype,"egret.Base64Util")}(egret||(egret={}));for(var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var egret;!function(t){var e=function(){function t(){}return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e,__reflect(e.prototype,"egret.Endian");var i=function(){function i(t,i){void 0===i&&(i=0),this.bufferExtSize=0,this.EOF_byte=-1,this.EOF_code_point=-1,0>i&&(i=0),this.bufferExtSize=i;var a,n=0;if(t){var r=void 0;if(t instanceof Uint8Array?(r=t,n=t.length):(n=t.byteLength,r=new Uint8Array(t)),0==i)a=new Uint8Array(n);else{var s=(n/i|0)+1;a=new Uint8Array(s*i)}a.set(r)}else a=new Uint8Array(i);this.write_position=n,this._position=0,this._bytes=a,this.data=new DataView(a.buffer),this.endian=e.BIG_ENDIAN}return Object.defineProperty(i.prototype,"endian",{get:function(){return 0==this.$endian?e.LITTLE_ENDIAN:e.BIG_ENDIAN},set:function(t){this.$endian=t==e.LITTLE_ENDIAN?0:1},enumerable:!0,configurable:!0}),i.prototype.a1415=function(t){},Object.defineProperty(i.prototype,"readAvailable",{get:function(){return this.write_position-this._position},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.data.buffer.slice(0,this.write_position)},set:function(t){var e,i=t.byteLength,a=new Uint8Array(t),n=this.bufferExtSize;if(0==n)e=new Uint8Array(i);else{var r=(i/n|0)+1;e=new Uint8Array(r*n)}e.set(a),this.write_position=i,this._bytes=e,this.data=new DataView(e.buffer)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawBuffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataView",{get:function(){return this.data},set:function(t){this.buffer=t.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bufferOffset",{get:function(){return this.data.byteOffset},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,t>this.write_position&&(this.write_position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this.write_position},set:function(t){this.write_position=t,this.data.byteLength>t&&(this._position=t),this._validateBuffer(t)},enumerable:!0,configurable:!0}),i.prototype._validateBuffer=function(t){if(this.data.byteLength<t){var e=this.bufferExtSize,i=void 0;if(0==e)i=new Uint8Array(t);else{var a=((t/e>>0)+1)*e;i=new Uint8Array(a)}i.set(this._bytes),this._bytes=i,this.data=new DataView(i.buffer)}},Object.defineProperty(i.prototype,"bytesAvailable",{get:function(){return this.data.byteLength-this._position},enumerable:!0,configurable:!0}),i.prototype.clear=function(){var t=new ArrayBuffer(this.bufferExtSize);this.data=new DataView(t),this._bytes=new Uint8Array(t),this._position=0,this.write_position=0},i.prototype.readBoolean=function(){return this.validate(1)?!!this._bytes[this.position++]:void 0},i.prototype.readByte=function(){return this.validate(1)?this.data.getInt8(this.position++):void 0},i.prototype.readBytes=function(e,i,a){if(void 0===i&&(i=0),void 0===a&&(a=0),e){var n=this._position,r=this.write_position-n;if(0>r)return void t.$error(1025);if(0==a)a=r;else if(a>r)return void t.$error(1025);var s=e._position;e._position=0,e.a1440(i+a),e._position=s,e._bytes.set(this._bytes.subarray(n,n+a),i),this.position+=a}},i.prototype.readDouble=function(){if(this.validate(8)){var t=this.data.getFloat64(this._position,0==this.$endian);return this.position+=8,t}},i.prototype.readFloat=function(){if(this.validate(4)){var t=this.data.getFloat32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readInt=function(){if(this.validate(4)){var t=this.data.getInt32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readShort=function(){if(this.validate(2)){var t=this.data.getInt16(this._position,0==this.$endian);return this.position+=2,t}},i.prototype.readUnsignedByte=function(){return this.validate(1)?this._bytes[this.position++]:void 0},i.prototype.readUnsignedInt=function(){if(this.validate(4)){var t=this.data.getUint32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readUnsignedShort=function(){if(this.validate(2)){var t=this.data.getUint16(this._position,0==this.$endian);return this.position+=2,t}},i.prototype.readUTF=function(){var t=this.readUnsignedShort();return t>0?this.readUTFBytes(t):""},i.prototype.readUTFBytes=function(t){if(this.validate(t)){var e=this.data,i=new Uint8Array(e.buffer,e.byteOffset+this._position,t);return this.position+=t,this.decodeUTF8(i)}},i.prototype.writeBoolean=function(t){this.a1440(1),this._bytes[this.position++]=+t},i.prototype.writeByte=function(t){this.a1440(1),this._bytes[this.position++]=255&t},i.prototype.writeBytes=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var a;0>e||0>i||(a=0==i?t.length-e:Math.min(t.length-e,i),a>0&&(this.a1440(a),this._bytes.set(t._bytes.subarray(e,e+a),this._position),this.position=this._position+a))},i.prototype.writeDouble=function(t){this.a1440(8),this.data.setFloat64(this._position,t,0==this.$endian),this.position+=8},i.prototype.writeFloat=function(t){this.a1440(4),this.data.setFloat32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeInt=function(t){this.a1440(4),this.data.setInt32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeShort=function(t){this.a1440(2),this.data.setInt16(this._position,t,0==this.$endian),this.position+=2},i.prototype.writeUnsignedInt=function(t){this.a1440(4),this.data.setUint32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeUnsignedShort=function(t){this.a1440(2),this.data.setUint16(this._position,t,0==this.$endian),this.position+=2},i.prototype.writeUTF=function(t){var e=this.encodeUTF8(t),i=e.length;this.a1440(2+i),this.data.setUint16(this._position,i,0==this.$endian),this.position+=2,this._writeUint8Array(e,!1)},i.prototype.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},i.prototype.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},i.prototype._writeUint8Array=function(t,e){void 0===e&&(e=!0);var i=this._position,a=i+t.length;e&&this.a1440(a),this.bytes.set(t,i),this.position=a},i.prototype.validate=function(e){var i=this._bytes.length;return i>0&&this._position+e<=i?!0:void t.$error(1025)},i.prototype.a1440=function(t){this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this._validateBuffer(t)},i.prototype.encodeUTF8=function(t){for(var e=0,i=this.a1447(t),a=[];i.length>e;){var n=i[e++];if(this.inRange(n,55296,57343))this.a1443(n);else if(this.inRange(n,0,127))a.push(n);else{var r=void 0,s=void 0;for(this.inRange(n,128,2047)?(r=1,s=192):this.inRange(n,2048,65535)?(r=2,s=224):this.inRange(n,65536,1114111)&&(r=3,s=240),a.push(this.div(n,Math.pow(64,r))+s);r>0;){var o=this.div(n,Math.pow(64,r-1));a.push(128+o%64),r-=1}}}return new Uint8Array(a)},i.prototype.decodeUTF8=function(t){for(var e,i=!1,a=0,n="",r=0,s=0,o=0,l=0;t.length>a;){var h=t[a++];if(h==this.EOF_byte)e=0!=s?this.decoderError(i):this.EOF_code_point;else if(0==s)this.inRange(h,0,127)?e=h:(this.inRange(h,194,223)?(s=1,l=128,r=h-192):this.inRange(h,224,239)?(s=2,l=2048,r=h-224):this.inRange(h,240,244)?(s=3,l=65536,r=h-240):this.decoderError(i),r*=Math.pow(64,s),e=null);else if(this.inRange(h,128,191))if(o+=1,r+=(h-128)*Math.pow(64,s-o),o!==s)e=null;else{var p=r,u=l;r=0,s=0,o=0,l=0,e=this.inRange(p,u,1114111)&&!this.inRange(p,55296,57343)?p:this.decoderError(i,h)}else r=0,s=0,o=0,l=0,a--,e=this.decoderError(i,h);null!==e&&e!==this.EOF_code_point&&(65535>=e?e>0&&(n+=String.fromCharCode(e)):(e-=65536,n+=String.fromCharCode(55296+(e>>10&1023)),n+=String.fromCharCode(56320+(1023&e))))}return n},i.prototype.a1443=function(e){t.$error(1026,e)},i.prototype.decoderError=function(e,i){return e&&t.$error(1027),i||65533},i.prototype.inRange=function(t,e,i){return t>=e&&i>=t},i.prototype.div=function(t,e){return Math.floor(t/e)},i.prototype.a1447=function(t){for(var e=[],i=0,a=t.length;i<t.length;){var n=t.charCodeAt(i);if(this.inRange(n,55296,57343))if(this.inRange(n,56320,57343))e.push(65533);else if(i==a-1)e.push(65533);else{var r=t.charCodeAt(i+1);if(this.inRange(r,56320,57343)){var s=1023&n,o=1023&r;i+=1,e.push(65536+(s<<10)+o)}else e.push(65533)}else e.push(n);i+=1}return e},i}();t.ByteArray=i,__reflect(i.prototype,"egret.ByteArray")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$graphics=new t.Graphics,i.$graphics.$setTarget(i),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(9)},Object.defineProperty(i.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(e,i){if(!this.$visible)return null;var a=this.$getInvertedConcatenatedMatrix(),n=a.a*e+a.c*i+a.tx,r=a.b*e+a.d*i+a.ty,s=this.$scrollRect?this.$scrollRect:this.$maskRect;if(s&&!s.contains(n,r))return null;if(this.$mask&&!this.$mask.$hitTest(e,i))return null;for(var o=this.$children,l=!1,h=null,p=o.length-1;p>=0;p--){var u=o[p];if(!u.$maskedObject&&(h=u.$hitTest(e,i))){if(l=!0,h.$touchEnabled)break;h=null}}return h?this.$touchChildren?h:this:l?this:(h=t.DisplayObject.prototype.$hitTest.call(this,e,i),h&&(h=this.$graphics.$hitTest(e,i)),h)},i.prototype.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},i.prototype.$a1692=function(){e.prototype.$a1692.call(this),this.$graphics&&this.$graphics.$a1692()},i}(t.DisplayObjectContainer);t.Sprite=e,__reflect(e.prototype,"egret.Sprite")}(egret||(egret={}));var egret;!function(t){function e(t,e,i){var a=t.prototype;Object.defineProperty(a,"__class__",{value:e,enumerable:!1,writable:!0});var n=[e];i&&(n=n.concat(i));var r=a.__types__;if(a.__types__)for(var s=r.length,o=0;s>o;o++){var l=r[o];-1==n.indexOf(l)&&n.push(l)}Object.defineProperty(a,"__types__",{value:n,enumerable:!1,writable:!0})}t.registerClass=e}(egret||(egret={}));var egret;!function(t){t.BitmapFillMode={REPEAT:"repeat",SCALE:"scale",CLIP:"clip"}}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"logLevel",{set:function(t){},enumerable:!0,configurable:!0}),t.ALL="all",t.DEBUG="debug",t.INFO="info",t.WARN="warn",t.ERROR="error",t.OFF="off",t}();t.Logger=e,__reflect(e.prototype,"egret.Logger")
}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.sin=function(e){var i=Math.floor(e),a=i+1,n=t.sinInt(i);if(i==e)return n;var r=t.sinInt(a);return(e-i)*r+(a-e)*n},t.sinInt=function(t){return t%=360,0>t&&(t+=360),egret_sin_map[t]},t.cos=function(e){var i=Math.floor(e),a=i+1,n=t.cosInt(i);if(i==e)return n;var r=t.cosInt(a);return(e-i)*r+(a-e)*n},t.cosInt=function(t){return t%=360,0>t&&(t+=360),egret_cos_map[t]},t.convertStringToHashCode=function(t){if(0===t.length)return 0;for(var e=0,i=0,a=t.length;a>i;++i){var n=t.charCodeAt(i);e=(e<<5)-e+n,e|=0}return e},t}();t.NumberUtils=e,__reflect(e.prototype,"egret.NumberUtils")}(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},DEG_TO_RAD=Math.PI/180,NumberUtils_i=0;360>NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*DEG_TO_RAD);egret_sin_map[90]=1,egret_cos_map[90]=0,egret_sin_map[180]=0,egret_cos_map[180]=-1,egret_sin_map[270]=-1,egret_cos_map[270]=0,Function.prototype.bind||(Function.prototype.bind=function(t){"function"!=typeof this&&egret.$error(1029);var e=Array.prototype.slice.call(arguments,1),i=this,a=function(){},n=function(){return i.apply(this instanceof a&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return a.prototype=this.prototype,n.prototype=new a,n});var egret;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=0);var a=e.call(this)||this;return a._delay=0,a._currentCount=0,a._running=!1,a.updateInterval=1e3,a.lastCount=1e3,a.lastTimeStamp=0,a.delay=t,a.repeatCount=0|+i,a}return __extends(i,e),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){1>t&&(t=1),this._delay!=t&&(this._delay=t,this.lastCount=this.updateInterval=Math.round(60*t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.stop(),this._currentCount=0},i.prototype.start=function(){this._running||(this.lastCount=this.updateInterval,this.lastTimeStamp=t.getTimer(),t.ticker.$startTick(this.$update,this),this._running=!0)},i.prototype.stop=function(){this._running&&(t.stopTick(this.$update,this),this._running=!1)},i.prototype.$update=function(e){var i=e-this.lastTimeStamp;if(i>=this._delay)this.lastCount=this.updateInterval;else{if(this.lastCount-=1e3,this.lastCount>0)return!1;this.lastCount+=this.updateInterval}this.lastTimeStamp=e,this._currentCount++;var a=this.repeatCount>0&&this._currentCount>=this.repeatCount;return(0==this.repeatCount||this._currentCount<=this.repeatCount)&&t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER),a&&(this.stop(),t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER_COMPLETE)),!1},i}(t.EventDispatcher);t.Timer=e,__reflect(e.prototype,"egret.Timer")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,i){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];t.$callLaterFunctionList.push(e),t.$callLaterThisList.push(i),t.$callLaterArgsList.push(a)}function i(e,i){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];t.$callAsyncFunctionList.push(e),t.$callAsyncThisList.push(i),t.$callAsyncArgsList.push(a)}t.$callLaterFunctionList=[],t.$callLaterThisList=[],t.$callLaterArgsList=[],t.callLater=e,t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[],t.$callAsync=i}(egret||(egret={}));var egret;!function(t){function e(t,e,i){for(var a=[],n=3;n<arguments.length;n++)a[n-3]=arguments[n];var r,s=t.prototype;t.hasOwnProperty("__sets__")||Object.defineProperty(t,"__sets__",{value:{}}),r=t.__sets__;var o=r[i];if(o)return o.apply(e,a);var l=Object.getPrototypeOf(s);if(null!=l){for(;!l.hasOwnProperty(i);)if(l=Object.getPrototypeOf(l),null==l)return;o=Object.getOwnPropertyDescriptor(l,i).set,r[i]=o,o.apply(e,a)}}function i(t,e,i){var a,n=t.prototype;t.hasOwnProperty("__gets__")||Object.defineProperty(t,"__gets__",{value:{}}),a=t.__gets__;var r=a[i];if(r)return r.call(e);var s=Object.getPrototypeOf(n);if(null!=s){for(;!s.hasOwnProperty(i);)if(s=Object.getPrototypeOf(s),null==s)return;return r=Object.getOwnPropertyDescriptor(s,i).get,a[i]=r,r.call(e)}}t.superSetter=e,t.superGetter=i}(egret||(egret={}));var egret;!function(t){function e(t){if(!t)return null;var e=i[t];if(e)return e;var a=t.split("."),n=a.length;e=global;for(var r=0;n>r;r++){var s=a[r];if(e=e[s],!e)return null}return i[t]=e,e}var i={};t.getDefinitionByName=e}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(t){var e=typeof t;if(!t||"object"!=e&&!t.prototype)return e;var i=t.prototype?t.prototype:Object.getPrototypeOf(t);if(i.hasOwnProperty("__class__"))return i.__class__;var a=i.constructor.toString().trim(),n=a.indexOf("("),r=a.substring(9,n);return Object.defineProperty(i,"__class__",{value:r,enumerable:!1,writable:!0}),r}t.getQualifiedClassName=e}(egret||(egret={}));var egret;!function(t){function e(e){if(!e||"object"!=typeof e&&!e.prototype)return null;var i=e.prototype?e.prototype:Object.getPrototypeOf(e),a=Object.getPrototypeOf(i);if(!a)return null;var n=t.getQualifiedClassName(a.constructor);return n?n:null}t.getQualifiedSuperclassName=e}(egret||(egret={}));var egret;!function(t){function e(){return Date.now()-t.sys.$START_TIME}t.getTimer=e}(egret||(egret={}));var egret;!function(t){function e(e){var i=t.getDefinitionByName(e);return i?!0:!1}t.hasDefinition=e}(egret||(egret={}));var egret;!function(t){function e(t,e){if(!t||"object"!=typeof t)return!1;var i=Object.getPrototypeOf(t),a=i?i.__types__:null;return a?-1!==a.indexOf(e):!1}t.is=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.ticker.$startTick(e,i)}t.startTick=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.ticker.$stopTick(e,i)}t.stopTick=e}(egret||(egret={}));var egret;!function(t){function e(t){0>t&&(t=0),t>16777215&&(t=16777215);for(var e=t.toString(16).toUpperCase();e.length>6;)e=e.slice(1,e.length);for(;e.length<6;)e="0"+e;return"#"+e}t.toColorString=e}(egret||(egret={}));var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){var e=function(){function t(){}return t.BINARY="binary",t.TEXT="text",t.VARIABLES="variables",t.TEXTURE="texture",t.SOUND="sound",t}();t.URLLoaderDataFormat=e,__reflect(e.prototype,"egret.URLLoaderDataFormat")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,a){var n=t.call(this)||this;return n._name=e,n._frame=0|i,a&&(n._end=0|a),n}return __extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._name,this._frame,this._end)},e}(t.EventDispatcher);t.FrameLabel=e,__reflect(e.prototype,"egret.FrameLabel")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$mcData=null,t.numFrames=1,t.frames=[],t.labels=null,t.events=[],t.frameRate=0,t.textureData=null,t.spriteSheet=null,t}return __extends(i,e),i.prototype.$init=function(t,e,i){this.textureData=e,this.spriteSheet=i,this.a1456(t)},i.prototype.a1450=function(t){var e=this.frames[t-1];return e.frame&&(e=this.frames[e.frame-1]),e},i.prototype.getTextureByFrame=function(t){var e=this.a1450(t);if(e.res){var i=this.a1452(e.res);return i}return null},i.prototype.$getOffsetByFrame=function(t,e){var i=this.a1450(t);i.res&&e.setTo(0|i.x,0|i.y)},i.prototype.a1452=function(t){if(null==this.spriteSheet)return null;var e=this.spriteSheet.a1297(t);if(!e){var i=this.textureData[t];e=this.spriteSheet.createTexture(t,i.x,i.y,i.w,i.h)}return e},i.prototype.$isDataValid=function(){return this.frames.length>0},i.prototype.$isTextureValid=function(){return null!=this.textureData&&null!=this.spriteSheet},i.prototype.$fillMCData=function(t){this.frameRate=t.frameRate||24,this.fillFramesData(t.frames),this.a1454(t.labels),this.fillFrameEventsData(t.events)},i.prototype.fillFramesData=function(t){for(var e,i=this.frames,a=t?t.length:0,n=0;a>n;n++){var r=t[n];if(i.push(r),r.duration){var s=parseInt(r.duration);if(s>1){e=i.length;for(var o=1;s>o;o++)i.push({frame:e})}}}this.numFrames=i.length},i.prototype.a1454=function(e){if(e){var i=e.length;if(i>0){this.labels=[];for(var a=0;i>a;a++){var n=e[a];this.labels.push(new t.FrameLabel(n.name,n.frame,n.end))}}}},i.prototype.fillFrameEventsData=function(t){if(t){var e=t.length;if(e>0){this.events=[];for(var i=0;e>i;i++){var a=t[i];this.events[a.frame]=a.name}}}},Object.defineProperty(i.prototype,"mcData",{get:function(){return this.$mcData},set:function(t){this.a1456(t)},enumerable:!0,configurable:!0}),i.prototype.a1456=function(t){this.$mcData!=t&&(this.$mcData=t,t&&this.$fillMCData(t))},i}(t.HashObject);t.MovieClipData=e,__reflect(e.prototype,"egret.MovieClipData")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i){var a=e.call(this)||this;return a.enableCache=!0,a.$mcDataCache={},a.$mcDataSet=t,a.setTexture(i),a}return __extends(i,e),i.prototype.clearCache=function(){this.$mcDataCache={}},i.prototype.generateMovieClipData=function(e){if(void 0===e&&(e=""),""==e&&this.$mcDataSet)for(e in this.$mcDataSet.mc)break;if(""==e)return null;var i=this.a1458(e,this.$mcDataCache);return i||(i=new t.MovieClipData,this.fillData(e,i,this.$mcDataCache)),i},i.prototype.a1458=function(t,e){return this.enableCache&&e[t]?e[t]:null},i.prototype.fillData=function(t,e,i){if(this.$mcDataSet){var a=this.$mcDataSet.mc[t];a&&(e.$init(a,this.$mcDataSet.res,this.$spriteSheet),this.enableCache&&(i[t]=e))}},Object.defineProperty(i.prototype,"mcDataSet",{get:function(){return this.$mcDataSet},set:function(t){this.$mcDataSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"texture",{set:function(t){this.setTexture(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spriteSheet",{get:function(){return this.$spriteSheet},enumerable:!0,configurable:!0}),i.prototype.setTexture=function(e){this.$spriteSheet=e?new t.SpriteSheet(e):null},i}(t.EventDispatcher);t.MovieClipDataFactory=e,__reflect(e.prototype,"egret.MovieClipDataFactory")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a,n){void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===n&&(n=null);var r=e.call(this,t,i,a)||this;return r.frameLabel=null,r.frameLabel=n,r}return __extends(i,e),i.dispatchMovieClipEvent=function(e,a,n){void 0===n&&(n=null);var r=t.Event.create(i,a);r.frameLabel=n;var s=e.a1258(r);return t.Event.release(r),s},i.FRAME_LABEL="frame_label",i}(t.Event);t.MovieClipEvent=e,__reflect(e.prototype,"egret.MovieClipEvent")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.quintOut=e.getPowOut(5),e.quartOut=e.getPowOut(4),e}();t.ScrollEase=e,__reflect(e.prototype,"egret.ScrollEase");var i=function(e){function i(t,i,a){var n=e.call(this)||this;return n._target=null,n._useTicks=!1,n.ignoreGlobalPause=!1,n.loop=!1,n.pluginData=null,n._steps=null,n._actions=null,n.paused=!1,n.duration=0,n._prevPos=-1,n.position=null,n._prevPosition=0,n._stepPosition=0,n.passive=!1,n.initialize(t,i,a),n}return __extends(i,e),i.get=function(t,e,a,n){return void 0===e&&(e=null),void 0===a&&(a=null),void 0===n&&(n=!1),n&&i.removeTweens(t),new i(t,e,a)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,a=e.length-1;a>=0;a--)e[a]._target==t&&(e[a].paused=!0,e.splice(a,1));t.tween_count=0}},i.tick=function(t,e){void 0===e&&(e=!1);var a=t-i._lastTime;i._lastTime=t;for(var n=i._tweens.concat(),r=n.length-1;r>=0;r--){var s=n[r];e&&!s.ignoreGlobalPause||s.paused||s.tick(s._useTicks?1:a)}return!1},i._register=function(e,a){var n=e._target,r=i._tweens;if(a)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),r.push(e),i._inited||(i._lastTime=t.getTimer(),t.ticker.$startTick(i.tick,null),i._inited=!0);else{n&&n.tween_count--;for(var s=r.length;s--;)if(r[s]==e)return void r.splice(s,1)}},i.prototype.initialize=function(t,e,a){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=a||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.a1461(e.position)},i.prototype.a1461=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,a=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,a=!0)),i==this._prevPos)return a;var n=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(a)this._updateTargetProps(null,1);else if(this._steps.length>0){var r=void 0,s=this._steps.length;for(r=0;s>r&&!(this._steps[r].t>i);r++);var o=this._steps[r-1];this._updateTargetProps(o,(this._stepPosition=i-o.t)/o.d)}return a&&this.a1462(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&n>i?(n!=this.duration&&this._runActions(n,this.duration),this._runActions(0,i,!0)):this._runActions(n,i)),this.dispatchEventWith("change"),a},i.prototype._runActions=function(t,e,i){void 0===i&&(i=!1);var a=t,n=e,r=-1,s=this._actions.length,o=1;for(t>e&&(a=e,n=t,r=s,s=o=-1);(r+=o)!=s;){var l=this._actions[r],h=l.t;(h==n||h>a&&n>h||i&&h==t)&&l.f.apply(l.o,l.p)}},i.prototype._updateTargetProps=function(t,e){var a,n,r,s,o,l;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),a=t.p0,n=t.p1}else this.passive=!1,a=n=this._curQueueProps;for(var h in this._initQueueProps){null==(s=a[h])&&(a[h]=s=this._initQueueProps[h]),null==(o=n[h])&&(n[h]=o=s),r=s==o||0==e||1==e||"number"!=typeof s?1==e?o:s:s+(o-s)*e;var p=!1;if(l=i._plugins[h])for(var u=0,c=l.length;c>u;u++){var d=l[u].tween(this,h,r,a,n,e,!!t&&a==n,!t);d==i.IGNORE?p=!0:r=d}p||(this._target[h]=r)}},i.prototype.a1462=function(t){return this.paused=t,i._register(this,!t),this},i.prototype._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},i.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},i.prototype._appendQueueProps=function(t){var e,a,n,r,s;for(var o in t)if(void 0===this._initQueueProps[o]){if(a=this._target[o],e=i._plugins[o])for(n=0,r=e.length;r>n;n++)a=e[n].init(this,o,a);this._initQueueProps[o]=this._curQueueProps[o]=void 0===a?null:a}else a=this._curQueueProps[o];for(var o in t){if(a=this._curQueueProps[o],e=i._plugins[o])for(s=s||{},n=0,r=e.length;r>n;n++)e[n].step&&e[n].step(this,o,a,t[o],s);this._curQueueProps[o]=t[o]}return s&&this._appendQueueProps(s),this._curQueueProps},i.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},i.prototype.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},i.prototype.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},i.prototype.tick=function(t){this.paused||this.a1461(this._prevPosition+t)},i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);t.ScrollTween=i,__reflect(i.prototype,"egret.ScrollTween")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var a=e.call(this)||this;return a.scrollBeginThreshold=10,a.scrollSpeed=1,a._content=null,a.delayTouchBeginEvent=null,a.touchBeginTimer=null,a.touchEnabled=!0,a._ScrV_Props_=new t.ScrollViewProperties,i&&a.a1463(i),a}return __extends(i,e),Object.defineProperty(i.prototype,"bounces",{get:function(){return this._ScrV_Props_._bounces},set:function(t){this._ScrV_Props_._bounces=!!t},enumerable:!0,configurable:!0}),i.prototype.a1463=function(t){this._content!==t&&(this.a1464(),t&&(this._content=t,e.prototype.addChild.call(this,t),this._addEvents()))},i.prototype.a1464=function(){this._content&&(this._removeEvents(),e.prototype.removeChildAt.call(this,0)),this._content=null},Object.defineProperty(i.prototype,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())},enumerable:!0,configurable:!0}),i.prototype.a1465=function(t,e,i){if(void 0===i&&(i=!1),(!i||0!=t||0!=e)&&(i||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){var a=this._ScrV_Props_._scrollTop,n=this._ScrV_Props_._scrollLeft;if(i){var r=this.a1466(),s=this.a1467();(0>=a||a>=s)&&(t/=2),(0>=n||n>=r)&&(e/=2);var o=a+t,l=n+e,h=this._ScrV_Props_._bounces;h||((0>=o||o>=s)&&(o=Math.max(0,Math.min(o,s))),(0>=l||l>=r)&&(l=Math.max(0,Math.min(l,r)))),this._ScrV_Props_._scrollTop=o,this._ScrV_Props_._scrollLeft=l}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},i.prototype._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,a=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,a>i?a-i/2:i/2)}if(e){var n=this.width,r=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-n)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,r>n?r-n/2:n/2)}},i.prototype.$setWidth=function(t){this.$explicitWidth!=t&&(e.prototype.$setWidth.call(this,t),this._updateContentPosition())},i.prototype.$setHeight=function(t){this.$explicitHeight!=t&&(e.prototype.$setHeight.call(this,t),this._updateContentPosition())},i.prototype._updateContentPosition=function(){var e=this.height,i=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),i,e),this.a1258(new t.Event(t.Event.CHANGE))},i.prototype._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var i=this._ScrV_Props_._verticalScrollPolicy,a=this.__checkScrollPolicy(i,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=a,e||a},i.prototype.__checkScrollPolicy=function(t,e,i){return"on"==t?!0:"off"==t?!1:e>i},i.prototype._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},i.prototype._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},i.prototype._onTouchBegin=function(e){if(!e.$a1271){var i=this._checkScrollPolicy();i&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},i.prototype._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var a=e.target;a!=this;){if("_checkScrollPolicy"in a&&(i=a._checkScrollPolicy()))return;a=a.parent}e.stopPropagation();var n=this.cloneTouchEvent(e);this.delayTouchBeginEvent=n,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},i.prototype._onTouchEndCapture=function(e){var i=this;if(this.delayTouchBeginEvent){this._onTouchBeginTimer(),e.stopPropagation();var a=this.cloneTouchEvent(e);t.callLater(function(){i.stage&&i.dispatchPropagationEvent(a)},this)}},i.prototype._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},i.prototype.dispatchPropagationEvent=function(e){for(var i=e.$target,a=this.$getPropagationList(i),n=a.length,r=.5*a.length,s=-1,o=0;n>o;o++)if(a[o]===this._content){s=o;break}a.splice(0,s+1),r-=s+1,this.$dispatchPropagationEvent(e,a,r),t.Event.release(e)},i.prototype._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y,a=Math.sqrt(e*e+i*i);if(a<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var n=this._getPointChange(t);this.a1465(n.y,n.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},i.prototype._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},i.prototype._onEnterFrame=function(e){var i=t.getTimer();i-this._ScrV_Props_._lastTouchTime>100&&i-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},i.prototype._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},i.prototype._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},i.prototype._calcVelocitys=function(e){var i=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=i);var a=this._getPointChange(e),n=i-this._ScrV_Props_._lastTouchTime;a.x/=n,a.y/=n,this._ScrV_Props_._velocitys.push(a),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},i.prototype._getContentWidth=function(){return this._content.$explicitWidth||this._content.width},i.prototype._getContentHeight=function(){return this._content.$explicitHeight||this._content.height},i.prototype.a1466=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},i.prototype.a1467=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},i.prototype._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,a=0;a<this._ScrV_Props_._velocitys.length;a++){var n=this._ScrV_Props_._velocitys[a],r=i.weight[a];t.x+=n.x*r,t.y+=n.y*r,e+=r}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var s=t.x/e*this.scrollSpeed,o=t.y/e*this.scrollSpeed,l=Math.abs(s),h=Math.abs(o),p=this.a1466(),u=this.a1467(),c=l>.02?this.a1471(s,this._ScrV_Props_._scrollLeft,p):{position:this._ScrV_Props_._scrollLeft,duration:1},d=h>.02?this.a1471(o,this._ScrV_Props_._scrollTop,u):{position:this._ScrV_Props_._scrollTop,duration:1};this.a1470(c.position,c.duration),this.a1469(d.position,d.duration)}},i.prototype.a1468=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},i.prototype._onScrollStarted=function(){},i.prototype._onScrollFinished=function(){t.ScrollTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.a1258(new t.Event(t.Event.COMPLETE))},i.prototype.a1469=function(e,i){void 0===i&&(i=0);var a=Math.min(this.a1467(),Math.max(e,0));if(0==i)return void(this.scrollTop=a);0==this._ScrV_Props_._bounces&&(e=a);var n=t.ScrollTween.get(this).to({scrollTop:e},i,t.ScrollEase.quartOut);a!=e&&n.to({scrollTop:a},300,t.ScrollEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=n,n.call(this.a1468,this,[n]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},i.prototype.a1470=function(e,i){void 0===i&&(i=0);var a=Math.min(this.a1466(),Math.max(e,0));if(0==i)return void(this.scrollLeft=a);0==this._ScrV_Props_._bounces&&(e=a);var n=t.ScrollTween.get(this).to({scrollLeft:e},i,t.ScrollEase.quartOut);a!=e&&n.to({scrollLeft:a},300,t.ScrollEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=n,n.call(this.a1468,this,[n]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},i.prototype.a1471=function(t,e,i){var a=Math.abs(t),n=.95,r=0,s=.998,o=.02,l=e+500*t;if(0>l||l>i)for(l=e;Math.abs(t)!=1/0&&Math.abs(t)>o;)l+=t,t*=0>l||l>i?s*n:s,r++;else r=500*-Math.log(o/a);var h={position:Math.min(i+50,Math.max(l,-50)),duration:r};return h},i.prototype.cloneTouchEvent=function(e){var i=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i.$stageX=e.stageX,i.$stageY=e.stageY,i.touchDown=e.touchDown,i.$a1271=!1,i.$target=e.target,i},i.prototype.throwNotSupportedError=function(){t.$error(1023)},i.prototype.addChild=function(t){return this.throwNotSupportedError(),null},i.prototype.addChildAt=function(t,e){return this.throwNotSupportedError(),null},i.prototype.removeChild=function(t){return this.throwNotSupportedError(),null},i.prototype.removeChildAt=function(t){return this.throwNotSupportedError(),null},i.prototype.setChildIndex=function(t,e){this.throwNotSupportedError()},i.prototype.swapChildren=function(t,e){this.throwNotSupportedError()},i.prototype.swapChildrenAt=function(t,e){this.throwNotSupportedError()},i.weight=[1,1.33,1.66,2,2.33],i}(t.DisplayObjectContainer);t.ScrollView=e,__reflect(e.prototype,"egret.ScrollView")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}return e}();t.ScrollViewProperties=e,__reflect(e.prototype,"egret.ScrollViewProperties")}(egret||(egret={}));var egret;!function(t){function e(e){var i=e.url;return-1==i.indexOf("?")&&e.method==t.URLRequestMethod.GET&&e.data&&e.data instanceof t.URLVariables&&(i=i+"?"+e.data.toString()),i}var i=function(i){function a(e){void 0===e&&(e=null);var a=i.call(this)||this;return a.dataFormat=t.URLLoaderDataFormat.TEXT,a.data=null,a._request=null,a._status=-1,e&&a.load(e),a}return __extends(a,i),a.prototype.load=function(i){this._request=i,this.data=null;var a=this;if(a.dataFormat==t.URLLoaderDataFormat.TEXTURE)return void this.loadTexture(a);if(a.dataFormat==t.URLLoaderDataFormat.SOUND)return void this.a1474(a);var n=e(i),r=new t.HttpRequest;r.open(n,i.method==t.URLRequestMethod.POST?t.HttpMethod.POST:t.HttpMethod.GET);var s;if(i.method!=t.URLRequestMethod.GET&&i.data)if(i.data instanceof t.URLVariables){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var o=i.data;s=o.toString()}else r.setRequestHeader("Content-Type","multipart/form-data"),s=i.data;for(var l=i.requestHeaders.length,h=0;l>h;h++){var p=i.requestHeaders[h];r.setRequestHeader(p.name,p.value)}r.addEventListener(t.Event.COMPLETE,function(){a.data=r.response,t.Event.a1258(a,t.Event.COMPLETE)},this),r.addEventListener(t.IOErrorEvent.IO_ERROR,function(){t.IOErrorEvent.dispatchIOErrorEvent(a)},this),r.responseType=a.dataFormat==t.URLLoaderDataFormat.BINARY?t.HttpResponseType.ARRAY_BUFFER:t.HttpResponseType.TEXT,r.send(s)},a.prototype.a1473=function(e){switch(e){case t.URLLoaderDataFormat.TEXT:case t.URLLoaderDataFormat.VARIABLES:return t.URLLoaderDataFormat.TEXT;case t.URLLoaderDataFormat.BINARY:return"arraybuffer";default:return e}},a.prototype.a1474=function(e){var i=e._request.url,a=new t.Sound;this.sound=a,a.addEventListener(t.Event.COMPLETE,this.a1475,this),a.addEventListener(t.IOErrorEvent.IO_ERROR,this.a1476,this),a.addEventListener(t.ProgressEvent.PROGRESS,this.onSoundLoaderPostProgress,this),a.load(i)},a.prototype.a1475=function(e){var i=this;this.removeSoundLoaderListeners(),this.data=this.sound,window.setTimeout(function(){i.dispatchEventWith(t.Event.COMPLETE)},0)},a.prototype.onSoundLoaderPostProgress=function(t){this.a1258(t)},a.prototype.a1476=function(t){this.a1258(t)},a.prototype.removeSoundLoaderListeners=function(){this.sound.removeEventListener(t.Event.COMPLETE,this.a1475,this),this.sound.removeEventListener(t.IOErrorEvent.IO_ERROR,this.a1476,this),this.sound.removeEventListener(t.ProgressEvent.PROGRESS,this.onSoundLoaderPostProgress,this)
},a.prototype.loadTexture=function(e){this.virtualUrl=e._request.url;var i=new t.ImageLoader;this.imageLoader=i,i.addEventListener(t.Event.COMPLETE,this.a1478,this),i.addEventListener(t.IOErrorEvent.IO_ERROR,this.a1479,this),i.addEventListener(t.ProgressEvent.PROGRESS,this.onImageLoaderPostProgress,this),i.load(this.virtualUrl)},a.prototype.a1478=function(e){var i=this;this.removeImageLoaderListeners();var a=new t.Texture,n=this.imageLoader.data;n.source.setAttribute&&n.source.setAttribute("bitmapSrc",this.virtualUrl),a._setBitmapData(n),this.data=a,window.setTimeout(function(){i.dispatchEventWith(t.Event.COMPLETE)},0)},a.prototype.onImageLoaderPostProgress=function(t){this.a1258(t)},a.prototype.a1479=function(t){this.a1258(t)},a.prototype.removeImageLoaderListeners=function(){this.imageLoader.removeEventListener(t.Event.COMPLETE,this.a1478,this),this.imageLoader.removeEventListener(t.IOErrorEvent.IO_ERROR,this.a1479,this),this.imageLoader.removeEventListener(t.ProgressEvent.PROGRESS,this.onImageLoaderPostProgress,this)},a.prototype.__recycle=function(){this._request=null,this.data=null},a}(t.EventDispatcher);t.URLLoader=i,__reflect(i.prototype,"egret.URLLoader")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var a=e.call(this)||this;return a.$texture=null,a.a1345=t.Point.create(0,0),a.$movieClipData=null,a.frames=null,a.$totalFrames=0,a.frameLabels=null,a.$frameLabelStart=0,a.$frameLabelEnd=0,a.frameEvents=null,a.frameIntervalTime=0,a.$eventPool=null,a.$a1713=!1,a.isStopped=!0,a.playTimes=0,a.$currentFrameNum=0,a.$nextFrameNum=1,a.displayedKeyFrameNum=0,a.passedTime=0,a.$frameRate=0/0,a.lastTime=0,a.$smoothing=t.Bitmap.defaultSmoothing,a.a1491(i),t.nativeRender||(a.$a1377=new t.sys.NormalBitmapNode),a}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(11)},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){t!=this.$smoothing&&(this.$smoothing=t)},enumerable:!0,configurable:!0}),i.prototype.$init=function(){this.$reset();var t=this.$movieClipData;t&&t.$isDataValid()&&(this.frames=t.frames,this.$totalFrames=t.numFrames,this.frameLabels=t.labels,this.frameEvents=t.events,this.$frameRate=t.frameRate,this.frameIntervalTime=1e3/this.$frameRate,this._initFrame())},i.prototype.$reset=function(){this.frames=null,this.playTimes=0,this.$a1713=!1,this.a1493(!0),this.$currentFrameNum=0,this.$nextFrameNum=1,this.displayedKeyFrameNum=0,this.passedTime=0,this.$eventPool=[]},i.prototype._initFrame=function(){this.$movieClipData.$isTextureValid()&&(this.a1488(),this.a1489())},i.prototype.$updateRenderNode=function(){var e=this.$texture;if(e){var i=Math.round(this.a1345.x),a=Math.round(this.a1345.y),n=e.$bitmapWidth,r=e.$bitmapHeight,s=e.$getTextureWidth(),o=e.$getTextureHeight(),l=Math.round(e.$getScaleBitmapWidth()),h=Math.round(e.$getScaleBitmapHeight()),p=e.$sourceWidth,u=e.$sourceHeight;t.sys.BitmapNode.$updateTextureData(this.$a1377,e.$bitmapData,e.$bitmapX,e.$bitmapY,n,r,i,a,s,o,l,h,p,u,t.BitmapFillMode.SCALE,this.$smoothing)}},i.prototype.$measureContentBounds=function(t){var e=this.$texture;if(e){var i=this.a1345.x,a=this.a1345.y,n=e.$getTextureWidth(),r=e.$getTextureHeight();t.setTo(i,a,n,r)}else t.setEmpty()},i.prototype.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i),this.$a1713&&this.$totalFrames>1&&this.a1493(!1)},i.prototype.$a1692=function(){e.prototype.$a1692.call(this),this.a1493(!0)},i.prototype.a1480=function(t,e){void 0===e&&(e=!1),e&&(t=t.toLowerCase());var i=this.frameLabels;if(i)for(var a=null,n=0;n<i.length;n++)if(a=i[n],e?a.name.toLowerCase()==t:a.name==t)return a;return null},i.prototype.a1481=function(t){var e=this.frameLabels;if(e)for(var i=null,a=0;a<e.length;a++)if(i=e[a],t==i.name){this.$frameLabelStart=i.frame,this.$frameLabelEnd=i.end;break}},i.prototype.getFrameLabelByFrame=function(t){var e=this.frameLabels;if(e)for(var i=null,a=0;a<e.length;a++)if(i=e[a],i.frame==t)return i;return null},i.prototype.getFrameLabelForFrame=function(t){var e=null,i=null,a=this.frameLabels;if(a)for(var n=0;n<a.length;n++){if(i=a[n],i.frame>t)return e;e=i}return e},i.prototype.play=function(e){void 0===e&&(e=0),this.lastTime=t.getTimer(),this.passedTime=0,this.$a1713=!0,this.a1492(e),this.$totalFrames>1&&this.$stage&&this.a1493(!1)},i.prototype.stop=function(){this.$a1713=!1,this.a1493(!0)},i.prototype.a1482=function(){this.a1485(this.$currentFrameNum-1)},i.prototype.nextFrame=function(){this.a1485(this.$currentFrameNum+1)},i.prototype.a1484=function(e,i){void 0===i&&(i=0),(0==arguments.length||arguments.length>2)&&t.$error(1022,"MovieClip.a1484()"),"string"==typeof e?this.a1481(e):(this.$frameLabelStart=0,this.$frameLabelEnd=0),this.play(i),this.a1486(e)},i.prototype.a1485=function(e){1!=arguments.length&&t.$error(1022,"MovieClip.a1485()"),this.stop(),this.a1486(e)},i.prototype.a1486=function(e){var i;"string"==typeof e?i=this.a1480(e).frame:(i=parseInt(e+"",10),i!=e&&t.$error(1022,"Frame Label Not Found")),1>i?i=1:i>this.$totalFrames&&(i=this.$totalFrames),i!=this.$nextFrameNum&&(this.$nextFrameNum=i,this.a1488(),this.a1489(),this.a1490())},i.prototype.advanceTime=function(e){var i=this,a=e-i.lastTime;i.lastTime=e;var n=i.frameIntervalTime,r=i.passedTime+a;i.passedTime=r%n;var s=r/n;if(1>s)return!1;for(;s>=1;){if(s--,i.$nextFrameNum++,i.$nextFrameNum>i.$totalFrames||i.$frameLabelStart>0&&i.$nextFrameNum>i.$frameLabelEnd)if(-1==i.playTimes)i.$eventPool.push(t.Event.LOOP_COMPLETE),i.$nextFrameNum=1;else{if(i.playTimes--,!(i.playTimes>0)){i.$nextFrameNum=i.$totalFrames,i.$eventPool.push(t.Event.COMPLETE),i.stop();break}i.$eventPool.push(t.Event.LOOP_COMPLETE),i.$nextFrameNum=1}i.$currentFrameNum==i.$frameLabelEnd&&(i.$nextFrameNum=i.$frameLabelStart),i.a1488()}return i.a1489(),i.a1490(),!1},i.prototype.a1488=function(){this.$currentFrameNum=this.$nextFrameNum;var e=this.frameEvents[this.$nextFrameNum];e&&""!=e&&t.MovieClipEvent.dispatchMovieClipEvent(this,t.MovieClipEvent.FRAME_LABEL,e)},i.prototype.a1489=function(){var e=this,i=e.$currentFrameNum;if(e.displayedKeyFrameNum!=i){var a=e.$movieClipData.getTextureByFrame(i);if(e.$texture=a,e.$movieClipData.$getOffsetByFrame(i,e.a1345),e.displayedKeyFrameNum=i,e.$renderDirty=!0,t.nativeRender)e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,a,[a.$bitmapX,a.$bitmapY,a.$bitmapWidth,a.$bitmapHeight,e.a1345.x,e.a1345.y,a.$getScaleBitmapWidth(),a.$getScaleBitmapHeight(),a.$sourceWidth,a.$sourceHeight]),e.$nativeDisplayObject.setWidth(a.$getTextureWidth()+e.a1345.x),e.$nativeDisplayObject.setHeight(a.$getTextureHeight()+e.a1345.y);else{var n=e.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var r=e.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}}},i.prototype.$renderFrame=function(){var t=this;t.$texture=t.$movieClipData.getTextureByFrame(t.$currentFrameNum),t.$renderDirty=!0;var e=t.$parent;e&&!e.$cacheDirty&&(e.$cacheDirty=!0,e.$cacheDirtyUp());var i=t.$maskedObject;i&&!i.$cacheDirty&&(i.$cacheDirty=!0,i.$cacheDirtyUp())},i.prototype.a1490=function(){if(0!=this.$eventPool.length){this.$eventPool.reverse();for(var e=this.$eventPool,i=e.length,a=!1,n=!1,r=0;i>r;r++){var s=e.pop();s==t.Event.LOOP_COMPLETE?n=!0:s==t.Event.COMPLETE?a=!0:this.dispatchEventWith(s)}n&&this.dispatchEventWith(t.Event.LOOP_COMPLETE),a&&this.dispatchEventWith(t.Event.COMPLETE)}},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this.$totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){return this.$currentFrameNum},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentFrameLabel",{get:function(){var t=this.getFrameLabelByFrame(this.$currentFrameNum);return t&&t.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentLabel",{get:function(){var t=this.getFrameLabelForFrame(this.$currentFrameNum);return t?t.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameRate",{get:function(){return this.$frameRate},set:function(t){t!=this.$frameRate&&(this.$frameRate=t,this.frameIntervalTime=1e3/this.$frameRate)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"a1713",{get:function(){return this.$a1713},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"movieClipData",{get:function(){return this.$movieClipData},set:function(t){this.a1491(t)},enumerable:!0,configurable:!0}),i.prototype.a1491=function(t){this.$movieClipData!=t&&(this.$movieClipData=t,this.$init())},i.prototype.a1492=function(t){(0>t||t>=1)&&(this.playTimes=0>t?-1:Math.floor(t))},i.prototype.a1493=function(e){this.isStopped!=e&&(this.isStopped=e,e?t.ticker.$stopTick(this.advanceTime,this):(this.playTimes=0==this.playTimes?1:this.playTimes,this.lastTime=t.getTimer(),t.ticker.$startTick(this.advanceTime,this)))},i}(t.DisplayObject);t.MovieClip=e,__reflect(e.prototype,"egret.MovieClip")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var a=e.call(this)||this;return a.data=null,a.method=t.URLRequestMethod.GET,a.url="",a.requestHeaders=[],a.url=i,a}return __extends(i,e),i}(t.HashObject);t.URLRequest=e,__reflect(e.prototype,"egret.URLRequest")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t,e){this.name="",this.value="",this.name=t,this.value=e}return t}();t.URLRequestHeader=e,__reflect(e.prototype,"egret.URLRequestHeader")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.GET="get",t.POST="post",t}();t.URLRequestMethod=e,__reflect(e.prototype,"egret.URLRequestMethod")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.variables=null,null!==e&&i.decode(e),i}return __extends(e,t),e.prototype.decode=function(t){this.variables||(this.variables={}),t=t.split("+").join(" ");for(var e,i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);){var a=decodeURIComponent(e[1]),n=decodeURIComponent(e[2]);if(a in this.variables!=0){var r=this.variables[a];r instanceof Array?r.push(n):this.variables[a]=[r,n]}else this.variables[a]=n}},e.prototype.toString=function(){if(!this.variables)return"";var t=this.variables,e=[];for(var i in t)e.push(this.encodeValue(i,t[i]));return e.join("&")},e.prototype.encodeValue=function(t,e){return e instanceof Array?this.encodeArray(t,e):encodeURIComponent(t)+"="+encodeURIComponent(e)},e.prototype.encodeArray=function(t,e){return t?0==e.length?encodeURIComponent(t)+"=":e.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):""},e}(t.HashObject);t.URLVariables=e,__reflect(e.prototype,"egret.URLVariables")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var a=e.call(this)||this;return a._timeScale=1,a._paused=!1,a._callIndex=-1,a._lastTime=0,a.callBackList=[],null!=i.instance,t.ticker.$startTick(a.update,a),a._lastTime=t.getTimer(),a}return __extends(i,e),i.prototype.update=function(t){var e=t-this._lastTime;if(this._lastTime=t,this._paused)return!1;var i=e*this._timeScale;for(this._callList=this.callBackList.concat(),this._callIndex=0;this._callIndex<this._callList.length;this._callIndex++){var a=this._callList[this._callIndex];a.listener.call(a.thisObject,i)}return this._callIndex=-1,this._callList=null,!1},i.prototype.register=function(t,e,i){void 0===i&&(i=0),this.$insertEventBin(this.callBackList,"",t,e,!1,i,!1)},i.prototype.unregister=function(t,e){this.$removeEventBin(this.callBackList,t,e)},i.prototype.a1497=function(t){this._timeScale=t},i.prototype.a1498=function(){return this._timeScale},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i}(t.EventDispatcher);t.Ticker=e,__reflect(e.prototype,"egret.Ticker")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"stage",{get:function(){return t.sys.$TempStage},enumerable:!0,configurable:!0}),Object.defineProperty(i,"instance",{get:function(){return null==i._instance&&(i._instance=new i),i._instance},enumerable:!0,configurable:!0}),i.deviceType=null,i.DEVICE_PC="web",i.DEVICE_MOBILE="native",i}(t.EventDispatcher);t.MainContext=e,__reflect(e.prototype,"egret.MainContext")}(egret||(egret={})),egret.testDeviceType1=function(){if(!window.navigator||!navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},egret.MainContext.deviceType=egret.testDeviceType1()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC,delete egret.testDeviceType1;var egret;!function(t){var e=function(e){function i(t){void 0===t&&(t=300);var i=e.call(this)||this;return i.objectPool=[],i._length=0,1>t&&(t=1),i.autoDisposeTime=t,i.frameCount=0,i}return __extends(i,e),i.$init=function(){t.ticker.$startTick(i.onUpdate,i)},i.onUpdate=function(t){for(var e=i._callBackList,a=e.length-1;a>=0;a--)e[a].$checkFrame();return!1},i.prototype.$checkFrame=function(){this.frameCount--,this.frameCount<=0&&this.dispose()},Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),i.prototype.push=function(t){var e=this.objectPool;-1==e.indexOf(t)&&(e.push(t),t.__recycle&&t.__recycle(),this._length++,0==this.frameCount&&(this.frameCount=this.autoDisposeTime,i._callBackList.push(this)))},i.prototype.pop=function(){return 0==this._length?null:(this._length--,this.objectPool.pop())},i.prototype.dispose=function(){this._length>0&&(this.objectPool=[],this._length=0),this.frameCount=0;var t=i._callBackList,e=t.indexOf(this);-1!=e&&t.splice(e,1)},i._callBackList=[],i}(t.HashObject);t.Recycler=e,__reflect(e.prototype,"egret.Recycler"),e.$init()}(egret||(egret={}));var egret;!function(t){function e(e,i,l){for(var h=[],p=3;p<arguments.length;p++)h[p-3]=arguments[p];var u={listener:e,thisObject:i,delay:l,originDelay:l,params:h};return s++,1==s&&(o=t.getTimer(),t.ticker.$startTick(a,null)),r++,n[r]=u,r}function i(e){n[e]&&(s--,delete n[e],0==s&&t.ticker.$stopTick(a,null))}function a(t){var e=t-o;o=t;for(var i in n){var a=n[i];a.delay-=e,a.delay<=0&&(a.delay=a.originDelay,a.listener.apply(a.thisObject,a.params))}return!1}var n={},r=0,s=0,o=0;t.setInterval=e,t.clearInterval=i}(egret||(egret={}));var egret;!function(t){function e(e,i,l){for(var h=[],p=3;p<arguments.length;p++)h[p-3]=arguments[p];var u={listener:e,thisObject:i,delay:l,params:h};return s++,1==s&&t.ticker&&(o=t.getTimer(),t.ticker.$startTick(a,null)),r++,n[r]=u,r}function i(e){n[e]&&(s--,delete n[e],0==s&&t.ticker&&t.ticker.$stopTick(a,null))}function a(t){var e=t-o;o=t;for(var a in n){var r=a,s=n[r];s.delay-=e,s.delay<=0&&(i(r),s.listener.apply(s.thisObject,s.params))}return!1}var n={},r=0,s=0,o=0;t.setTimeout=e,t.clearTimeout=i}(egret||(egret={}));var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowIn=function(t){return function(e){return Math.pow(e,t)}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},e.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},e.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(t,e){var i=2*Math.PI;return function(a){if(0==a||1==a)return a;var n=e/i*Math.asin(1/t);return-(t*Math.pow(2,10*(a-=1))*Math.sin((a-n)*i/e))}},e.getElasticOut=function(t,e){var i=2*Math.PI;return function(a){if(0==a||1==a)return a;var n=e/i*Math.asin(1/t);return t*Math.pow(2,-10*a)*Math.sin((a-n)*i/e)+1}},e.getElasticInOut=function(t,e){var i=2*Math.PI;return function(a){var n=e/i*Math.asin(1/t);return(a*=2)<1?-.5*(t*Math.pow(2,10*(a-=1))*Math.sin((a-n)*i/e)):t*Math.pow(2,-10*(a-=1))*Math.sin((a-n)*i/e)*.5+1}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.backIn=e.getBackIn(1.7),e.backOut=e.getBackOut(1.7),e.backInOut=e.getBackInOut(1.7),e.elasticIn=e.getElasticIn(1,.3),e.elasticOut=e.getElasticOut(1,.3),e.elasticInOut=e.getElasticInOut(1,.3*1.5),e}();t.Ease=e,__reflect(e.prototype,"egret.Ease")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,a){var n=e.call(this)||this;return n._target=null,n._useTicks=!1,n.ignoreGlobalPause=!1,n.loop=!1,n.pluginData=null,n._steps=null,n.paused=!1,n.duration=0,n._prevPos=-1,n.position=null,n._prevPosition=0,n._stepPosition=0,n.passive=!1,n.initialize(t,i,a),n}return __extends(i,e),i.get=function(t,e,a,n){return void 0===a&&(a=null),void 0===n&&(n=!1),n&&i.removeTweens(t),new i(t,e,a)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,a=e.length-1;a>=0;a--)e[a]._target==t&&(e[a].paused=!0,e.splice(a,1));t.tween_count=0}},i.pauseTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,a=i.length-1;a>=0;a--)i[a]._target==e&&(i[a].paused=!0)},i.resumeTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,a=i.length-1;a>=0;a--)i[a]._target==e&&(i[a].paused=!1)},i.tick=function(t,e){void 0===e&&(e=!1);var a=t-i._lastTime;i._lastTime=t;for(var n=i._tweens.concat(),r=n.length-1;r>=0;r--){var s=n[r];e&&!s.ignoreGlobalPause||s.paused||s.$tick(s._useTicks?1:a)}return!1},i._register=function(e,a){var n=e._target,r=i._tweens;if(a)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),r.push(e),i._inited||(i._lastTime=t.getTimer(),t.ticker.$startTick(i.tick,null),i._inited=!0);else{n&&n.tween_count--;for(var s=r.length;s--;)if(r[s]==e)return void r.splice(s,1)}},i.removeAllTweens=function(){for(var t=i._tweens,e=0,a=t.length;a>e;e++){var n=t[e];n.paused=!0,n._target.tween_count=0}t.length=0},i.prototype.initialize=function(t,e,a){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=a||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.a1461(e.position,i.NONE)},i.prototype.a1461=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,a=!1;if(i>=this.duration)if(this.loop){var n=i%this.duration;i=i>0&&0===n?this.duration:n}else i=this.duration,a=!0;if(i==this._prevPos)return a;a&&this.a1462(!0);var r=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target&&this._steps.length>0){for(var s=this._steps.length,o=-1,l=0;s>l&&!("step"==this._steps[l].type&&(o=l,this._steps[l].t<=i&&this._steps[l].t+this._steps[l].d>=i));l++);for(var l=0;s>l;l++)if("action"==this._steps[l].type)0!=e&&(this._useTicks?this._runAction(this._steps[l],i,i):1==e&&r>i?(r!=this.duration&&this._runAction(this._steps[l],r,this.duration),this._runAction(this._steps[l],0,i,!0)):this._runAction(this._steps[l],r,i));else if("step"==this._steps[l].type&&o==l){var h=this._steps[o];this._updateTargetProps(h,Math.min((this._stepPosition=i-h.t)/h.d,1))}}return this.dispatchEventWith("change"),a},i.prototype._runAction=function(t,e,i,a){void 0===a&&(a=!1);var n=e,r=i;e>i&&(n=i,r=e);var s=t.t;(s==r||s>n&&r>s||a&&s==e)&&t.f.apply(t.o,t.p)},i.prototype._updateTargetProps=function(t,e){var a,n,r,s,o,l;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),a=t.p0,n=t.p1}else this.passive=!1,a=n=this._curQueueProps;for(var h in this._initQueueProps){null==(s=a[h])&&(a[h]=s=this._initQueueProps[h]),null==(o=n[h])&&(n[h]=o=s),r=s==o||0==e||1==e||"number"!=typeof s?1==e?o:s:s+(o-s)*e;var p=!1;if(l=i._plugins[h])for(var u=0,c=l.length;c>u;u++){var d=l[u].tween(this,h,r,a,n,e,!!t&&a==n,!t);d==i.IGNORE?p=!0:r=d}p||(this._target[h]=r)}},i.prototype.a1462=function(t){return this.paused==t?this:(this.paused=t,i._register(this,!t),this)},i.prototype._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},i.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},i.prototype._appendQueueProps=function(t){var e,a,n,r,s;for(var o in t)if(void 0===this._initQueueProps[o]){if(a=this._target[o],e=i._plugins[o])for(n=0,r=e.length;r>n;n++)a=e[n].init(this,o,a);this._initQueueProps[o]=this._curQueueProps[o]=void 0===a?null:a}else a=this._curQueueProps[o];for(var o in t){if(a=this._curQueueProps[o],e=i._plugins[o])for(s=s||{},n=0,r=e.length;r>n;n++)e[n].step&&e[n].step(this,o,a,t[o],s);this._curQueueProps[o]=t[o]}return s&&this._appendQueueProps(s),this._curQueueProps},i.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},i.prototype._set=function(t,e){for(var i in t)e[i]=t[i]},i.prototype.wait=function(t,e){if(null==t||0>=t)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,p1:i,v:e})},i.prototype.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},i.prototype.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},i.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},i.prototype.play=function(t){return t||(t=this),this.call(t.a1462,t,[!1])},i.prototype.pause=function(t){return t||(t=this),this.call(t.a1462,t,[!0])},i.prototype.$tick=function(t){this.paused||this.a1461(this._prevPosition+t)},i.NONE=0,i.LOOP=1,i.REVERSE=2,i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);t.Tween=e,__reflect(e.prototype,"egret.Tween")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){if("function"==typeof e)return e;var i=t.Ease[e];return"function"==typeof i?i:null}function a(t,e,i,a){var n=t.prototype;n.__meta__=n.__meta__||{},n.__meta__[e]=i,a&&(n.__defaultProperty__=e)}var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e}return __extends(e,t),e}(t.EventDispatcher);e.BasePath=n,__reflect(n.prototype,"egret.tween.BasePath");var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e.duration=500,e.ease=void 0,e}return __extends(e,t),e}(n);e.To=r,__reflect(r.prototype,"egret.tween.To");var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=500,e.passive=void 0,e}return __extends(e,t),e}(n);e.Wait=s,__reflect(s.prototype,"egret.tween.Wait");var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e}return __extends(e,t),e}(n);e.Set=o,__reflect(o.prototype,"egret.tween.Set");var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delta=0,e}return __extends(e,t),e}(n);e.Tick=l,__reflect(l.prototype,"egret.tween.Tick");var h=function(e){function a(){var t=e.call(this)||this;return t.isStop=!1,t}return __extends(a,e),Object.defineProperty(a.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paths",{get:function(){return this._paths},set:function(t){this._paths=t||[]},enumerable:!0,configurable:!0}),a.prototype.play=function(t){this.tween?(this.tween.a1462(!1),this.isStop&&void 0==t&&(t=0,this.isStop=!1),void 0!==t&&null!==t&&this.tween.a1461(t)):this.a1500(t)},a.prototype.pause=function(){this.tween&&this.tween.a1462(!0)},a.prototype.stop=function(){this.pause(),this.isStop=!0},a.prototype.a1500=function(e){this.tween=t.Tween.get(this._target,this._props),this._paths&&this.applyPaths(),void 0!==e&&null!==e&&this.tween.a1461(e)},a.prototype.applyPaths=function(){for(var t=0;t<this._paths.length;t++){var e=this._paths[t];this.applyPath(e)}},a.prototype.applyPath=function(t){var e=this;t instanceof r?this.tween.to(t.props,t.duration,i(t.ease)):t instanceof s?this.tween.wait(t.duration,t.passive):t instanceof o?this.tween.set(t.props):t instanceof l&&this.tween.$tick(t.delta),this.tween.call(function(){return e.a1503(t)})},a.prototype.a1503=function(t){t.dispatchEventWith("complete"),this.dispatchEventWith("a1503",!1,t);var e=this._paths.indexOf(t);e>=0&&e===this._paths.length-1&&this.dispatchEventWith("complete")},a}(t.EventDispatcher);e.TweenItem=h,__reflect(h.prototype,"egret.tween.TweenItem"),a(h,"paths","Array",!0);var p=function(t){function e(){var e=t.call(this)||this;return e.completeCount=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(t){this.completeCount=0,this.a1504(!1),this._items=t,this.a1504(!0)},enumerable:!0,configurable:!0}),e.prototype.a1504=function(t){var e=this;this._items&&this._items.forEach(function(i){t?i.addEventListener("complete",e.a1505,e):i.removeEventListener("complete",e.a1505,e)})},e.prototype.play=function(t){if(this._items)for(var e=0;e<this._items.length;e++){var i=this._items[e];i.play(t)}},e.prototype.pause=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.pause()}},e.prototype.stop=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.stop()}},e.prototype.a1505=function(t){var e=t.currentTarget;this.completeCount++,this.dispatchEventWith("a1505",!1,e),this.completeCount===this.items.length&&(this.dispatchEventWith("complete"),this.completeCount=0)},e}(t.EventDispatcher);e.TweenGroup=p,__reflect(p.prototype,"egret.tween.TweenGroup"),a(p,"items","Array",!0)}(e=t.tween||(t.tween={}))}(egret||(egret={}));var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,s=3>r?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,a);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(3>r?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RES;!function(t){}(RES||(RES={}));var RES;!function(t){var e=function(){function e(){this.groupTotalDic={},this.numLoadedDic={},this.groupErrorDic={},this.retryTimesDic={},this.maxRetryTimes=3,this.reporterDic={},this.dispatcherDic={},this.failedList=new Array,this.loadItemErrorDic={},this.errorDic={},this.itemListPriorityDic={},this.itemLoadDic={},this.promiseHash={},this.lazyLoadList=new Array,this.loadingCount=0,this.thread=4}return e.prototype.a1506=function(t){if(this.promiseHash[t.root+t.name])return this.promiseHash[t.root+t.name];this.lazyLoadList.push(t),this.itemListPriorityDic[Number.NEGATIVE_INFINITY]=this.lazyLoadList,this.a1508(this.lazyLoadList,Number.NEGATIVE_INFINITY);var e=new egret.EventDispatcher;this.dispatcherDic[t.root+t.name]=e;var i=new Promise(function(t,i){e.addEventListener("complete",function(e){t(e.data)},null),e.addEventListener("error",function(t){i(t.data)},null)});return this.promiseHash[t.root+t.name]=i,this.a1510(),i},e.prototype.a1507=function(t,e,i,a){if(this.promiseHash[e])return this.promiseHash[e];for(var n=t.length,r=0;n>r;r++){var s=t[r];s.groupNames||(s.groupNames=[]),s.groupNames.push(e)}this.groupTotalDic[e]=t.length,this.numLoadedDic[e]=0,this.a1508(t,i),this.reporterDic[e]=a;var o=new egret.EventDispatcher;this.dispatcherDic[e]=o;var l=new Promise(function(t,e){o.addEventListener("complete",t,null),o.addEventListener("error",function(t){e(t.data)},null)});return this.promiseHash[e]=l,this.a1510(),l},e.prototype.a1508=function(t,e){void 0==this.itemListPriorityDic[e]&&(this.itemListPriorityDic[e]=[]);for(var i=0,a=t;i<a.length;i++){var n=a[i];if(1!=this.itemLoadDic[n.root+n.name]){var r=this.a1509(n);if(void 0==r)this.itemListPriorityDic[e].push(n);else if(e>r){this.itemListPriorityDic[e].push(n);var s=this.itemListPriorityDic[r].indexOf(n);this.itemListPriorityDic[r].splice(s,1)}}}},e.prototype.a1509=function(t){for(var e in this.itemListPriorityDic)if(this.itemListPriorityDic[e].indexOf(t)>-1)return parseInt(e)},e.prototype.a1510=function(){for(;this.loadingCount<this.thread;){var t=this.a1511();if(!t)break}},e.prototype.a1511=function(){var e=this,i=this.getOneResourceInfoInGroup();return i?(this.itemLoadDic[i.root+i.name]=1,this.loadingCount++,this.a1515(i).then(function(a){if(e.loadingCount--,delete e.itemLoadDic[i.root+i.name],t.host.save(i,a),e.promiseHash[i.root+i.name]){var n=e.a1514(i.root+i.name);n.dispatchEventWith("complete",!1,a)}var r=i.groupNames;if(r){delete i.groupNames;for(var s=0,o=r;s<o.length;s++){var l=o[s];e.a1512(l,i)&&e.a1513(l)}}e.a1510()})["catch"](function(a){if(!a)throw i.name+" load fail";if(!a.__resource_manager_error__)throw a;delete e.itemLoadDic[i.root+i.name],e.loadingCount--,delete t.host.state[i.root+i.name];var n=e.retryTimesDic[i.name]||1;if(!(n>e.maxRetryTimes))return e.retryTimesDic[i.name]=n+1,e.failedList.push(i),void e.a1510();if(delete e.retryTimesDic[i.name],e.promiseHash[i.root+i.name]){var r=e.a1514(i.root+i.name);r.dispatchEventWith("error",!1,{r:i,error:a})}var s=i.groupNames;if(s){delete i.groupNames;for(var o=0,l=s;o<l.length;o++){var h=l[o];
e.loadItemErrorDic[h]||(e.loadItemErrorDic[h]=[]),-1==e.loadItemErrorDic[h].indexOf(i)&&e.loadItemErrorDic[h].push(i),e.groupErrorDic[h]=!0,e.a1512(h,i)?e.a1513(h,a):e.errorDic[h]=a}}e.a1510()}),!0):!1},e.prototype.getOneResourceInfoInGroup=function(){if(this.failedList.length>0)return this.failedList.shift();var t=Number.NEGATIVE_INFINITY;for(var e in this.itemListPriorityDic)t=Math.max(t,e);var i=this.itemListPriorityDic[t];return i?0==i.length?(delete this.itemListPriorityDic[t],this.getOneResourceInfoInGroup()):i.shift():void 0},e.prototype.a1512=function(t,e){var i=this.reporterDic[t];this.numLoadedDic[t]++;var a=this.numLoadedDic[t],n=this.groupTotalDic[t];return i&&i.onProgress&&i.onProgress(a,n,e),a==n},e.prototype.a1513=function(t,e){delete this.groupTotalDic[t],delete this.numLoadedDic[t],delete this.reporterDic[t];var i=this.a1514(t);if(e){delete this.groupErrorDic[t];var a=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t],i.dispatchEventWith("error",!1,{itemList:a,lastError:e})}else{var n=this.groupErrorDic[t];if(delete this.groupErrorDic[t],n){var a=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t];var r=this.errorDic[t];delete this.errorDic[t],i.dispatchEventWith("error",!1,{itemList:a,error:r})}else i.dispatchEventWith("complete")}},e.prototype.a1514=function(t){delete this.promiseHash[t];var e=this.dispatcherDic[t];return delete this.dispatcherDic[t],e},e.prototype.a1515=function(e,i){if(!i){if(1==t.FEATURE_FLAG.FIX_DUPLICATE_LOAD){var a=t.host.state[e.root+e.name];if(2==a&&RES.host.get(e))return Promise.resolve(t.host.get(e));if(1==a&&e.promise)return e.promise}i=t.processor.isSupport(e)}if(!i)throw new t.ResourceManagerError(2001,e.name,e.type);t.host.state[e.root+e.name]=1;var n=i.onLoadStart(t.host,e);return e.promise=n,n},e.prototype.unloadResource=function(e){var i=t.host.get(e);if(!i)return console.warn("尝试释放不存在的资源:",e.name),!1;var a=t.processor.isSupport(e);return a?(a.onRemoveStart(t.host,e),t.host.remove(e),1==e.extra&&t.config.removeResourceData(e),!0):!0},e}();t.ResourceLoader=e,__reflect(e.prototype,"RES.ResourceLoader")}(RES||(RES={}));var RES;!function(t){t.checkNull=function(t,e,i){var a=i.value;i.value=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t[0]?a.apply(this,t):(console.warn("方法"+e+"的参数不能为null"),null)}},t.FEATURE_FLAG={FIX_DUPLICATE_LOAD:1};var e;!function(t){function e(t){i=t}var i="warning";t.setUpgradeGuideLevel=e}(e=t.upgrade||(t.upgrade={}))}(RES||(RES={}));var RES;!function(t){function e(e){var i=t.config.config.fileSystem.getFile(e);return i||(e=t.resourceNameSelector(e),i=t.config.config.fileSystem.getFile(e)),i}function i(t,e){var i;i=t.indexOf(".json")>=0?"legacyResourceConfig":"resourceConfig",a={type:i,root:e,url:t,name:t}}t.resourceNameSelector=function(t){return t},t.getResourceInfo=e;var a;t.setConfigURL=i;var n=function(){function i(){}return i.prototype.init=function(){return this.config||(this.config={alias:{},groups:{},resourceRoot:a.root,mergeSelector:null,fileSystem:null,loadGroup:[]}),t.queue.a1506(a)["catch"](function(e){return t.isCompatible||e.__resource_manager_error__||(e.error?console.error(e.error.stack):console.error(e.stack),e=new t.ResourceManagerError(1002)),t.host.remove(a),Promise.reject(e)})},i.prototype.a1517=function(e){var i=this.config.groups[e],a=[];if(!i)return a;for(var n=0,r=i;n<r.length;n++){var s=r[n],o=void 0;if(o=t.config.getResourceWithSubkey(s),null!=o){var l=o.r,h=o.key;if(null==l)throw new t.ResourceManagerError(2005,h);-1==a.indexOf(l)&&a.push(l)}}return a},i.prototype.__temp__get__type__via__url=function(e){var i=this.config.alias[e];if(i||(i=e),t.typeSelector){var a=t.typeSelector(i);if(!a)throw new t.ResourceManagerError(2004,i);return a}return console.warn("RES.mapConfig 并未设置 typeSelector"),"unknown"},i.prototype.getResourceWithSubkey=function(t){t=this.a1518(t);var e=t.indexOf("#"),i="";e>=0&&(i=t.substr(e+1),t=t.substr(0,e));var a=this.a1519(t);return a?{r:a,key:t,subkey:i}:null},i.prototype.a1518=function(t){return this.config.alias[t]?this.config.alias[t]:t},i.prototype.a1519=function(t){var i=this.config.alias[t];i||(i=t);var a=e(i);return a?a:null},i.prototype.createGroup=function(t,e,i){if(void 0===i&&(i=!1),!i&&this.config.groups[t]||!e||0==e.length)return!1;for(var a=[],n=0,r=e;n<r.length;n++){var s=r[n];if(this.config.groups[s]){var o=this.config.groups[s];a=a.concat(o)}else a.push(s)}return this.config.groups[t]=a,!0},i.prototype.addSubkey=function(t,e){this.a1522(t,e+"#"+t)},i.prototype.a1522=function(t,e){this.config.alias[e]&&(e=this.config.alias[e]),this.config.alias[t]=e},i.prototype.a1523=function(e){t.hasRes(e.name)||(e.type||(e.type=this.__temp__get__type__via__url(e.url)),t.config.config.fileSystem.addFile(e))},i.prototype.removeResourceData=function(e){t.hasRes(e.name)&&(t.config.config.fileSystem.removeFile(e.url),this.config.alias[e.name]&&delete this.config.alias[e.name])},i}();t.ResourceConfig=n,__reflect(n.prototype,"RES.ResourceConfig")}(RES||(RES={}));var RES;!function(t){function e(e){return t.path.basename(e).split(".").join("_")}function i(e){var i,a=e.substr(e.lastIndexOf(".")+1);switch(a){case t.ResourceItem.TYPE_XML:case t.ResourceItem.TYPE_JSON:case t.ResourceItem.TYPE_SHEET:i=a;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":i=t.ResourceItem.TYPE_IMAGE;break;case"fnt":i=t.ResourceItem.TYPE_FONT;break;case"txt":i=t.ResourceItem.TYPE_TEXT;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":i=t.ResourceItem.TYPE_SOUND;break;case"mergeJson":case"zip":case"pvr":i=a;break;default:i=t.ResourceItem.TYPE_BIN}return i}function a(e,i){throw new t.ResourceManagerError(2002)}function n(e){t.isCompatible=e}function r(e,i){if(i.indexOf("://")>=0){var a=i.split("://");i=a[0]+"://"+t.path.normalize(a[1]+"/"),e=e.replace(i,"")}else i=t.path.normalize(i+"/"),e=e.replace(i,"");return t.setConfigURL(e,i),x||(x=new w),s(x.loadConfig())}function s(e){return t.isCompatible?void e["catch"](function(t){}).then():e}function o(t,e,i){return void 0===e&&(e=0),s(x.loadGroup(t,e,i))}function l(t){return x.a1525(t)}function h(e){return x.a1517(e).map(function(e){return t.ResourceItem.convertToResItem(e)})}function p(t,e,i){return void 0===i&&(i=!1),x.createGroup(t,e,i)}function u(t){return x.hasRes(t)}function c(t){return x.getRes(t)}function d(t,e,i){return s(x.a1528.apply(x,arguments))}function g(t,e,i,a){if(void 0===a&&(a=""),!x){var n=egret.sys.tr(3200);return egret.warn(n),Promise.reject(n)}return s(x.a1529(t,e,i,a))}function f(t,e){return x.a1530(t,e)}function m(t){x||(x=new w),x.setMaxLoadingThread(t)}function v(t){x.a1532(t)}function y(t,e,i,a,n){void 0===a&&(a=!1),void 0===n&&(n=0),x||(x=new w),x.addEventListener(t,e,i,a,n)}function b(t,e,i,a){void 0===a&&(a=!1),x.removeEventListener(t,e,i,a)}function _(t){x.a1523(t)}function A(){return x||(x=new w),x.vcs}function T(t){x||(x=new w),x.registerVersionController(t)}function C(t){return x.vcs?x.vcs.a1539(t):t}t.nameSelector=e,t.typeSelector=i,t.registerAnalyzer=a,t.setIsCompatible=n,t.isCompatible=!1,t.loadConfig=r,t.loadGroup=o,t.a1525=l,t.a1517=h,t.createGroup=p,t.hasRes=u,t.getRes=c,t.a1528=d,t.a1529=g,t.a1530=f,t.setMaxLoadingThread=m,t.a1532=v,t.addEventListener=y,t.removeEventListener=b,t.$a1523=_,t.getVersionController=A,t.registerVersionController=T,t.a1539=C;var w=function(e){function i(){var i=e.call(this)||this;return i.isVcsInit=!1,i.normalLoadConfig=function(){return t.config.init().then(function(e){t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.CONFIG_COMPLETE)},function(e){return t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.CONFIG_LOAD_ERROR),Promise.reject(e)})},t.VersionController&&(i.vcs=new t.VersionController),i}return __extends(i,e),i.prototype.registerVersionController=function(t){this.vcs=t,this.isVcsInit=!1},i.prototype.loadConfig=function(){var t=this;return!this.isVcsInit&&this.vcs?(this.isVcsInit=!0,this.vcs.init().then(function(){return t.normalLoadConfig()})):this.normalLoadConfig()},i.prototype.a1525=function(e){var i=t.config.a1517(e);return i.every(function(e){return null!=t.host.get(e)})},i.prototype.a1517=function(e){return t.config.a1517(e)},i.prototype.loadGroup=function(e,i,a){var n=this;void 0===i&&(i=0);var r={onProgress:function(i,r,s){a&&a.onProgress&&a.onProgress(i,r,s),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_PROGRESS,e,s,i,r)}};return this._loadGroup(e,i,r).then(function(i){-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_COMPLETE,e)},function(i){if(-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),i.itemList)for(var a=i.itemList,r=a.length,s=0;r>s;s++){var o=a[s];delete o.promise,t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.ITEM_LOAD_ERROR,e,o)}return t.isCompatible&&console.warn(i.error.message),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_LOAD_ERROR,e),Promise.reject(i.error)})},i.prototype._loadGroup=function(e,i,a){void 0===i&&(i=0);var n=t.config.a1517(e);return 0==n.length?new Promise(function(i,a){a({error:new t.ResourceManagerError(2005,e)})}):t.queue.a1507(n,e,i,a)},i.prototype.createGroup=function(e,i,a){return void 0===a&&(a=!1),t.config.createGroup(e,i,a)},i.prototype.hasRes=function(e){return null!=t.config.getResourceWithSubkey(e)},i.prototype.getRes=function(e){var i=t.config.getResourceWithSubkey(e);if(i){var a=i.r,n=i.key,r=i.subkey,s=t.processor.isSupport(a);return s&&s.getData&&r?s.getData(t.host,a,n,r):t.host.get(a)}return null},i.prototype.a1528=function(e,i,a){var n=this,r=e,s=t.config.getResourceWithSubkey(e);if(null==s)return i&&i.call(a,null,r),Promise.reject(new t.ResourceManagerError(2006,e));var o=this.getRes(e);if(o)return i&&egret.callLater(function(){i.call(a,o,r)},this),Promise.resolve(o);var l=s.r,h=s.subkey;return t.queue.a1506(l).then(function(n){t.host.save(l,n);var s=t.processor.isSupport(l);return s&&s.getData&&h&&(n=s.getData(t.host,l,e,h)),i&&i.call(a,n,r),n},function(e){return t.host.remove(l),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.ITEM_LOAD_ERROR,"",l),i?(i.call(a,null,r),Promise.reject(null)):Promise.reject(e)})},i.prototype.a1529=function(e,i,a,n){var r=this;void 0===n&&(n="");var s=t.config.a1519(e);if(!s&&(n||(n=t.config.__temp__get__type__via__url(e)),s={name:e,url:e,type:n,root:"",extra:1},t.config.a1523(s),s=t.config.a1519(e),!s))throw"never";return t.queue.a1506(s).then(function(e){return t.host.save(s,e),i&&s&&i.call(a,e,s.url),e},function(n){return t.host.remove(s),t.ResourceEvent.dispatchResourceEvent(r,t.ResourceEvent.ITEM_LOAD_ERROR,"",s),i?(i.call(a,null,e),Promise.reject(null)):Promise.reject(n)})},i.prototype.a1530=function(e,i){void 0===i&&(i=!0);var a=t.config.a1517(e);if(a&&a.length>0){var n=t.config.config.loadGroup.indexOf(e);if(-1==n)return!1;if(i||1==t.config.config.loadGroup.length&&t.config.config.loadGroup[0]==e){for(var r=0,s=a;r<s.length;r++){var o=s[r];t.queue.unloadResource(o)}t.config.config.loadGroup.splice(n,1)}else{for(var l={},h=0,p=t.config.config.loadGroup;h<p.length;h++){var u=p[h];for(var c in t.config.config.groups[u]){var d=t.config.config.groups[u][c];l[d]?l[d]++:l[d]=1}}for(var g=0,f=a;g<f.length;g++){var o=f[g];l[o.name]&&1==l[o.name]&&t.queue.unloadResource(o)}t.config.config.loadGroup.splice(n,1)}return!0}var o=t.config.a1519(e);return o?t.queue.unloadResource(o):(console.warn("在内存"+e+"资源不存在"),!1)},i.prototype.setMaxLoadingThread=function(e){1>e&&(e=1),t.queue.thread=e},i.prototype.a1532=function(e){e=Math.max(e,0),t.queue.maxRetryTimes=e},i.prototype.a1523=function(e){e.root="",t.config.a1523(e)},__decorate([t.checkNull],i.prototype,"hasRes",null),__decorate([t.checkNull],i.prototype,"getRes",null),__decorate([t.checkNull],i.prototype,"a1528",null),__decorate([t.checkNull],i.prototype,"a1529",null),i}(egret.EventDispatcher);t.Resource=w,__reflect(w.prototype,"RES.Resource");var x}(RES||(RES={}));var RES;!function(t){var e;!function(t){function e(t){var e=t.split("/");return e.filter(function(t,i){return!!t||i==e.length-1}).join("/")}function i(t){return t.substr(t.lastIndexOf("/")+1)}function a(t){return t.substr(0,t.lastIndexOf("/"))}t.normalize=e,t.basename=i,t.dirname=a}(e=t.path||(t.path={}))}(RES||(RES={}));var RES;!function(t){function e(){t.config.config.fileSystem.profile(),console.log(i);var e=0;for(var a in i){var n=i[a];n instanceof egret.Texture&&(e+=n.$bitmapWidth*n.$bitmapHeight*4)}console.log("gpu size : "+(e/1024).toFixed(3)+"kb")}var i={};t.profile=e,t.host={state:{},get resourceConfig(){return t.config},load:function(e,i){var a="string"==typeof i?t.processor._map[i]:i;return t.queue.a1515(e,a)},unload:function(e){return t.queue.unloadResource(e)},save:function(e,a){t.host.state[e.root+e.name]=2,delete e.promise,i[e.root+e.name]=a},get:function(t){return i[t.root+t.name]},remove:function(e){delete t.host.state[e.root+e.name],delete i[e.root+e.name]}},t.config=new t.ResourceConfig,t.queue=new t.ResourceLoader;var a=function(t){function e(i,a,n){var r=t.call(this)||this;return r.__resource_manager_error__=!0,r.name=i.toString(),r.message=e.errorMessage[i].replace("{0}",a).replace("{1}",n),r}return __extends(e,t),e.errorMessage={1001:"文件加载失败:{0}",1002:"ResourceManager 初始化失败：配置文件加载失败",2001:"{0}解析失败,不支持指定解析类型:'{1}'，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2002:"Analyzer 相关API 在 ResourceManager 中不再支持，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2003:"{0}解析失败,错误原因:{1}",2004:"无法找到文件类型:{0}",2005:'RES加载了不存在或空的资源组:"{0}"',2006:"资源配置文件中无法找到特定的资源:{0}"},e}(Error);t.ResourceManagerError=a,__reflect(a.prototype,"RES.ResourceManagerError")}(RES||(RES={}));var RES;!function(t){var e;!function(e){function i(t){return e._map[t.type]}function a(t,i){e._map[t]=i}function n(e,i){var a=this;return new Promise(function(n,r){var s=function(){var t=e.data?e.data:e.response;n(t)},o=function(){var e=new t.ResourceManagerError(1001,i.url);r(e)};e.addEventListener(egret.Event.COMPLETE,s,a),e.addEventListener(egret.IOErrorEvent.IO_ERROR,o,a)})}function r(t,e){if(-1!=e.indexOf("://"))return e;t=t.split("\\").join("/");var i=t.match(/#.*|\?.*/),a="";i&&(a=i[0]);var n=t.lastIndexOf("/");return t=-1!=n?t.substring(0,n+1)+e:e,t+a}function s(t){return{name:t.name+"_alpha",url:t.etc1_alpha_url,type:"ktx",root:t.root}}e.isSupport=i,e.map=a,e.getRelativePath=r,e.ImageProcessor={onLoadStart:function(e,i){var a=new egret.ImageLoader;return a.load(t.a1539(i.root+i.url)),n(a,i).then(function(t){var a=new egret.Texture;a._setBitmapData(t);var n=e.resourceConfig.a1519(i.name);if(n&&n.scale9grid){var r=n.scale9grid.split(",");a.scale9Grid=new egret.Rectangle(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseInt(r[3]))}return a})},onRemoveStart:function(t,e){var i=t.get(e);i.dispose()}},e.KTXTextureProcessor={onLoadStart:function(t,e){return t.load(e,"bin").then(function(i){if(!i)return console.error("ktx:"+e.root+e.url+" is null"),null;var a=new egret.KTXContainer(i,1);if(a.isInvalid)return console.error("ktx:"+e.root+e.url+" is invalid"),null;var n=new egret.BitmapData(i);n.debugCompressedTextureURL=e.root+e.url,n.format="ktx",a.a1356(n,!1);var r=new egret.Texture;r._setBitmapData(n);var s=t.resourceConfig.a1519(e.name);if(s&&s.scale9grid){var o=s.scale9grid.split(",");r.scale9Grid=new egret.Rectangle(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3]))}return t.save(e,r),r},function(i){throw t.remove(e),i})},onRemoveStart:function(t,e){var i=t.get(e);i&&i.dispose()}},e.makeEtc1SeperatedAlphaResourceInfo=s,e.ETC1KTXProcessor={onLoadStart:function(t,e){return t.load(e,"ktx").then(function(i){if(!i)return null;if(e.etc1_alpha_url){var a=s(e);return t.load(a,"ktx").then(function(e){return i&&i.$bitmapData&&e.$bitmapData?(i.$bitmapData.etcAlphaMask=e.$bitmapData,t.save(a,e)):t.remove(a),i},function(e){throw t.remove(a),e})}return i},function(i){throw t.remove(e),i})},onRemoveStart:function(t,e){var i=t.get(e);if(i&&i.dispose(),e.etc1_alpha_url){var a=s(e),n=t.get(a);n&&n.dispose(),t.unload(a)}}},e.BinaryProcessor={onLoadStart:function(e,i){var a=new egret.HttpRequest;return a.responseType=egret.HttpResponseType.ARRAY_BUFFER,a.open(t.a1539(i.root+i.url),"get"),a.send(),n(a,i)},onRemoveStart:function(t,e){}},e.TextProcessor={onLoadStart:function(e,i){var a=new egret.HttpRequest;return a.responseType=egret.HttpResponseType.TEXT,a.open(t.a1539(i.root+i.url),"get"),a.send(),n(a,i)},onRemoveStart:function(t,e){return!0}},e.JsonProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=JSON.parse(t);return e})},onRemoveStart:function(t,e){}},e.XMLProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=egret.XML.parse(t);return e})},onRemoveStart:function(t,e){return!0}},e.CommonJSProcessor={onLoadStart:function(e,i){return e.load(i,"text").then(function(e){var a=new Function("require","exports",e),n=function(){},r={};try{a(n,r)}catch(s){throw new t.ResourceManagerError(2003,i.name,s.message)}return r})},onRemoveStart:function(t,e){}},e.SheetProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(a){var n=e.resourceConfig.a1519(t.nameSelector(a.file));if(!n){var s=r(i.url,a.file);n={name:s,url:s,type:"image",root:i.root}}return e.load(n).then(function(t){if(!t)return null;var i=a.frames,r=new egret.SpriteSheet(t);r.$resourceInfo=n;for(var s in i){var o=i[s],l=r.createTexture(s,o.x,o.y,o.w,o.h,o.offX,o.offY,o.sourceW,o.sourceH);if(o.scale9grid){var h=o.scale9grid,p=h.split(",");l.scale9Grid=new egret.Rectangle(parseInt(p[0]),parseInt(p[1]),parseInt(p[2]),parseInt(p[3]))}}return e.save(n,t),r},function(t){throw e.remove(n),t})})},getData:function(t,e,i,a){var n=t.get(e);return n?n.a1297(a):null},onRemoveStart:function(t,e){var i=t.get(e),a=i.$resourceInfo;i.dispose(),t.unload(a)}};var o=function(t,e){var i="",a=e.split("\n"),n=a[2],r=n.indexOf('file="');-1!=r&&(n=n.substring(r+6),r=n.indexOf('"'),i=n.substring(0,r)),t=t.split("\\").join("/");var r=t.lastIndexOf("/");return t=-1!=r?t.substring(0,r+1)+i:i};e.FontProcessor={onLoadStart:function(e,i){return e.load(i,"text").then(function(a){var n;try{n=JSON.parse(a)}catch(s){n=a}var l;l="string"==typeof n?o(i.url,n):r(i.url,n.file);var h=e.resourceConfig.a1519(t.nameSelector(l));return h||(h={name:l,url:l,type:"image",root:i.root}),e.load(h).then(function(t){var i=new egret.BitmapFont(t,n);return i.$resourceInfo=h,e.save(h,t),i},function(t){throw e.remove(h),t})})},onRemoveStart:function(t,e){var i=t.get(e),a=i.$resourceInfo;t.unload(a)}},e.SoundProcessor={onLoadStart:function(e,i){var a=new egret.Sound;return a.load(t.a1539(i.root+i.url)),n(a,i).then(function(){return a})},onRemoveStart:function(t,e){var i=t.get(e);i.close()}},e.MovieClipProcessor={onLoadStart:function(e,i){var a,n;return e.load(i,"json").then(function(r){a=r;var s=i.name,o=s.substring(0,s.lastIndexOf("."))+".png";if(n=e.resourceConfig.a1519(o),!n)throw new t.ResourceManagerError(1001,o);return e.load(n)}).then(function(t){e.save(n,t);var i=t,r=new egret.MovieClipDataFactory(a,i);return r})},onRemoveStart:function(t,e){var i=t.get(e);i.clearCache(),i.$spriteSheet.dispose();var a=e.name,n=a.substring(0,a.lastIndexOf("."))+".png",r=t.resourceConfig.a1519(n);r&&t.unload(r)}},e.MergeJSONProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(e){for(var a in e)t.config.addSubkey(a,i.name);return e})},getData:function(t,e,i,a){var n=t.get(e);return n?n[a]:(console.error("missing resource :"+e.name),null)},onRemoveStart:function(t,e){}},e.LegacyResourceConfigProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(a){var n=t.config.config,r=i.root,s=n.fileSystem;s||(s={fsData:{},getFile:function(t){return c[t]},addFile:function(t){t.type||(t.type=""),void 0==r&&(t.root=""),c[t.name]=t},profile:function(){console.log(c)},removeFile:function(t){delete c[t]}},n.fileSystem=s);for(var o=n.groups,l=0,h=a.groups;l<h.length;l++){var p=h[l];!o[p.name]&&(""==p.keys?o[p.name]=[]:o[p.name]=p.keys.split(","))}for(var u=n.alias,c=s.fsData,d=function(t){c[t.name]=t,c[t.name].root=r,t.subkeys&&t.subkeys.split(",").forEach(function(e){u[e]=t.name+"#"+e,u[t.name+"."+e]=t.name+"#"+e})},g=0,f=a.resources;g<f.length;g++){var m=f[g];d(m)}return e.save(i,a),a})},onRemoveStart:function(){}},e._map={image:e.ImageProcessor,json:e.JsonProcessor,text:e.TextProcessor,xml:e.XMLProcessor,sheet:e.SheetProcessor,font:e.FontProcessor,bin:e.BinaryProcessor,commonjs:e.CommonJSProcessor,sound:e.SoundProcessor,movieclip:e.MovieClipProcessor,mergeJson:e.MergeJSONProcessor,legacyResourceConfig:e.LegacyResourceConfigProcessor,ktx:e.KTXTextureProcessor,"etc1.ktx":e.ETC1KTXProcessor,"pvrtc.ktx":e.KTXTextureProcessor}}(e=t.processor||(t.processor={}))}(RES||(RES={}));var RES;!function(t){var e=function(e){function i(t,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);var n=e.call(this,t,i,a)||this;return n.itemsLoaded=0,n.itemsTotal=0,n.groupName="",n}return __extends(i,e),i.dispatchResourceEvent=function(e,a,n,r,s,o){void 0===n&&(n=""),void 0===r&&(r=void 0),void 0===s&&(s=0),void 0===o&&(o=0);var l=egret.Event.create(i,a);l.groupName=n,r&&(l.resItem=t.ResourceItem.convertToResItem(r)),l.itemsLoaded=s,l.itemsTotal=o;var h=e.a1258(l);return egret.Event.release(l),h},i.ITEM_LOAD_ERROR="itemLoadError",i.CONFIG_COMPLETE="configComplete",i.CONFIG_LOAD_ERROR="configLoadError",i.GROUP_PROGRESS="groupProgress",i.GROUP_COMPLETE="groupComplete",i.GROUP_LOAD_ERROR="groupLoadError",i}(egret.Event);t.ResourceEvent=e,__reflect(e.prototype,"RES.ResourceEvent")}(RES||(RES={}));var RES;!function(t){var e;!function(e){function i(e){var i=e.name;if(t.config.config)for(var a in t.config.config.alias)t.config.config.alias[a]==e.url&&(i=a);else i=e.url;var n={name:i,url:e.url,type:e.type,data:e,root:e.root};return n}e.TYPE_XML="xml",e.TYPE_IMAGE="image",e.TYPE_BIN="bin",e.TYPE_TEXT="text",e.TYPE_JSON="json",e.TYPE_SHEET="sheet",e.TYPE_FONT="font",e.TYPE_SOUND="sound",e.convertToResItem=i}(e=t.ResourceItem||(t.ResourceItem={}))}(RES||(RES={}));var RES;!function(t){var e=function(){function e(t){this.data=t}return e.prototype.profile=function(){console.log(this.data)},e.prototype.addFile=function(e,i){i||(i=""),e=t.path.normalize(e);var a=t.path.basename(e),n=t.path.dirname(e);this.exists(n)||this.mkdir(n);var r=this.resolve(n);r[a]={url:e,type:i}},e.prototype.getFile=function(t){var e=this.resolve(t);return e&&(e.name=t),e},e.prototype.resolve=function(e){if(""==e)return this.data;e=t.path.normalize(e);for(var i=e.split("/"),a=this.data,n=0,r=i;n<r.length;n++){var s=r[n];if(!a)return a;a=a[s]}return a},e.prototype.mkdir=function(e){e=t.path.normalize(e);for(var i=e.split("/"),a=this.data,n=0,r=i;n<r.length;n++){var s=r[n];a[s]||(a[s]={}),a=a[s]}},e.prototype.exists=function(e){if(""==e)return!0;e=t.path.normalize(e);for(var i=e.split("/"),a=this.data,n=0,r=i;n<r.length;n++){var s=r[n];if(!a[s])return!1;a=a[s]}return!0},e}();t.NewFileSystem=e,__reflect(e.prototype,"RES.NewFileSystem")}(RES||(RES={}));var RES;!function(t){var e=function(){function t(){}return t.prototype.init=function(){return this.versionInfo=this.a1540("all.manifest"),Promise.resolve()},t.prototype.a1539=function(t){return t},t.prototype.a1540=function(t){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var e=egret_native.readUpdateFileSync(t);if(null!=e)return JSON.parse(e);if(e=egret_native.readResourceFileSync(t),null!=e)return JSON.parse(e)}return null},t}();t.NativeVersionController=e,__reflect(e.prototype,"RES.NativeVersionController",["RES.IVersionController"]),egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE&&(t.VersionController=e)}(RES||(RES={}));var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},eui;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.targetLevel=Number.POSITIVE_INFINITY,e.invalidatePropertiesFlag=!1,e.invalidateClientPropertiesFlag=!1,e.invalidatePropertiesQueue=new i,e.invalidateSizeFlag=!1,e.invalidateClientSizeFlag=!1,e.invalidateSizeQueue=new i,e.invalidateDisplayListFlag=!1,e.invalidateDisplayListQueue=new i,e.eventDisplay=new egret.Bitmap,e.listenersAttached=!1,e}return __extends(e,t),e.prototype.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.a1545()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},e.prototype.a1541=function(){for(var t=this.invalidatePropertiesQueue,e=t.shift();e;)e.$stage&&e.a1541(),e=t.shift();t.isEmpty()&&(this.invalidatePropertiesFlag=!1)},e.prototype.a1542=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.a1545()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},e.prototype.validateSize=function(){for(var t=this.invalidateSizeQueue,e=t.pop();e;)e.$stage&&e.validateSize(),e=t.pop();t.isEmpty()&&(this.invalidateSizeFlag=!1)},e.prototype.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.a1545()),this.invalidateDisplayListQueue.insert(t)},e.prototype.a1544=function(){for(var t=this.invalidateDisplayListQueue,e=t.shift();e;)e.$stage&&e.a1544(),e=t.shift();t.isEmpty()&&(this.invalidateDisplayListFlag=!1)},e.prototype.a1545=function(){this.eventDisplay.addEventListener(egret.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),this.eventDisplay.addEventListener(egret.Event.RENDER,this.doPhasedInstantiationCallBack,this),egret.sys.$invalidateRenderFlag=!0,this.listenersAttached=!0},e.prototype.doPhasedInstantiationCallBack=function(t){this.eventDisplay.removeEventListener(egret.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),this.eventDisplay.removeEventListener(egret.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},e.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.a1541(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.a1544(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag?this.a1545():this.listenersAttached=!1},e.prototype.a1546=function(t){var e,i=!1,a=this.targetLevel;this.targetLevel===Number.POSITIVE_INFINITY&&(this.targetLevel=t.$nestLevel);for(var n=this.invalidatePropertiesQueue,r=this.invalidateSizeQueue,s=this.invalidateDisplayListQueue;!i;){for(i=!0,e=n.removeSmallestChild(t);e;)e.$stage&&e.a1541(),e=n.removeSmallestChild(t);for(n.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,e=r.removeLargestChild(t);e;){if(e.$stage&&e.validateSize(),this.invalidateClientPropertiesFlag&&(e=n.removeSmallestChild(t))){n.insert(e),i=!1;break}e=r.removeLargestChild(t)}for(r.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,e=s.removeSmallestChild(t);e;){if(e.$stage&&e.a1544(),this.invalidateClientPropertiesFlag&&(e=n.removeSmallestChild(t))){n.insert(e),i=!1;break}if(this.invalidateClientSizeFlag&&(e=r.removeLargestChild(t))){r.insert(e),i=!1;break}e=s.removeSmallestChild(t)}s.isEmpty()&&(this.invalidateDisplayListFlag=!1)}a===Number.POSITIVE_INFINITY&&(this.targetLevel=Number.POSITIVE_INFINITY)},e}(egret.EventDispatcher);t.Validator=e,__reflect(e.prototype,"eui.sys.Validator");var i=function(){function t(){this.depthBins={},this.minDepth=0,this.maxDepth=-1}return t.prototype.insert=function(t){var e=t.$nestLevel;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var i=this.depthBins[e];i||(i=this.depthBins[e]=new a),i.insert(t)},t.prototype.pop=function(){var t,e=this.minDepth;if(e<=this.maxDepth){for(var i=this.depthBins[this.maxDepth];!i||0===i.length;){if(this.maxDepth--,this.maxDepth<e)return null;i=this.depthBins[this.maxDepth]}for(t=i.pop();!(i&&0!=i.length||(this.maxDepth--,this.maxDepth<e));)i=this.depthBins[this.maxDepth]}return t},t.prototype.shift=function(){var t,e=this.maxDepth;if(this.minDepth<=e){for(var i=this.depthBins[this.minDepth];!i||0===i.length;){if(this.minDepth++,this.minDepth>e)return null;i=this.depthBins[this.minDepth]}for(t=i.pop();!(i&&0!=i.length||(this.minDepth++,this.minDepth>e));)i=this.depthBins[this.minDepth]}return t},t.prototype.removeLargestChild=function(t){for(var e=t.$hashCode,i=t.$nestLevel,a=this.maxDepth,n=i;a>=n;){var r=this.depthBins[a];if(r&&r.length>0){if(a===i){if(r.map[e])return r.remove(t),t}else{if(!egret.is(t,"egret.DisplayObjectContainer"))break;for(var s=r.items,o=r.length,l=0;o>l;l++){var h=s[l];if(t.contains(h))return r.remove(h),h}}a--}else if(a==this.maxDepth&&this.maxDepth--,a--,n>a)break}return null},t.prototype.removeSmallestChild=function(t){for(var e=t.$nestLevel,i=e,a=this.maxDepth,n=t.$hashCode;a>=i;){var r=this.depthBins[i];if(r&&r.length>0){if(i===e){if(r.map[n])return r.remove(t),t}else{if(!egret.is(t,"egret.DisplayObjectContainer"))break;for(var s=r.items,o=r.length,l=0;o>l;l++){var h=s[l];if(t.contains(h))return r.remove(h),h}}i++}else if(i==this.minDepth&&this.minDepth++,i++,i>a)break}return null},t.prototype.isEmpty=function(){return this.minDepth>this.maxDepth},t}();__reflect(i.prototype,"DepthQueue");var a=function(){function t(){this.map={},this.items=[],this.length=0}return t.prototype.insert=function(t){var e=t.$hashCode;this.map[e]||(this.map[e]=!0,this.length++,this.items.push(t))},t.prototype.pop=function(){var t=this.items.pop();return t&&(this.length--,0===this.length?this.map={}:this.map[t.$hashCode]=!1),t},t.prototype.remove=function(t){var e=this.items.indexOf(t);e>=0&&(this.items.splice(e,1),this.length--,0===this.length?this.map={}:this.map[t.$hashCode]=!1)},t}();__reflect(a.prototype,"DepthBin")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){function e(t,e,i,a){var n=t.prototype;n.__meta__=n.__meta__||{},n.__meta__[e]=i,a&&(n.__defaultProperty__=e)}t.registerProperty=e}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=[]);var a=e.call(this)||this;return a.name=t,a.overrides=i,a}return __extends(i,e),i.prototype.initialize=function(e,i){for(var a=this.overrides,n=a.length,r=0;n>r;r++){var s=a[r];if(s instanceof t.AddItems){var o=e[s.target];o&&o instanceof t.Image&&!o.$parent&&(i.addChild(o),i.removeChild(o))}}},i}(egret.HashObject);t.State=e,__reflect(e.prototype,"eui.State")}(eui||(eui={})),function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"states",{get:function(){return this.$stateValues.states},set:function(t){t||(t=[]);var e=this.$stateValues;e.states=t;for(var i={},a=t.length,n=0;a>n;n++){var r=t[n];i[r.name]=r}e.statesMap=i,e.parent&&this.a1550()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentState",{get:function(){return this.$stateValues.currentState
},set:function(t){var e=this.$stateValues;e.explicitState=t,e.currentState=t,this.a1550()},enumerable:!0,configurable:!0}),t.prototype.a1550=function(){var t=this.$stateValues;if(t.parent){var e=t.statesMap[t.currentState];if(!e){if(!(t.states.length>0))return;t.currentState=t.states[0].name}if(t.oldState!=t.currentState){var i=t.parent,a=t.statesMap[t.oldState];if(a)for(var n=a.overrides,r=n.length,s=0;r>s;s++)n[s].remove(this,i);if(t.oldState=t.currentState,a=t.statesMap[t.currentState])for(var n=a.overrides,o=n.length,s=0;o>s;s++)n[s].apply(this,i)}}},t.prototype.a1551=function(t){return!!this.$stateValues.statesMap[t]},t.prototype.a1552=function(t){this.$stateValues.intialized=!0;for(var e=this.states,i=e.length,a=0;i>a;a++)e[a].initialize(this,t)},t}();t.StateClient=e,__reflect(e.prototype,"eui.sys.StateClient");var i=function(){function t(){this.intialized=!1,this.statesMap={},this.states=[],this.oldState=null,this.explicitState=null,this.currentState=null,this.parent=null,this.stateIsDirty=!1}return t}();t.StateValues=i,__reflect(i.prototype,"eui.sys.StateValues")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){function e(e,i,a){var n=egret.a1311("eui.IAssetAdapter");n||(n=new t.DefaultAssetAdapter),n.getAsset(e,function(t){i.call(a,t)},this)}function i(e,i){var a=egret.a1311("eui.IThemeAdapter");a||(a=new t.DefaultThemeAdapter),a.getTheme(e,function(t){i(t)},function(t){console.log(t)},this)}t.getAssets=e,t.getTheme=i}(eui||(eui={})),function(t){var e;!function(e){function i(t){return 1===t.a&&0===t.b&&0===t.c&&1===t.d}function a(t,e){if("function"!=typeof t[e])return!1;var i=t[e].toString(),a=i.indexOf("{"),n=i.lastIndexOf("}");return i=i.substring(a+1,n),""==i.trim()}function n(t,e){for(var i in e)"prototype"!=i&&e.hasOwnProperty(i)&&(t[i]=e[i]);for(var n=t.prototype,r=e.prototype,s=Object.keys(r),o=s.length,l=0;o>l;l++){var h=s[l];if("__meta__"!=h&&(!n.hasOwnProperty(h)||a(n,h))){var p=Object.getOwnPropertyDescriptor(r,h);Object.defineProperty(n,h,p)}}}function r(e,i,a){n(e,l);var r=e.prototype;r.$super=i.prototype,t.registerProperty(e,"left","Percentage"),t.registerProperty(e,"right","Percentage"),t.registerProperty(e,"top","Percentage"),t.registerProperty(e,"bottom","Percentage"),t.registerProperty(e,"horizontalCenter","Percentage"),t.registerProperty(e,"verticalCenter","Percentage"),a&&(r.$childAdded=function(t,e){this.a1542(),this.invalidateDisplayList()},r.$childRemoved=function(t,e){this.a1542(),this.invalidateDisplayList()})}var s="eui.UIComponent",o=new e.Validator,l=function(a){function n(){var t=a.call(this)||this;return t.a1553(),t}return __extends(n,a),n.prototype.a1553=function(){this.$UIComponent={0:0/0,1:0/0,2:0/0,3:0/0,4:0/0,5:0/0,6:0/0,7:0/0,8:0/0,9:0/0,10:0,11:0,12:0,13:1e5,14:0,15:1e5,16:0,17:0,18:0/0,19:0/0,20:0,21:0,22:0,23:0,24:!0,25:!0,26:!0,27:!1,28:!1,29:!1},this.$includeInLayout=!0,this.$touchEnabled=!0},n.prototype.createChildren=function(){},n.prototype.childrenCreated=function(){},n.prototype.a1556=function(){var e=this.$UIComponent;(e[22]!=e[10]||e[23]!=e[11])&&(this.dispatchEventWith(egret.Event.RESIZE),e[22]=e[10],e[23]=e[11]),(e[20]!=this.$getX()||e[21]!=this.$getY())&&(t.UIEvent.dispatchUIEvent(this,t.UIEvent.MOVE),e[20]=this.$getX(),e[21]=this.$getY())},n.prototype.measure=function(){},n.prototype.a1558=function(t,e){},Object.defineProperty(n.prototype,"includeInLayout",{get:function(){return this.$includeInLayout},set:function(t){t=!!t,this.$includeInLayout!==t&&(this.$includeInLayout=!0,this.invalidateParentLayout(),this.$includeInLayout=t)},enumerable:!0,configurable:!0}),n.prototype.$onAddToStage=function(e,i){this.$super.$onAddToStage.call(this,e,i),this.a1559();var a=this.$UIComponent;a[29]||(a[29]=!0,this.createChildren(),this.childrenCreated(),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CREATION_COMPLETE))},n.prototype.a1559=function(t){var e=this.$UIComponent;e[24]&&o.invalidateProperties(this),e[25]&&o.a1542(this),e[26]&&o.invalidateDisplayList(this)},Object.defineProperty(n.prototype,"left",{get:function(){return this.$UIComponent[0]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[0]!==t&&(e[0]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.$UIComponent[1]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[1]!==t&&(e[1]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.$UIComponent[2]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[2]!==t&&(e[2]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.$UIComponent[3]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[3]!=t&&(e[3]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalCenter",{get:function(){return this.$UIComponent[4]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[4]!==t&&(e[4]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalCenter",{get:function(){return this.$UIComponent[5]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[5]!==t&&(e[5]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentWidth",{get:function(){return this.$UIComponent[6]},set:function(t){t=+t;var e=this.$UIComponent;e[6]!==t&&(e[6]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentHeight",{get:function(){return this.$UIComponent[7]},set:function(t){t=+t;var e=this.$UIComponent;e[7]!==t&&(e[7]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explicitWidth",{get:function(){return this.$UIComponent[8]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explicitHeight",{get:function(){return this.$UIComponent[9]},enumerable:!0,configurable:!0}),n.prototype.$a1872=function(){return this.a1560(),this.$UIComponent[10]},n.prototype.$setWidth=function(t){t=+t;var e=this.$UIComponent;return 0>t||e[10]===t&&e[8]===t?!1:(e[8]=t,isNaN(t)&&this.a1542(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout(),!0)},n.prototype.a1560=function(){this.validateSize(!0),this.a1564()},n.prototype.$a1873=function(){return this.a1560(),this.$UIComponent[11]},n.prototype.$setHeight=function(t){t=+t;var e=this.$UIComponent;return 0>t||e[11]===t&&e[9]===t?!1:(e[9]=t,isNaN(t)&&this.a1542(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout(),!0)},Object.defineProperty(n.prototype,"minWidth",{get:function(){return this.$UIComponent[12]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[12]===t||(e[12]=t,this.a1542(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this.$UIComponent[13]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[13]===t||(e[13]=t,this.a1542(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minHeight",{get:function(){return this.$UIComponent[14]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[14]===t||(e[14]=t,this.a1542(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){return this.$UIComponent[15]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[15]===t||(e[15]=t,this.a1542(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),n.prototype.a1561=function(t,e){var i=this.$UIComponent;i[16]=Math.ceil(+t||0),i[17]=Math.ceil(+e||0)},n.prototype.a1562=function(t,e){var i=!1,a=this.$UIComponent;a[10]!==t&&(a[10]=t,i=!0),a[11]!==e&&(a[11]=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchEventWith(egret.Event.RESIZE))},n.prototype.$updateUseTransform=function(){this.$super.$updateUseTransform.call(this),this.invalidateParentLayout()},n.prototype.$setMatrix=function(t,e){return void 0===e&&(e=!0),this.$super.$setMatrix.call(this,t,e),this.invalidateParentLayout(),!0},n.prototype.$setAnchorOffsetX=function(t){return this.$super.$setAnchorOffsetX.call(this,t),this.invalidateParentLayout(),!0},n.prototype.$setAnchorOffsetY=function(t){return this.$super.$setAnchorOffsetY.call(this,t),this.invalidateParentLayout(),!0},n.prototype.$setX=function(t){var e=this.$super.$setX.call(this,t);return e&&(this.invalidateParentLayout(),this.invalidateProperties()),e},n.prototype.$setY=function(t){var e=this.$super.$setY.call(this,t);return e&&(this.invalidateParentLayout(),this.invalidateProperties()),e},n.prototype.invalidateProperties=function(){var t=this.$UIComponent;t[24]||(t[24]=!0,this.$stage&&o.invalidateProperties(this))},n.prototype.a1541=function(){var t=this.$UIComponent;t[24]&&(this.a1556(),t[24]=!1)},n.prototype.a1542=function(){var t=this.$UIComponent;t[25]||(t[25]=!0,this.$stage&&o.a1542(this))},n.prototype.validateSize=function(t){if(t){var e=this.$children;if(e)for(var i=e.length,a=0;i>a;a++){var n=e[a];egret.is(n,s)&&n.validateSize(!0)}}var r=this.$UIComponent;if(r[25]){var o=this.a1563();o&&(this.invalidateDisplayList(),this.invalidateParentLayout()),r[25]=!1}},n.prototype.a1563=function(){var t=!1,e=this.$UIComponent;if(!e[25])return t;(isNaN(e[8])||isNaN(e[9]))&&(this.measure(),e[16]<e[12]&&(e[16]=e[12]),e[16]>e[13]&&(e[16]=e[13]),e[17]<e[14]&&(e[17]=e[14]),e[17]>e[15]&&(e[17]=e[15]));var i=this.a1568(),a=this.a1569();return(i!==e[18]||a!==e[19])&&(e[18]=i,e[19]=a,t=!0),t},n.prototype.invalidateDisplayList=function(){var t=this.$UIComponent;t[26]||(t[26]=!0,this.$stage&&o.invalidateDisplayList(this))},n.prototype.a1544=function(){var t=this.$UIComponent;t[26]&&(this.a1564(),this.a1558(t[10],t[11]),t[26]=!1)},n.prototype.a1564=function(){var t=0,e=0,i=this.$UIComponent;t=i[27]?i[10]:isNaN(i[8])?i[16]:i[8],e=i[28]?i[11]:isNaN(i[9])?i[17]:i[9],this.a1562(t,e)},n.prototype.validateNow=function(){this.$stage&&o.a1546(this)},n.prototype.invalidateParentLayout=function(){var t=this.$parent;t&&this.$includeInLayout&&egret.is(t,s)&&(t.a1542(),t.invalidateDisplayList())},n.prototype.a1566=function(t,a){if(a=+a,t=+t,!(0>a||0>t)){var n,r,s=this.$UIComponent,o=s[13],l=s[15],h=Math.min(s[12],o),p=Math.min(s[14],l);isNaN(t)?(s[27]=!1,n=this.a1568()):(s[27]=!0,n=Math.max(h,Math.min(o,t))),isNaN(a)?(s[28]=!1,r=this.a1569()):(s[28]=!0,r=Math.max(p,Math.min(l,a)));var u=this.a1572();if(i(u))return void this.a1562(n,r);var c=e.MatrixUtil.fitBounds(t,a,u,s[8],s[9],this.a1568(),this.a1569(),h,p,o,l);c||(c=egret.Point.create(h,p)),this.a1562(c.x,c.y),egret.Point.release(c)}},n.prototype.setLayoutBoundsPosition=function(e,a){var n=this.$getMatrix();if(!i(n)||0!=this.anchorOffsetX||0!=this.anchorOffsetY){var r=egret.$TempRectangle;this.a1567(r),e+=this.$getX()-r.x,a+=this.$getY()-r.y}var s=this.$super.$setX.call(this,e);(this.$super.$setY.call(this,a)||s)&&t.UIEvent.dispatchUIEvent(this,t.UIEvent.MOVE)},n.prototype.a1567=function(t){var e,i=this.$UIComponent;e=i[27]?i[10]:isNaN(i[8])?i[16]:i[8];var a;a=i[28]?i[11]:isNaN(i[9])?i[17]:i[9],this.applyMatrix(t,e,a)},n.prototype.a1568=function(){var t=this.$UIComponent;return isNaN(t[8])?t[16]:t[8]},n.prototype.a1569=function(){var t=this.$UIComponent;return isNaN(t[9])?t[17]:t[9]},n.prototype.a1570=function(t){var e=this.a1568(),i=this.a1569();this.applyMatrix(t,e,i)},n.prototype.applyMatrix=function(t,e,a){t.setTo(0,0,e,a);var n=this.a1572();i(n)?(t.x+=n.tx,t.y+=n.ty):n.$transformBounds(t)},n.prototype.a1572=function(){var t=this.$getMatrix(),e=this.anchorOffsetX,i=this.anchorOffsetY;if(0!=e||0!=i){var a=egret.$TempMatrix;return t.$preMultiplyInto(a.setTo(1,0,0,1,-e,-i),a),a}return t},n}(egret.DisplayObject);e.UIComponentImpl=l,__reflect(l.prototype,"eui.sys.UIComponentImpl",["eui.UIComponent","egret.DisplayObject"]),e.mixin=n,e.implementUIComponent=r}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$layout=null,i.$stateValues=new t.sys.StateValues,i.a1553(),i.$Group={0:0,1:0,2:0,3:0,4:!1,5:!1},i.$stateValues.parent=i,i}return __extends(i,e),Object.defineProperty(i.prototype,"elementsContent",{set:function(t){if(t)for(var e=t.length,i=0;e>i;i++)this.addChild(t[i])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){return this.$layout},set:function(t){this.$setLayout(t)},enumerable:!0,configurable:!0}),i.prototype.$setLayout=function(t){return this.$layout==t?!1:(this.$layout&&(this.$layout.target=null),this.$layout=t,t&&(t.target=this),this.a1542(),this.invalidateDisplayList(),!0)},Object.defineProperty(i.prototype,"contentWidth",{get:function(){return this.$Group[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentHeight",{get:function(){return this.$Group[1]},enumerable:!0,configurable:!0}),i.prototype.a1312=function(e,i){e=Math.ceil(+e||0),i=Math.ceil(+i||0);var a=this.$Group,n=a[0]!==e,r=a[1]!==i;(n||r)&&(a[0]=e,a[1]=i,n&&t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"contentWidth"),r&&t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"contentHeight"))},Object.defineProperty(i.prototype,"scrollEnabled",{get:function(){return this.$Group[4]},set:function(t){t=!!t;var e=this.$Group;t!==e[4]&&(e[4]=t,this.a1573())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollH",{get:function(){return this.$Group[2]},set:function(e){e=+e||0;var i=this.$Group;e!==i[2]&&(i[2]=e,this.a1573()&&this.$layout&&this.$layout.scrollPositionChanged(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"scrollH"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollV",{get:function(){return this.$Group[3]},set:function(e){e=+e||0;var i=this.$Group;e!=i[3]&&(i[3]=e,this.a1573()&&this.$layout&&this.$layout.scrollPositionChanged(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"scrollV"))},enumerable:!0,configurable:!0}),i.prototype.a1573=function(){var t=this.$Group,e=t[4];if(e){var i=this.$UIComponent;this.scrollRect=egret.$TempRectangle.setTo(t[2],t[3],i[10],i[11])}else this.$scrollRect&&(this.scrollRect=null);return e},Object.defineProperty(i.prototype,"numElements",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.a1574=function(t){return this.$children[t]},i.prototype.a1575=function(t){return this.a1574(t)},i.prototype.setVirtualElementIndicesInView=function(t,e){},Object.defineProperty(i.prototype,"touchThrough",{get:function(){return this.$Group[5]},set:function(t){this.$Group[5]=!!t},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(t,i){var a=e.prototype.$hitTest.call(this,t,i);if(a||this.$Group[5])return a;if(!this.$visible||!this.touchEnabled||0===this.scaleX||0===this.scaleY||0===this.width||0===this.height)return null;var n=this.globalToLocal(t,i,egret.$TempPoint),r=this.$UIComponent,s=egret.$TempRectangle.setTo(0,0,r[10],r[11]),o=this.$scrollRect;return o&&(s.x=o.x,s.y=o.y),s.contains(n.x,n.y)?this:null},i.prototype.a1576=function(){var t=this.$stateValues;t.stateIsDirty||(t.stateIsDirty=!0,this.invalidateProperties())},i.prototype.a1577=function(){return""},i.prototype.createChildren=function(){this.$layout||this.$setLayout(new t.BasicLayout),this.a1552(this.$stage)},i.prototype.childrenCreated=function(){},i.prototype.a1556=function(){t.sys.UIComponentImpl.prototype.a1556.call(this);var e=this.$stateValues;e.stateIsDirty&&(e.stateIsDirty=!1,e.explicitState||(e.currentState=this.a1577(),this.a1550()))},i.prototype.measure=function(){return this.$layout?void this.$layout.measure():void this.a1561(0,0)},i.prototype.a1558=function(t,e){this.$layout&&this.$layout.a1558(t,e),this.a1573()},i.prototype.invalidateParentLayout=function(){},i.prototype.a1561=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.a1541=function(){},i.prototype.a1542=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.a1544=function(){},i.prototype.validateNow=function(){},i.prototype.a1566=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.a1567=function(t){},i.prototype.a1570=function(t){},i}(egret.DisplayObjectContainer);t.Group=e,__reflect(e.prototype,"eui.Group",["eui.IViewport","eui.UIComponent","egret.DisplayObject"]),t.sys.implementUIComponent(e,egret.DisplayObjectContainer,!0),t.sys.mixin(e,t.sys.StateClient),t.registerProperty(e,"elementsContent","Array",!0),t.registerProperty(e,"states","State[]")}(eui||(eui={}));var eui;!function(t){function e(t,e){if(t.hasOwnProperty(i))t[i].push(e);else{var a=[e];t[i]&&(a=t[i].concat(a)),t[i]=a}}var i="__bindables__";t.registerBindable=e}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.a1553(),t.$Component={0:null,1:null,2:"",3:!0,4:!1,5:!1,6:!0,7:!0,8:null},t.$touchEnabled=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"hostComponentKey",{get:function(){return this.$Component[0]},set:function(t){this.$Component[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skinName",{get:function(){return this.$Component[1]},set:function(t){var e=this.$Component;if(e[5]=!0,e[1]!=t){if(t)e[1]=t;else{var i=egret.a1311("eui.Theme");if(i){var a=i.a1723(this);a&&(e[1]=a)}}this.$parseSkinName()}},enumerable:!0,configurable:!0}),i.prototype.$parseSkinName=function(){var t,e=this.skinName;if(e)if(e.prototype)t=new e;else if("string"==typeof e){var i=void 0,a=e.trim();if("<"==a.charAt(0))i=EXML.parse(a);else if(i=egret.getDefinitionByName(e),!i&&-1!=a.toLowerCase().indexOf(".exml"))return void EXML.load(e,this.a1578,this,!0);i&&(t=new i)}else t=e;this.setSkin(t)},i.prototype.a1578=function(t,e){if(this.skinName==e&&t){var i=new t;this.setSkin(i)}},Object.defineProperty(i.prototype,"skin",{get:function(){return this.$Component[8]},enumerable:!0,configurable:!0}),i.prototype.setSkin=function(e){!e||e instanceof t.Skin||(e=null);var i=this.$Component,a=i[8];if(a){for(var n=a.skinParts,r=n.length,s=0;r>s;s++){var o=n[s];this[o]&&this.a1580(o,null)}var l=a.$elementsContent;if(l){r=l.length;for(var s=0;r>s;s++){var h=l[s];h.$parent==this&&this.removeChild(h)}}a.hostComponent=null}if(i[8]=e,e){for(var n=e.skinParts,p=n.length,s=0;p>s;s++){var o=n[s],u=e[o];u&&this.a1580(o,u)}var l=e.$elementsContent;if(l)for(var s=l.length-1;s>=0;s--)this.addChildAt(l[s],0);e.hostComponent=this}this.a1542(),this.invalidateDisplayList(),this.dispatchEventWith(egret.Event.COMPLETE)},i.prototype.a1580=function(t,e){var i=this[t];i&&this.a1582(t,i),this[t]=e,e&&this.a1581(t,e)},i.prototype.a1581=function(t,e){},i.prototype.a1582=function(t,e){},i.prototype.$setTouchChildren=function(t){t=!!t;var i=this.$Component;return i[6]=t,i[3]?(i[6]=t,e.prototype.$setTouchChildren.call(this,t)):!0},i.prototype.$setTouchEnabled=function(t){t=!!t;var i=this.$Component;i[7]=t,i[3]&&e.prototype.$setTouchEnabled.call(this,t)},Object.defineProperty(i.prototype,"enabled",{get:function(){return this.$Component[3]},set:function(t){t=!!t,this.$setEnabled(t)},enumerable:!0,configurable:!0}),i.prototype.$setEnabled=function(t){var e=this.$Component;return t===e[3]?!1:(e[3]=t,t?(this.$touchEnabled=e[7],this.$touchChildren=e[6]):(this.$touchEnabled=!1,this.$touchChildren=!1),this.a1576(),!0)},Object.defineProperty(i.prototype,"currentState",{get:function(){var t=this.$Component;return t[2]?t[2]:this.a1577()},set:function(t){var e=this.$Component;t!=e[2]&&(e[2]=t,this.a1576())},enumerable:!0,configurable:!0}),i.prototype.a1576=function(){var t=this.$Component;t[4]||(t[4]=!0,this.invalidateProperties())},i.prototype.a1577=function(){return""},i.prototype.createChildren=function(){var t=this.$Component;if(!t[1]){var e=egret.a1311("eui.Theme");if(e){var i=e.a1723(this);i&&(t[1]=i,this.$parseSkinName())}}},i.prototype.childrenCreated=function(){},i.prototype.a1556=function(){t.sys.UIComponentImpl.prototype.a1556.call(this);var e=this.$Component;e[4]&&(e[4]=!1,e[8]&&(e[8].currentState=this.currentState))},i.prototype.measure=function(){t.sys.measure(this);var e=this.$Component[8];if(e){var i=this.$UIComponent;isNaN(e.width)?(i[16]<e.minWidth&&(i[16]=e.minWidth),i[16]>e.maxWidth&&(i[16]=e.maxWidth)):i[16]=e.width,isNaN(e.height)?(i[17]<e.minHeight&&(i[17]=e.minHeight),i[17]>e.maxHeight&&(i[17]=e.maxHeight)):i[17]=e.height}},i.prototype.a1558=function(e,i){t.sys.a1558(this,e,i)},i.prototype.invalidateParentLayout=function(){},i.prototype.a1561=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.a1541=function(){},i.prototype.a1542=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.a1544=function(){},i.prototype.validateNow=function(){},i.prototype.a1566=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.a1567=function(t){},i.prototype.a1570=function(t){},i}(egret.DisplayObjectContainer);t.Component=e,__reflect(e.prototype,"eui.Component",["eui.UIComponent","egret.DisplayObject"]),t.registerProperty(e,"skinName","Class"),t.sys.implementUIComponent(e,egret.DisplayObjectContainer,!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$dataProviderChanged=!1,t.$dataProvider=null,t.$indexToRenderer=[],t.$DataGroup={0:!0,1:!1,2:{},3:{},4:!1,5:!1,6:null,7:null,8:!1,9:null,10:!1,11:!1,12:null,13:null,14:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"useVirtualLayout",{get:function(){return this.$layout?this.$layout.$useVirtualLayout:this.$DataGroup[0]},set:function(t){t=!!t;var e=this.$DataGroup;t!==e[0]&&(e[0]=t,this.$layout&&(this.$layout.useVirtualLayout=t))},enumerable:!0,configurable:!0}),i.prototype.$setLayout=function(t){if(t==this.$layout)return!1;this.$layout&&(this.$layout.a1605(0,0),this.$layout.removeEventListener("useVirtualLayoutChanged",this.onUseVirtualLayoutChanged,this)),this.$layout&&t&&this.$layout.$useVirtualLayout!=t.$useVirtualLayout&&this.onUseVirtualLayoutChanged();var i=e.prototype.$setLayout.call(this,t);if(t){var a=this.$DataGroup[9];a&&t.a1605(a.width,a.height),t.useVirtualLayout=this.$DataGroup[0],t.addEventListener("useVirtualLayoutChanged",this.onUseVirtualLayoutChanged,this)}return i},i.prototype.onUseVirtualLayoutChanged=function(t){var e=this.$DataGroup;e[1]=!0,e[10]=!0,this.removeDataProviderListener(),this.invalidateProperties()},i.prototype.setVirtualElementIndicesInView=function(t,e){if(this.$layout&&this.$layout.$useVirtualLayout)for(var i=this.$indexToRenderer,a=Object.keys(i),n=a.length,r=0;n>r;r++){var s=+a[r];(t>s||s>e)&&this.a1583(s)}},i.prototype.a1574=function(t){return this.$indexToRenderer[t]},i.prototype.a1575=function(t){if(t=0|+t,0>t||t>=this.$dataProvider.length)return null;var e=this.$indexToRenderer[t];if(!e){var i=this.$dataProvider.a1695(t);e=this.createVirtualRenderer(i),this.$indexToRenderer[t]=e,this.updateRenderer(e,t,i);var a=this.$DataGroup;a[4]&&(e.validateNow(),a[4]=!1,this.a1597(e,t,i))}return e},i.prototype.a1583=function(t){var e=this.$indexToRenderer[t];e&&(delete this.$indexToRenderer[t],this.a1584(e))},i.prototype.a1584=function(t){var e=this.$DataGroup,i=e[2][t.$hashCode],a=i.$hashCode;e[3][a]||(e[3][a]=[]),e[3][a].push(t),t.visible=!1},i.prototype.a1542=function(){this.$DataGroup[4]||e.prototype.a1542.call(this)},i.prototype.createVirtualRenderer=function(t){var e,i=this.a1592(t),a=i.$hashCode,n=this.$DataGroup,r=n[3];return r[a]&&r[a].length>0?(e=r[a].pop(),e.visible=!0,this.invalidateDisplayList(),e):(n[4]=!0,this.a1585(i))},i.prototype.a1585=function(t){var e=new t,i=this.$DataGroup;return i[2][e.$hashCode]=t,egret.is(e,"eui.IItemRenderer")?(i[13]&&this.setItemRenderSkinName(e,i[13]),this.addChild(e),e):null},i.prototype.setItemRenderSkinName=function(e,i){if(e&&e instanceof t.Component){var a=e;a.$Component[5]||(a.skinName=i,a.$Component[5]=!1)}},Object.defineProperty(i.prototype,"dataProvider",{get:function(){return this.$dataProvider},set:function(t){this.$setDataProvider(t)},enumerable:!0,configurable:!0}),i.prototype.$setDataProvider=function(t){return this.$dataProvider==t||t&&!t.a1695?!1:(this.removeDataProviderListener(),this.$dataProvider=t,this.$dataProviderChanged=!0,this.$DataGroup[10]=!0,this.invalidateProperties(),this.a1542(),this.invalidateDisplayList(),!0)},i.prototype.removeDataProviderListener=function(){this.$dataProvider&&this.$dataProvider.removeEventListener(t.CollectionEvent.COLLECTION_CHANGE,this.a1586,this)},i.prototype.a1586=function(e){switch(e.kind){case t.CollectionEventKind.ADD:this.a1587(e.items,e.location);break;case t.CollectionEventKind.REMOVE:this.a1588(e.items,e.location);break;case t.CollectionEventKind.UPDATE:case t.CollectionEventKind.REPLACE:this.a1591(e.items[0],e.location);break;case t.CollectionEventKind.RESET:case t.CollectionEventKind.REFRESH:if(this.$layout&&this.$layout.$useVirtualLayout)for(var i=this.$indexToRenderer,a=Object.keys(i),n=a.length,r=n-1;r>=0;r--){var s=+a[r];this.a1583(s)}this.$dataProviderChanged=!0,this.invalidateProperties();break;default:egret.$warn(2204,e.kind)}this.a1542(),this.invalidateDisplayList()},i.prototype.a1587=function(t,e){for(var i=t.length,a=0;i>a;a++)this.itemAdded(t[a],e+a);this.resetRenderersIndices()},i.prototype.a1588=function(t,e){for(var i=t.length,a=i-1;a>=0;a--)this.a1590(t[a],e+a);this.resetRenderersIndices()},i.prototype.itemAdded=function(t,e){if(this.$layout&&this.$layout.a1606(e),this.$layout&&this.$layout.$useVirtualLayout)return void this.$indexToRenderer.splice(e,0,null);var i=this.createVirtualRenderer(t);if(this.$indexToRenderer.splice(e,0,i),i){this.updateRenderer(i,e,t);var a=this.$DataGroup;a[4]&&(a[4]=!1,this.a1597(i,e,t))}},i.prototype.a1590=function(t,e){this.$layout&&this.$layout.a1607(e);var i=this.$indexToRenderer[e];this.$indexToRenderer.length>e&&this.$indexToRenderer.splice(e,1),i&&(this.$layout&&this.$layout.$useVirtualLayout?this.a1584(i):(this.a1598(i,e,t),this.removeChild(i)))},i.prototype.resetRenderersIndices=function(){var t=this.$indexToRenderer;if(0!=t.length)if(this.$layout&&this.$layout.$useVirtualLayout)for(var e=Object.keys(t),i=e.length,a=0;i>a;a++){var n=+e[a];this.resetRendererItemIndex(n)}else for(var r=t.length,n=0;r>n;n++)this.resetRendererItemIndex(n)},i.prototype.a1591=function(t,e){if(!this.$DataGroup[11]){var i=this.$indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},i.prototype.resetRendererItemIndex=function(t){var e=this.$indexToRenderer[t];e&&(e.itemIndex=t)},Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this.$DataGroup[6]},set:function(t){var e=this.$DataGroup;e[6]!=t&&(e[6]=t,e[5]=!0,e[8]=!0,e[10]=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererSkinName",{get:function(){return this.$DataGroup[13]},set:function(t){var e=this.$DataGroup;e[13]!=t&&(e[13]=t,this.$UIComponent[29]&&(e[14]=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererFunction",{get:function(){return this.$DataGroup[7]},set:function(t){var e=this.$DataGroup;e[7]!=t&&(e[7]=t,e[5]=!0,e[8]=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.a1592=function(e){var i,a=this.$DataGroup;return a[7]&&(i=a[7](e)),i||(i=a[6]),i||(i=t.ItemRenderer),i.$hashCode||(i.$hashCode=egret.$hashCount++),i},i.prototype.createChildren=function(){if(!this.$layout){var i=new t.VerticalLayout;i.gap=0,i.horizontalAlign=t.JustifyAlign.CONTENT_JUSTIFY,this.$setLayout(i)}e.prototype.createChildren.call(this)},i.prototype.a1556=function(){var i=this.$DataGroup;if((i[5]||this.$dataProviderChanged||i[1])&&(this.removeAllRenderers(),this.$layout&&this.$layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),i[1]=!1,i[5]=!1,this.$dataProvider&&this.$dataProvider.addEventListener(t.CollectionEvent.COLLECTION_CHANGE,this.a1586,this),this.$layout&&this.$layout.$useVirtualLayout?(this.a1542(),this.invalidateDisplayList()):this.a1595(),this.$dataProviderChanged&&(this.$dataProviderChanged=!1,this.scrollV=this.scrollH=0)),e.prototype.a1556.call(this),i[8]&&(i[8]=!1,this.$dataProvider&&this.$dataProvider.length>0&&(i[12]=this.$dataProvider.a1695(0),this.a1593())),i[14]){i[14]=!1;for(var a=i[13],n=this.$indexToRenderer,r=Object.keys(n),s=r.length,o=0;s>o;o++){var l=r[o];this.setItemRenderSkinName(n[l],a)}var h=i[3];r=Object.keys(h),s=r.length;for(var o=0;s>o;o++)for(var p=r[o],u=h[p],c=u.length,d=0;c>d;d++)this.setItemRenderSkinName(u[d],a)}},i.prototype.measure=function(){this.$layout&&this.$layout.$useVirtualLayout&&this.ensureTypicalLayoutElement(),e.prototype.measure.call(this)},i.prototype.a1558=function(t,i){var a=this.$layout&&this.$layout.$useVirtualLayout;a&&this.ensureTypicalLayoutElement(),e.prototype.a1558.call(this,t,i);var n=this.$DataGroup;if(a){var r=n[9];if(r){var s=this.$indexToRenderer[0];if(s){var o=egret.$TempRectangle;s.a1570(o),(o.width!=r.width||o.height!=r.height)&&(n[9]=null)}}}},i.prototype.ensureTypicalLayoutElement=function(){this.$DataGroup[9]||this.$dataProvider&&this.$dataProvider.length>0&&(this.$DataGroup[12]=this.$dataProvider.a1695(0),this.a1593())},i.prototype.a1593=function(){var t=this.$DataGroup;if(void 0==t[12])return void this.setTypicalLayoutRect(null);var e=this.createVirtualRenderer(t[12]);if(!e)return void this.setTypicalLayoutRect(null);this.updateRenderer(e,0,t[12]),e.validateNow();var i=egret.$TempRectangle;e.a1570(i);var a=new egret.Rectangle(0,0,i.width,i.height);this.$layout&&this.$layout.$useVirtualLayout?(t[4]&&this.a1597(e,0,t[12]),this.a1584(e)):this.removeChild(e),this.setTypicalLayoutRect(a),t[4]=!1},i.prototype.setTypicalLayoutRect=function(t){this.$DataGroup[9]=t,this.$layout&&(t?this.$layout.a1605(t.width,t.height):this.$layout.a1605(0,0))
},i.prototype.removeAllRenderers=function(){for(var t=this.$indexToRenderer,e=Object.keys(t),i=e.length,a=0;i>a;a++){var n=e[a],r=t[n];r&&(this.a1598(r,r.itemIndex,r.data),this.removeChild(r))}this.$indexToRenderer=[];var s=this.$DataGroup;if(s[10]){for(var o=s[3],l=Object.keys(o),h=l.length,a=0;h>a;a++)for(var p=l[a],u=o[p],c=u.length,d=0;c>d;d++){var r=u[d];this.a1598(r,r.itemIndex,r.data),this.removeChild(r)}s[3]={},s[2]={},s[10]=!1}},i.prototype.a1595=function(){if(this.$dataProvider)for(var t=0,e=this.$dataProvider.length,i=0;e>i;i++){var a=this.$dataProvider.a1695(i),n=this.a1592(a),r=this.a1585(n);r&&(this.$indexToRenderer[t]=r,this.updateRenderer(r,t,a),this.a1597(r,t,a),t++)}},i.prototype.updateRenderer=function(t,e,i){var a=this.$DataGroup;return a[11]=!0,t.itemIndex=e,t.parent==this&&this.setChildIndex(t,e),t.data=i,a[11]=!1,t},Object.defineProperty(i.prototype,"numElements",{get:function(){return this.$dataProvider?this.$dataProvider.length:0},enumerable:!0,configurable:!0}),i.prototype.a1597=function(t,e,i){},i.prototype.a1598=function(t,e,i){},i}(t.Group);t.DataGroup=e,__reflect(e.prototype,"eui.DataGroup"),t.registerProperty(e,"itemRenderer","Class"),t.registerProperty(e,"itemRendererSkinName","Class"),t.registerProperty(e,"dataProvider","eui.ICollection",!0)}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.labelDisplay=null,e._label="",e.iconDisplay=null,e._icon=null,e.touchCaptured=!1,e.touchChildren=!1,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.a1363,e),e}return __extends(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},enumerable:!0,configurable:!0}),e.prototype.a1599=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.touchCaptured=!1,this.a1576()},e.prototype.a1363=function(t){this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.touchCaptured=!0,this.a1576(),t.a1313()},e.prototype.a1600=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.contains(t.target)&&this.a1601(),this.touchCaptured=!1,this.a1576()},e.prototype.a1577=function(){return this.enabled?this.touchCaptured?"down":"up":"disabled"},e.prototype.a1581=function(t,e){e===this.labelDisplay?this.labelDisplay.text=this._label:e==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e.prototype.a1601=function(){},e}(t.Component);t.Button=e,__reflect(e.prototype,"eui.Button")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$Range={0:100,1:!1,2:0,3:!1,4:0,5:0,6:!1,7:1,8:!1,9:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"maximum",{get:function(){return this.$Range[0]},set:function(t){t=+t||0;var e=this.$Range;t!==e[0]&&(e[0]=t,e[1]=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minimum",{get:function(){return this.$Range[2]},set:function(t){t=+t||0;var e=this.$Range;t!==e[2]&&(e[2]=t,e[3]=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){var t=this.$Range;return t[6]?t[5]:t[4]},set:function(t){t=+t||0,this.$a1604(t)},enumerable:!0,configurable:!0}),i.prototype.$a1604=function(t){if(t===this.value)return!1;var e=this.$Range;return e[5]=t,e[6]=!0,this.invalidateProperties(),!0},Object.defineProperty(i.prototype,"snapInterval",{get:function(){return this.$Range[7]},set:function(t){var e=this.$Range;e[9]=!0,t=+t||0,t!==e[7]&&(isNaN(t)?(e[7]=1,e[9]=!1):e[7]=t,e[8]=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.a1556=function(){e.prototype.a1556.call(this);var t=this.$Range;if(t[2]>t[0]&&(t[1]?t[0]=t[2]:t[2]=t[0]),t[6]||t[1]||t[3]||t[8]){var i=t[6]?t[5]:t[4];t[6]=!1,t[1]=!1,t[3]=!1,t[8]=!1,this.a1604(this.a1603(i,t[7]))}},i.prototype.a1602=function(t){var e=this.snapInterval;if(0==e)return t;var i=Math.round(t/e)*e;return Math.abs(i)<e?e:i},i.prototype.a1603=function(t,e){var i=this.$Range;if(0==e)return Math.max(i[2],Math.min(i[0],t));var a=i[0]-i[2],n=1;if(t-=i[2],e!=Math.round(e)){var r=(1+e).toString().split(".");n=Math.pow(10,r[1].length),a*=n,t=Math.round(t*n),e=Math.round(e*n)}var s=Math.max(0,Math.floor(t/e)*e),o=Math.min(a,Math.floor((t+e)/e)*e),l=t-s>=(o-s)/2?o:s;return l/n+i[2]},i.prototype.a1604=function(e){var i=this.$Range;i[4]!==e&&(i[0]>i[2]?i[4]=Math.min(i[0],Math.max(i[2],e)):i[4]=e,i[6]=!1,this.invalidateDisplayList(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"value"))},i.prototype.a1558=function(t,i){e.prototype.a1558.call(this,t,i),this.updateSkinDisplayList()},i.prototype.updateSkinDisplayList=function(){},i}(t.Component);t.Range=e,__reflect(e.prototype,"eui.Range"),t.registerBindable(e.prototype,"value")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.$target=null,e.$useVirtualLayout=!1,e.$typicalWidth=71,e.$typicalHeight=22,e}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this.$target},set:function(t){this.$target!==t&&(this.$target=t,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useVirtualLayout",{get:function(){return this.$useVirtualLayout},set:function(t){t=!!t,this.$useVirtualLayout!=t&&(this.$useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this.$useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),e.prototype.a1605=function(t,e){t=+t||71,e=+e||22,(t!==this.$typicalWidth||e!==this.$typicalHeight)&&(this.$typicalWidth=t,this.$typicalHeight=e,this.$target&&this.$target.a1542())},e.prototype.scrollPositionChanged=function(){},e.prototype.clearVirtualLayoutCache=function(){},e.prototype.a1606=function(t){},e.prototype.a1607=function(t){},e.prototype.getElementIndicesInView=function(){return null},e.prototype.measure=function(){},e.prototype.a1558=function(t,e){},e}(egret.EventDispatcher);t.LayoutBase=e,__reflect(e.prototype,"eui.LayoutBase")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$ListBase={0:!1,1:!1,2:-2,3:-1,4:!1,5:void 0,6:!1,7:null,8:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"requireSelection",{get:function(){return this.$ListBase[0]},set:function(t){t=!!t;var e=this.$ListBase;t!==e[0]&&(e[0]=t,t&&(e[1]=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this.$getSelectedIndex()},set:function(t){t=0|+t,this.a1608(t,!1)},enumerable:!0,configurable:!0}),i.prototype.$getSelectedIndex=function(){var t=this.$ListBase;return t[2]!=i.NO_PROPOSED_SELECTION?t[2]:t[3]},i.prototype.a1608=function(t,e){if(t!=this.selectedIndex){var i=this.$ListBase;e&&(i[4]=i[4]||e),i[2]=t,this.invalidateProperties()}},Object.defineProperty(i.prototype,"selectedItem",{get:function(){var t=this.$ListBase;if(void 0!==t[5])return t[5];var e=this.$getSelectedIndex();return e!=i.NO_SELECTION&&null!=this.$dataProvider&&this.$dataProvider.length>e?this.$dataProvider.a1695(e):void 0},set:function(t){this.a1609(t,!1)},enumerable:!0,configurable:!0}),i.prototype.a1609=function(t,e){if(void 0===e&&(e=!1),this.selectedItem!==t){var i=this.$ListBase;e&&(i[4]=i[4]||e),i[5]=t,this.invalidateProperties()}},i.prototype.a1556=function(){var a=this.$dataProviderChanged;e.prototype.a1556.call(this);var n=this.$ListBase,r=this.$getSelectedIndex(),s=this.$dataProvider;a&&(r>=0&&s&&r<s.length?this.a1610(r,!0):this.requireSelection?n[2]=0:this.a1608(-1,!1)),n[1]&&(n[1]=!1,n[0]&&r==i.NO_SELECTION&&s&&s.length>0&&(n[2]=0)),void 0!==n[5]&&(s?n[2]=s.a1696(n[5]):n[2]=i.NO_SELECTION,n[5]=void 0);var o=!1;n[2]!=i.NO_PROPOSED_SELECTION&&(o=this.a1611()),n[6]&&(n[6]=!1,o||t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"))},i.prototype.updateRenderer=function(t,i,a){return this.a1610(i,this.$isItemIndexSelected(i)),e.prototype.updateRenderer.call(this,t,i,a)},i.prototype.a1610=function(t,e){var i=this.$indexToRenderer[t];i&&(i.selected=e)},i.prototype.$isItemIndexSelected=function(t){return t==this.selectedIndex},i.prototype.a1611=function(e){void 0===e&&(e=!0);var a=this.$dataProvider,n=this.$ListBase,r=a?a.length-1:-1,s=n[3],o=n[2];if(o<i.NO_SELECTION&&(o=i.NO_SELECTION),o>r&&(o=r),n[0]&&o==i.NO_SELECTION&&a&&a.length>0)return n[2]=i.NO_PROPOSED_SELECTION,n[4]=!1,!1;if(n[4]){var l=this.dispatchEventWith(egret.Event.CHANGING,!1,!0,!0);if(!l)return this.a1610(n[2],!1),n[2]=i.NO_PROPOSED_SELECTION,n[4]=!1,!1}return n[3]=o,n[2]=i.NO_PROPOSED_SELECTION,s!=i.NO_SELECTION&&this.a1610(s,!1),n[3]!=i.NO_SELECTION&&this.a1610(n[3],!0),e&&(n[4]&&(this.dispatchEventWith(egret.Event.CHANGE),n[4]=!1),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedItem")),!0},i.prototype.a1612=function(t,e){void 0===e&&(e=!1);var a=this.$ListBase;a[2]!=i.NO_PROPOSED_SELECTION?a[2]=t:a[3]=t,a[6]=!0,this.invalidateProperties()},i.prototype.itemAdded=function(t,a){e.prototype.itemAdded.call(this,t,a);var n=this.$getSelectedIndex();n==i.NO_SELECTION?this.$ListBase[0]&&this.a1612(a,!0):n>=a&&this.a1612(n+1,!0)},i.prototype.a1590=function(t,a){if(e.prototype.a1590.call(this,t,a),this.selectedIndex!=i.NO_SELECTION){var n=this.$getSelectedIndex();a==n?this.requireSelection&&this.$dataProvider&&this.$dataProvider.length>0?0==a?(this.$ListBase[2]=0,this.invalidateProperties()):this.a1608(0,!1):this.a1612(-1,!1):n>a&&this.a1612(n-1,!1)}},i.prototype.a1586=function(a){e.prototype.a1586.call(this,a),a.kind==t.CollectionEventKind.RESET?0==this.$dataProvider.length&&this.a1608(i.NO_SELECTION,!1):a.kind==t.CollectionEventKind.REFRESH&&this.dataProviderRefreshed()},i.prototype.dataProviderRefreshed=function(){this.a1608(i.NO_SELECTION,!1)},i.prototype.a1597=function(t,e,i){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRendererTouchBegin,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.a1613,this),t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onRendererTouchCancle,this)},i.prototype.a1598=function(t,e,i){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRendererTouchBegin,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1613,this),t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onRendererTouchCancle,this)},i.prototype.onRendererTouchBegin=function(t){if(this.$stage){var e=this.$ListBase;t.$a1271||(e[8]=!1,e[7]=t.$currentTarget,this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this))}},i.prototype.onRendererTouchCancle=function(t){var e=this.$ListBase;e[7]=null,e[8]=!0,this.$stage&&this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this)},i.prototype.a1613=function(e){var i=this.$ListBase,a=e.$currentTarget,n=i[7];a==n&&(i[8]||(this.a1608(a.itemIndex,!0),t.ItemTapEvent.dispatchItemTapEvent(this,t.ItemTapEvent.ITEM_TAP,a)),i[8]=!1)},i.prototype.stage_touchEndHandler=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),this.$ListBase[7]=null},i.NO_SELECTION=-1,i.NO_PROPOSED_SELECTION=-2,i}(t.DataGroup);t.ListBase=e,__reflect(e.prototype,"eui.ListBase"),t.registerBindable(e.prototype,"selectedIndex"),t.registerBindable(e.prototype,"selectedItem")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.thumb=null,t.$viewport=null,t.autoVisibility=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"viewport",{get:function(){return this.$viewport},set:function(e){if(e!=this.$viewport){var i=this.$viewport;i&&(i.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.a1615,this),i.removeEventListener(egret.Event.RESIZE,this.a1614,this)),this.$viewport=e,e&&(e.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.a1615,this),e.addEventListener(egret.Event.RESIZE,this.a1614,this)),this.invalidateDisplayList()}},enumerable:!0,configurable:!0}),i.prototype.a1614=function(t){this.invalidateDisplayList()},i.prototype.a1615=function(t){},i}(t.Component);t.ScrollBarBase=e,__reflect(e.prototype,"eui.ScrollBarBase")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.trackHighlight=null,t.thumb=null,t.track=null,t.$SliderBase={0:0,1:0,2:0,3:0,4:null,5:null,6:300,7:0,8:0,9:!0},t.maximum=10,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.a1363,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"slideDuration",{get:function(){return this.$SliderBase[6]},set:function(t){this.$SliderBase[6]=+t||0},enumerable:!0,configurable:!0}),i.prototype.a1616=function(t,e){return this.minimum},Object.defineProperty(i.prototype,"liveDragging",{get:function(){return this.$SliderBase[9]},set:function(t){this.$SliderBase[9]=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pendingValue",{get:function(){return this.$SliderBase[7]},set:function(t){t=+t||0;var e=this.$SliderBase;t!==e[7]&&(e[7]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.a1604=function(t){this.$SliderBase[7]=t,e.prototype.a1604.call(this,t)},i.prototype.a1581=function(t,i){e.prototype.a1581.call(this,t,i),i==this.thumb?(this.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1617,this),this.thumb.addEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i==this.track?(this.track.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1622,this),this.track.addEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i===this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,egret.is(this.trackHighlight,"egret.DisplayObjectContainer")&&(this.trackHighlight.touchChildren=!1))},i.prototype.a1582=function(t,i){e.prototype.a1582.call(this,t,i),i==this.thumb?(this.thumb.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1617,this),this.thumb.removeEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i==this.track&&(this.track.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1622,this),this.track.removeEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this))},i.prototype.onTrackOrThumbResize=function(t){this.updateSkinDisplayList()},i.prototype.a1617=function(e){var i=this.$SliderBase;i[5]&&i[5].a1713&&this.a1621();var a=this.$stage;a.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1618,this),a.addEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this);var n=this.thumb.globalToLocal(e.stageX,e.stageY,egret.$TempPoint);i[0]=n.x,i[1]=n.y,t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START)},i.prototype.a1618=function(t){var e=this.$SliderBase;e[2]=t.$stageX,e[3]=t.$stageY;var i=this.track;if(i){var a=i.globalToLocal(e[2],e[3],egret.$TempPoint),n=this.a1616(a.x-e[0],a.y-e[1]);n=this.a1603(n,this.snapInterval),this.a1619(n),t.a1313()}},i.prototype.a1619=function(t){t!=this.$SliderBase[7]&&(this.liveDragging?(this.a1604(t),this.dispatchEventWith(egret.Event.CHANGE)):this.pendingValue=t)},i.prototype.a1600=function(e){var i=e.$currentTarget;i.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1618,this),i.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END);var a=this.$SliderBase;this.liveDragging||this.value==a[7]||(this.a1604(a[7]),this.dispatchEventWith(egret.Event.CHANGE))},i.prototype.a1363=function(t){this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stageTouchEndHandler,this),this.$SliderBase[4]=t.$target},i.prototype.stageTouchEndHandler=function(t){var e=t.$target,i=this.$SliderBase;t.$currentTarget.removeEventListener(egret.TouchEvent.TOUCH_END,this.stageTouchEndHandler,this),i[4]!=e&&this.contains(e)&&egret.TouchEvent.dispatchTouchEvent(this,egret.TouchEvent.TOUCH_TAP,!0,!0,t.$stageX,t.$stageY,t.touchPointID),i[4]=null},i.prototype.$animationUpdateHandler=function(t){this.pendingValue=t.currentValue},i.prototype.a1620=function(e){this.a1604(this.$SliderBase[8]),this.dispatchEventWith(egret.Event.CHANGE),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},i.prototype.a1621=function(){this.$SliderBase[5].stop(),this.a1604(this.a1603(this.pendingValue,this.snapInterval)),this.dispatchEventWith(egret.Event.CHANGE),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},i.prototype.a1622=function(e){var i=this.thumb?this.thumb.width:0,a=this.thumb?this.thumb.height:0,n=e.$stageX-i/2,r=e.$stageY-a/2,s=this.track.globalToLocal(n,r,egret.$TempPoint),o=this.$Range,l=this.a1616(s.x,s.y);l=this.a1603(l,o[7]);var h=this.$SliderBase;if(l!=h[7])if(0!=h[6]){h[5]||(h[5]=new t.sys.Animation(this.$animationUpdateHandler,this),h[5].endFunction=this.a1620);var p=h[5];p.a1713&&this.a1621(),h[8]=l,p.duration=h[6]*(Math.abs(h[7]-h[8])/(o[0]-o[2])),p.from=h[7],p.to=h[8],t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START),p.play()}else this.a1604(l),this.dispatchEventWith(egret.Event.CHANGE)},i}(t.Range);t.SliderBase=e,__reflect(e.prototype,"eui.SliderBase")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){if(!t)return"";for(var e="  at <"+t.name,i=t.attributes,a=Object.keys(i),n=a.length,r=0;n>r;r++){var s=a[r],o=i[s];("id"!=s||"__"!=o.substring(0,2))&&(e+=" "+s+'="'+o+'"')}return e+=0==t.children.length?"/>":">"}function i(t){var i=e(t.parent),a=e(t).substring(5);return i+"\n      	"+a}var a=[],n=1,r="hostComponent",s="eui.Skin",o="Declarations",l="egret.Rectangle",h="Class",p="Array",u="Percentage",c="State[]",d="skinName",g=[p,"boolean","string","number"],f=["id","locked","includeIn","excludeFrom"],m=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"],["'","&apos;"]],v=["null","NaN","undefined","true","false"],y=function(){function e(){this.delayAssignmentDic={}}return e.prototype.$parseCode=function(t,e){var i=e?e:"$exmlClass"+n++,a=eval,r=a(t),s=!0;if(s&&r){egret.registerClass(r,i);for(var o=i.split("."),l=o.length,h=__global,p=0;l-1>p;p++){var u=o[p];h=h[u]||(h[u]={})}h[o[l-1]]||(h[o[l-1]]=r)}return r},e.prototype.parse=function(t){var e=null;e=egret.XML.parse(t);var i=!1,a="";e.attributes["class"]?(a=e.attributes["class"],delete e.attributes["class"],i=!!a):a="$exmlClass"+n++;var r=this.a1623(e,a),s=r.toCode(),o=null,l=eval;if(o=l(s),i&&o){egret.registerClass(o,a);for(var h=a.split("."),p=h.length,u=__global,c=0;p-1>c;c++){var d=h[c];u=u[d]||(u[d]={})}u[h[p-1]]||(u[h[p-1]]=o)}return o},e.prototype.a1623=function(e,i){t.exmlConfig||(t.exmlConfig=new t.EXMLConfig),this.currentXML=e,this.currentClassName=i,this.delayAssignmentDic={},this.idDic={},this.stateCode=[],this.stateNames=[],this.skinParts=[],this.bindings=[],this.declarations=null,this.currentClass=new t.EXClass,this.stateIds=[];var a=i.lastIndexOf(".");-1!=a?this.currentClass.className=i.substring(a+1):this.currentClass.className=i,this.a1624();var n=this.currentClass;return this.currentClass=null,n},e.prototype.a1624=function(){var e=this.a1651(this.currentXML);this.isSkinClass=e==s,this.currentClass.superClass=e,this.a1646();var i=this.currentXML.children;if(i)for(var a=i.length,n=0;a>n;n++){var r=i[n];if(1===r.nodeType&&r.namespace==t.NS_W&&r.localName==o){this.declarations=r;break}}this.currentXML.namespace&&(this.a1625(this.currentXML.children),this.a1644())},e.prototype.a1625=function(e){if(e)for(var i=e.length,a=0;i>a;a++){var n=e[a];if(1==n.nodeType&&n.namespace&&!this.a1626(n)&&(this.a1625(n.children),n.namespace!=t.NS_W&&n.localName))if(this.isProperty(n)){var r=n.localName,s=r.indexOf("."),o=n.children;if(-1==s||!o||0==o.length)continue;var l=o[0];this.stateIds.push(l.attributes.id)}else if(1===n.nodeType){var h=n.attributes.id;if(h){var p=new RegExp("^[a-zA-Z_$]{1}[a-z0-9A-Z_$]*");null==h.match(p)&&egret.$warn(2022,h),null!=h.match(new RegExp(/ /g))&&egret.$warn(2022,h),-1==this.skinParts.indexOf(h)&&this.skinParts.push(h),this.a1630(n),this.a1645(n)&&this.stateIds.push(h)}else this.a1628(n),this.a1645(n)&&this.stateIds.push(n.attributes.id)}}},e.prototype.a1626=function(e){if(e.hasOwnProperty("a1626"))return e.a1626;var i="Skin"==e.localName&&e.namespace==t.NS_S;if(!i)if(this.isProperty(e))i=!1;else{var a=void 0,n=e.parent;if(this.isProperty(n)){a=n.localName;var r=a.indexOf(".");-1!=r&&(a.substring(r+1),a=a.substring(0,r)),n=n.parent}else a=t.exmlConfig.a1748(n.localName,n.namespace);var s=t.exmlConfig.a1747(n.localName,n.namespace);i=t.exmlConfig.a1749(a,s)==h}return e.a1626=i,i},e.prototype.a1627=function(t){var e=t.attributes;if(e.includeIn||e.excludeFrom)return!0;for(var i=Object.keys(e),a=i.length,n=0;a>n;n++){var r=i[n];if(-1!=r.indexOf("."))return!0}return!1},e.prototype.a1628=function(t){var e=this.a1629(t);this.idDic[e]?this.idDic[e]++:this.idDic[e]=1,e+=this.idDic[e],t.attributes.id=e},e.prototype.a1629=function(t){return t.attributes.id?t.attributes.id:"_"+t.localName},e.prototype.a1630=function(e){var i=this.a1651(e);""!=i&&(this.currentClass.a1730(e.attributes.id)||this.currentClass.addVariable(new t.EXVariable(e.attributes.id)))},e.prototype.a1631=function(e){var i=e.localName,a=this.a1632(i);if(a)return this.createBasicTypeForNode(e);var n=this.a1651(e),r=new t.EXFunction,s="_i",o=e.attributes.id;r.name=o+s,this.currentClass.a1731(r);var l=new t.EXCodeBlock;r.codeBlock=l;var h="t";"Object"==i?l.addVar(h,"{}"):l.addVar(h,"new "+n+"()");var p=!!this.currentClass.a1730(o);p&&l.a1734("this."+o,h),this.addAttributesToCodeBlock(l,h,e),this.initlizeChildNode(e,l,h);var u=this.delayAssignmentDic[o];if(u)for(var c=u.length,d=0;c>d;d++){var g=u[d];l.concat(g)}return l.a1735(h),"this."+r.name+"()"},e.prototype.a1632=function(t){return-1!=g.indexOf(t)},e.prototype.createBasicTypeForNode=function(t){var e=t.localName,i="",a=this.currentClass.a1730(t.attributes.id),n=t.children,r="";if(n&&n.length>0){var s=n[0];3==s.nodeType&&(r=s.text.trim())}switch(e){case p:var o=[];if(n)for(var l=n.length,h=0;l>h;h++){var u=n[h];1==u.nodeType&&o.push(this.a1631(u))}i="["+o.join(",")+"]";break;case"boolean":i="false"!=r&&r?"true":"false";break;case"number":i=r,-1!=i.indexOf("%")&&(i=i.substring(0,i.length-1));break;case"string":i=this.a1640(r)}return a&&(a.defaultValue=i),i},e.prototype.addAttributesToCodeBlock=function(e,i,a){var n,r,s=a.attributes,o=Object.keys(s);o.sort();for(var l=o.length,h=0;l>h;h++)if(n=o[h],this.a1637(n)&&(r=s[n],n=this.formatKey(n,r),r=this.formatValue(n,r,a))){if(this.currentClass.a1730(r)){var p="this.",u=s.id,c=p+u+" = t;";this.currentClass.a1730(u)||this.a1630(a),e.a1745(c)||e.a1744(c,1);var d=new t.EXCodeBlock;"this"==i?d.a1734(i,p+r,n):(d.startIf(p+u),d.a1734(p+u,p+r,n),d.endBlock()),this.delayAssignmentDic[r]||(this.delayAssignmentDic[r]=[]),this.delayAssignmentDic[r].push(d),r=p+r}e.a1734(i,r,n)}},e.prototype.initlizeChildNode=function(e,a,n){var r=e.children;if(r&&0!=r.length){for(var s,o=t.exmlConfig.a1747(e.localName,e.namespace),l=[],h=r.length,p=[],u=0;h>u;u++){var c=r[u];if(1==c.nodeType&&c.namespace!=t.NS_W)if(this.a1626(c)){if("Skin"==c.localName){var g=this.a1634(c),f=t.exmlConfig.a1749(d,o);f?a.a1734(n,g,d):egret.$error(2005,this.currentClassName,d,i(c))}}else{var m=c.localName;if(this.isProperty(c)){if(!this.a1637(m))continue;var f=t.exmlConfig.a1749(c.localName,o);if(!f)continue;if(!c.children||0==c.children.length)continue;this.addChildrenToProp(c.children,f,m,a,n,s,p,e)}else l.push(c)}}if(0!=l.length){var v=t.exmlConfig.a1748(e.localName,e.namespace),y=t.exmlConfig.a1749(v,o);v&&y&&this.addChildrenToProp(l,y,v,a,n,s,p,e)}}},e.prototype.a1634=function(t){var i=a.pop();i||(i=new e);var r=this.currentClass.className+"$"+t.localName+n++,s=i.a1623(t,r);return this.currentClass.a1728(s),a.push(i),r},e.prototype.addChildrenToProp=function(t,e,i,a,n,r,s,o){var l="",u=t.length;if(u>1){if(e!=p)return;for(var c=[],d=0;u>d;d++){var g=t[d];1==g.nodeType&&(l=this.a1631(g),this.a1651(g),this.a1645(g)||c.push(l))}l="["+c.join(",")+"]"}else{var f=t[0];if(e==p)if(f.localName==p){var c=[];if(f.children)for(var m=f.children.length,v=0;m>v;v++){var g=f.children[v];1==g.nodeType&&(l=this.a1631(g),this.a1651(g),this.a1645(g)||c.push(l))}l="["+c.join(",")+"]"}else l=this.a1631(f),this.a1651(f),l=this.a1645(f)?"[]":"["+l+"]";else if(1==f.nodeType)if(e==h){if(u>1)return;l=this.a1634(t[0])}else this.a1651(f),l=this.a1631(f);else l=this.formatValue(i,f.text,o)}""!=l&&(-1==l.indexOf("()")&&(i=this.formatKey(i,l)),-1==s.indexOf(i)&&s.push(i),a.a1734(n,l,i))},e.prototype.isProperty=function(e){if(e.hasOwnProperty("isProperty"))return e.isProperty;var i,a=e.localName;if(a&&1===e.nodeType&&e.parent&&!this.a1632(a)){var n=e.parent,r=a.indexOf(".");-1!=r&&(a=a.substr(0,r));var s=t.exmlConfig.a1747(n.localName,n.namespace);i=!!t.exmlConfig.a1749(a,s)}else i=!1;return e.isProperty=i,i},e.prototype.a1637=function(t){return t&&-1==t.indexOf(".")&&-1==t.indexOf(":")&&-1==f.indexOf(t)?!0:!1},e.prototype.formatKey=function(t,e){return-1!=e.indexOf("%")&&("height"==t?t="percentHeight":"width"==t&&(t="percentWidth")),t},e.prototype.formatValue=function(e,i,a){i||(i="");var n=i;i=i.trim();var r=this.a1651(a),s=t.exmlConfig.a1749(e,r),o=this.a1641(e,i,a);if(o){this.a1648(a);var p="this";a!==this.currentXML&&(p+="."+a.attributes.id),this.bindings.push(new t.EXBinding(p,e,o.templates,o.chainIndex)),i=""}else if(s==l)i="new "+l+"("+i+")";else if(s==u)-1!=i.indexOf("%")&&(i=this.a1640(i));else switch(s){case h:e==d&&(i=this.a1640(n));break;case"number":0==i.indexOf("#")?i="0x"+i.substring(1):-1!=i.indexOf("%")&&(i=parseFloat(i.substr(0,i.length-1)).toString());break;case"boolean":i="false"!=i&&i?"true":"false";break;case"string":case"any":i=this.a1640(n)}return i},e.prototype.a1640=function(t){return t=this.a1643(t),t=t.split("\n").join("\\n"),t=t.split("\r").join("\\n"),t=t.split('"').join('\\"'),t='"'+t+'"'},e.prototype.a1641=function(t,e,i){if(!e)return null;if(e=e.trim(),"{"!=e.charAt(0)||"}"!=e.charAt(e.length-1))return null;e=e.substring(1,e.length-1).trim();for(var a=-1==e.indexOf("+")?[e]:this.a1642(e),n=[],s=a.length,o=0;s>o;o++){var l=a[o].trim();if(l){var h=l.charAt(0);if(!("'"==h||'"'==h||h>="0"&&"9">=h||"-"==h||-1==l.indexOf(".")&&-1!=v.indexOf(l))){0==l.indexOf("this.")&&(l=l.substring(5));var p=l.split(".")[0];p!=r&&-1==this.skinParts.indexOf(p)&&(l=r+"."+l),a[o]='"'+l+'"',n.push(o)}}else a.splice(o,1),o--,s--}return{templates:a,chainIndex:n}},e.prototype.a1642=function(t){if(-1==t.indexOf("'"))return t.split("+");var e=!1,i="";for(t=t.split("\\'").join("0");t.length>0;){var a=t.indexOf("'");if(-1==a){i+=t;break}i+=t.substring(0,a+1),t=t.substring(a+1),a=t.indexOf("'"),-1==a&&(a=t.length-1,e=!0);var n=t.substring(0,a+1);i+=n.split("+").join("1"),t=t.substring(a+1)}t=i.split("0").join("\\'"),e&&(t+="'");for(var r=t.split("+"),s=r.length,o=0;s>o;o++)r[o]=r[o].split("1").join("+");return r},e.prototype.a1643=function(t){if(!t)return"";for(var e=m.length,i=0;e>i;i++){var a=m[i],n=a[0],r=a[1];t=t.split(r).join(n)}return t},e.prototype.a1644=function(){var e=new t.EXCodeBlock;e.a1736();var i="this";if(this.addAttributesToCodeBlock(e,i,this.currentXML),this.declarations){var a=this.declarations.children;if(a&&a.length>0)for(var n=a.length,r=0;n>r;r++){var s=a[r];if(1==s.nodeType){var o=this.a1631(s);o&&e.a1743(o+";")}}}this.initlizeChildNode(this.currentXML,e,i);var l,h,p=this.stateIds;if(p.length>0){h=p.length;for(var r=0;h>r;r++)l=p[r],e.a1743("this."+l+"_i();");e.a1736()}var u=this.skinParts,c="[]";if(h=u.length,h>0){for(var r=0;h>r;r++)u[r]='"'+u[r]+'"';c="["+u.join(",")+"]"}var d=new t.EXFunction;d.name="skinParts",d.isGet=!0;var g=new t.EXCodeBlock;g.a1735(c),d.codeBlock=g,this.currentClass.a1731(d),this.currentXML.attributes.id="",this.a1647(this.currentXML);for(var f,m=this.currentXML,v=(this.a1651(m),m.attributes),y=Object.keys(v),b=y.length,_=0;b>_;_++){var A=y[_],T=v[A],C=A.indexOf(".");if(-1!=C){var w=A.substring(0,C);w=this.formatKey(w,T);var x=this.formatValue(w,T,m);if(!x)continue;var I=A.substr(C+1);f=this.a1649(I,m);var D=f.length;if(D>0)for(var r=0;D>r;r++){var E=f[r];E.a1746(new t.EXSetProperty("",w,x))}}}var S=this.stateCode;if(h=S.length,h>0){var G="	";e.a1743("this.states = [");for(var P=!0,r=0;h>r;r++){var E=S[r];P?P=!1:e.a1743(G+",");for(var k=E.toCode().split("\n"),M=0;M<k.length;){var L=k[M];L&&e.a1743(G+L),M++}}e.a1743("];")}var O=this.bindings;if(h=O.length,h>0){e.a1736();for(var r=0;h>r;r++){var B=O[r];e.a1743(B.toCode())}}this.currentClass.constructCode=e},e.prototype.a1645=function(t){var e=t.attributes;return e.hasOwnProperty("includeIn")||e.hasOwnProperty("excludeFrom")},e.prototype.a1646=function(){var e=this.currentXML,i=t.exmlConfig.a1747(e.localName,e.namespace),a=t.exmlConfig.a1749("states",i);if(a==c){var n=e.attributes.states;n&&delete e.attributes.states;var r,s,o=this.stateNames,l=e.children;if(l)for(var h=l.length,p=0;h>p;p++)if(s=l[p],1==s.nodeType&&"states"==s.localName){s.namespace=t.NS_W,r=s.children;break}if(r||n)if(n)for(var u=n.split(","),d=u.length,p=0;d>p;p++){var g=u[p].trim();g&&(-1==o.indexOf(g)&&o.push(g),this.stateCode.push(new t.EXState(g)))}else for(var f=r.length,p=0;f>p;p++){var m=r[p];if(1==m.nodeType){var v=[],y=m.attributes;if(y.stateGroups)for(var b=y.stateGroups.split(","),_=b.length,A=0;_>A;A++){var T=b[A].trim();
T&&(-1==o.indexOf(T)&&o.push(T),v.push(T))}var g=y.name;-1==o.indexOf(g)&&o.push(g),this.stateCode.push(new t.EXState(g,v))}}}},e.prototype.a1647=function(e){var i=e.children;if(i)for(var a=i.length,n=0;a>n;n++){var r=i[n];if(1==r.nodeType&&!this.a1626(r)&&(this.a1647(r),r.namespace!=t.NS_W&&r.localName))if(this.isProperty(r)){var s=r.localName,o=s.indexOf("."),l=r.children;if(-1==o||!l||0==l.length)continue;var h=s.substring(o+1);s=s.substring(0,o);var u=this.a1651(e),c=(t.exmlConfig.a1749(s,u),l[0]),d=void 0;1==c.nodeType?(this.a1631(c),this.a1648(c),d="this."+c.attributes.id):d=this.formatValue(s,c.text,e);var g=this.a1649(h,r),f=g.length;if(f>0)for(var m=0;f>m;m++){var v=g[m];v.a1746(new t.EXSetProperty(e.attributes.id,s,d))}}else if(this.a1627(r)){var y=r.attributes,b=y.id;this.a1651(r),this.a1648(r);var h=void 0,g=void 0,v=void 0;if(this.a1645(r)){var _="",A=r.parent;A.localName==p&&(A=A.parent),A&&A.parent&&this.isProperty(A)&&(A=A.parent),A&&A!=this.currentXML&&(_=A.attributes.id,this.a1648(A));var T=this.a1650(r),C=[];if(y.includeIn)C=y.includeIn.split(",");else{for(var w=y.excludeFrom.split(","),x=w.length,m=0;x>m;m++){var I=w[m];this.a1649(I,r)}x=this.stateCode.length;for(var m=0;x>m;m++)v=this.stateCode[m],-1==w.indexOf(v.name)&&C.push(v.name)}for(var D=C.length,E=0;D>E;E++)if(h=C[E],g=this.a1649(h,r),g.length>0)for(var f=g.length,m=0;f>m;m++)v=g[m],v.a1746(new t.EXAddItems(b,_,T.position,T.relativeTo))}for(var S=Object.keys(y),G=S.length,P=0;G>P;P++){var k=S[P],d=y[k],o=k.indexOf(".");if(-1!=o){var M=k.substring(0,o);M=this.formatKey(M,d);var L=this.a1641(M,d,r);if(!L&&(d=this.formatValue(M,d,r),!d))continue;h=k.substr(o+1),g=this.a1649(h,r);var f=g.length;if(f>0)for(var m=0;f>m;m++)v=g[m],L?v.a1746(new t.EXSetStateProperty(b,M,L.templates,L.chainIndex)):v.a1746(new t.EXSetProperty(b,M,d))}}}}},e.prototype.a1648=function(t){if(t&&!this.currentClass.a1730(t.attributes.id)){this.a1630(t);var e=t.attributes.id,i=e+"_i",a=this.currentClass.a1732(i);if(a){var n="this."+e+" = t;",r=a.codeBlock;r&&(r.a1745(n)||r.a1744(n,1))}}},e.prototype.a1649=function(t,e){for(var i=[],a=this.stateCode,n=a.length,r=0;n>r;r++){var s=a[r];if(s.name==t)-1==i.indexOf(s)&&i.push(s);else if(s.stateGroups.length>0){for(var o=!1,l=s.stateGroups.length,h=0;l>h;h++){var p=s.stateGroups[h];if(p==t){o=!0;break}}o&&-1==i.indexOf(s)&&i.push(s)}}return i},e.prototype.a1650=function(t){for(var e,i,a,n=t.parent,r="",s=-1,o=!1,l=n.children,h=l.length,p=0;h>p;p++){var u=l[p];this.isProperty(u)||(u==t?(o=!0,s=p):!o||a||this.a1645(u)||(a=u),o||this.a1645(u)||(i=u))}return 0==s?(e=0,{position:e,relativeTo:r}):s==h-1?(e=1,{position:e,relativeTo:r}):a&&(e=2,r=a.attributes.id)?(this.a1648(a),{position:e,relativeTo:r}):{position:1,relativeTo:r}},e.prototype.a1651=function(e){var i=t.exmlConfig.a1747(e.localName,e.namespace);return i},e}();t.EXMLParser=y,__reflect(y.prototype,"eui.sys.EXMLParser")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.$selected=!1,t.$autoSelected=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"selected",{get:function(){return this.$selected},set:function(t){this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelected=function(e){return e=!!e,e===this.$selected?!1:(this.$selected=e,this.a1576(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selected"),!0)},i.prototype.a1577=function(){var t=e.prototype.a1577.call(this);if(this.$selected){var i=t+"AndSelected",a=this.skin;return a&&a.a1551(i)?i:"disabled"==t?"disabled":"down"}return t},i.prototype.a1601=function(){this.$autoSelected&&(this.selected=!this.$selected,this.dispatchEventWith(egret.Event.CHANGE))},i}(t.Button);t.ToggleButton=e,__reflect(e.prototype,"eui.ToggleButton"),t.registerBindable(e.prototype,"selected")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$horizontalAlign="left",e.$verticalAlign="top",e.$gap=6,e.$paddingLeft=0,e.$paddingRight=0,e.$paddingTop=0,e.$paddingBottom=0,e.elementSizeTable=[],e.startIndex=-1,e.endIndex=-1,e.indexInViewCalculated=!1,e.maxElementSize=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"horizontalAlign",{get:function(){return this.$horizontalAlign},set:function(t){this.$horizontalAlign!=t&&(this.$horizontalAlign=t,this.$target&&this.$target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.$verticalAlign},set:function(t){this.$verticalAlign!=t&&(this.$verticalAlign=t,this.$target&&this.$target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this.$gap},set:function(t){t=+t||0,this.$gap!==t&&(this.$gap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingLeft",{get:function(){return this.$paddingLeft},set:function(t){t=+t||0,this.$paddingLeft!==t&&(this.$paddingLeft=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{get:function(){return this.$paddingRight},set:function(t){t=+t||0,this.$paddingRight!==t&&(this.$paddingRight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingTop",{get:function(){return this.$paddingTop},set:function(t){t=+t||0,this.$paddingTop!==t&&(this.$paddingTop=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingBottom",{get:function(){return this.$paddingBottom},set:function(t){t=+t||0,this.$paddingBottom!==t&&(this.$paddingBottom=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),e.prototype.invalidateTargetLayout=function(){var t=this.$target;t&&(t.a1542(),t.invalidateDisplayList())},e.prototype.measure=function(){this.$target&&(this.$useVirtualLayout?this.a1653():this.a1652())},e.prototype.a1652=function(){},e.prototype.a1653=function(){},e.prototype.a1558=function(t,e){var i=this.$target;return i?0==i.numElements?void i.a1312(Math.ceil(this.$paddingLeft+this.$paddingRight),Math.ceil(this.$paddingTop+this.$paddingBottom)):void(this.$useVirtualLayout?this.updateDisplayListVirtual(t,e):this.updateDisplayListReal(t,e)):void 0},e.prototype.a1654=function(t){return 0},e.prototype.a1655=function(t){return 0},e.prototype.a1656=function(){return 0},e.prototype.a1607=function(e){this.$useVirtualLayout&&(t.prototype.a1607.call(this,e),this.elementSizeTable.splice(e,1))},e.prototype.clearVirtualLayoutCache=function(){this.$useVirtualLayout&&(this.elementSizeTable=[],this.maxElementSize=0)},e.prototype.a1657=function(t,e,i){var a=.5*(e+i)|0,n=this.a1654(a),r=this.a1655(a);return t>=n&&t<n+r+this.$gap?a:e==i?-1:n>t?this.a1657(t,e,Math.max(e,a-1)):this.a1657(t,Math.min(a+1,i),i)},e.prototype.scrollPositionChanged=function(){if(t.prototype.scrollPositionChanged.call(this),this.$useVirtualLayout){var e=this.a1658();e&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},e.prototype.a1658=function(){return!1},e.prototype.updateDisplayListVirtual=function(t,e){},e.prototype.updateDisplayListReal=function(t,e){},e.prototype.flexChildrenProportionally=function(t,e,i,a){var n,r=a.length;do{n=!0;var s=e-t*i/100;s>0?e-=s:s=0;for(var o=e/i,l=0;r>l;l++){var h=a[l],p=h.percent*o;if(p<h.min){var u=h.min;h.size=u,a[l]=a[--r],a[r]=h,i-=h.percent,s>=u?s-=u:(e-=u-s,s=0),n=!1;break}if(p>h.max){var c=h.max;h.size=c,a[l]=a[--r],a[r]=h,i-=h.percent,s>=c?s-=c:(e-=c-s,s=0),n=!1;break}h.size=p}}while(!n)},e}(t.LayoutBase);t.LinearLayoutBase=e,__reflect(e.prototype,"eui.LinearLayoutBase")}(eui||(eui={})),function(t){var e;!function(t){var e=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}return t}();t.ChildInfo=e,__reflect(e.prototype,"eui.sys.ChildInfo")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.a1616=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.$Range,a=i[0]-i[2],n=this.a1659();return i[2]+(0!=n?t/n*a:0)},e.prototype.a1659=function(){var t=egret.$TempRectangle;this.track.a1567(t);var e=t.width;return this.thumb.a1567(t),e-t.width},e.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var t=this.$Range,e=this.a1659(),i=t[0]-t[2],a=i>0?(this.pendingValue-t[2])/i*e:0,n=this.track.a1263(a,0,egret.$TempPoint),r=n.x,s=n.y,o=this.thumb.$parent.globalToLocal(r,s,egret.$TempPoint).x,l=egret.$TempRectangle;if(this.thumb.a1567(l),this.thumb.setLayoutBoundsPosition(Math.round(o),l.y),this.trackHighlight&&this.trackHighlight.$parent){var h=this.trackHighlight.$parent.globalToLocal(r,s,egret.$TempPoint).x-a;this.trackHighlight.x=Math.round(h),this.trackHighlight.width=Math.round(a)}}},e}(t.SliderBase);t.HSlider=e,__reflect(e.prototype,"eui.HSlider")}(eui||(eui={}));var eui;!function(t){var e=[],i={},a={},n=function(){function t(){}return t.prototype.getAsset=function(t,n,r){var s=i[t];if(s)return void s.push([n,r]);var o=e.pop();o||(o=new egret.ImageLoader),i[t]=[[n,r]],a[o.$hashCode]=t,o.addEventListener(egret.Event.COMPLETE,this.a1660,this),o.addEventListener(egret.IOErrorEvent.IO_ERROR,this.a1660,this),o.load(t)},t.prototype.a1660=function(t){var n=t.currentTarget;n.removeEventListener(egret.Event.COMPLETE,this.a1660,this),n.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.a1660,this);var r;t.$type==egret.Event.COMPLETE&&(r=new egret.Texture,r._setBitmapData(n.data),n.data=null),e.push(n);var s=a[n.$hashCode];delete a[n.$hashCode];var o=i[s];delete i[s];for(var l=o.length,h=0;l>h;h++){var p=o[h];p[0].call(p[1],r,s)}},t}();t.DefaultAssetAdapter=n,__reflect(n.prototype,"eui.DefaultAssetAdapter",["eui.IAssetAdapter"])}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.sourceChanged=!1,i._source=null,i.a1553(),t&&(i.source=t),i}return __extends(i,e),Object.defineProperty(i.prototype,"scale9Grid",{get:function(){return this.$scale9Grid},set:function(t){this.$setScale9Grid(t),this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this.$fillMode},set:function(t){t!=this.$fillMode&&(e.prototype.$setFillMode.call(this,t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.$setFillMode=function(t){var i=e.prototype.$setFillMode.call(this,t);return this.invalidateDisplayList(),i},Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){t!=this._source&&(this._source=t,this.$stage?this.parseSource():(this.sourceChanged=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),i.prototype.$setTexture=function(t){if(t==this.$texture)return!1;var i=e.prototype.$setTexture.call(this,t);return this.sourceChanged=!1,this.a1542(),this.invalidateDisplayList(),i},i.prototype.parseSource=function(){this.sourceChanged=!1;var e=this._source;e&&"string"==typeof e?t.getAssets(this._source,function(t){e===this._source&&egret.is(t,"egret.Texture")&&(this.$setTexture(t),t&&this.dispatchEventWith(egret.Event.COMPLETE))},this):this.$setTexture(e)},i.prototype.$measureContentBounds=function(t){var e=this.$texture;if(e){var i=this.$UIComponent,a=i[10],n=i[11];if(isNaN(a)||isNaN(n))return void t.setEmpty();"clip"==this.$fillMode&&(a>e.$getTextureWidth()&&(a=e.$getTextureWidth()),n>e.$getTextureHeight()&&(n=e.$getTextureHeight())),t.setTo(0,0,a,n)}else t.setEmpty()},i.prototype.createChildren=function(){this.sourceChanged&&this.parseSource()},i.prototype.a1562=function(i,a){t.sys.UIComponentImpl.prototype.a1562.call(this,i,a),e.prototype.$setWidth.call(this,i),e.prototype.$setHeight.call(this,a)},i.prototype.childrenCreated=function(){},i.prototype.a1556=function(){t.sys.UIComponentImpl.prototype.a1556.call(this),this.sourceChanged&&this.parseSource()},i.prototype.measure=function(){var t=this.$texture;t?this.a1561(t.$getTextureWidth(),t.$getTextureHeight()):this.a1561(0,0)},i.prototype.a1558=function(t,e){this.$renderDirty=!0},i.prototype.invalidateParentLayout=function(){},i.prototype.a1561=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.a1541=function(){},i.prototype.a1542=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.a1544=function(){},i.prototype.validateNow=function(){},i.prototype.a1566=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.a1567=function(t){},i.prototype.a1570=function(t){},i}(egret.Bitmap);t.Image=e,__reflect(e.prototype,"eui.Image",["eui.UIComponent","egret.DisplayObject"]),t.sys.implementUIComponent(e,egret.Bitmap),t.registerProperty(e,"scale9Grid","egret.Rectangle")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._data=null,t._selected=!1,t.itemIndex=-1,t.touchCaptured=!1,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.a1363,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"data"),this.dataChanged()},enumerable:!0,configurable:!0}),i.prototype.dataChanged=function(){},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,this.a1576())},enumerable:!0,configurable:!0}),i.prototype.a1599=function(t){this.touchCaptured=!1;var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.a1576()},i.prototype.a1363=function(t){this.$stage&&(this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.touchCaptured=!0,this.a1576(),t.a1313())},i.prototype.a1600=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1600,this),this.touchCaptured=!1,this.a1576()},i.prototype.a1577=function(){var t="up";if(this.enabled||(t="disabled"),this.touchCaptured&&(t="down"),this._selected){var e=t+"AndSelected",i=this.skin;return i&&i.a1551(e)?e:"disabled"==t?"disabled":"down"}return t},i}(t.Component);t.ItemRenderer=e,__reflect(e.prototype,"eui.ItemRenderer",["eui.IItemRenderer"]),t.registerBindable(e.prototype,"data")}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function a(t){var e=i.call(this)||this;return e.$styleSetMap={fontFamily:!0,size:!0,bold:!0,italic:!0,textAlign:!0,verticalAlign:!0,lineSpacing:!0,textColor:!0,wordWrap:!0,displayAsPassword:!0,strokeColor:!0,stroke:!0,maxChars:!0,multiline:!0,border:!0,borderColor:!0,background:!0,backgroundColor:!0},e.$revertStyle={},e.$style=null,e.$changeFromStyle=!1,e._widthConstraint=0/0,e.a1553(),e.text=t,e}return __extends(a,i),Object.defineProperty(a.prototype,"style",{get:function(){return this.$style},set:function(t){this.$setStyle(t)},enumerable:!0,configurable:!0}),a.prototype.$setStyle=function(t){if(this.$style!=t){this.$style=t;var e=egret.a1311("eui.Theme");if(e){this.$changeFromStyle=!0;for(var i in this.$revertStyle)this[i]=this.$revertStyle[i];if(this.$revertStyle={},null==t)return void(this.$changeFromStyle=!1);for(var a=t.split(","),n=0;n<a.length;n++){var r=e.$getStyleConfig(a[n]);if(r)for(var i in r)if(this.$styleSetMap[i]){var s=this[i];this[i]=r[i],this.$revertStyle[i]=s}}this.$changeFromStyle=!1}}},a.prototype.$setFontFamily=function(t){return this.$changeFromStyle||(delete this.$revertStyle.fontFamily,this.$styleSetMap.fontFamily=!1),i.prototype.$setFontFamily.call(this,t)},a.prototype.$setSize=function(t){return this.$changeFromStyle||(delete this.$revertStyle.size,this.$styleSetMap.size=!1),i.prototype.$setSize.call(this,t)},a.prototype.$setBold=function(t){return this.$changeFromStyle||(delete this.$revertStyle.bold,this.$styleSetMap.bold=!1),i.prototype.$setBold.call(this,t)},a.prototype.$setItalic=function(t){return this.$changeFromStyle||(delete this.$revertStyle.italic,this.$styleSetMap.italic=!1),i.prototype.$setItalic.call(this,t)},a.prototype.$setTextAlign=function(t){return this.$changeFromStyle||(delete this.$revertStyle.textAlign,this.$styleSetMap.textAlign=!1),i.prototype.$setTextAlign.call(this,t)},a.prototype.$setVerticalAlign=function(t){return this.$changeFromStyle||(delete this.$revertStyle.verticalAlign,this.$styleSetMap.verticalAlign=!1),i.prototype.$setVerticalAlign.call(this,t)},a.prototype.$setLineSpacing=function(t){return this.$changeFromStyle||(delete this.$revertStyle.lineSpacing,this.$styleSetMap.lineSpacing=!1),i.prototype.$setLineSpacing.call(this,t)},a.prototype.$setTextColor=function(t){return this.$changeFromStyle||(delete this.$revertStyle.textColor,this.$styleSetMap.textColor=!1),i.prototype.$setTextColor.call(this,t)},a.prototype.$setWordWrap=function(t){this.$changeFromStyle||(delete this.$revertStyle.wordWrap,this.$styleSetMap.wordWrap=!1),i.prototype.$setWordWrap.call(this,t)},a.prototype.$setDisplayAsPassword=function(t){return this.$changeFromStyle||(delete this.$revertStyle.displayAsPassword,this.$styleSetMap.displayAsPassword=!1),i.prototype.$setDisplayAsPassword.call(this,t)},a.prototype.$setStrokeColor=function(t){return this.$changeFromStyle||(delete this.$revertStyle.strokeColor,this.$styleSetMap.strokeColor=!1),i.prototype.$setStrokeColor.call(this,t)},a.prototype.$setStroke=function(t){return this.$changeFromStyle||(delete this.$revertStyle.stroke,this.$styleSetMap.stroke=!1),i.prototype.$setStroke.call(this,t)},a.prototype.$setMaxChars=function(t){return this.$changeFromStyle||(delete this.$revertStyle.maxChars,this.$styleSetMap.maxChars=!1),i.prototype.$setMaxChars.call(this,t)},a.prototype.$setMultiline=function(t){return this.$changeFromStyle||(delete this.$revertStyle.multiline,this.$styleSetMap.multiline=!1),i.prototype.$setMultiline.call(this,t)},a.prototype.$setBorder=function(t){this.$changeFromStyle||(delete this.$revertStyle.border,this.$styleSetMap.border=!1),i.prototype.$setBorder.call(this,t)},a.prototype.$setBorderColor=function(t){this.$changeFromStyle||(delete this.$revertStyle.borderColor,this.$styleSetMap.borderColor=!1),i.prototype.$setBorderColor.call(this,t)},a.prototype.$setBackground=function(t){this.$changeFromStyle||(delete this.$revertStyle.background,this.$styleSetMap.background=!1),i.prototype.$setBackground.call(this,t)},a.prototype.$setBackgroundColor=function(t){this.$changeFromStyle||(delete this.$revertStyle.backgroundColor,this.$styleSetMap.backgroundColor=!1),i.prototype.$setBackgroundColor.call(this,t)},a.prototype.$invalidateTextField=function(){i.prototype.$invalidateTextField.call(this),this.a1542()},a.prototype.$setWidth=function(t){var a=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return a&&n},a.prototype.$setHeight=function(t){var a=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return a&&n},a.prototype.$setText=function(e){var a=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),a},a.prototype.createChildren=function(){},a.prototype.childrenCreated=function(){},a.prototype.a1556=function(){},a.prototype.measure=function(){var t=this.$UIComponent,e=this.$TextField,a=e[3],n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n),this.a1561(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,a)},a.prototype.a1558=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)},a.prototype.invalidateParentLayout=function(){},a.prototype.a1561=function(t,e){},a.prototype.invalidateProperties=function(){},a.prototype.a1541=function(){},a.prototype.a1542=function(){},a.prototype.validateSize=function(t){},a.prototype.invalidateDisplayList=function(){},a.prototype.a1544=function(){},a.prototype.validateNow=function(){},a.prototype.a1566=function(t,i){if(e.prototype.a1566.call(this,t,i),isNaN(t)||t===this._widthConstraint||0==t)return void(this._widthConstraint=t);this._widthConstraint=t;var a=this.$UIComponent;isNaN(a[9])&&t!=a[16]&&this.a1542()},a.prototype.setLayoutBoundsPosition=function(t,e){},a.prototype.a1567=function(t){},a.prototype.a1570=function(t){},a}(egret.TextField);t.Label=i,__reflect(i.prototype,"eui.Label",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.TextField),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMultipleSelection=!1,t._selectedIndices=[],t.isValidIndex=function(e,i,a){return t.$dataProvider&&e>=0&&e<t.$dataProvider.length&&e%1==0},t}return __extends(i,e),Object.defineProperty(i.prototype,"selectedIndices",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},set:function(t){this.a1662(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1:this.$getSelectedIndex()},set:function(t){this.a1608(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItems",{get:function(){var t=[],e=this.selectedIndices;if(e)for(var i=e.length,a=0;i>a;a++)t[a]=this.$dataProvider.a1695(e[a]);return t},set:function(t){var e=[];if(t)for(var i=t.length,a=0;i>a;a++){var n=this.$dataProvider.a1696(t[a]);if(-1!=n&&e.splice(0,0,n),-1==n){e=[];break}}this.a1662(e,!1)},enumerable:!0,configurable:!0}),i.prototype.a1662=function(t,e){var i=this.$ListBase;e&&(i[4]=i[4]||e),t?this._proposedSelectedIndices=t:this._proposedSelectedIndices=[],this.invalidateProperties()},i.prototype.a1556=function(){e.prototype.a1556.call(this),this._proposedSelectedIndices&&this.a1611()},i.prototype.a1611=function(i){void 0===i&&(i=!0);var a=this.$ListBase,n=a[3];if(this._proposedSelectedIndices){if(this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex),!this.allowMultipleSelection&&this._proposedSelectedIndices.length>0){var r=[];r.push(this._proposedSelectedIndices[0]),this._proposedSelectedIndices=r}this._proposedSelectedIndices.length>0?a[2]=this._proposedSelectedIndices[0]:a[2]=-1}var s=e.prototype.a1611.call(this,!1);if(!s)return this._proposedSelectedIndices=null,!1;var o=this.$getSelectedIndex();return o>t.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(o)&&this._proposedSelectedIndices.push(o):this._proposedSelectedIndices=[o]),this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(n)&&this.a1610(n,!0),this.commitMultipleSelection()),i&&s&&(a[4]&&(this.dispatchEventWith(egret.Event.CHANGE),a[4]=!1),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedItem")),s},i.prototype.commitMultipleSelection=function(){var t,e,i=[],a=[],n=this._selectedIndices,r=this._proposedSelectedIndices;if(n.length>0&&r.length>0){for(e=r.length,t=0;e>t;t++)-1==n.indexOf(r[t])&&a.push(r[t]);for(e=n.length,t=0;e>t;t++)-1==r.indexOf(n[t])&&i.push(n[t])}else n.length>0?i=n:r.length>0&&(a=r);if(this._selectedIndices=r,i.length>0)for(e=i.length,t=0;e>t;t++)this.a1610(i[t],!1);if(a.length>0)for(e=a.length,t=0;e>t;t++)this.a1610(a[t],!0);this._proposedSelectedIndices=null},i.prototype.$isItemIndexSelected=function(t){return this.allowMultipleSelection?-1!=this._selectedIndices.indexOf(t):e.prototype.$isItemIndexSelected.call(this,t)},i.prototype.dataProviderRefreshed=function(){this.allowMultipleSelection||e.prototype.dataProviderRefreshed.call(this)},i.prototype.calculateSelectedIndices=function(t){var e=[],i=this._selectedIndices,a=i.length;if(a>0){if(1==a&&i[0]==t)return this.$ListBase[0]?(e.splice(0,0,i[0]),e):e;for(var n=!1,r=0;a>r;r++)i[r]==t?n=!0:i[r]!=t&&e.splice(0,0,i[r]);return n||e.splice(0,0,t),e}return e.splice(0,0,t),e},i.prototype.a1613=function(i){if(this.allowMultipleSelection){var a=i.currentTarget,n=this.$ListBase[7];if(a!=n)return;this.a1662(this.calculateSelectedIndices(a.itemIndex),!0),t.ItemTapEvent.dispatchItemTapEvent(this,t.ItemTapEvent.ITEM_TAP,a)}else e.prototype.a1613.call(this,i)},i}(t.ListBase);t.List=e,__reflect(e.prototype,"eui.List")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.closeButton=null,t.moveArea=null,t.titleDisplay=null,t._title="",t.offsetPointX=0,t.offsetPointY=0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.a1663,t,!1,100),t}return __extends(i,e),i.prototype.a1663=function(t){this.$parent.addChild(this)},Object.defineProperty(i.prototype,"elementsContent",{set:function(t){if(t)for(var e=t.length,i=0;e>i;i++)this.addChild(t[i])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.titleDisplay&&(this.titleDisplay.text=this.title)},enumerable:!0,configurable:!0}),i.prototype.a1581=function(t,i){e.prototype.a1581.call(this,t,i),i==this.titleDisplay?this.titleDisplay.text=this._title:i==this.moveArea?this.moveArea.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1363,this):i==this.closeButton&&this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1664,this)},i.prototype.a1582=function(t,i){e.prototype.a1582.call(this,t,i),i==this.moveArea?this.moveArea.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1363,this):i==this.closeButton&&this.closeButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1664,this)},i.prototype.a1664=function(e){t.UIEvent.dispatchUIEvent(this,t.UIEvent.CLOSING,!0,!0)&&this.close()},i.prototype.close=function(){this.$parent&&this.$parent.removeChild(this)},i.prototype.a1363=function(t){this.$includeInLayout=!1,this.offsetPointX=this.x-t.$stageX,this.offsetPointY=this.y-t.$stageY,this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.a1365,this)},i.prototype.a1364=function(t){this.x=t.$stageX+this.offsetPointX,this.y=t.$stageY+this.offsetPointY},i.prototype.a1365=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1365,this)},i}(t.Component);t.Panel=e,__reflect(e.prototype,"eui.Panel"),t.registerProperty(e,"elementsContent","Array",!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.thumb=null,i.labelDisplay=null,i._labelFunction=null,i._slideDuration=500,i._direction=t.Direction.LTR,i.slideToValue=0,i.animationValue=0,i.thumbInitX=0,i.thumbInitY=0,i.animation=new t.sys.Animation(i.animationUpdateHandler,i),i}return __extends(i,e),Object.defineProperty(i.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(t){this._labelFunction!=t&&(this._labelFunction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.a1665=function(t,e){return null!=this.labelFunction?this._labelFunction(t,e):t+" / "+e},Object.defineProperty(i.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(t){t=0|+t,this._slideDuration!==t&&(this._slideDuration=t,this.animation.a1713&&(this.animation.stop(),this.a1604(this.slideToValue)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction!=t&&(this.thumb&&(this.thumb.x=this.thumbInitX),this.thumb&&(this.thumb.y=this.thumbInitY),this._direction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.$a1604=function(t){if(this.value===t)return!1;var i=this.$Range,a=e.prototype.$a1604.call(this,t);if(this._slideDuration>0&&this.$stage){this.a1541();var n=this.animation;if(n.a1713&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),n.stop()),this.slideToValue=this.a1603(t,i[7]),this.slideToValue===this.animationValue)return a;var r=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(i[0]-i[2]));n.duration=r===1/0?0:r,n.from=this.animationValue,n.to=this.slideToValue,n.play()}else this.animationValue=this.value;return a},i.prototype.animationUpdateHandler=function(t){var e=this.$Range,i=this.a1603(t.currentValue,e[7]);this.animationValue=Math.min(e[0],Math.max(e[2],i)),this.invalidateDisplayList()},i.prototype.a1581=function(t,i){e.prototype.a1581.call(this,t,i),i===this.thumb&&(this.thumb.x&&(this.thumbInitX=this.thumb.x),this.thumb.y&&(this.thumbInitY=this.thumb.y),this.thumb.addEventListener(egret.Event.RESIZE,this.a1666,this))},i.prototype.a1582=function(t,i){e.prototype.a1582.call(this,t,i),i===this.thumb&&this.thumb.removeEventListener(egret.Event.RESIZE,this.a1666,this)},i.prototype.a1666=function(t){this.updateSkinDisplayList()},i.prototype.updateSkinDisplayList=function(){var e=this.animation.a1713?this.animationValue:this.value,i=this.maximum,a=this.thumb;if(a){var n=a.width,r=a.height,s=Math.round(e/i*n);(0>s||s===1/0)&&(s=0);var o=Math.round(e/i*r);(0>o||o===1/0)&&(o=0);var l=a.$scrollRect;l||(l=egret.$TempRectangle),l.setTo(0,0,n,r);var h=a.x-l.x,p=a.y-l.y;switch(this._direction){case t.Direction.LTR:l.width=s,a.x=h;break;case t.Direction.RTL:l.width=s,l.x=n-s,a.x=l.x;break;case t.Direction.TTB:l.height=o,a.y=p;break;case t.Direction.BTT:l.height=o,l.y=r-o,a.y=l.y}a.scrollRect=l}this.labelDisplay&&(this.labelDisplay.text=this.a1665(e,i))},i}(t.Range);t.ProgressBar=e,__reflect(e.prototype,"eui.ProgressBar")}(eui||(eui={}));var eui;!function(t){var e={},i=function(i){function a(){var t=i.call(this)||this;return t.$indexNumber=0,t.$radioButtonGroup=null,t._group=null,t.groupChanged=!1,t._groupName="radioGroup",t._value=null,t.groupName="radioGroup",t}return __extends(a,i),Object.defineProperty(a.prototype,"enabled",{get:function(){return this.$Component[3]?!this.$radioButtonGroup||this.$radioButtonGroup.$enabled:!1
},set:function(t){this.$setEnabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"group",{get:function(){if(!this._group&&this._groupName){var i=e[this._groupName];i||(i=new t.RadioButtonGroup,i.$name=this._groupName,e[this._groupName]=i),this._group=i}return this._group},set:function(t){this._group!=t&&(this.$radioButtonGroup&&this.$radioButtonGroup.$removeInstance(this,!1),this._group=t,this._groupName=t?this.group.$name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupName",{get:function(){return this._groupName},set:function(t){t&&""!=t&&(this._groupName=t,this.$radioButtonGroup&&this.$radioButtonGroup.$removeInstance(this,!1),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),a.prototype.$setSelected=function(t){var e=i.prototype.$setSelected.call(this,t);return this.invalidateDisplayList(),e},Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(e){this._value!=e&&(this._value=e,this.$selected&&this.group&&t.PropertyEvent.dispatchPropertyEvent(this.group,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue"))},enumerable:!0,configurable:!0}),a.prototype.a1556=function(){this.groupChanged&&(this.a1667(),this.groupChanged=!1),i.prototype.a1556.call(this)},a.prototype.a1558=function(t,e){i.prototype.a1558.call(this,t,e),this.group&&(this.$selected?this._group.$setSelection(this,!1):this.group.selection==this&&this._group.$setSelection(null,!1))},a.prototype.a1601=function(){this.enabled&&!this.selected&&(this.$radioButtonGroup||this.a1667(),i.prototype.a1601.call(this),this.group.$setSelection(this,!0))},a.prototype.a1667=function(){var t=this.group;return t&&t.$addInstance(this),t},a}(t.ToggleButton);t.RadioButton=i,__reflect(i.prototype,"eui.RadioButton")}(eui||(eui={}));var eui;!function(t){function e(t,i){var a=t.parent,n=i.parent;if(!a||!n)return 0;var r=t.$nestLevel,s=i.$nestLevel,o=0,l=0;return a==n&&(o=a.getChildIndex(t),l=n.getChildIndex(i)),r>s||o>l?1:s>r||l>o?-1:t==i?0:e(a,n)}var i=0,a=function(a){function n(){var t=a.call(this)||this;return t.$name=null,t.radioButtons=[],t.$enabled=!0,t._selectedValue=null,t._selection=null,t.$name="_radioButtonGroup"+i++,t}return __extends(n,a),n.prototype.a1668=function(t){return this.radioButtons[t]},Object.defineProperty(n.prototype,"enabled",{get:function(){return this.$enabled},set:function(t){if(t=!!t,this.$enabled!==t){this.$enabled=t;for(var e=this.radioButtons,i=e.length,a=0;i>a;a++)e[a].a1576()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numRadioButtons",{get:function(){return this.radioButtons.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},set:function(e){if(this._selectedValue=e,null==e)return void this.$setSelection(null,!1);for(var i=this.numRadioButtons,a=0;i>a;a++){var n=this.radioButtons[a];if(n.value==e||n.label==e){this.a1669(a,!1),this._selectedValue=null,t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue");break}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection!=t&&this.$setSelection(t,!1)},enumerable:!0,configurable:!0}),n.prototype.$addInstance=function(t){t.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1671,this);var i=this.radioButtons;i.push(t),i.sort(e);for(var a=i.length,n=0;a>n;n++)i[n].$indexNumber=n;this._selectedValue&&(this.selectedValue=this._selectedValue),1==t.selected&&(this.selection=t),t.$radioButtonGroup=this,t.a1576()},n.prototype.$removeInstance=function(t,e){if(t)for(var i=!1,a=this.radioButtons,n=a.length,r=0;n>r;r++){var s=a[r];i?s.$indexNumber=s.$indexNumber-1:s==t&&(e&&t.addEventListener(egret.Event.ADDED_TO_STAGE,this.a1670,this),t==this._selection&&(this._selection=null),t.$radioButtonGroup=null,t.a1576(),this.radioButtons.splice(r,1),i=!0,r--,n--)}},n.prototype.$setSelection=function(e,i){if(this._selection==e)return!1;if(e){for(var a=this.numRadioButtons,n=0;a>n;n++)if(e==this.a1668(n)){this.a1669(n,i);break}}else this._selection&&(this._selection.selected=!1,this._selection=null,i&&this.dispatchEventWith(egret.Event.CHANGE));return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue"),!0},n.prototype.a1669=function(t,e){var i=this.a1668(t);i&&i!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=i,this._selection.selected=!0,e&&this.dispatchEventWith(egret.Event.CHANGE))},n.prototype.a1670=function(t){var e=t.target;e==t.currentTarget&&(e.removeEventListener(egret.Event.ADDED_TO_STAGE,this.a1670,this),this.$addInstance(e))},n.prototype.a1671=function(t){var e=t.target;e==t.currentTarget&&(e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1671,this),this.$removeInstance(e,!0))},n}(egret.EventDispatcher);t.RadioButtonGroup=a,__reflect(a.prototype,"eui.RadioButtonGroup"),t.registerBindable(a.prototype,"selectedValue")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,a){var n=t.call(this)||this;return n.$fillColor=0,n.$fillAlpha=1,n.$strokeColor=4473924,n.$strokeAlpha=1,n.$strokeWeight=0,n.$ellipseWidth=0,n.$ellipseHeight=0,n.touchChildren=!1,n.$graphics=new egret.Graphics,n.$graphics.$setTarget(n),n.width=e,n.height=i,n.fillColor=a,n}return __extends(e,t),e.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(8)},Object.defineProperty(e.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),e.prototype.$measureContentBounds=function(t){this.$graphics&&t.setTo(0,0,this.width,this.height)},Object.defineProperty(e.prototype,"fillColor",{get:function(){return this.$fillColor},set:function(t){void 0!=t&&this.$fillColor!=t&&(this.$fillColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillAlpha",{get:function(){return this.$fillAlpha},set:function(t){this.$fillAlpha!=t&&(this.$fillAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this.$strokeColor},set:function(t){this.$strokeColor!=t&&(this.$strokeColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeAlpha",{get:function(){return this.$strokeAlpha},set:function(t){this.$strokeAlpha!=t&&(this.$strokeAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWeight",{get:function(){return this.$strokeWeight},set:function(t){this.$strokeWeight!=t&&(this.$strokeWeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipseWidth",{get:function(){return this.$ellipseWidth},set:function(t){this.$ellipseWidth!=t&&(this.$ellipseWidth=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipseHeight",{get:function(){return this.$ellipseHeight},set:function(t){this.$ellipseHeight!=t&&(this.$ellipseHeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),e.prototype.a1558=function(t,e){var i=this.graphics;i.clear(),this.$strokeWeight>0&&(i.beginFill(this.$fillColor,0),i.lineStyle(this.$strokeWeight,this.$strokeColor,this.$strokeAlpha,!0,"normal","square","miter"),0==this.$ellipseWidth&&0==this.$ellipseHeight?i.drawRect(this.$strokeWeight/2,this.$strokeWeight/2,t-this.$strokeWeight,e-this.$strokeWeight):i.drawRoundRect(this.$strokeWeight/2,this.$strokeWeight/2,t-this.$strokeWeight,e-this.$strokeWeight,this.$ellipseWidth,this.$ellipseHeight),i.endFill()),i.beginFill(this.$fillColor,this.$fillAlpha),i.lineStyle(this.$strokeWeight,this.$strokeColor,0,!0,"normal","square","miter"),0==this.$ellipseWidth&&0==this.$ellipseHeight?i.drawRect(this.$strokeWeight,this.$strokeWeight,t-2*this.$strokeWeight,e-2*this.$strokeWeight):i.drawRoundRect(this.$strokeWeight,this.$strokeWeight,t-2*this.$strokeWeight,e-2*this.$strokeWeight,this.$ellipseWidth,this.$ellipseHeight),i.endFill()},e.prototype.$a1692=function(){t.prototype.$a1692.call(this),this.$graphics&&this.$graphics.$a1692()},e}(t.Component);t.Rect=e,__reflect(e.prototype,"eui.Rect")}(eui||(eui={}));var eui;!function(t){var e,i=function(i){function a(){var e=i.call(this)||this;e.$bounces=!0,e.horizontalScrollBar=null,e.verticalScrollBar=null;var a=new t.sys.TouchScroll(e.horizontalUpdateHandler,e.horizontalEndHandler,e),n=new t.sys.TouchScroll(e.verticalUpdateHandler,e.a1683,e);return e.$Scroller={0:"auto",1:"auto",2:null,3:0,4:0,5:!1,6:!1,7:!1,8:a,9:n,10:null,11:!1,12:!1},e}return __extends(a,i),Object.defineProperty(a.prototype,"bounces",{get:function(){return this.$bounces},set:function(t){this.$bounces=!!t;var e=this.$Scroller[8];e&&(e.$bounces=this.$bounces);var i=this.$Scroller[9];i&&(i.$bounces=this.$bounces)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"throwSpeed",{get:function(){return this.$Scroller[8].$scrollFactor},set:function(t){t=+t,0>t&&(t=0),this.$Scroller[8].$scrollFactor=t,this.$Scroller[9].$scrollFactor=t},enumerable:!0,configurable:!0}),a.prototype.$getThrowInfo=function(i,a){return e?(e.currentPos=i,e.toPos=a):e=new t.ScrollerThrowEvent(t.ScrollerThrowEvent.THROW,!1,!1,i,a),e},Object.defineProperty(a.prototype,"scrollPolicyV",{get:function(){return this.$Scroller[0]},set:function(t){var e=this.$Scroller;e[0]!=t&&(e[0]=t,this.a1678())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scrollPolicyH",{get:function(){return this.$Scroller[1]},set:function(t){var e=this.$Scroller;e[1]!=t&&(e[1]=t,this.a1678())},enumerable:!0,configurable:!0}),a.prototype.a1621=function(){var e=this.$Scroller,i=e[9],a=e[8];i.animation.a1713?t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END):a.animation.a1713&&t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END),i.stop(),a.stop();var n=this.verticalScrollBar,r=this.horizontalScrollBar;n&&n.autoVisibility&&(n.visible=!1),r&&r.autoVisibility&&(r.visible=!1)},Object.defineProperty(a.prototype,"viewport",{get:function(){return this.$Scroller[10]},set:function(t){var e=this.$Scroller;t!=e[10]&&(this.a1673(),e[10]=t,e[11]=!1,this.a1672())},enumerable:!0,configurable:!0}),a.prototype.a1672=function(){var t=this.viewport;t&&(this.addChildAt(t,0),t.scrollEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1675,this,!0),t.addEventListener(egret.TouchEvent.TOUCH_END,this.a1676,this,!0),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1677,this,!0),t.addEventListener(egret.Event.REMOVED,this.a1674,this)),this.horizontalScrollBar&&(this.horizontalScrollBar.viewport=t),this.verticalScrollBar&&(this.verticalScrollBar.viewport=t)},a.prototype.a1673=function(){this.horizontalScrollBar&&(this.horizontalScrollBar.viewport=null),this.verticalScrollBar&&(this.verticalScrollBar.viewport=null);var t=this.viewport;t&&(t.scrollEnabled=!1,t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1675,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1676,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1677,this,!0),t.removeEventListener(egret.Event.REMOVED,this.a1674,this),0==this.$Scroller[11]&&this.removeChild(t))},a.prototype.a1674=function(t){t.target==this.viewport&&(this.$Scroller[11]=!0,this.viewport=null)},a.prototype.setSkin=function(t){i.prototype.setSkin.call(this,t);var e=this.viewport;e&&this.addChildAt(e,0)},a.prototype.a1675=function(t){if(this.$stage){this.$Scroller[12]=!1;var e=this.a1678();e&&this.a1363(t)}},a.prototype.a1676=function(t){this.$Scroller[12]&&(t.$bubbles=!1,this.a1680(t),t.$bubbles=!0,t.stopPropagation(),this.a1365(t))},a.prototype.a1677=function(t){this.$Scroller[12]&&(t.$bubbles=!1,this.a1680(t),t.$bubbles=!0,t.stopPropagation())},a.prototype.a1678=function(){var t=this.$Scroller,e=t[10];if(!e)return!1;var i,a=e.$UIComponent;switch(t[1]){case"auto":i=e.contentWidth>a[10]||0!==e.scrollH?!0:!1;break;case"on":i=!0;break;case"off":i=!1}t[6]=i;var n;switch(t[0]){case"auto":n=e.contentHeight>a[11]||0!==e.scrollV?!0:!1;break;case"on":n=!0;break;case"off":n=!1}return t[7]=n,i||n},a.prototype.a1363=function(t){if(!t.a1271()&&this.a1678()){this.downTarget=t.target;var e=this.$Scroller;this.a1621(),e[3]=t.$stageX,e[4]=t.$stageY,e[6]&&e[8].start(t.$stageX),e[7]&&e[9].start(t.$stageY);var i=this.$stage;this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this),i.addEventListener(egret.TouchEvent.TOUCH_END,this.a1365,this,!0),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1679,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1682,this),this.tempStage=i}},a.prototype.a1364=function(e){if(!e.a1271()){var i=this.$Scroller;if(!i[5]){var n=void 0;n=Math.abs(i[3]-e.$stageX)<a.scrollThreshold?!1:!0;var r=void 0;if(r=Math.abs(i[4]-e.$stageY)<a.scrollThreshold?!1:!0,!n&&!r)return;if(!r&&n&&"off"==i[1])return;if(!n&&r&&"off"==i[0])return;i[12]=!0,i[5]=!0,this.a1681(e);var s=this.horizontalScrollBar,o=this.verticalScrollBar;s&&s.autoVisibility&&i[6]&&(s.visible=!0),o&&o.autoVisibility&&i[7]&&(o.visible=!0),i[2]&&i[2].reset(),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START),this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this)}e.preventDefault();var l=i[10],h=l.$UIComponent;i[6]&&i[8].update(e.$stageX,l.contentWidth-h[10],l.scrollH),i[7]&&i[9].update(e.$stageY,l.contentHeight-h[11],l.scrollV)}},a.prototype.a1679=function(t){this.$Scroller[5]||this.a1682()},a.prototype.a1680=function(t){var e=this.$Scroller[10];if(e){var i=egret.Event.create(egret.TouchEvent,t.type,t.bubbles,t.cancelable);i.$initTo(t.$stageX,t.$stageY,t.touchPointID);var a=this.downTarget;i.$setTarget(a);for(var n=this.$getPropagationList(a),r=n.length,s=.5*n.length,o=-1,l=0;r>l;l++)if(n[l]===e){o=l;break}n.splice(0,n.length-o+1),s=0,this.$dispatchPropagationEvent(i,n,s),egret.Event.release(i)}},a.prototype.a1681=function(t){var e=this.$Scroller[10];if(e){var i=egret.Event.create(egret.TouchEvent,egret.TouchEvent.TOUCH_CANCEL,t.bubbles,t.cancelable);i.$initTo(t.$stageX,t.$stageY,t.touchPointID);var a=this.downTarget;i.$setTarget(a);for(var n=this.$getPropagationList(a),r=n.length,s=.5*n.length,o=-1,l=0;r>l;l++)if(n[l]===e){o=l;break}n.splice(0,o+1-2),n.splice(n.length-1-o+2,o+1-2),s-=o+1,this.$dispatchPropagationEvent(i,n,s),egret.Event.release(i)}},a.prototype.a1365=function(t){var e=this.$Scroller;e[5]=!1,this.a1682();var i=e[10],a=i.$UIComponent;e[8].a1714()&&e[8].finish(i.scrollH,i.contentWidth-a[10]),e[9].a1714()&&e[9].finish(i.scrollV,i.contentHeight-a[11])},a.prototype.a1682=function(){var t=this.tempStage||this.$stage;this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.a1365,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.a1364,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1679,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1682,this)},a.prototype.horizontalUpdateHandler=function(t){var e=this.$Scroller[10];e&&(e.scrollH=t),this.dispatchEventWith(egret.Event.CHANGE)},a.prototype.verticalUpdateHandler=function(t){var e=this.$Scroller[10];e&&(e.scrollV=t),this.dispatchEventWith(egret.Event.CHANGE)},a.prototype.horizontalEndHandler=function(){this.$Scroller[9].a1713()||this.a1684()},a.prototype.a1683=function(){this.$Scroller[8].a1713()||this.a1684()},a.prototype.a1684=function(){var e=this.$Scroller,i=this.horizontalScrollBar,a=this.verticalScrollBar;(i&&i.visible||a&&a.visible)&&(e[2]||(e[2]=new egret.Timer(200,1),e[2].addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.a1685,this)),e[2].reset(),e[2].start()),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},a.prototype.a1685=function(t){var e=this.horizontalScrollBar,i=this.verticalScrollBar;e&&e.autoVisibility&&(e.visible=!1),i&&i.autoVisibility&&(i.visible=!1)},a.prototype.a1558=function(t,e){i.prototype.a1558.call(this,t,e);var a=this.viewport;a&&(a.a1566(t,e),a.setLayoutBoundsPosition(0,0))},a.prototype.a1581=function(t,e){i.prototype.a1581.call(this,t,e),e==this.horizontalScrollBar?(this.horizontalScrollBar.touchChildren=!1,this.horizontalScrollBar.touchEnabled=!1,this.horizontalScrollBar.viewport=this.viewport,this.horizontalScrollBar.autoVisibility&&(this.horizontalScrollBar.visible=!1)):e==this.verticalScrollBar&&(this.verticalScrollBar.touchChildren=!1,this.verticalScrollBar.touchEnabled=!1,this.verticalScrollBar.viewport=this.viewport,this.verticalScrollBar.autoVisibility&&(this.verticalScrollBar.visible=!1))},a.scrollThreshold=5,a}(t.Component);t.Scroller=i,__reflect(i.prototype,"eui.Scroller"),t.registerProperty(i,"viewport","eui.IViewport",!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.maxWidth=1e5,i.minWidth=0,i.maxHeight=1e5,i.minHeight=0,i.width=0/0,i.height=0/0,i.$elementsContent=[],i._hostComponent=null,i.$stateValues=new t.sys.StateValues,i}return __extends(i,e),Object.defineProperty(i.prototype,"elementsContent",{set:function(t){this.$elementsContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostComponent",{get:function(){return this._hostComponent},set:function(e){if(this._hostComponent!=e){this._hostComponent&&this._hostComponent.removeEventListener(egret.Event.ADDED_TO_STAGE,this.a1686,this),this._hostComponent=e;var i=this.$stateValues;i.parent=e,e&&(this.a1550(),this.$stateValues.intialized||(e.$stage?this.a1552(e.$stage):e.once(egret.Event.ADDED_TO_STAGE,this.a1686,this))),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"hostComponent")}},enumerable:!0,configurable:!0}),i.prototype.a1686=function(t){this.a1552(this._hostComponent.$stage)},i}(egret.EventDispatcher);t.Skin=e,__reflect(e.prototype,"eui.Skin"),t.sys.mixin(e,t.sys.StateClient),t.registerProperty(e,"elementsContent","Array",!0),t.registerProperty(e,"states","State[]"),t.registerBindable(e.prototype,"hostComponent")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.indexBeingUpdated=!1,t.requireSelection=!0,t.useVirtualLayout=!1,t}return __extends(i,e),i.prototype.createChildren=function(){if(!this.$layout){var i=new t.HorizontalLayout;i.gap=0,i.horizontalAlign=t.JustifyAlign.JUSTIFY,i.verticalAlign=t.JustifyAlign.CONTENT_JUSTIFY,this.$setLayout(i)}e.prototype.createChildren.call(this)},i.prototype.$setDataProvider=function(i){var a=this.$dataProvider;return a&&a instanceof t.ViewStack&&(a.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onViewStackIndexChange,this),this.removeEventListener(egret.Event.CHANGE,this.a1687,this)),i&&i instanceof t.ViewStack&&(i.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onViewStackIndexChange,this),this.addEventListener(egret.Event.CHANGE,this.a1687,this)),e.prototype.$setDataProvider.call(this,i)},i.prototype.a1687=function(t){this.indexBeingUpdated=!0,this.$dataProvider.selectedIndex=this.selectedIndex,this.indexBeingUpdated=!1},i.prototype.onViewStackIndexChange=function(t){"selectedIndex"!=t.property||this.indexBeingUpdated||this.a1608(this.$dataProvider.selectedIndex,!1)},i}(t.ListBase);t.TabBar=e,__reflect(e.prototype,"eui.TabBar")}(eui||(eui={}));var eui;!function(t){var e=egret.FocusEvent,i=function(i){function a(){var t=i.call(this)||this;return t.isFocus=!1,t.$TextInput={0:null,1:null,2:null,3:null,4:null,5:null,6:"",7:null,8:egret.TextFieldInputType.TEXT},t}return __extends(a,i),Object.defineProperty(a.prototype,"prompt",{get:function(){return this.promptDisplay?this.promptDisplay.text:this.$TextInput[0]},set:function(t){this.$TextInput[0]=t,this.promptDisplay&&(this.promptDisplay.text=t),this.invalidateProperties(),this.a1576()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"displayAsPassword",{get:function(){if(this.textDisplay)return this.textDisplay.displayAsPassword;var t=this.$TextInput[1];return t?t:!1},set:function(t){this.$TextInput[1]=t,this.textDisplay&&(this.textDisplay.displayAsPassword=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"inputType",{get:function(){return this.textDisplay?this.textDisplay.inputType:this.$TextInput[8]},set:function(t){this.$TextInput[8]=t,this.textDisplay&&(this.textDisplay.inputType=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textColor",{get:function(){return this.textDisplay?this.textDisplay.textColor:this.$TextInput[2]},set:function(t){this.$TextInput[2]=t,this.textDisplay&&(this.textDisplay.textColor=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxChars",{get:function(){if(this.textDisplay)return this.textDisplay.maxChars;var t=this.$TextInput[3];return t?t:0},set:function(t){this.$TextInput[3]=t,this.textDisplay&&(this.textDisplay.maxChars=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxWidth",{get:function(){if(this.textDisplay)return this.textDisplay.maxWidth;var t=this.$TextInput[4];return t?t:1e5},set:function(t){this.$TextInput[4]=t,this.textDisplay&&(this.textDisplay.maxWidth=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxHeight",{get:function(){this.textDisplay;var t=this.$TextInput[5];return t?t:1e5},set:function(t){this.$TextInput[5]=t,this.textDisplay&&(this.textDisplay.maxHeight=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"text",{get:function(){return this.textDisplay?this.textDisplay.text:this.$TextInput[6]},set:function(t){this.$TextInput[6]=t,this.textDisplay&&(this.textDisplay.text=t),this.invalidateProperties(),this.a1576()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"restrict",{get:function(){return this.textDisplay?this.textDisplay.restrict:this.$TextInput[7]},set:function(t){this.$TextInput[7]=t,this.textDisplay&&(this.textDisplay.restrict=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),a.prototype.a1688=function(t){this.isFocus=!0,this.a1576()},a.prototype.a1689=function(t){this.isFocus=!1,this.a1576()},a.prototype.a1577=function(){var t=this.skin;return!this.prompt||this.isFocus||this.text?this.enabled?"normal":"disabled":this.enabled&&t.a1551("normalWithPrompt")?"normalWithPrompt":!this.enabled&&t.a1551("disabledWithPrompt")?"disabledWithPrompt":void 0},a.prototype.a1581=function(a,n){i.prototype.a1581.call(this,a,n);var r=this.$TextInput;n==this.textDisplay?(this.a1690(),this.textDisplay instanceof t.EditableText&&(this.textDisplay.addEventListener(e.FOCUS_IN,this.a1688,this),this.textDisplay.addEventListener(e.FOCUS_OUT,this.a1689,this))):n==this.promptDisplay&&r[0]&&(this.promptDisplay.text=r[0])},a.prototype.a1582=function(a,n){i.prototype.a1582.call(this,a,n),n==this.textDisplay?(this.a1691(),this.textDisplay instanceof t.EditableText&&(this.textDisplay.removeEventListener(e.FOCUS_IN,this.a1688,this),this.textDisplay.removeEventListener(e.FOCUS_OUT,this.a1689,this))):n==this.promptDisplay&&(this.$TextInput[0]=this.promptDisplay.text)},a.prototype.a1690=function(){var t=this.$TextInput;t[1]&&(this.textDisplay.displayAsPassword=t[1]),t[2]&&(this.textDisplay.textColor=t[2]),t[3]&&(this.textDisplay.maxChars=t[3]),t[4]&&(this.textDisplay.maxWidth=t[4]),t[5]&&(this.textDisplay.maxHeight=t[5]),t[6]&&(this.textDisplay.text=t[6]),t[7]&&(this.textDisplay.restrict=t[7]),t[8]&&(this.textDisplay.inputType=t[8])},a.prototype.a1691=function(){var t=this.$TextInput;t[1]=this.textDisplay.displayAsPassword,t[2]=this.textDisplay.textColor,t[3]=this.textDisplay.maxChars,t[4]=this.textDisplay.maxWidth,t[5]=this.textDisplay.maxHeight,t[6]=this.textDisplay.text,t[7]=this.textDisplay.restrict,t[8]=this.textDisplay.inputType},a}(t.Component);t.TextInput=i,__reflect(i.prototype,"eui.TextInput")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButton);t.CheckBox=e,__reflect(e.prototype,"eui.CheckBox")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButton);t.ToggleSwitch=e,__reflect(e.prototype,"eui.ToggleSwitch")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.a1692,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.$stage.addEventListener(egret.Event.RESIZE,this.onResize,this),this.onResize()},e.prototype.a1692=function(t){this.$stage.removeEventListener(egret.Event.RESIZE,this.onResize,this)},e.prototype.onResize=function(t){var e=this.$stage;this.$setWidth(e.$stageWidth),this.$setHeight(e.$stageHeight)},e}(t.Group);t.UILayer=e,__reflect(e.prototype,"eui.UILayer")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.a1558=function(e,i){t.prototype.a1558.call(this,e,i);var a=this.thumb,n=this.$viewport;if(a&&n){var r=egret.$TempRectangle;a.a1570(r);var s=r.height,o=r.x,l=n.scrollV,h=n.contentHeight,p=n.height;if(0>=l){var u=s*(1- -l/(.5*p));u=Math.max(5,Math.round(u)),a.a1566(0/0,u),a.setLayoutBoundsPosition(o,0)}else if(l>=h-p){var u=s*(1-(l-h+p)/(.5*p));u=Math.max(5,Math.round(u)),a.a1566(0/0,u),a.setLayoutBoundsPosition(o,i-u)}else{var c=(i-s)*l/(h-p);a.a1566(0/0,0/0),a.setLayoutBoundsPosition(o,c)}}},e.prototype.a1615=function(t){switch(t.property){case"scrollV":case"contentHeight":this.invalidateDisplayList()}},e}(t.ScrollBarBase);t.VScrollBar=e,__reflect(e.prototype,"eui.VScrollBar")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.a1616=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.$Range,a=i[0]-i[2],n=this.a1659();return i[2]+(0!=n?(n-e)/n*a:0)},e.prototype.a1659=function(){var t=egret.$TempRectangle;this.track.a1567(t);var e=t.height;return this.thumb.a1567(t),e-t.height},e.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var t=this.$Range,e=this.a1659(),i=t[0]-t[2],a=i>0?e-(this.pendingValue-t[2])/i*e:0,n=this.track.a1263(0,a,egret.$TempPoint),r=n.x,s=n.y,o=this.thumb.$parent.globalToLocal(r,s,egret.$TempPoint).y,l=egret.$TempRectangle,h=l.height;if(this.thumb.a1567(l),this.thumb.setLayoutBoundsPosition(l.x,Math.round(o)),this.trackHighlight){var p=this.trackHighlight.$parent.globalToLocal(r,s,egret.$TempPoint).y;this.trackHighlight.y=Math.round(p+h),this.trackHighlight.height=Math.round(e-p)}}},e}(t.SliderBase);t.VSlider=e,__reflect(e.prototype,"eui.VSlider")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._selectedChild=null,i.proposedSelectedIndex=t.ListBase.NO_PROPOSED_SELECTION,i._selectedIndex=-1,i}return __extends(i,e),Object.defineProperty(i.prototype,"layout",{get:function(){return this.$layout},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedChild",{get:function(){var t=this.selectedIndex;return t>=0&&t<this.numChildren?this.getChildAt(t):null},set:function(t){var e=this.getChildIndex(t);e>=0&&e<this.numChildren&&this.a1608(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this.proposedSelectedIndex!=t.ListBase.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},set:function(t){t=0|+t,this.a1608(t)},enumerable:!0,configurable:!0}),i.prototype.a1608=function(e){e!=this.selectedIndex&&(this.proposedSelectedIndex=e,this.invalidateProperties(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"))},i.prototype.$childAdded=function(i,a){e.prototype.$childAdded.call(this,i,a),this.a1694(i,!1);var n=this.selectedIndex;-1==n?this.a1608(a):a<=this.selectedIndex&&this.$stage&&this.a1608(n+1),t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,t.CollectionEventKind.ADD,a,-1,[i.name])},i.prototype.$childRemoved=function(i,a){e.prototype.$childRemoved.call(this,i,a),this.a1694(i,!0);var n=this.selectedIndex;a==n?this.numChildren>0?0==a?(this.proposedSelectedIndex=0,this.invalidateProperties()):this.a1608(0):this.a1608(-1):n>a&&this.a1608(n-1),t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,t.CollectionEventKind.REMOVE,a,-1,[i.name])},i.prototype.a1556=function(){e.prototype.a1556.call(this),this.proposedSelectedIndex!=t.ListBase.NO_PROPOSED_SELECTION&&(this.a1611(this.proposedSelectedIndex),this.proposedSelectedIndex=t.ListBase.NO_PROPOSED_SELECTION)},i.prototype.a1611=function(t){t>=0&&t<this.numChildren?(this._selectedIndex=t,this._selectedChild&&this.a1694(this._selectedChild,!1),this._selectedChild=this.a1574(this._selectedIndex),this.a1694(this._selectedChild,!0)):(this._selectedChild=null,this._selectedIndex=-1),this.a1542(),this.invalidateDisplayList()},i.prototype.a1694=function(t,e){egret.is(t,"eui.UIComponent")&&(t.includeInLayout=e),t.visible=e},Object.defineProperty(i.prototype,"length",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.a1695=function(t){var e=this.$children[t];return e?e.name:""},i.prototype.a1696=function(t){for(var e=this.$children,i=e.length,a=0;i>a;a++)if(e[a].name==t)return a;return-1},i}(t.Group);t.ViewStack=e,__reflect(e.prototype,"eui.ViewStack",["eui.ICollection","egret.IEventDispatcher"]),t.registerBindable(e.prototype,"selectedIndex")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){return-.5*(Math.cos(Math.PI*t)-1)}var i=function(){function t(t,i){this.easerFunction=e,this.a1713=!1,this.duration=500,this.currentValue=0,this.from=0,this.to=0,this.startTime=0,this.endFunction=null,this.updateFunction=t,this.thisObject=i}return t.prototype.play=function(){this.stop(),this.start()},t.prototype.start=function(){this.a1713=!1,this.currentValue=0,this.startTime=egret.getTimer(),this.doInterval(this.startTime),egret.startTick(this.doInterval,this)
},t.prototype.stop=function(){this.a1713=!1,this.startTime=0,egret.stopTick(this.doInterval,this)},t.prototype.doInterval=function(t){var e=t-this.startTime;this.a1713||(this.a1713=!0);var i=this.duration,a=0==i?1:Math.min(e,i)/i;this.easerFunction&&(a=this.easerFunction(a)),this.currentValue=this.from+(this.to-this.from)*a,this.updateFunction&&this.updateFunction.call(this.thisObject,this);var n=e>=i;return n&&this.stop(),n&&this.endFunction&&this.endFunction.call(this.thisObject,this),!0},t}();t.Animation=i,__reflect(i.prototype,"eui.sys.Animation")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.prototype.getTheme=function(t,e,i,a){function n(t){var i=t.target;e.call(a,i.response)}function r(t){i.call(a)}var s=new egret.HttpRequest;s.addEventListener(egret.Event.COMPLETE,n,a),s.addEventListener(egret.IOErrorEvent.IO_ERROR,r,a),s.responseType=egret.HttpResponseType.TEXT,s.open(t),s.send()},t}();t.DefaultThemeAdapter=e,__reflect(e.prototype,"eui.DefaultThemeAdapter",["eui.IThemeAdapter"])}(eui||(eui={}));var eui;!function(t){function e(t,i){var a=Object.getOwnPropertyDescriptor(t,i);if(a)return a;var n=Object.getPrototypeOf(t);return n?e(n,i):null}function i(t,e){for(var i=t[a],n=i.length,r=0;n>r;r+=2){var s=i[r],o=i[r+1];s.call(o,e)}}var a="__listeners__",n="__bindables__",r=0,s=function(){function s(t,e,i,a){this.isExecuting=!1,this.property=t,this.handler=e,this.next=a,this.thisObject=i}return s.watch=function(t,e,i,a){if(e.length>0){var n=e.shift(),r=s.watch(null,e,i,a),o=new s(n,i,a,r);return o.reset(t),o}return null},s.checkBindable=function(s,o){var l=s[n];if(l&&-1!=l.indexOf(o))return!0;var h=egret.is(s,"egret.IEventDispatcher");h||s[a]||(s[a]=[]);var p=e(s,o);if(p&&p.set&&p.get){var u=p.set;p.set=function(e){this[o]!=e&&(u.call(this,e),h?t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,o):i(this,o))}}else{if(p&&(p.get||p.set))return!1;r++;var c="_"+r+o;s[c]=p?p.value:null,p={enumerable:!0,configurable:!0},p.get=function(){return this[c]},p.set=function(e){this[c]!=e&&(this[c]=e,h?t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,o):i(this,o))}}Object.defineProperty(s,o,p),t.registerBindable(s,o)},s.prototype.unwatch=function(){this.reset(null),this.handler=null,this.next&&(this.next.handler=null)},s.prototype.a1699=function(){return this.next?this.next.a1699():this.getHostPropertyValue()},s.prototype.setHandler=function(t,e){this.handler=t,this.thisObject=e,this.next&&this.next.setHandler(t,e)},s.prototype.reset=function(e){var i=this.host;if(i)if(egret.is(i,"egret.IEventDispatcher"))i.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.a1701,this);else{var n=i[a],r=n.indexOf(this);n.splice(r-1,2)}if(this.host=e,e)if(s.checkBindable(e,this.property),egret.is(e,"egret.IEventDispatcher"))e.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.a1701,this,!1,100);else{var n=e[a];n.push(this.a1260),n.push(this)}this.next&&this.next.reset(this.getHostPropertyValue())},s.prototype.getHostPropertyValue=function(){return this.host?this.host[this.property]:null},s.prototype.a1701=function(t){this.a1260(t.property)},s.prototype.a1260=function(t){if(t==this.property&&!this.isExecuting)try{this.isExecuting=!0,this.next&&this.next.reset(this.getHostPropertyValue()),this.handler.call(this.thisObject,this.a1699())}finally{this.isExecuting=!1}},s}();t.Watcher=s,__reflect(s.prototype,"eui.Watcher")}(eui||(eui={}));var eui;!function(t){function e(e){for(var i=e[0],a=i instanceof t.Watcher?i.a1699():i,n=e.length,r=1;n>r;r++){var s=e[r];s instanceof t.Watcher&&(s=s.a1699()),a+=s}return a}var i=function(){function i(){}return i.bindProperty=function(e,i,a,n){var r=t.Watcher.watch(e,i,null,null);if(r){var s=function(t){a[n]=t};r.setHandler(s,null),s(r.a1699())}return r},i.bindHandler=function(e,i,a,n){var r=t.Watcher.watch(e,i,a,n);return r&&a.call(n,r.a1699()),r},i.$bindProperties=function(a,n,r,s,o){if(1==n.length&&1==r.length)return i.bindProperty(a,n[0].split("."),s,o);for(var l,h=function(){s[o]=e(n)},p=r.length,u=0;p>u;u++){var c=r[u],d=n[c].split(".");l=t.Watcher.watch(a,d,null,null),l&&(n[c]=l,l.setHandler(h,null))}return h(),l},i}();t.Binding=i,__reflect(i.prototype,"eui.Binding")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return t?i._source=t:i._source=[],i}return __extends(i,e),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(e){e||(e=[]),this._source=e,this.a1709(t.CollectionEventKind.RESET)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(){this.a1709(t.CollectionEventKind.REFRESH)},Object.defineProperty(i.prototype,"length",{get:function(){return this._source.length},enumerable:!0,configurable:!0}),i.prototype.addItem=function(e){this._source.push(e),this.a1709(t.CollectionEventKind.ADD,this._source.length-1,-1,[e])},i.prototype.a1704=function(e,i){0>i||i>this._source.length,this._source.splice(i,0,e),this.a1709(t.CollectionEventKind.ADD,i,-1,[e])},i.prototype.a1695=function(t){return this._source[t]},i.prototype.a1696=function(t){for(var e=this._source.length,i=0;e>i;i++)if(this._source[i]===t)return i;return-1},i.prototype.itemUpdated=function(e){var i=this.a1696(e);-1!=i&&this.a1709(t.CollectionEventKind.UPDATE,i,-1,[e])},i.prototype.removeAll=function(){var e=this._source.concat();this._source=[],this.a1709(t.CollectionEventKind.REMOVE,0,-1,e)},i.prototype.a1706=function(e){if(!(0>e||e>=this._source.length)){var i=this._source.splice(e,1)[0];return this.a1709(t.CollectionEventKind.REMOVE,e,-1,[i]),i}},i.prototype.a1707=function(e,i){if(!(0>i||i>=this._source.length)){var a=this._source.splice(i,1,e)[0];return this.a1709(t.CollectionEventKind.REPLACE,i,-1,[e],[a]),a}},i.prototype.replaceAll=function(t){t||(t=[]);for(var e=t.length,i=this._source.length,a=e;i>a;a++)this.a1706(e);for(var a=0;e>a;a++)a>=i?this.a1704(t[a],a):this.a1707(t[a],a);this._source=t},i.prototype.a1709=function(e,i,a,n,r){t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,e,i,a,n,r)},i}(egret.EventDispatcher);t.ArrayCollection=e,__reflect(e.prototype,"eui.ArrayCollection",["eui.ICollection","egret.IEventDispatcher"]),t.registerProperty(e,"source","Array",!0)}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function a(){var t=i.call(this)||this;return t._widthConstraint=0/0,t.$isShowPrompt=!1,t.$promptColor=6710886,t.$isFocusIn=!1,t.$isTouchCancle=!1,t.a1553(),t.type=egret.TextFieldType.INPUT,t.$EditableText={0:null,1:16777215,2:!1},t}return __extends(a,i),a.prototype.$invalidateTextField=function(){i.prototype.$invalidateTextField.call(this),this.a1542()},a.prototype.$setWidth=function(t){var a=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return a&&n},a.prototype.$setHeight=function(t){var a=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return a&&n},a.prototype.$getText=function(){var t=i.prototype.$getText.call(this);return t==this.$EditableText[0]&&(t=""),t},a.prototype.$setText=function(e){var a=this.$EditableText[0];(a!=e||null==a)&&(this.$isShowPrompt=!1,this.textColor=this.$EditableText[1],this.displayAsPassword=this.$EditableText[2]),this.$isFocusIn||(""==e||null==e)&&(e=a,this.$isShowPrompt=!0,i.prototype.$setTextColor.call(this,this.$promptColor),i.prototype.$setDisplayAsPassword.call(this,!1));var n=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),n},a.prototype.$onAddToStage=function(e,i){t.sys.UIComponentImpl.prototype.$onAddToStage.call(this,e,i),this.addEventListener(egret.FocusEvent.FOCUS_IN,this.a1711,this),this.addEventListener(egret.FocusEvent.FOCUS_OUT,this.a1710,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1363,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this)},a.prototype.$a1692=function(){i.prototype.$a1692.call(this),this.removeEventListener(egret.FocusEvent.FOCUS_IN,this.a1711,this),this.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.a1710,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.a1363,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.a1599,this)},Object.defineProperty(a.prototype,"prompt",{get:function(){return this.$EditableText[0]},set:function(t){var e=this.$EditableText,i=e[0];if(i!=t){e[0]=t;var a=this.text;a&&a!=i||this.a1712()}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"promptColor",{get:function(){return this.$promptColor},set:function(t){if(t=0|+t,this.$promptColor!=t){this.$promptColor=t;var e=this.text;e&&e!=this.$EditableText[0]||this.a1712()}},enumerable:!0,configurable:!0}),a.prototype.a1710=function(){this.$isFocusIn=!1,this.text||this.a1712()},a.prototype.a1363=function(){this.$isTouchCancle=!1},a.prototype.a1599=function(){this.$isTouchCancle=!0},a.prototype.a1711=function(){if(!egret.Capabilities.isMobile&&this.$isTouchCancle)return void this.inputUtils.stageText.$hide();this.$isFocusIn=!0,this.$isShowPrompt=!1,this.displayAsPassword=this.$EditableText[2];var t=this.$EditableText,e=this.text;e&&e!=t[0]||(this.textColor=t[1],this.text="")},a.prototype.a1712=function(){var t=this.$EditableText;this.$isShowPrompt=!0,i.prototype.$setTextColor.call(this,this.$promptColor),i.prototype.$setDisplayAsPassword.call(this,!1),this.text=t[0]},a.prototype.$setTextColor=function(t){return t=0|+t,this.$EditableText[1]=t,this.$isShowPrompt||i.prototype.$setTextColor.call(this,t),!0},a.prototype.$setDisplayAsPassword=function(t){return this.$EditableText[2]=t,this.$isShowPrompt||i.prototype.$setDisplayAsPassword.call(this,t),!0},a.prototype.createChildren=function(){this.a1710()},a.prototype.childrenCreated=function(){},a.prototype.a1556=function(){},a.prototype.measure=function(){var t=this.$UIComponent,e=this.$TextField,a=e[3],n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n),this.a1561(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,a)},a.prototype.a1558=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)},a.prototype.invalidateParentLayout=function(){},a.prototype.a1561=function(t,e){},a.prototype.invalidateProperties=function(){},a.prototype.a1541=function(){},a.prototype.a1542=function(){},a.prototype.validateSize=function(t){},a.prototype.invalidateDisplayList=function(){},a.prototype.a1544=function(){},a.prototype.validateNow=function(){},a.prototype.a1566=function(t,i){if(e.prototype.a1566.call(this,t,i),!isNaN(t)&&t!==this._widthConstraint&&0!=t){var a=this.$UIComponent;isNaN(a[9])&&t!=a[16]&&(this._widthConstraint=t,this.a1542())}},a.prototype.setLayoutBoundsPosition=function(t,e){},a.prototype.a1567=function(t){},a.prototype.a1570=function(t){},a}(egret.TextField);t.EditableText=i,__reflect(i.prototype,"eui.EditableText",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.TextField),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){var e=t-1;return e*e*e+1}var i=4,a=[1,1.33,1.66,2],n=2.33,r=.02,s=.998,o=.95,l=Math.log(s),h=function(){function h(i,a,n){this.$scrollFactor=1,this.previousTime=0,this.velocity=0,this.previousVelocity=[],this.currentPosition=0,this.previousPosition=0,this.currentScrollPos=0,this.maxScrollPos=0,this.a1345=0,this.$bounces=!0,this.started=!0,this.updateFunction=i,this.endFunction=a,this.target=n,this.animation=new t.Animation(this.a1719,this),this.animation.endFunction=this.a1717,this.animation.easerFunction=e}return h.prototype.a1713=function(){return this.animation.a1713},h.prototype.stop=function(){this.animation.stop(),egret.stopTick(this.onTick,this),this.started=!1},h.prototype.a1714=function(){return this.started},h.prototype.start=function(t){this.started=!0,this.velocity=0,this.previousVelocity.length=0,this.previousTime=egret.getTimer(),this.previousPosition=this.currentPosition=t,this.a1345=t,egret.startTick(this.onTick,this)},h.prototype.update=function(t,e,i){e=Math.max(e,0),this.currentPosition=t,this.maxScrollPos=e;var a=this.a1345-t,n=a+i;this.a1345=t,0>n&&(this.$bounces?n-=.5*a:n=0),n>e&&(this.$bounces?n-=.5*a:n=e),this.currentScrollPos=n,this.updateFunction.call(this.target,n)},h.prototype.finish=function(t,e){egret.stopTick(this.onTick,this),this.started=!1;for(var i=this.velocity*n,h=this.previousVelocity,p=h.length,u=n,c=0;p>c;c++){var d=a[c];i+=h[0]*d,u+=d}var g=i/u,f=Math.abs(g),m=0,v=0;if(f>r)if(v=t+(g-r)/l*2*this.$scrollFactor,0>v||v>e)for(v=t;Math.abs(g)>r;)v-=g,g*=0>v||v>e?s*o:s,m++;else m=Math.log(r/f)/l;else v=t;if(this.target.$getThrowInfo){var y=this.target.$getThrowInfo(t,v);v=y.toPos}m>0?(this.$bounces||(0>v?v=0:v>e&&(v=e)),this.throwTo(v,m)):this.a1717()},h.prototype.onTick=function(t){var e=t-this.previousTime;if(e>10){var a=this.previousVelocity;a.length>=i&&a.shift(),this.velocity=(this.currentPosition-this.previousPosition)/e,a.push(this.velocity),this.previousTime=t,this.previousPosition=this.currentPosition}return!0},h.prototype.a1717=function(t){var e=this.currentScrollPos,i=this.maxScrollPos,a=e;0>e&&(a=0),e>i&&(a=i),this.throwTo(a,300)},h.prototype.throwTo=function(t,e){void 0===e&&(e=500);var i=this.currentScrollPos;if(i==t)return void this.endFunction.call(this.target);var a=this.animation;a.duration=e,a.from=i,a.to=t,a.play()},h.prototype.a1719=function(t){this.currentScrollPos=t.currentValue,this.updateFunction.call(this.target,t.currentValue)},h}();t.TouchScroll=h,__reflect(h.prototype,"eui.sys.TouchScroll")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.LTR="ltr",t.RTL="rtl",t.TTB="ttb",t.BTT="btt",t}();t.Direction=e,__reflect(e.prototype,"eui.Direction")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.AUTO="auto",t.OFF="off",t.ON="on",t}();t.ScrollPolicy=e,__reflect(e.prototype,"eui.ScrollPolicy")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t,i){var a=e.call(this)||this;return a.delayList=[],a.skinMap={},a.$styles={},a.initialized=!t,i&&egret.registerImplementation("eui.Theme",a),a.$configURL=t,a.load(t),a}return __extends(i,e),i.prototype.load=function(e){var i=this;t.getTheme(e,function(t){return i.a1720(t)})},i.prototype.a1720=function(t){var e;if("string"==typeof t)try{e=JSON.parse(t)}catch(i){egret.$error(3e3)}else e=t;if(e&&e.skins)for(var a=this.skinMap,n=e.skins,r=Object.keys(n),s=r.length,o=0;s>o;o++){var l=r[o];a[l]||this.mapSkin(l,n[l])}e.styles&&(this.$styles=e.styles);var h=e.paths;for(var p in h)EXML.update(p,h[p]);e.exmls&&0!=e.exmls.length?e.exmls[0].gjs?(e.exmls.forEach(function(t){return EXML.$parseURLContentAsJs(t.path,t.gjs,t.className)}),this.a1721()):e.exmls[0].content?(e.exmls.forEach(function(t){return EXML.$parseURLContent(t.path,t.content)}),this.a1721()):EXML.$loadAll(e.exmls,this.a1721,this,!0):this.a1721()},i.prototype.a1721=function(t,e){this.initialized=!0,this.a1722(),this.dispatchEventWith(egret.Event.COMPLETE)},i.prototype.a1722=function(){for(var t=this.delayList,e=t.length,i=0;e>i;i++){var a=t[i];if(!a.$Component[5]){var n=this.a1723(a);n&&(a.$Component[1]=n,a.$parseSkinName())}}t.length=0},i.prototype.a1723=function(t){if(!this.initialized)return-1==this.delayList.indexOf(t)&&this.delayList.push(t),"";var e=this.skinMap,i=e[t.hostComponentKey];return i||(i=this.a1724(t)),i},i.prototype.a1724=function(t){if(!t)return"";var e=t.__class__;if(void 0===e)return"";var i=this.skinMap[e];return i||"eui.Component"==e?i:this.a1724(Object.getPrototypeOf(t))},i.prototype.mapSkin=function(t,e){this.skinMap[t]=e},i.prototype.$getStyleConfig=function(t){return this.$styles[t]},i}(egret.EventDispatcher);t.Theme=e,__reflect(e.prototype,"eui.Theme")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,a,n,r,s,o,l){var h=t.call(this,e,i,a)||this;return h.$initTo(n,r,s,o,l),h}return __extends(e,t),e.prototype.$initTo=function(t,e,i,a,n){this.kind=t,this.location=0|+e,this.oldLocation=0|+i,this.items=a||[],this.oldItems=n||[]},e.prototype.clean=function(){t.prototype.clean.call(this),this.items=this.oldItems=null},e.dispatchCollectionEvent=function(t,i,a,n,r,s,o){if(!t.a1256(i))return!0;var l=egret.Event.create(e,i);l.$initTo(a,n,r,s,o);var h=t.a1258(l);return egret.Event.release(l),h},e.COLLECTION_CHANGE="collectionChange",e}(egret.Event);t.CollectionEvent=e,__reflect(e.prototype,"eui.CollectionEvent")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.ADD="add",t.REFRESH="refresh",t.REMOVE="remove",t.REPLACE="replace",t.RESET="reset",t.UPDATE="update",t}();t.CollectionEventKind=e,__reflect(e.prototype,"eui.CollectionEventKind")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.itemRenderer=null,e.itemIndex=-1,e}return __extends(e,t),e.prototype.clean=function(){t.prototype.clean.call(this),this.item=this.itemRenderer=null},e.dispatchItemTapEvent=function(t,i,a){if(!t.a1256(i))return!0;var n=egret.Event.create(e,i);n.item=a.data,n.itemIndex=a.itemIndex,n.itemRenderer=a;var r=t.a1258(n);return egret.Event.release(n),r},e.ITEM_TAP="itemTap",e}(egret.Event);t.ItemTapEvent=e,__reflect(e.prototype,"eui.ItemTapEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,a,n){var r=t.call(this,e,i,a)||this;return r.property=n,r}return __extends(e,t),e.dispatchPropertyEvent=function(t,i,a){if(!t.a1256(i))return!0;var n=egret.Event.create(e,i);n.property=a;var r=t.a1258(n);return egret.Event.release(n),r},e.PROPERTY_CHANGE="propertyChange",e}(egret.Event);t.PropertyEvent=e,__reflect(e.prototype,"eui.PropertyEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,a,n,r){var s=t.call(this,e,i,a)||this;return n=+n,r=+r,s.currentPos=n,s.toPos=r,s}return __extends(e,t),e.THROW="throw",e}(egret.Event);t.ScrollerThrowEvent=e,__reflect(e.prototype,"eui.ScrollerThrowEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,a){return t.call(this,e,i,a)||this}return __extends(e,t),e.dispatchUIEvent=function(t,i,a,n){if(!t.a1256(i))return!0;var r=egret.Event.create(e,i,a,n),s=t.a1258(r);return egret.Event.release(r),s},e.CREATION_COMPLETE="creationComplete",e.CHANGE_END="changeEnd",e.CHANGE_START="changeStart",e.CLOSING="closing",e.MOVE="move",e}(egret.Event);t.UIEvent=e,__reflect(e.prototype,"eui.UIEvent")}(eui||(eui={}));var eui;!function(t){var e;!function(t){var e="eui.State",i="eui.AddItems",a="eui.SetProperty",n="eui.SetStateProperty",r="eui.Binding.$bindProperties",s=function(){function t(){this.indent=0}return t.prototype.toCode=function(){return""},t.prototype.a1727=function(t){void 0===t&&(t=this.indent);for(var e="",i=0;t>i;i++)e+="	";return e},t}();t.CodeBase=s,__reflect(s.prototype,"eui.sys.CodeBase");var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="",e.superClass="",e.innerClassBlock=[],e.variableBlock=[],e.functionBlock=[],e}return __extends(e,t),e.prototype.a1728=function(t){-1==this.innerClassBlock.indexOf(t)&&this.innerClassBlock.push(t)},e.prototype.addVariable=function(t){-1==this.variableBlock.indexOf(t)&&this.variableBlock.push(t)},e.prototype.a1730=function(t){for(var e=this.variableBlock,i=e.length,a=0;i>a;a++){var n=e[a];if(n.name==t)return n}return null},e.prototype.a1731=function(t){-1==this.functionBlock.indexOf(t)&&this.functionBlock.push(t)},e.prototype.a1732=function(t){for(var e=this.functionBlock,i=e.length,a=0;i>a;a++){var n=e[a];if(n.name==t)return n}return null},e.prototype.toCode=function(){var t=this.indent,e=this.a1727(t),i=this.a1727(t+1),a=this.a1727(t+2),n=e+"(function (";n+=this.superClass?"_super) {\n"+i+"__extends("+this.className+", _super);\n":") {\n";for(var r=this.innerClassBlock,s=r.length,o=0;s>o;o++){var l=r[o];l.indent=t+1,n+=i+"var "+l.className+" = "+l.toCode()+"\n\n"}n+=i+"function "+this.className+"() {\n",this.superClass&&(n+=a+"_super.call(this);\n");var h=this.variableBlock;s=h.length;for(var o=0;s>o;o++){var p=h[o];p.defaultValue&&(n+=a+p.toCode()+"\n")}if(this.constructCode){var u=this.constructCode.toCode().split("\n");s=u.length;for(var o=0;s>o;o++){var c=u[o];n+=a+c+"\n"}}n+=i+"}\n",n+=i+"var _proto = "+this.className+".prototype;\n\n";var d=this.functionBlock;s=d.length;for(var o=0;s>o;o++){var g=d[o];g.indent=t+1,n+=g.toCode()+"\n"}return n+=i+"return "+this.className+";\n"+e,n+=this.superClass?"})("+this.superClass+");":"})();"},e}(s);t.EXClass=o,__reflect(o.prototype,"eui.sys.EXClass");var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lines=[],e}return __extends(e,t),e.prototype.addVar=function(t,e){var i=e?" = "+e:"";this.a1743("var "+t+i+";")},e.prototype.a1734=function(t,e,i){var a=i?"."+i:"";this.a1743(t+a+" = "+e+";")},e.prototype.a1735=function(t){this.a1743("return "+t+";")},e.prototype.a1736=function(){this.a1743("")},e.prototype.startIf=function(t){this.a1743("if("+t+")"),this.startBlock()},e.prototype.a1738=function(){this.a1743("else"),this.startBlock()},e.prototype.startElseIf=function(t){this.a1743("else if("+t+")"),this.startBlock()},e.prototype.startBlock=function(){this.a1743("{"),this.indent++},e.prototype.endBlock=function(){this.indent--,this.a1743("}")},e.prototype.a1742=function(t,e){var i=e.join(",");this.a1743(t+"("+i+")")},e.prototype.a1743=function(t){this.lines.push(this.a1727()+t)},e.prototype.a1744=function(t,e){this.lines.splice(e,0,this.a1727()+t)},e.prototype.a1745=function(t){return-1!=this.lines.indexOf(t)},e.prototype.concat=function(t){this.lines=this.lines.concat(t.lines)},e.prototype.toCode=function(){return this.lines.join("\n")},e}(s);t.EXCodeBlock=l,__reflect(l.prototype,"eui.sys.EXCodeBlock");var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.codeBlock=null,e.isGet=!1,e.name="",e}return __extends(e,t),e.prototype.toCode=function(){var t,e=this.a1727(),i=this.a1727(this.indent+1),a=e;if(this.isGet?(t=this.a1727(this.indent+2),a+='Object.defineProperty(_proto, "skinParts", {\n',a+=i+"get: function () {\n"):(t=i,a+="_proto."+this.name+" = function () {\n"),this.codeBlock)for(var n=this.codeBlock.toCode().split("\n"),r=n.length,s=0;r>s;s++){var o=n[s];a+=t+o+"\n"}return a+=this.isGet?i+"},\n"+i+"enumerable: true,\n"+i+"configurable: true\n"+e+"});":e+"};"},e}(s);t.EXFunction=h,__reflect(h.prototype,"eui.sys.EXFunction");var p=function(t){function e(e,i){var a=t.call(this)||this;return a.indent=2,a.name=e,a.defaultValue=i,a}return __extends(e,t),e.prototype.toCode=function(){return this.defaultValue?"this."+this.name+" = "+this.defaultValue+";":""},e}(s);t.EXVariable=p,__reflect(p.prototype,"eui.sys.EXVariable");var u=function(t){function i(e,i){var a=t.call(this)||this;return a.name="",a.stateGroups=[],a.addItems=[],a.setProperty=[],a.name=e,i&&(a.stateGroups=i),a}return __extends(i,t),i.prototype.a1746=function(t){t instanceof c?this.addItems.push(t):this.setProperty.push(t)},i.prototype.toCode=function(){for(var t=this.a1727(1),i="new "+e+' ("'+this.name+'",\n'+t+"[\n",a=0,n=!0,r=this.addItems.concat(this.setProperty);a<r.length;){n?n=!1:i+=",\n";for(var s=r[a],o=s.toCode().split("\n"),l=o.length,h=0;l>h;h++){var p=o[h];o[h]=t+t+p}i+=o.join("\n"),a++}return i+="\n"+t+"])"},i}(s);t.EXState=u,__reflect(u.prototype,"eui.sys.EXState");var c=function(t){function e(e,i,a,n){var r=t.call(this)||this;return r.target=e,r.property=i,r.position=a,r.relativeTo=n,r}return __extends(e,t),e.prototype.toCode=function(){var t="new "+i+'("'+this.target+'","'+this.property+'",'+this.position+',"'+this.relativeTo+'")';return t},e}(s);t.EXAddItems=c,__reflect(c.prototype,"eui.sys.EXAddItems");var d=function(t){function e(e,i,a){var n=t.call(this)||this;return n.target=e,n.name=i,n.value=a,n}return __extends(e,t),e.prototype.toCode=function(){return"new "+a+'("'+this.target+'","'+this.name+'",'+this.value+")"},e}(s);t.EXSetProperty=d,__reflect(d.prototype,"eui.sys.EXSetProperty");var g=function(t){function e(e,i,a,n){var r=t.call(this)||this;return e=e?"this."+e:"this",r.target=e,r.property=i,r.templates=a,r.chainIndex=n,r}return __extends(e,t),e.prototype.toCode=function(){var t=this.templates.join(","),e=this.chainIndex.join(",");return"new "+n+"(this, ["+t+"],["+e+"],"+this.target+',"'+this.property+'")'},e}(s);t.EXSetStateProperty=g,__reflect(g.prototype,"eui.sys.EXSetStateProperty");var f=function(t){function e(e,i,a,n){var r=t.call(this)||this;return r.target=e,r.property=i,r.templates=a,r.chainIndex=n,r}return __extends(e,t),e.prototype.toCode=function(){var t=this.templates.join(","),e=this.chainIndex.join(",");return r+"(this, ["+t+"],["+e+"],"+this.target+',"'+this.property+'")'},e}(s);t.EXBinding=f,__reflect(f.prototype,"eui.sys.EXBinding")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function a(t){var e=i.call(this)||this;return e.$createChildrenCalled=!1,e.$fontChanged=!1,e._widthConstraint=0/0,e._heightConstraint=0/0,e.a1553(),e.text=t,e}return __extends(a,i),a.prototype.$invalidateContentBounds=function(){i.prototype.$invalidateContentBounds.call(this),this.a1542()},a.prototype.$setWidth=function(t){var a=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return a&&n},a.prototype.$setHeight=function(t){var a=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return a&&n},a.prototype.$setText=function(e){var a=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),a},a.prototype.$setFont=function(t){return this.$fontForBitmapLabel==t?!1:(this.$fontForBitmapLabel=t,this.$createChildrenCalled?this.$parseFont():this.$fontChanged=!0,this.$fontStringChanged=!0,!0)},a.prototype.$parseFont=function(){this.$fontChanged=!1;var e=this.$fontForBitmapLabel;"string"==typeof e?t.getAssets(e,function(t){this.$setFontData(t,e)},this):this.$setFontData(e)},a.prototype.$setFontData=function(t,e){return e&&e!=this.$fontForBitmapLabel?void 0:t==this.$font?!1:(this.$font=t,this.$invalidateContentBounds(),!0)},a.prototype.createChildren=function(){this.$fontChanged&&this.$parseFont(),this.$createChildrenCalled=!0},a.prototype.childrenCreated=function(){},a.prototype.a1556=function(){},a.prototype.measure=function(){var t=this.$UIComponent,e=this.$textFieldWidth,a=this.$textFieldHeight,n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n);var r=0/0;isNaN(this._heightConstraint)?isNaN(t[9])?1e5!=t[15]&&(r=t[15]):r=t[9]:(r=this._heightConstraint,this._heightConstraint=0/0),i.prototype.$setHeight.call(this,r),this.a1561(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,e),i.prototype.$setHeight.call(this,a)},a.prototype.a1558=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)},a.prototype.invalidateParentLayout=function(){},a.prototype.a1561=function(t,e){},a.prototype.invalidateProperties=function(){},a.prototype.a1541=function(){},a.prototype.a1542=function(){},a.prototype.validateSize=function(t){},a.prototype.invalidateDisplayList=function(){},a.prototype.a1544=function(){},a.prototype.validateNow=function(){},a.prototype.a1566=function(t,i){if(e.prototype.a1566.call(this,t,i),!isNaN(t)&&t!==this._widthConstraint&&0!=t){var a=this.$UIComponent;isNaN(a[9])&&t!=a[16]&&(this._widthConstraint=t,this._heightConstraint=i,this.a1542())}},a.prototype.setLayoutBoundsPosition=function(t,e){},a.prototype.a1567=function(t){},a.prototype.a1570=function(t){},a}(egret.BitmapText);t.BitmapLabel=i,__reflect(i.prototype,"eui.BitmapLabel",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.BitmapText),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var EXML;!function(t){function e(t){return h.parse(t)}function i(t,e,i,a){if(void 0===a&&(a=!1),a&&t in u)return void(e&&e.call(i,u[t],t));var n=p[t];return n?void n.push([e,i]):(p[t]=[[e,i]],void l(t,o))}function a(t,e,i,a){if(void 0===a&&(a=!1),!t||0==t.length)return void(e&&e.call(i,[],t));var r=[];t.forEach(function(s){var o=function(a,s){r[a]=s,r.push(a),r.length==t.length&&n(t,r,e,i)};return a&&s in u?void o(s,""):void l(s,o)})}function n(t,e,i,a){var n=[];t.forEach(function(t,i){if(t in u&&!e[t])return void(n[i]=u[t]);var a=e[t],r=o(t,a);n[i]=r}),i&&i.call(a,n,t)}function r(t,e){u[t]=e;var i=p[t];delete p[t];for(var a=i?i.length:0,n=0;a>n;n++){var r=i[n];r[0]&&r[1]&&r[0].call(r[1],e,t)}}function s(t,e,i){var a=null;e&&(a=h.$parseCode(e,i),r(t,a))}function o(t,i){var a=null;if(i&&"string"==typeof i)try{a=e(i)}catch(n){console.error(t+"\n"+n.message)}if(i&&i.prototype&&(a=i),t){a&&(u[t]=a);var r=p[t];delete p[t];for(var s=r?r.length:0,o=0;s>o;o++){var l=r[o];l[0]&&l[1]&&l[0].call(l[1],a,t)}}return a}function l(t,e){var i=t;-1==t.indexOf("://")&&(i=c+t);var a=function(i){i||(i=""),e(t,i)};eui.getTheme(i,a)}var h=new eui.sys.EXMLParser,p={},u={},c="";Object.defineProperty(t,"prefixURL",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0}),t.parse=e,t.load=i,t.$loadAll=a,t.update=r,t.$parseURLContentAsJs=s,t.$parseURLContent=o}(EXML||(EXML={}));var eui;!function(t){var e;!function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){var e=egret.getDefinitionByName(t);return e?e.prototype:null}function a(t){if(!t)return null;var e;return e=new t}t.NS_S="http://ns.egret.com/eui",t.NS_W="http://ns.egret.com/wing";var n=["Point","Matrix","Rectangle"],r=["Array","boolean","string","number"],s="eui.",o=0,l={},h=function(){function h(){}return h.prototype.$describe=function(t){if(!t)return null;var i=Object.getPrototypeOf(t);if(!i)return null;var n;if(i.hasOwnProperty("__hashCode__")&&(n=l[i.__hashCode__]))return n;var s=Object.getPrototypeOf(i);if(!s)return null;var h=a(s.constructor),p=this.$describe(h);if(p){var u=function(){};u.prototype=p,n=new u}else n={};for(var c=Object.keys(i).concat(Object.keys(t)),d=c.length,g=t.__meta__,f=0;d>f;f++){var m=c[f];if("constructor"!=m&&"_"!=m.charAt(0)&&"$"!=m.charAt(0)){var v=void 0;if(g&&g[m])v=g[m];else if(e(t[m]))v="Array";else{if(v=typeof t[m],"function"==v)continue;-1==r.indexOf(v)&&(v="any")}n[m]=v}}return Object.getPrototypeOf(s)&&(i.__hashCode__=o++,l[i.__hashCode__]=n),n},h.prototype.a1747=function(e,a){if(a==t.NS_S){if("Object"==e)return e;if(-1!=n.indexOf(e))return"egret."+e}var o="";return-1!=r.indexOf(e)?e:(a==t.NS_W||(o=a&&a!=t.NS_S?a.substring(0,a.length-1)+e:s+e),i(o)||(o=""),o)},h.prototype.a1748=function(t,e){var a,n=this.a1747(t,e),r=i(n);
return r&&(a=r.__defaultProperty__),a?a:""},h.prototype.a1749=function(t,e){if("Object"==e)return"any";var n="",r=i(e);if(r){if(!r.hasOwnProperty("__hashCode__")){var s=egret.getDefinitionByName(e),o=a(s);if(!o)return n;this.$describe(o)}var h=l[r.__hashCode__];h&&(n=h[t])}return n},h}();t.EXMLConfig=h,__reflect(h.prototype,"eui.sys.EXMLConfig")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){egret.$locale_strings=egret.$locale_strings||{},egret.$locale_strings.en_US=egret.$locale_strings.en_US||{};var e=egret.$locale_strings.en_US;e[2001]="EXML parsing error {0}: EXML file can't be found ",e[2002]="EXML parsing error : invalid XML file:\n{0}",e[2003]="EXML parsing error {0}: the class definitions corresponding to nodes can't be found  \n {1}",e[2004]="EXML parsing error {0}: nodes cannot contain id property with the same name \n {1}",e[2005]="EXML parsing error {0}: property with the name of '{1}' does not exist on the node, or the property does not have a default value: \n {2}",e[2006]="EXML parsing error {0}: undefined view state name: '{1}' \n {2}",e[2007]="EXML parsing error {0}: only UIComponent objects within the container can use the includeIn and excludeFrom properties\n {1}",e[2008]="EXML parsing error {0}: fail to assign values of '{1}' class to property: '{2}' \n {3}",e[2009]="EXML parsing error {0}: only one ID can be referenced in the node property value '{}' label; and complex expression is not allowed to use \n {1}",e[2010]="EXML parsing error {0}: ID referenced by property: '{1}':  '{2}' does not exist \n {3}",e[2011]="EXML parsing error {0}: fail to assign more than one child nodes to the same property: '{1}' \n {2}",e[2012]="EXML parsing error {0}: no default property exists on the node; and you must explicitly declare the property name that the child node  is assigned to \n {1}",e[2013]="EXML parsing error {0}: view state grammar is not allowed to use on property nodes of Array class \n {1} ",e[2014]="EXML parsing error {0}: assigning the skin class itself to the node property is not allowed \n {1}",e[2015]="EXML parsing error {0}: class definition referenced by node: {1} does not exist \n {2}",e[2016]="EXML parsing error {0}: format error of 'scale9Grid' property value on the node: {1}",e[2017]="EXML parsing error {0}: namespace prefix missing on the node: {1}",e[2018]="EXML parsing error {0}: format error of 'skinName' property value on the node: {1}",e[2019]="EXML parsing error {0}: the container’s child item must be visible nodes: {1}",e[2020]="EXML parsing error {0}: for child nodes in w: Declarations, the includeIn and excludeFrom properties are not allowed to use \n {1}",e[2021]="Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",e[2022]="EXML parsing error: there contains illegal characters in the id `{0}`",e[2101]="EXML parsing warnning : fail to register the class property : {0},there is already a class with the same name in the global,please try to rename the class name for the exml. \n {1}",e[2102]="EXML parsing warnning {0}: no child node can be found on the property code \n {1}",e[2103]="EXML parsing warnning {0}: the same property '{1}' on the node is assigned multiple times \n {2}",e[2104]="EXML parsing warnning, Instantiate class {0} error，the parameters of its constructor method must be empty.",e[2201]="BasicLayout doesn't support virtualization.",e[2202]="parse skinName error，the parsing result of skinName must be a instance of eui.Skin.",e[2203]="Could not find the skin class '{0}'。",e[2204]="Undefined event.kind type (CollectionEventKind) = '{0}'.",e[2301]="parse source failed，could not find asset from URL：{0} ."}(eui||(eui={}));var eui;!function(t){egret.$locale_strings=egret.$locale_strings||{},egret.$locale_strings.zh_CN=egret.$locale_strings.zh_CN||{};var e=egret.$locale_strings.zh_CN;e[2001]="EXML解析错误 {0}: 找不到EXML文件",e[2002]="EXML解析错误: 不是有效的XML文件:\n{0}",e[2003]="EXML解析错误 {0}: 无法找到节点所对应的类定义\n{1}",e[2004]="EXML解析错误 {0}: 节点不能含有同名的id属性\n{1}",e[2005]="EXML解析错误 {0}: 节点上不存在名为'{1}'的属性，或者该属性没有初始值:\n{2}",e[2006]="EXML解析错误 {0}: 未定义的视图状态名称:'{1}'\n{2}",e[2007]="EXML解析错误 {0}: 只有处于容器内的 UIComponent 对象可以使用includeIn和excludeFrom属性\n{1}",e[2008]="EXML解析错误 {0}: 无法将'{1}'类型的值赋给属性:'{2}'\n{3}",e[2009]="EXML解析错误 {0}: 在节点属性值的‘{}’标签内只能引用一个ID，不允许使用复杂表达式\n{1}",e[2010]="EXML解析错误 {0}: 属性:'{1}'所引用的ID: '{2}'不存在\n{3}",e[2011]="EXML解析错误 {0}: 无法将多个子节点赋值给同一个属性:'{1}'\n{2}",e[2012]="EXML解析错误 {0}: 节点上不存在默认属性，必须显式声明子节点要赋值到的属性名\n{1}",e[2013]="EXML解析错误 {0}: 类型为Array的属性节点上不允许使用视图状态语法\n{1}",e[2014]="EXML解析错误 {0}: 不允许将皮肤类自身赋值给节点属性\n{1}",e[2015]="EXML解析错误 {0}: 节点引用的类定义:{1}不存在\n{2}",e[2016]="EXML解析错误 {0}: 节点上'scale9Grid'属性值的格式错误:{1}",e[2017]="EXML解析错误 {0}: 节点上缺少命名空间前缀:{1}",e[2018]="EXML解析错误 {0}: 节点上'skinName'属性值的格式错误:{1}",e[2019]="EXML解析错误 {0}: 容器的子项必须是可视节点:{1}",e[2020]="EXML解析错误 {0}: 在w:Declarations内的子节点，不允许使用includeIn和excludeFrom属性\n{1}",e[2021]="{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",e[2022]="EXML解析错误: id `{0}` 中含有非法字符",e[2101]="EXML解析警告: 在EXML根节点上声明的 class 属性: {0} 注册失败，所对应的类已经存在，请尝试重命名要注册的类名。\n{1}",e[2102]="EXML解析警告 {0}: 在属性节点上找不到任何子节点\n{1}",e[2103]="EXML解析警告 {0}: 节点上的同一个属性'{1}'被多次赋值\n{2}",e[2104]="EXML解析警告，无法直接实例化自定义组件：{0} ，在EXML中使用的自定义组件必须要能直接被实例化，否则可能导致后续EXML解析报错。",e[2201]="BasicLayout 不支持虚拟化。",e[2202]="皮肤解析出错，属性 skinName 的值必须要能够解析为一个 eui.Skin 的实例。",e[2203]="找不到指定的皮肤类 '{0}'。",e[2204]="未定义的event.kind类型(CollectionEventKind) = '{0}'.",e[2301]="素材解析失败，找不到URL：{0} 所对应的资源。"}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.measure=function(){e.prototype.measure.call(this),t.sys.measure(this.$target)},i.prototype.a1558=function(i,a){e.prototype.a1558.call(this,i,a);var n=this.$target,r=t.sys.a1558(n,i,a);n.a1312(Math.ceil(r.x),Math.ceil(r.y))},i}(t.LayoutBase);t.BasicLayout=e,__reflect(e.prototype,"eui.BasicLayout")}(eui||(eui={})),function(t){var e;!function(t){function e(t,e){if(!t||"number"==typeof t)return t;var i=t,a=i.indexOf("%");if(-1==a)return+i;var n=+i.substring(0,a);return.01*n*e}function i(t){if(t){for(var e=0,i=0,a=egret.$TempRectangle,r=t.numChildren,s=0;r>s;s++){var o=t.getChildAt(s);if(egret.is(o,n)&&o.$includeInLayout){var l=o.$UIComponent,h=+l[4],p=+l[5],u=+l[0],c=+l[1],d=+l[2],g=+l[3],f=void 0,m=void 0;o.a1570(a),isNaN(u)||isNaN(c)?isNaN(h)?isNaN(u)&&isNaN(c)?f=a.x:(f=isNaN(u)?0:u,f+=isNaN(c)?0:c):f=2*Math.abs(h):f=u+c,isNaN(d)||isNaN(g)?isNaN(p)?isNaN(d)&&isNaN(g)?m=a.y:(m=isNaN(d)?0:d,m+=isNaN(g)?0:g):m=2*Math.abs(p):m=d+g;var v=a.width,y=a.height;e=Math.ceil(Math.max(e,f+v)),i=Math.ceil(Math.max(i,m+y))}}t.a1561(e,i)}}function a(t,i,a){if(t){for(var r=t.numChildren,s=0,o=0,l=egret.$TempRectangle,h=0;r>h;h++){var p=t.getChildAt(h);if(egret.is(p,n)&&p.$includeInLayout){var u=p.$UIComponent,c=e(u[4],.5*i),d=e(u[5],.5*a),g=e(u[0],i),f=e(u[1],i),m=e(u[2],a),v=e(u[3],a),y=u[6],b=u[7],_=0/0,A=0/0;isNaN(g)||isNaN(f)?isNaN(y)||(_=Math.round(i*Math.min(.01*y,1))):_=i-f-g,isNaN(m)||isNaN(v)?isNaN(b)||(A=Math.round(a*Math.min(.01*b,1))):A=a-v-m,p.a1566(_,A),p.a1567(l);var T=l.width,C=l.height,w=0/0,x=0/0;w=isNaN(c)?isNaN(g)?isNaN(f)?l.x:i-T-f:g:Math.round((i-T)/2+c),x=isNaN(d)?isNaN(m)?isNaN(v)?l.y:a-C-v:m:Math.round((a-C)/2+d),p.setLayoutBoundsPosition(w,x),s=Math.max(s,w+T),o=Math.max(o,x+C)}}return egret.$TempPoint.setTo(s,o)}}var n="eui.UIComponent";t.measure=i,t.a1558=a}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.LEFT="left",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_WIDTH="justifyUsingWidth",t}();t.ColumnAlign=e,__reflect(e.prototype,"eui.ColumnAlign")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return __extends(a,i),a.prototype.a1652=function(){for(var t=this.$target,i=t.numElements,a=i,n=0,r=0,s=egret.$TempRectangle,o=0;i>o;o++){var l=t.a1574(o);egret.is(l,e)&&l.$includeInLayout?(l.a1570(s),n+=s.width,r=Math.max(r,s.height)):a--}n+=(a-1)*this.$gap;var h=this.$paddingLeft+this.$paddingRight,p=this.$paddingTop+this.$paddingBottom;t.a1561(n+h,r+p)},a.prototype.a1653=function(){for(var t=this.$target,i=this.$typicalWidth,a=this.a1656(),n=Math.max(this.maxElementSize,this.$typicalHeight),r=egret.$TempRectangle,s=this.endIndex,o=this.elementSizeTable,l=this.startIndex;s>l;l++){var h=t.a1574(l);egret.is(h,e)&&h.$includeInLayout&&(h.a1570(r),a+=r.width,a-=isNaN(o[l])?i:o[l],n=Math.max(n,r.height))}var p=this.$paddingLeft+this.$paddingRight,u=this.$paddingTop+this.$paddingBottom;t.a1561(a+p,n+u)},a.prototype.updateDisplayListReal=function(i,a){var n=this.$target,r=this.$paddingLeft,s=this.$paddingRight,o=this.$paddingTop,l=this.$paddingBottom,h=this.$gap,p=Math.max(0,i-r-s),u=Math.max(0,a-o-l),c=this.$horizontalAlign==t.JustifyAlign.JUSTIFY,d=this.$verticalAlign==t.JustifyAlign.JUSTIFY||this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,g=0;d||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?g=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(g=1));var f,m,v,y=n.numElements,b=y,_=r,A=o,T=0,C=0,w=[],x=p,I=this.maxElementSize,D=egret.$TempRectangle;for(f=0;y>f;f++){var E=n.a1574(f);if(egret.is(E,e)&&E.$includeInLayout)if(E.a1570(D),I=Math.max(I,D.height),c)T+=D.width;else{var S=E.$UIComponent;isNaN(S[6])?x-=D.width:(C+=S[6],v=new t.sys.ChildInfo,v.layoutElement=E,v.percent=S[6],v.min=S[12],v.max=S[13],w.push(v))}else b--}x-=h*(b-1),x=x>0?x:0;var G,P=p-T-h*(b-1),k=b,M={};if(c){if(0>P){for(G=x/b,f=0;y>f;f++)m=n.a1574(f),egret.is(m,e)&&m.$includeInLayout&&(m.a1570(D),D.width<=G&&(x-=D.width,k--));x=x>0?x:0}}else if(C>0){this.flexChildrenProportionally(p,x,C,w);var L=0,O=w.length;for(f=0;O>f;f++){v=w[f];var B=Math.round(v.size+L);L+=v.size-B,M[v.layoutElement.$hashCode]=B,x-=B}x=x>0?x:0}this.$horizontalAlign==egret.HorizontalAlign.CENTER?_=r+.5*x:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(_=r+x);var R=r,U=o,F=0,V=0,$=Math.ceil(u);this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY&&($=Math.ceil(Math.max(u,I)));var N,j,H=0;for(f=0;y>f;f++){var z=0;if(m=n.a1574(f),egret.is(m,e)&&m.$includeInLayout){if(m.a1570(D),N=0/0,c?(j=0/0,P>0?j=x*D.width/T:0>P&&D.width>G&&(j=x/k),isNaN(j)||(N=Math.round(j+H),H+=j-N)):N=M[m.$hashCode],d)A=o,m.a1566(N,$),m.a1567(D);else{var X=0/0,S=m.$UIComponent;if(!isNaN(m.percentHeight)){var Y=Math.min(100,S[7]);X=Math.round(u*Y*.01)}m.a1566(N,X),m.a1567(D),z=(u-D.height)*g,z=z>0?z:0,A=o+z}m.setLayoutBoundsPosition(Math.round(_),Math.round(A)),F=Math.ceil(D.width),V=Math.ceil(D.height),R=Math.max(R,_+F),U=Math.max(U,A+V),_+=F+h}}this.maxElementSize=I,n.a1312(R+s,U+l)},a.prototype.updateDisplayListVirtual=function(i,a){var n=this.$target;this.indexInViewCalculated?this.indexInViewCalculated=!1:this.a1658();var r,s=this.$paddingRight,o=this.$paddingTop,l=this.$paddingBottom,h=this.$gap,p=n.numElements;if(-1==this.startIndex||-1==this.endIndex)return r=this.a1654(p)-h+s,void n.a1312(r,n.contentHeight);var u=this.endIndex;n.setVirtualElementIndicesInView(this.startIndex,u);var c=this.$verticalAlign==t.JustifyAlign.JUSTIFY||this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,d=this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,g=0;c||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?g=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(g=1));var f,m=egret.$TempRectangle,v=Math.max(0,a-o-l),y=Math.ceil(v),b=this.$typicalHeight,_=this.$typicalWidth,A=this.maxElementSize,T=Math.max(b,this.maxElementSize);if(d){for(var C=this.startIndex;u>=C;C++)f=n.a1575(C),egret.is(f,e)&&f.$includeInLayout&&(f.a1570(m),A=Math.max(A,m.height));y=Math.ceil(Math.max(v,A))}for(var w,x=0,I=0,D=0,E=!1,S=this.elementSizeTable,G=this.startIndex;u>=G;G++){var P=0;f=n.a1575(G),egret.is(f,e)&&f.$includeInLayout&&(f.a1570(m),d||(A=Math.max(A,m.height)),c?(I=o,f.a1566(0/0,y),f.a1567(m)):(f.a1567(m),P=(v-m.height)*g,P=P>0?P:0,I=o+P),D=Math.max(D,m.height),E||(w=isNaN(S[G])?_:S[G],w!=m.width&&(E=!0)),S[G]=m.width,x=this.a1654(G),f.setLayoutBoundsPosition(Math.round(x),Math.round(I)))}D+=o+l,r=this.a1654(p)-h+s,this.maxElementSize=A,n.a1312(r,D),(E||T<this.maxElementSize)&&n.a1542()},a.prototype.a1654=function(t){if(!this.$useVirtualLayout&&this.$target){var e=this.$target.a1574(t);if(e)return e.x}for(var i=this.$typicalWidth,a=this.$paddingLeft,n=this.$gap,r=this.elementSizeTable,s=0;t>s;s++){var o=r[s];isNaN(o)&&(o=i),a+=o+n}return a},a.prototype.a1655=function(t){if(this.$useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.$typicalWidth),e}return this.$target?this.$target.a1574(t).width:0},a.prototype.a1656=function(){for(var t=this.$typicalWidth,e=this.$gap,i=0,a=this.$target.numElements,n=this.elementSizeTable,r=0;a>r;r++){var s=n[r];isNaN(s)&&(s=t),i+=s+e}return i-=e},a.prototype.a1606=function(t){this.useVirtualLayout&&(i.prototype.a1606.call(this,t),this.elementSizeTable.splice(t,0,this.$typicalWidth))},a.prototype.a1658=function(){var t=this.$target;if(!t||0==t.numElements)return this.startIndex=this.endIndex=-1,!1;var e=t.$UIComponent;if(e[10]<=0||e[11]<=0)return this.startIndex=this.endIndex=-1,!1;var i=t.numElements,a=this.a1654(i-1)+this.elementSizeTable[i-1]+this.$paddingRight,n=t.scrollH;if(n>a-this.$paddingRight)return this.startIndex=-1,this.endIndex=-1,!1;var r=t.scrollH+e[10];if(r<this.$paddingLeft)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.startIndex,o=this.endIndex;return this.startIndex=this.a1657(n,0,i-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.a1657(r,0,i-1),-1==this.endIndex&&(this.endIndex=i-1),s!=this.startIndex||o!=this.endIndex},a}(t.LinearLayoutBase);t.HorizontalLayout=i,__reflect(i.prototype,"eui.HorizontalLayout")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.JustifyAlign=e,__reflect(e.prototype,"eui.JustifyAlign")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.TOP="top",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_HEIGHT="justifyUsingHeight",t}();t.RowAlign=e,__reflect(e.prototype,"eui.RowAlign")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function a(){var e=i.call(this)||this;return e.explicitHorizontalGap=0/0,e._horizontalGap=6,e.explicitVerticalGap=0/0,e._verticalGap=6,e._columnCount=-1,e._requestedColumnCount=0,e._rowCount=-1,e._requestedRowCount=0,e.explicitColumnWidth=0/0,e._columnWidth=0/0,e.explicitRowHeight=0/0,e._rowHeight=0/0,e._paddingLeft=0,e._paddingRight=0,e._paddingTop=0,e._paddingBottom=0,e._horizontalAlign=t.JustifyAlign.JUSTIFY,e._verticalAlign=t.JustifyAlign.JUSTIFY,e._columnAlign=t.ColumnAlign.LEFT,e._rowAlign=t.RowAlign.TOP,e._orientation=t.TileOrientation.ROWS,e.maxElementWidth=0,e.maxElementHeight=0,e.startIndex=-1,e.endIndex=-1,e.indexInViewCalculated=!1,e}return __extends(a,i),Object.defineProperty(a.prototype,"horizontalGap",{get:function(){return this._horizontalGap},set:function(t){t=+t,t!==this._horizontalGap&&(this.explicitHorizontalGap=t,this._horizontalGap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"verticalGap",{get:function(){return this._verticalGap},set:function(t){t=+t,t!==this._verticalGap&&(this.explicitVerticalGap=t,this._verticalGap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"requestedColumnCount",{get:function(){return this._requestedColumnCount},set:function(t){t=+t||0,this._requestedColumnCount!==t&&(this._requestedColumnCount=t,this._columnCount=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"requestedRowCount",{get:function(){return this._requestedRowCount},set:function(t){t=+t||0,this._requestedRowCount!=t&&(this._requestedRowCount=t,this._rowCount=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(t){t=+t,t!==this._columnWidth&&(this.explicitColumnWidth=t,this._columnWidth=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(t){t=+t,t!==this._rowHeight&&(this.explicitRowHeight=t,this._rowHeight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){t=+t||0,this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){t=+t||0,this._paddingRight!==t&&(this._paddingRight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){t=+t||0,this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){t=+t||0,this._paddingBottom!==t&&(this._paddingBottom=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"columnAlign",{get:function(){return this._columnAlign},set:function(t){this._columnAlign!=t&&(this._columnAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rowAlign",{get:function(){return this._rowAlign},set:function(t){this._rowAlign!=t&&(this._rowAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!=t&&(this._orientation=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),a.prototype.invalidateTargetLayout=function(){var t=this.$target;t&&(t.a1542(),t.invalidateDisplayList())},a.prototype.measure=function(){var t=this.$target;if(t){var e=this._columnCount,i=this._rowCount,a=this._columnWidth,n=this._rowHeight,r=0,s=0,o=t.$UIComponent;this.calculateRowAndColumn(o[8],o[9]);var l=this._requestedColumnCount>0?this._requestedColumnCount:this._columnCount,h=this._requestedRowCount>0?this._requestedRowCount:this._rowCount,p=isNaN(this._horizontalGap)?0:this._horizontalGap,u=isNaN(this._verticalGap)?0:this._verticalGap;l>0&&(r=l*(this._columnWidth+p)-p),h>0&&(s=h*(this._rowHeight+u)-u);var c=this._paddingLeft+this._paddingRight,d=this._paddingTop+this._paddingBottom;t.a1561(r+c,s+d),this._columnCount=e,this._rowCount=i,this._columnWidth=a,this._rowHeight=n}},a.prototype.calculateRowAndColumn=function(i,a){var n=this.$target,r=isNaN(this._horizontalGap)?0:this._horizontalGap,s=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var o=n.numElements,l=o,h=0;l>h;h++){var p=n.a1574(h);!p||egret.is(p,e)&&p.$includeInLayout||o--}if(0==o)return void(this._rowCount=this._columnCount=0);(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize(),isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth,isNaN(this.explicitRowHeight)?this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;var u=this._columnWidth+r;0>=u&&(u=1);var c=this._rowHeight+s;0>=c&&(c=1);var d=this._orientation==t.TileOrientation.COLUMNS,g=!isNaN(i),f=!isNaN(a),m=this._paddingLeft,v=this._paddingRight,y=this._paddingTop,b=this._paddingBottom;if(this._requestedColumnCount>0||this._requestedRowCount>0)this._requestedRowCount>0&&(this._rowCount=Math.min(this._requestedRowCount,o)),this._requestedColumnCount>0&&(this._columnCount=Math.min(this._requestedColumnCount,o));else if(g||f)if(!g||f&&d){var _=Math.max(0,a-y-b);this._rowCount=Math.floor((_+s)/c),this._rowCount=Math.max(1,Math.min(this._rowCount,o))}else{var A=Math.max(0,i-m-v);this._columnCount=Math.floor((A+r)/u),this._columnCount=Math.max(1,Math.min(this._columnCount,o))}else{var T=Math.sqrt(o*u*c);d?this._rowCount=Math.max(1,Math.round(T/c)):this._columnCount=Math.max(1,Math.round(T/u))}-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(o/this._columnCount))),-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(o/this._rowCount))),this._requestedColumnCount>0&&this._requestedRowCount>0&&(this._orientation==t.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(o/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(o/this._requestedRowCount)))},a.prototype.updateMaxElementSize=function(){this.$target&&(this.$useVirtualLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,this.$typicalWidth),this.maxElementHeight=Math.max(this.maxElementHeight,this.$typicalHeight),this.doUpdateMaxElementSize(this.startIndex,this.endIndex)):this.doUpdateMaxElementSize(0,this.$target.numElements-1))},a.prototype.doUpdateMaxElementSize=function(t,i){var a=this.maxElementWidth,n=this.maxElementHeight,r=egret.$TempRectangle,s=this.$target;if(-1!=t&&-1!=i)for(var o=t;i>=o;o++){var l=s.a1575(o);egret.is(l,e)&&l.$includeInLayout&&(l.a1570(r),a=Math.max(a,r.width),n=Math.max(n,r.height))}this.maxElementWidth=a,this.maxElementHeight=n},a.prototype.clearVirtualLayoutCache=function(){i.prototype.clearVirtualLayoutCache.call(this),this.maxElementWidth=0,this.maxElementHeight=0},a.prototype.scrollPositionChanged=function(){if(this.$useVirtualLayout){var t=this.a1658();t&&(this.indexInViewCalculated=!0,this.$target.invalidateDisplayList())}},a.prototype.a1658=function(){if(!this.$target||0==this.$target.numElements)return this.startIndex=this.endIndex=-1,!1;var e=this.$target,i=e.numElements;if(!this.$useVirtualLayout)return this.startIndex=0,this.endIndex=i-1,!1;var a=e.$UIComponent;if(0==a[10]||0==a[11])return this.startIndex=this.endIndex=-1,!1;var n=this.startIndex,r=this.endIndex,s=this._paddingLeft,o=this._paddingTop,l=isNaN(this._horizontalGap)?0:this._horizontalGap,h=isNaN(this._verticalGap)?0:this._verticalGap;if(this._orientation==t.TileOrientation.COLUMNS){var p=this._columnWidth+l;if(0>=p)return this.startIndex=0,this.endIndex=i-1,!1;var u=e.scrollH,c=u+a[10],d=Math.floor((u-s)/p);0>d&&(d=0);var g=Math.ceil((c-s)/p);0>g&&(g=0),this.startIndex=Math.min(i-1,Math.max(0,d*this._rowCount)),this.endIndex=Math.min(i-1,Math.max(0,g*this._rowCount-1))}else{var f=this._rowHeight+h;if(0>=f)return this.startIndex=0,this.endIndex=i-1,!1;var m=e.scrollV,v=m+a[11],y=Math.floor((m-o)/f);0>y&&(y=0);var b=Math.ceil((v-o)/f);0>b&&(b=0),this.startIndex=Math.min(i-1,Math.max(0,y*this._columnCount)),this.endIndex=Math.min(i-1,Math.max(0,b*this._columnCount-1))}return this.startIndex!=n||this.endIndex!=r},a.prototype.a1558=function(a,n){if(i.prototype.a1558.call(this,a,n),this.$target){var r=this.$target,s=this._paddingLeft,o=this._paddingRight,l=this._paddingTop,h=this._paddingBottom;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{if(this.calculateRowAndColumn(a,n),0==this._rowCount||0==this._columnCount)return void r.a1312(s+o,l+h);this.a1750(a,n),this.a1658()}if(this.$useVirtualLayout&&(this.calculateRowAndColumn(a,n),this.a1750(a,n)),-1==this.startIndex||-1==this.endIndex)return void r.a1312(0,0);var p=this.endIndex;r.setVirtualElementIndicesInView(this.startIndex,p);for(var u,c,d,g,f,m=this._orientation==t.TileOrientation.COLUMNS,v=this.startIndex,y=isNaN(this._horizontalGap)?0:this._horizontalGap,b=isNaN(this._verticalGap)?0:this._verticalGap,_=this._rowCount,A=this._columnCount,T=this._columnWidth,C=this._rowHeight,w=this.startIndex;p>=w;w++)if(u=this.$useVirtualLayout?this.target.a1575(w):this.target.a1574(w),egret.is(u,e)&&u.$includeInLayout){switch(m?(g=Math.ceil((v+1)/_)-1,f=Math.ceil((v+1)%_)-1,-1==f&&(f=_-1)):(g=Math.ceil((v+1)%A)-1,-1==g&&(g=A-1),f=Math.ceil((v+1)/A)-1),this._horizontalAlign){case egret.HorizontalAlign.RIGHT:c=a-(g+1)*(T+y)+y-o;break;case egret.HorizontalAlign.LEFT:c=g*(T+y)+s;break;default:c=g*(T+y)+s}switch(this._verticalAlign){case egret.VerticalAlign.TOP:d=f*(C+b)+l;break;case egret.VerticalAlign.BOTTOM:d=n-(f+1)*(C+b)+b-h;break;default:d=f*(C+b)+l}this.sizeAndPositionElement(u,c,d,T,C),v++}var x=s+o,I=l+h,D=(T+y)*A-y,E=(C+b)*_-b;r.a1312(D+x,E+I)}},a.prototype.sizeAndPositionElement=function(e,i,a,n,r){var s=0/0,o=0/0,l=e.$UIComponent;this._horizontalAlign==t.JustifyAlign.JUSTIFY?s=n:isNaN(l[6])||(s=n*l[6]*.01),this._verticalAlign==t.JustifyAlign.JUSTIFY?o=r:isNaN(l[7])||(o=r*l[7]*.01),e.a1566(Math.round(s),Math.round(o));var h=i,p=egret.$TempRectangle;switch(e.a1567(p),this._horizontalAlign){case egret.HorizontalAlign.RIGHT:h+=n-p.width;break;case egret.HorizontalAlign.CENTER:h=i+(n-p.width)/2}var u=a;switch(this._verticalAlign){case egret.VerticalAlign.BOTTOM:u+=r-p.height;break;case egret.VerticalAlign.MIDDLE:u+=(r-p.height)/2}e.setLayoutBoundsPosition(Math.round(h),Math.round(u))},a.prototype.a1750=function(e,i){var a=this._paddingLeft,n=this._paddingRight,r=this._paddingTop,s=this._paddingBottom,o=Math.max(0,e-a-n),l=Math.max(0,i-r-s);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap),isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap),this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap,this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;var h,p=l-this._rowHeight*this._rowCount,u=o-this._columnWidth*this._columnCount;p>0&&(this._rowAlign==t.RowAlign.JUSTIFY_USING_GAP?(h=Math.max(1,this._rowCount-1),this._verticalGap=p/h):this._rowAlign==t.RowAlign.JUSTIFY_USING_HEIGHT&&this._rowCount>0&&(this._rowHeight+=(p-(this._rowCount-1)*this._verticalGap)/this._rowCount)),u>0&&(this._columnAlign==t.ColumnAlign.JUSTIFY_USING_GAP?(h=Math.max(1,this._columnCount-1),this._horizontalGap=u/h):this._columnAlign==t.ColumnAlign.JUSTIFY_USING_WIDTH&&this._columnCount>0&&(this._columnWidth+=(u-(this._columnCount-1)*this._horizontalGap)/this._columnCount))},a}(t.LayoutBase);t.TileLayout=i,__reflect(i.prototype,"eui.TileLayout")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.ROWS="rows",t.COLUMNS="columns",t}();t.TileOrientation=e,__reflect(e.prototype,"eui.TileOrientation")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return __extends(a,i),a.prototype.a1652=function(){for(var t=this.$target,i=t.numElements,a=i,n=0,r=0,s=egret.$TempRectangle,o=0;i>o;o++){var l=t.a1574(o);egret.is(l,e)&&l.$includeInLayout?(l.a1570(s),r+=s.height,n=Math.max(n,s.width)):a--}r+=(a-1)*this.$gap;var h=this.$paddingLeft+this.$paddingRight,p=this.$paddingTop+this.$paddingBottom;t.a1561(n+h,r+p)},a.prototype.a1653=function(){for(var t=this.$target,i=this.$typicalHeight,a=this.a1656(),n=Math.max(this.maxElementSize,this.$typicalWidth),r=egret.$TempRectangle,s=this.endIndex,o=this.elementSizeTable,l=this.startIndex;s>l;l++){var h=t.a1574(l);egret.is(h,e)&&h.$includeInLayout&&(h.a1570(r),a+=r.height,a-=isNaN(o[l])?i:o[l],n=Math.max(n,r.width))}var p=this.$paddingLeft+this.$paddingRight,u=this.$paddingTop+this.$paddingBottom;t.a1561(n+p,a+u)},a.prototype.updateDisplayListReal=function(i,a){var n=this.$target,r=this.$paddingLeft,s=this.$paddingRight,o=this.$paddingTop,l=this.$paddingBottom,h=this.$gap,p=Math.max(0,i-r-s),u=Math.max(0,a-o-l),c=this.$verticalAlign==t.JustifyAlign.JUSTIFY,d=this.$horizontalAlign==t.JustifyAlign.JUSTIFY||this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,g=0;d||(this.$horizontalAlign==egret.HorizontalAlign.CENTER?g=.5:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(g=1));var f,m,v,y=n.numElements,b=y,_=r,A=o,T=0,C=0,w=[],x=u,I=this.maxElementSize,D=egret.$TempRectangle;for(f=0;y>f;f++){var E=n.a1574(f);if(egret.is(E,e)&&E.$includeInLayout)if(E.a1570(D),I=Math.max(I,D.width),c)T+=D.height;else{var S=E.$UIComponent;isNaN(S[7])?x-=D.height:(C+=S[7],v=new t.sys.ChildInfo,v.layoutElement=E,v.percent=S[7],v.min=S[14],v.max=S[15],w.push(v))}else b--}x-=h*(b-1),x=x>0?x:0;var G,P=u-T-h*(b-1),k=b,M={};if(c){if(0>P){for(G=x/b,f=0;y>f;f++)m=n.a1574(f),egret.is(m,e)&&m.$includeInLayout&&(m.a1570(D),D.height<=G&&(x-=D.height,k--));x=x>0?x:0}}else if(C>0){this.flexChildrenProportionally(u,x,C,w);var L=0,O=w.length;for(f=0;O>f;f++){v=w[f];var B=Math.round(v.size+L);L+=v.size-B,M[v.layoutElement.$hashCode]=B,x-=B}x=x>0?x:0}this.$verticalAlign==egret.VerticalAlign.MIDDLE?A=o+.5*x:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(A=o+x);var R=r,U=o,F=0,V=0,$=Math.ceil(p);this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY&&($=Math.ceil(Math.max(p,I)));var N,j,H=0;for(f=0;y>f;f++){var z=0;if(m=n.a1574(f),egret.is(m,e)&&m.$includeInLayout){if(m.a1570(D),N=0/0,c?(j=0/0,P>0?j=x*D.height/T:0>P&&D.height>G&&(j=x/k),isNaN(j)||(N=Math.round(j+H),H+=j-N)):N=M[m.$hashCode],d)_=r,m.a1566($,N),m.a1567(D);else{var X=0/0,S=m.$UIComponent;if(!isNaN(S[6])){var Y=Math.min(100,S[6]);X=Math.round(p*Y*.01)}m.a1566(X,N),m.a1567(D),z=(p-D.width)*g,z=z>0?z:0,_=r+z}m.setLayoutBoundsPosition(Math.round(_),Math.round(A)),F=Math.ceil(D.width),V=Math.ceil(D.height),R=Math.max(R,_+F),U=Math.max(U,A+V),A+=V+h}}this.maxElementSize=I,n.a1312(R+s,U+l)},a.prototype.updateDisplayListVirtual=function(i,a){var n=this.$target;this.indexInViewCalculated?this.indexInViewCalculated=!1:this.a1658();var r,s=this.$paddingBottom,o=this.$paddingLeft,l=this.$paddingRight,h=this.$gap,p=n.numElements;if(-1==this.startIndex||-1==this.endIndex)return r=this.a1654(p)-h+s,void n.a1312(n.contentWidth,r);var u=this.endIndex;n.setVirtualElementIndicesInView(this.startIndex,u);var c=this.$horizontalAlign==t.JustifyAlign.JUSTIFY||this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,d=this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,g=0;c||(this.$horizontalAlign==egret.HorizontalAlign.CENTER?g=.5:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(g=1));var f,m=egret.$TempRectangle,v=Math.max(0,i-o-l),y=Math.ceil(v),b=this.$typicalHeight,_=this.$typicalWidth,A=this.maxElementSize,T=Math.max(_,this.maxElementSize);if(d){for(var C=this.startIndex;u>=C;C++)f=n.a1575(C),egret.is(f,e)&&f.$includeInLayout&&(f.a1570(m),A=Math.max(A,m.width));y=Math.ceil(Math.max(v,A))}for(var w,x=0,I=0,D=0,E=!1,S=this.elementSizeTable,G=this.startIndex;u>=G;G++){var P=0;
f=n.a1575(G),egret.is(f,e)&&f.$includeInLayout&&(f.a1570(m),d||(A=Math.max(A,m.width)),c?(x=o,f.a1566(y,0/0),f.a1567(m)):(f.a1567(m),P=(v-m.width)*g,P=P>0?P:0,x=o+P),D=Math.max(D,m.width),E||(w=isNaN(S[G])?b:S[G],w!=m.height&&(E=!0)),S[G]=m.height,I=this.a1654(G),f.setLayoutBoundsPosition(Math.round(x),Math.round(I)))}D+=o+l,r=this.a1654(p)-h+s,this.maxElementSize=A,n.a1312(D,r),(E||T<this.maxElementSize)&&n.a1542()},a.prototype.a1654=function(t){if(!this.$useVirtualLayout&&this.$target){var e=this.$target.a1574(t);if(e)return e.y}for(var i=this.$typicalHeight,a=this.$paddingTop,n=this.$gap,r=this.elementSizeTable,s=0;t>s;s++){var o=r[s];isNaN(o)&&(o=i),a+=o+n}return a},a.prototype.a1655=function(t){if(this.$useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.$typicalHeight),e}return this.$target?this.$target.a1574(t).height:0},a.prototype.a1656=function(){for(var t=this.$typicalHeight,e=this.$gap,i=0,a=this.$target.numElements,n=this.elementSizeTable,r=0;a>r;r++){var s=n[r];isNaN(s)&&(s=t),i+=s+e}return i-=e},a.prototype.a1606=function(t){this.$useVirtualLayout&&(i.prototype.a1606.call(this,t),this.elementSizeTable.splice(t,0,this.$typicalHeight))},a.prototype.a1658=function(){var t=this.$target;if(!t||0==t.numElements)return this.startIndex=this.endIndex=-1,!1;var e=t.$UIComponent;if(0==e[10]||0==e[11])return this.startIndex=this.endIndex=-1,!1;var i=t.numElements,a=this.a1654(i-1)+this.elementSizeTable[i-1]+this.$paddingBottom,n=t.scrollV;if(n>a-this.$paddingBottom)return this.startIndex=-1,this.endIndex=-1,!1;var r=t.scrollV+e[11];if(r<this.$paddingTop)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.startIndex,o=this.endIndex;return this.startIndex=this.a1657(n,0,i-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.a1657(r,0,i-1),-1==this.endIndex&&(this.endIndex=i-1),s!=this.startIndex||o!=this.endIndex},a}(t.LinearLayoutBase);t.VerticalLayout=i,__reflect(i.prototype,"eui.VerticalLayout")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.a1558=function(e,i){t.prototype.a1558.call(this,e,i);var a=this.thumb,n=this.$viewport;if(a&&n){var r=egret.$TempRectangle;a.a1570(r);var s=r.width,o=r.y,l=n.scrollH,h=n.contentWidth,p=n.width;if(0>=l){var u=s*(1- -l/(.5*p));u=Math.max(5,Math.round(u)),a.a1566(u,0/0),a.setLayoutBoundsPosition(0,o)}else if(l>=h-p){var u=s*(1-(l-h+p)/(.5*p));u=Math.max(5,Math.round(u)),a.a1566(u,0/0),a.setLayoutBoundsPosition(e-u,o)}else{var c=(e-s)*l/(h-p);a.a1566(0/0,0/0),a.setLayoutBoundsPosition(c,o)}}},e.prototype.a1615=function(t){switch(t.property){case"scrollH":case"contentWidth":this.invalidateDisplayList()}},e}(t.ScrollBarBase);t.HScrollBar=e,__reflect(e.prototype,"eui.HScrollBar")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(t,e,i,a){this.target=t,this.propertyName=e,this.position=i,this.relativeTo=a}return t.prototype.apply=function(t,e){var i,a=t[this.relativeTo],n=t[this.target],r=this.propertyName?t[this.propertyName]:e;if(n&&r){switch(this.position){case 0:i=0;break;case 1:i=-1;break;case 2:i=r.getChildIndex(a);break;case 3:i=r.getChildIndex(a)+1}-1==i&&(i=r.numChildren),egret.is(r,"eui.Component")&&r.$Component[8].$elementsContent.push(n),r.addChildAt(n,i)}},t.prototype.remove=function(t,e){var i=this.propertyName?t[this.propertyName]:e,a=t[this.target];if(a&&i&&(a.$parent===i&&i.removeChild(a),egret.is(i,"eui.Component"))){var n=i.$Component[8].$elementsContent,r=n.indexOf(a);r>-1&&n.splice(r,1)}},t}();t.AddItems=e,__reflect(e.prototype,"eui.AddItems",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e=function(){function t(t,e,i){this.target=t,this.name=e,this.value=i}return t.prototype.apply=function(t,e){var i=this.target?t[this.target]:t;i&&(this.oldValue=i[this.name],this.a1751(i,this.name,this.value,this.oldValue))},t.prototype.remove=function(t,e){var i=this.target?t[this.target]:t;i&&(this.a1751(i,this.name,this.oldValue,this.oldValue),this.oldValue=null)},t.prototype.a1751=function(t,e,i,a){void 0===i||null===i?t[e]=i:"number"==typeof a?t[e]=+i:"boolean"==typeof a?t[e]=this.a1752(i):t[e]=i},t.prototype.a1752=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},t}();t.SetProperty=e,__reflect(e.prototype,"eui.SetProperty",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e=function(){function e(t,e,i,a,n){this.host=t,this.templates=e,this.chainIndex=i,this.target=a,this.prop=n}return e.prototype.apply=function(e,i){if(this.target){var a=this.target[this.prop];this.oldValue&&this.a1751(this.target,this.prop,this.oldValue,this.oldValue),a&&(this.oldValue=a),t.Binding.$bindProperties(this.host,this.templates.concat(),this.chainIndex.concat(),this.target,this.prop)}},e.prototype.remove=function(t,e){if(this.target){var i=this.oldValue;this.target[this.prop]&&(this.oldValue=this.target[this.prop]),i&&this.a1751(this.target,this.prop,i,i)}},e.prototype.a1751=function(t,e,i,a){void 0===i||null===i?t[e]=i:"number"==typeof a?t[e]=+i:"boolean"==typeof a?t[e]=this.a1752(i):t[e]=i},e.prototype.a1752=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}();t.SetStateProperty=e,__reflect(e.prototype,"eui.SetStateProperty",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t,e,i,a,r,s,o,l,h,p){var u;if(!isNaN(i)&&isNaN(a)){if(u=n(t,e,i,s,i,l,i,p))return u}else if(isNaN(i)&&!isNaN(a)&&(u=n(t,e,r,a,o,a,h,a)))return u;return u=n(t,e,r,s,o,l,h,p)}function i(t,e,i,n,r,s,o,l,h,p){var u;if(!isNaN(i)&&isNaN(n)){if(u=a(t,e,i,s,i,l,i,p))return u}else if(isNaN(i)&&!isNaN(n)&&(u=a(t,e,r,n,o,n,h,n)))return u;return u=a(t,e,r,s,o,l,h,p)}function a(t,e,i,a,n,s,l,h){var p=e.b,u=e.d;if(p>-1e-9&&1e-9>p&&(p=0),u>-1e-9&&1e-9>u&&(u=0),0==p&&0==u)return null;if(0==p&&0==u)return null;if(0==p)return egret.Point.create(i,t/Math.abs(u));if(0==u)return egret.Point.create(t/Math.abs(p),a);var c,d,g,f=p*u>=0?u:-u;if(0!=f&&i>0){var m=1/f;i=Math.max(n,Math.min(l,i)),d=i,g=(t-p*d)*m,g>=s&&h>=g&&p*d+f*g>=0&&(c=egret.Point.create(d,g)),g=(-t-p*d)*m,g>=s&&h>=g&&0>p*d+f*g&&(!c||o(c.x,c.y,e).width>o(d,g,e).width)&&(egret.Point.release(c),c=egret.Point.create(d,g))}if(0!=p&&a>0){var v=1/p;a=Math.max(s,Math.min(h,a)),g=a,d=(t-f*g)*v,d>=n&&l>=d&&p*d+f*g>=0&&(!c||o(c.x,c.y,e).width>o(d,g,e).width)&&(c=egret.Point.create(d,g)),d=(-t-f*g)*v,d>=n&&l>=d&&0>p*d+f*g&&(!c||o(c.x,c.y,e).width>o(d,g,e).width)&&(egret.Point.release(c),c=egret.Point.create(d,g))}if(c)return c;var y=e.a,b=e.c,_=y*b>=0?b:-b;return r(p,f,t,n,s,l,h,y,_)}function n(t,e,i,a,n,s,l,h){var p=e.a,u=e.c;if(p>-1e-9&&1e-9>p&&(p=0),u>-1e-9&&1e-9>u&&(u=0),0==p&&0==u)return null;if(0==p)return egret.Point.create(i,t/Math.abs(u));if(0==u)return egret.Point.create(t/Math.abs(p),a);var c,d,g,f=p*u>=0?u:-u;if(0!=f&&i>0){var m=1/f;i=Math.max(n,Math.min(l,i)),d=i,g=(t-p*d)*m,g>=s&&h>=g&&p*d+f*g>=0&&(c=egret.Point.create(d,g)),g=(-t-p*d)*m,g>=s&&h>=g&&0>p*d+f*g&&(!c||o(c.x,c.y,e).height>o(d,g,e).height)&&(egret.Point.release(c),c=egret.Point.create(d,g))}if(0!=p&&a>0){var v=1/p;a=Math.max(s,Math.min(h,a)),g=a,d=(t-f*g)*v,d>=n&&l>=d&&p*d+f*g>=0&&(!c||o(c.x,c.y,e).height>o(d,g,e).height)&&(egret.Point.release(c),c=egret.Point.create(d,g)),d=(-t-f*g)*v,d>=n&&l>=d&&0>p*d+f*g&&(!c||o(c.x,c.y,e).height>o(d,g,e).height)&&(egret.Point.release(c),c=egret.Point.create(d,g))}if(c)return c;var y=e.b,b=e.d,_=y*b>=0?b:-b;return r(p,f,t,n,s,l,h,y,_)}function r(t,e,i,a,n,r,s,o,l){if(0==t||0==e)return null;var h,p,u=(i-a*t)/e,c=(i-r*t)/e,d=Math.max(n,Math.min(u,c)),g=Math.min(s,Math.max(u,c)),f=o*e-t*l;return g>=d?(p=Math.abs(f)<1e-9?i/(t+e):o*i/f,p=Math.max(d,Math.min(p,g)),h=(i-e*p)/t,egret.Point.create(h,p)):(u=-(a*t+i)/e,c=-(r*t+i)/e,d=Math.max(n,Math.min(u,c)),g=Math.min(s,Math.max(u,c)),g>=d?(p=Math.abs(f)<1e-9?-i/(t+e):-o*i/f,p=Math.max(d,Math.min(p,g)),h=(-i-e*p)/t,egret.Point.create(h,p)):null)}function s(t,e,i,a,n,s,o){var h=i.a,p=i.b,u=i.c,c=i.d;if(h>-1e-9&&1e-9>h&&(h=0),p>-1e-9&&1e-9>p&&(p=0),u>-1e-9&&1e-9>u&&(u=0),c>-1e-9&&1e-9>c&&(c=0),0==p&&0==u)return 0==h||0==c?null:egret.Point.create(t/Math.abs(h),e/Math.abs(c));if(0==h&&0==c)return 0==p||0==u?null:egret.Point.create(e/Math.abs(p),t/Math.abs(u));var d=h*u>=0?u:-u,g=p*c>=0?c:-c,f=h*g-p*d;if(Math.abs(f)<1e-9)return 0==d||0==h||h==-d?null:Math.abs(h*e-p*t)>1e-9?null:r(h,d,t,a,a,s,o,p,g);var m=1/f;t*=m,e*=m;var v;return v=l(h,d,p,g,t,e),v&&a<=v.x&&v.x<=s&&n<=v.y&&v.y<=o&&h*v.x+d*v.x>=0&&p*v.x+g*v.y>=0?v:(v=l(h,d,p,g,t,-e),v&&a<=v.x&&v.x<=s&&n<=v.y&&v.y<=o&&h*v.x+d*v.x>=0&&p*v.x+g*v.y<0?v:(v=l(h,d,p,g,-t,e),v&&a<=v.x&&v.x<=s&&n<=v.y&&v.y<=o&&h*v.x+d*v.x<0&&p*v.x+g*v.y>=0?v:(v=l(h,d,p,g,-t,-e),v&&a<=v.x&&v.x<=s&&n<=v.y&&v.y<=o&&h*v.x+d*v.x<0&&p*v.x+g*v.y<0?v:(egret.Point.release(v),null))))}function o(t,e,i){var a=egret.$TempRectangle.setTo(0,0,t,e);return i.$transformBounds(a),a}function l(t,e,i,a,n,r){return egret.Point.create(a*n-e*r,t*r-i*n)}var h=.1,p=.1,u=function(){function t(){}return t.fitBounds=function(t,a,n,r,l,u,c,d,g,f,m){if(isNaN(t)&&isNaN(a))return egret.Point.create(u,c);var v,y=p>d?0:d-p,b=p>g?0:g-p,_=f+p,A=m+p;if(isNaN(t)||isNaN(a))return isNaN(t)?i(a,n,r,l,u,c,y,b,_,A):e(t,n,r,l,u,c,y,b,_,A);if(v=s(t,a,n,y,b,_,A),!v){var T=void 0;if(T=e(t,n,r,l,u,c,y,b,_,A)){var C=o(T.x,T.y,n).height;C-h>a&&(egret.Point.release(T),T=null)}var w=void 0;if(w=i(a,n,r,l,u,c,y,b,_,A)){var x=o(w.x,w.y,n).width;x-h>t&&(egret.Point.release(w),w=null)}v=T&&w?T.x*T.y>w.x*w.y?T:w:T?T:w,egret.Point.release(T),egret.Point.release(w)}return v},t}();t.MatrixUtil=u,__reflect(u.prototype,"eui.sys.MatrixUtil")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),dragonBones;!function(t){}(dragonBones||(dragonBones={}));var dragonBones;if(function(t){var e=function(){function e(i){this._clock=new t.WorldClock,this._events=[],this._objects=[],this._eventManager=null,this._eventManager=i,console.info("DragonBones: "+e.VERSION+"\nWebsite: http://dragonbones.com/\nSource and Demo: https://github.com/DragonBones/")}return e.prototype.advanceTime=function(e){if(this._objects.length>0){for(var i=0,a=this._objects;i<a.length;i++){var n=a[i];n.a1755()}this._objects.length=0}if(this._clock.advanceTime(e),this._events.length>0){for(var r=0;r<this._events.length;++r){var s=this._events[r],o=s.armature;null!==o._armatureData&&(o.eventDispatcher.a1839(s.type,s),s.type===t.EventObject.SOUND_EVENT&&this._eventManager.a1839(s.type,s)),this.a1754(s)}this._events.length=0}},e.prototype.bufferEvent=function(t){this._events.indexOf(t)<0&&this._events.push(t)},e.prototype.a1754=function(t){this._objects.indexOf(t)<0&&this._objects.push(t)},Object.defineProperty(e.prototype,"clock",{get:function(){return this._clock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventManager",{get:function(){return this._eventManager},enumerable:!0,configurable:!0}),e.VERSION="5.6.300",e.yDown=!0,e.debug=!1,e.debugDraw=!1,e.webAssembly=!1,e}();t.DragonBones=e}(dragonBones||(dragonBones={})),"undefined"==typeof global)var global=window;console.warn||(console.warn=function(){}),console.assert||(console.assert=function(){}),Date.now||(Date.now=function(){return(new Date).getTime()});var __extends=function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},dragonBones;!function(t){var e=function(){function t(){this.hashCode=t._hashCode++,this._isInPool=!1}return t._returnObject=function(e){var i=String(e.constructor),a=i in t._maxCountMap?t._maxCountMap[i]:t._defaultMaxCount,n=t._poolsMap[i]=t._poolsMap[i]||[];n.length<a&&(e._isInPool?console.warn("The object is already in the pool."):(e._isInPool=!0,n.push(e)))},t.toString=function(){throw new Error},t.setMaxCount=function(e,i){if((0>i||i!==i)&&(i=0),null!==e){var a=String(e),n=a in t._poolsMap?t._poolsMap[a]:null;null!==n&&n.length>i&&(n.length=i),t._maxCountMap[a]=i}else{t._defaultMaxCount=i;for(var a in t._poolsMap){var n=t._poolsMap[a];n.length>i&&(n.length=i),a in t._maxCountMap&&(t._maxCountMap[a]=i)}}},t.clearPool=function(e){if(void 0===e&&(e=null),null!==e){var i=String(e),a=i in t._poolsMap?t._poolsMap[i]:null;null!==a&&a.length>0&&(a.length=0)}else for(var n in t._poolsMap){var a=t._poolsMap[n];a.length=0}},t.borrowObject=function(e){var i=String(e),a=i in t._poolsMap?t._poolsMap[i]:null;if(null!==a&&a.length>0){var n=a.pop();return n._isInPool=!1,n}var r=new e;return r._onClear(),r},t.prototype.a1755=function(){this._onClear(),t._returnObject(this)},t._hashCode=0,t._defaultMaxCount=3e3,t._maxCountMap={},t._poolsMap={},t}();t.BaseObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,a,n,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===n&&(n=0),void 0===r&&(r=0),this.a=t,this.b=e,this.c=i,this.d=a,this.tx=n,this.ty=r}return t.prototype.toString=function(){return"[object dragonBones.Matrix] a:"+this.a+" b:"+this.b+" c:"+this.c+" d:"+this.d+" tx:"+this.tx+" ty:"+this.ty},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.a1756=function(t,e){return void 0===e&&(e=0),this.a=t[e],this.b=t[e+1],this.c=t[e+2],this.d=t[e+3],this.tx=t[e+4],this.ty=t[e+5],this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this},t.prototype.concat=function(t){var e=this.a*t.a,i=0,a=0,n=this.d*t.d,r=this.tx*t.a+t.tx,s=this.ty*t.d+t.ty;return(0!==this.b||0!==this.c)&&(e+=this.b*t.c,i+=this.b*t.d,a+=this.c*t.a,n+=this.c*t.b),(0!==t.b||0!==t.c)&&(i+=this.a*t.b,a+=this.d*t.c,r+=this.ty*t.c,s+=this.tx*t.b),this.a=e,this.b=i,this.c=a,this.d=n,this.tx=r,this.ty=s,this},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,a=this.d,n=this.tx,r=this.ty;if(0===e&&0===i)return this.b=this.c=0,0===t||0===a?this.a=this.b=this.tx=this.ty=0:(t=this.a=1/t,a=this.d=1/a,this.tx=-t*n,this.ty=-a*r),this;var s=t*a-e*i;if(0===s)return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this;s=1/s;var o=this.a=a*s;return e=this.b=-e*s,i=this.c=-i*s,a=this.d=t*s,this.tx=-(o*n+i*r),this.ty=-(e*n+a*r),this},t.prototype.a1329=function(t,e,i,a){void 0===a&&(a=!1),i.x=this.a*t+this.c*e,i.y=this.b*t+this.d*e,a||(i.x+=this.tx,i.y+=this.ty)},t.prototype.a1757=function(t,e){void 0===e&&(e=!1);var i=this.a,a=this.b,n=this.c,r=this.d,s=e?0:this.tx,o=e?0:this.ty,l=t.x,h=t.y,p=l+t.width,u=h+t.height,c=i*l+n*h+s,d=a*l+r*h+o,g=i*p+n*h+s,f=a*p+r*h+o,m=i*p+n*u+s,v=a*p+r*u+o,y=i*l+n*u+s,b=a*l+r*u+o,_=0;c>g&&(_=c,c=g,g=_),m>y&&(_=m,m=y,y=_),t.x=Math.floor(m>c?c:m),t.width=Math.ceil((g>y?g:y)-t.x),d>f&&(_=d,d=f,f=_),v>b&&(_=v,v=b,b=_),t.y=Math.floor(v>d?d:v),t.height=Math.ceil((f>b?f:b)-t.y)},t}();t.Matrix=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,a,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=1),void 0===r&&(r=1),this.x=t,this.y=e,this.skew=i,this.rotation=a,this.scaleX=n,this.scaleY=r}return t.normalizeRadian=function(t){return t=(t+Math.PI)%(2*Math.PI),t+=t>0?-Math.PI:Math.PI},t.prototype.toString=function(){return"[object dragonBones.Transform] x:"+this.x+" y:"+this.y+" skewX:"+180*this.skew/Math.PI+" skewY:"+180*this.rotation/Math.PI+" scaleX:"+this.scaleX+" scaleY:"+this.scaleY},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.skew=t.skew,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this},t.prototype.identity=function(){return this.x=this.y=0,this.skew=this.rotation=0,this.scaleX=this.scaleY=1,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.skew+=t.skew,this.rotation+=t.rotation,this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this},t.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this.skew-=t.skew,this.rotation-=t.rotation,this.scaleX/=t.scaleX,this.scaleY/=t.scaleY,this},t.prototype.fromMatrix=function(e){var i=this.scaleX,a=this.scaleY,n=t.PI_Q;this.x=e.tx,this.y=e.ty,this.rotation=Math.atan(e.b/e.a);var r=Math.atan(-e.c/e.d);return this.scaleX=this.rotation>-n&&this.rotation<n?e.a/Math.cos(this.rotation):e.b/Math.sin(this.rotation),this.scaleY=r>-n&&n>r?e.d/Math.cos(r):-e.c/Math.sin(r),i>=0&&this.scaleX<0&&(this.scaleX=-this.scaleX,this.rotation=this.rotation-Math.PI),a>=0&&this.scaleY<0&&(this.scaleY=-this.scaleY,r-=Math.PI),this.skew=r-this.rotation,this},t.prototype.toMatrix=function(t){return 0===this.rotation?(t.a=1,t.b=0):(t.a=Math.cos(this.rotation),t.b=Math.sin(this.rotation)),0===this.skew?(t.c=-t.b,t.d=t.a):(t.c=-Math.sin(this.skew+this.rotation),t.d=Math.cos(this.skew+this.rotation)),1!==this.scaleX&&(t.a*=this.scaleX,t.b*=this.scaleX),1!==this.scaleY&&(t.c*=this.scaleY,t.d*=this.scaleY),t.tx=this.x,t.ty=this.y,this},t.PI=Math.PI,t.PI_D=2*Math.PI,t.PI_H=Math.PI/2,t.PI_Q=Math.PI/4,t.RAD_DEG=180/Math.PI,t.DEG_RAD=Math.PI/180,t}();t.Transform=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,a,n,r,s,o){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===a&&(a=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),this.alphaMultiplier=t,this.redMultiplier=e,this.greenMultiplier=i,this.blueMultiplier=a,this.alphaOffset=n,this.redOffset=r,this.greenOffset=s,this.blueOffset=o}return t.prototype.copyFrom=function(t){this.alphaMultiplier=t.alphaMultiplier,this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaOffset=t.alphaOffset,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset},t.prototype.identity=function(){this.alphaMultiplier=this.redMultiplier=this.greenMultiplier=this.blueMultiplier=1,this.alphaOffset=this.redOffset=this.greenOffset=this.blueOffset=0},t}();t.ColorTransform=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.clear=function(){this.x=this.y=0},t}();t.Point=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),this.x=t,this.y=e,this.width=i,this.height=a}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.clear=function(){this.x=this.y=0,this.width=this.height=0},t}();t.Rectangle=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ints=[],e.floats=[],e.strings=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.UserData]"},e.prototype._onClear=function(){this.ints.length=0,this.floats.length=0,this.strings.length=0},e.prototype.addInt=function(t){this.ints.push(t)},e.prototype.addFloat=function(t){this.floats.push(t)},e.prototype.addString=function(t){this.strings.push(t)},e.prototype.getInt=function(t){return void 0===t&&(t=0),t>=0&&t<this.ints.length?this.ints[t]:0},e.prototype.getFloat=function(t){return void 0===t&&(t=0),t>=0&&t<this.floats.length?this.floats[t]:0},e.prototype.a1766=function(t){return void 0===t&&(t=0),t>=0&&t<this.strings.length?this.strings[t]:""},e}(t.BaseObject);t.UserData=e;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e}return __extends(e,t),e.toString=function(){return"[class dragonBones.ActionData]"},e.prototype._onClear=function(){null!==this.data&&this.data.a1755(),this.type=0,this.name="",this.bone=null,this.slot=null,this.data=null},e}(t.BaseObject);t.ActionData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameIndices=[],e.cachedFrames=[],e.armatureNames=[],e.armatures={},e.userData=null,e}return __extends(e,t),e.toString=function(){return"[class dragonBones.DragonBonesData]"},e.prototype._onClear=function(){for(var t in this.armatures)this.armatures[t].a1755(),delete this.armatures[t];null!==this.userData&&this.userData.a1755(),this.autoSearch=!1,this.frameRate=0,this.version="",this.name="",this.stage=null,this.frameIndices.length=0,this.cachedFrames.length=0,this.armatureNames.length=0,this.binary=null,this.intArray=null,this.floatArray=null,this.frameIntArray=null,this.frameFloatArray=null,this.frameArray=null,this.timelineArray=null,this.userData=null},e.prototype.a1767=function(t){return t.name in this.armatures?void console.warn("Same armature: "+t.name):(t.parent=this,this.armatures[t.name]=t,void this.armatureNames.push(t.name))},e.prototype.a1768=function(t){return t in this.armatures?this.armatures[t]:null},e.prototype.dispose=function(){console.warn("已废弃"),this.a1755()},e}(t.BaseObject);t.DragonBonesData=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.aabb=new t.Rectangle,i.animationNames=[],i.sortedBones=[],i.sortedSlots=[],i.defaultActions=[],i.actions=[],i.bones={},i.slots={},i.constraints={},i.skins={},i.animations={},i.canvas=null,i.userData=null,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.ArmatureData]"},i.prototype._onClear=function(){for(var t=0,e=this.defaultActions;t<e.length;t++){var i=e[t];i.a1755()}for(var a=0,n=this.actions;a<n.length;a++){var i=n[a];i.a1755()}for(var r in this.bones)this.bones[r].a1755(),delete this.bones[r];for(var r in this.slots)this.slots[r].a1755(),delete this.slots[r];for(var r in this.constraints)this.constraints[r].a1755(),delete this.constraints[r];for(var r in this.skins)this.skins[r].a1755(),delete this.skins[r];for(var r in this.animations)this.animations[r].a1755(),delete this.animations[r];null!==this.canvas&&this.canvas.a1755(),null!==this.userData&&this.userData.a1755(),this.type=0,this.frameRate=0,this.cacheFrameRate=0,this.scale=1,this.name="",this.aabb.clear(),this.animationNames.length=0,this.sortedBones.length=0,this.sortedSlots.length=0,this.defaultActions.length=0,this.actions.length=0,this.defaultSkin=null,this.defaultAnimation=null,this.canvas=null,this.userData=null,this.parent=null},i.prototype.a1769=function(){var t=this.sortedBones.length;if(!(0>=t)){var e=this.sortedBones.concat(),i=0,a=0;for(this.sortedBones.length=0;t>a;){var n=e[i++];if(i>=t&&(i=0),!(this.sortedBones.indexOf(n)>=0)){var r=!1;for(var s in this.constraints){var o=this.constraints[s];if(o.root===n&&this.sortedBones.indexOf(o.target)<0){r=!0;break}}r||null!==n.parent&&this.sortedBones.indexOf(n.parent)<0||(this.sortedBones.push(n),a++)}}}},i.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0)){this.cacheFrameRate=t;for(var e in this.animations)this.animations[e].cacheFrames(this.cacheFrameRate)}},i.prototype.a1771=function(t,e){var i=this.parent.cachedFrames,a=i.length;return i.length+=10,i[a]=t.a,i[a+1]=t.b,i[a+2]=t.c,i[a+3]=t.d,i[a+4]=t.tx,i[a+5]=t.ty,i[a+6]=e.rotation,i[a+7]=e.skew,i[a+8]=e.scaleX,i[a+9]=e.scaleY,a},i.prototype.a1772=function(t,e,i){var a=this.parent.cachedFrames;t.a=a[i],t.b=a[i+1],t.c=a[i+2],t.d=a[i+3],t.tx=a[i+4],t.ty=a[i+5],e.rotation=a[i+6],e.skew=a[i+7],e.scaleX=a[i+8],e.scaleY=a[i+9],e.x=t.tx,e.y=t.ty},i.prototype.addBone=function(t){return t.name in this.bones?void console.warn("Same bone: "+t.name):(this.bones[t.name]=t,void this.sortedBones.push(t))},i.prototype.addSlot=function(t){return t.name in this.slots?void console.warn("Same slot: "+t.name):(this.slots[t.name]=t,void this.sortedSlots.push(t))},i.prototype.a1775=function(t){return t.name in this.constraints?void console.warn("Same constraint: "+t.name):void(this.constraints[t.name]=t)},i.prototype.a1776=function(t){return t.name in this.skins?void console.warn("Same skin: "+t.name):(t.parent=this,this.skins[t.name]=t,null===this.defaultSkin&&(this.defaultSkin=t),void("default"===t.name&&(this.defaultSkin=t)))},i.prototype.a1777=function(t){return t.name in this.animations?void console.warn("Same animation: "+t.name):(t.parent=this,this.animations[t.name]=t,this.animationNames.push(t.name),void(null===this.defaultAnimation&&(this.defaultAnimation=t)))},i.prototype.a1778=function(t,e){e?this.defaultActions.push(t):this.actions.push(t)},i.prototype.getBone=function(t){return t in this.bones?this.bones[t]:null},i.prototype.getSlot=function(t){return t in this.slots?this.slots[t]:null},i.prototype.getConstraint=function(t){return t in this.constraints?this.constraints[t]:null},i.prototype.a1782=function(t){return t in this.skins?this.skins[t]:null},i.prototype.getMesh=function(t,e,i){var a=this.a1782(t);return null===a?null:a.a1786(e,i)},i.prototype.getAnimation=function(t){return t in this.animations?this.animations[t]:null},i}(t.BaseObject);t.ArmatureData=e;var i=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.transform=new t.Transform,i.userData=null,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneData]"},i.prototype._onClear=function(){null!==this.userData&&this.userData.a1755(),this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.inheritReflection=!1,this.type=0,this.length=0,this.name="",this.transform.identity(),this.userData=null,this.parent=null},i}(t.BaseObject);t.BoneData=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vertices=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.SurfaceData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=1,this.segmentX=0,this.segmentY=0,this.vertices.length=0},e}(i);t.SurfaceData=a;var n=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.color=null,t.userData=null,t}return __extends(i,e),i.createColor=function(){return new t.ColorTransform},i.toString=function(){return"[class dragonBones.SlotData]"},i.prototype._onClear=function(){null!==this.userData&&this.userData.a1755(),this.blendMode=0,this.displayIndex=0,this.zOrder=0,this.name="",this.color=null,this.userData=null,this.parent=null},i.DEFAULT_COLOR=new t.ColorTransform,i}(t.BaseObject);t.SlotData=n}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.CanvasData]"},e.prototype._onClear=function(){this.hasBackground=!1,this.color=0,this.x=0,this.y=0,this.width=0,this.height=0},e}(t.BaseObject);t.CanvasData=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displays={},e}return __extends(e,t),e.toString=function(){return"[class dragonBones.SkinData]"},e.prototype._onClear=function(){for(var t in this.displays){for(var e=this.displays[t],i=0,a=e;i<a.length;i++){var n=a[i];null!==n&&n.a1755()}delete this.displays[t]}this.name="",this.parent=null},e.prototype.a1785=function(t,e){t in this.displays||(this.displays[t]=[]),null!==e&&(e.parent=this);var i=this.displays[t];i.push(e)},e.prototype.a1786=function(t,e){var i=this.a1787(t);if(null!==i)for(var a=0,n=i;a<n.length;a++){var r=n[a];if(null!==r&&r.name===e)return r}return null},e.prototype.a1787=function(t){return t in this.displays?this.displays[t]:null},e}(t.BaseObject);t.SkinData=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){this.order=0,this.name="",this.type=0,this.target=null,this.root=null,this.bone=null},e}(t.BaseObject);t.ConstraintData=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.IKConstraintData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.scaleEnabled=!1,this.bendPositive=!1,this.weight=1},e}(e);t.IKConstraintData=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bones=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.PathConstraintData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.pathSlot=null,this.pathDisplayData=null,this.bones.length=0,this.positionMode=0,this.spacingMode=1,this.rotateMode=1,this.position=0,this.spacing=0,this.rotateOffset=0,this.rotateMix=0,this.translateMix=0},e.prototype.AddBone=function(t){this.bones.push(t)},e}(e);t.PathConstraintData=a}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(){this.weight=null}return t.prototype.clear=function(){this.isShared||null===this.weight||this.weight.a1755(),this.isShared=!1,this.inheritDeform=!1,this.offset=0,this.data=null,this.weight=null},t.prototype.a1789=function(t){this.isShared=!0,this.offset=t.offset,this.weight=t.weight},t}();t.VerticesData=e;var i=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.transform=new t.Transform,i}return __extends(i,e),i.prototype._onClear=function(){this.name="",this.path="",this.transform.identity(),this.parent=null},i}(t.BaseObject);t.DisplayData=i;var a=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.pivot=new t.Point,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.ImageDisplayData]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=0,this.pivot.clear(),this.texture=null},i}(i);t.ImageDisplayData=a;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actions=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.ArmatureDisplayData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this);for(var e=0,i=this.actions;e<i.length;e++){var a=i[e];a.a1755()}this.type=1,this.inheritAnimation=!1,this.actions.length=0,this.armature=null},e.prototype.a1778=function(t){this.actions.push(t)},e}(i);t.ArmatureDisplayData=n;var r=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.vertices=new e,i}return __extends(i,t),i.toString=function(){return"[class dragonBones.MeshDisplayData]"},i.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=2,this.vertices.clear(),this.texture=null},i}(i);t.MeshDisplayData=r;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundingBox=null,e}return __extends(e,t),e.toString=function(){return"[class dragonBones.BoundingBoxDisplayData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),null!==this.boundingBox&&this.boundingBox.a1755(),this.type=3,this.boundingBox=null},e}(i);t.BoundingBoxDisplayData=s;var o=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.vertices=new e,i.curveLengths=[],i}return __extends(i,t),i.toString=function(){return"[class dragonBones.PathDisplayData]"
},i.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=4,this.closed=!1,this.constantSpeed=!1,this.vertices.clear(),this.curveLengths.length=0},i}(i);t.PathDisplayData=o;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bones=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.WeightData]"},e.prototype._onClear=function(){this.count=0,this.offset=0,this.bones.length=0},e.prototype.addBone=function(t){this.bones.push(t)},e}(t.BaseObject);t.WeightData=l}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){this.color=0,this.width=0,this.height=0},e}(t.BaseObject);t.BoundingBoxData=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.RectangleBoundingBoxData]"},e._computeOutCode=function(t,e,i,a,n,r){var s=0;return i>t?s|=1:t>n&&(s|=2),a>e?s|=4:e>r&&(s|=8),s},e.rectangleIntersectsSegment=function(t,i,a,n,r,s,o,l,h,p,u){void 0===h&&(h=null),void 0===p&&(p=null),void 0===u&&(u=null);var c=t>r&&o>t&&i>s&&l>i,d=a>r&&o>a&&n>s&&l>n;if(c&&d)return-1;for(var g=0,f=e._computeOutCode(t,i,r,s,o,l),m=e._computeOutCode(a,n,r,s,o,l);;){if(0===(f|m)){g=2;break}if(0!==(f&m))break;var v=0,y=0,b=0,_=0!==f?f:m;0!==(4&_)?(v=t+(a-t)*(s-i)/(n-i),y=s,null!==u&&(b=.5*-Math.PI)):0!==(8&_)?(v=t+(a-t)*(l-i)/(n-i),y=l,null!==u&&(b=.5*Math.PI)):0!==(2&_)?(y=i+(n-i)*(o-t)/(a-t),v=o,null!==u&&(b=0)):0!==(1&_)&&(y=i+(n-i)*(r-t)/(a-t),v=r,null!==u&&(b=Math.PI)),_===f?(t=v,i=y,f=e._computeOutCode(t,i,r,s,o,l),null!==u&&(u.x=b)):(a=v,n=y,m=e._computeOutCode(a,n,r,s,o,l),null!==u&&(u.y=b))}return g&&(c?(g=2,null!==h&&(h.x=a,h.y=n),null!==p&&(p.x=a,p.y=a),null!==u&&(u.x=u.y+Math.PI)):d?(g=1,null!==h&&(h.x=t,h.y=i),null!==p&&(p.x=t,p.y=i),null!==u&&(u.y=u.x+Math.PI)):(g=3,null!==h&&(h.x=t,h.y=i),null!==p&&(p.x=a,p.y=n))),g},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=0},e.prototype.a1342=function(t,e){var i=.5*this.width;if(t>=-i&&i>=t){var a=.5*this.height;if(e>=-a&&a>=e)return!0}return!1},e.prototype.a1790=function(t,i,a,n,r,s,o){void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null);var l=.5*this.width,h=.5*this.height,p=e.rectangleIntersectsSegment(t,i,a,n,-l,-h,l,h,r,s,o);return p},e}(e);t.RectangleBoundingBoxData=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.EllipseData]"},e.ellipseIntersectsSegment=function(t,e,i,a,n,r,s,o,l,h,p){void 0===l&&(l=null),void 0===h&&(h=null),void 0===p&&(p=null);var u=s/o,c=u*u;e*=u,a*=u;var d=i-t,g=a-e,f=Math.sqrt(d*d+g*g),m=d/f,v=g/f,y=(n-t)*m+(r-e)*v,b=y*y,_=t*t+e*e,A=s*s,T=A-_+b,C=0;if(T>=0){var w=Math.sqrt(T),x=y-w,I=y+w,D=0>x?-1:f>=x?0:1,E=0>I?-1:f>=I?0:1,S=D*E;if(0>S)return-1;0===S&&(-1===D?(C=2,i=t+I*m,a=(e+I*v)/u,null!==l&&(l.x=i,l.y=a),null!==h&&(h.x=i,h.y=a),null!==p&&(p.x=Math.atan2(a/A*c,i/A),p.y=p.x+Math.PI)):1===E?(C=1,t+=x*m,e=(e+x*v)/u,null!==l&&(l.x=t,l.y=e),null!==h&&(h.x=t,h.y=e),null!==p&&(p.x=Math.atan2(e/A*c,t/A),p.y=p.x+Math.PI)):(C=3,null!==l&&(l.x=t+x*m,l.y=(e+x*v)/u,null!==p&&(p.x=Math.atan2(l.y/A*c,l.x/A))),null!==h&&(h.x=t+I*m,h.y=(e+I*v)/u,null!==p&&(p.y=Math.atan2(h.y/A*c,h.x/A)))))}return C},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=1},e.prototype.a1342=function(t,e){var i=.5*this.width;if(t>=-i&&i>=t){var a=.5*this.height;if(e>=-a&&a>=e)return e*=i/a,Math.sqrt(t*t+e*e)<=i}return!1},e.prototype.a1790=function(t,i,a,n,r,s,o){void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null);var l=e.ellipseIntersectsSegment(t,i,a,n,0,0,.5*this.width,.5*this.height,r,s,o);return l},e}(e);t.EllipseBoundingBoxData=a;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vertices=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.PolygonBoundingBoxData]"},e.polygonIntersectsSegment=function(t,e,i,a,n,r,s,o){void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),t===i&&(t=i+1e-6),e===a&&(e=a+1e-6);for(var l=n.length,h=t-i,p=e-a,u=t*a-e*i,c=0,d=n[l-2],g=n[l-1],f=0,m=0,v=0,y=0,b=0,_=0,A=0;l>A;A+=2){var T=n[A],C=n[A+1];d===T&&(d=T+1e-4),g===C&&(g=C+1e-4);var w=d-T,x=g-C,I=d*C-g*T,D=h*x-p*w,E=(u*w-h*I)/D;if((E>=d&&T>=E||E>=T&&d>=E)&&(0===h||E>=t&&i>=E||E>=i&&t>=E)){var S=(u*x-p*I)/D;if((S>=g&&C>=S||S>=C&&g>=S)&&(0===p||S>=e&&a>=S||S>=a&&e>=S)){if(null===s){v=E,y=S,b=E,_=S,c++,null!==o&&(o.x=Math.atan2(C-g,T-d)-.5*Math.PI,o.y=o.x);break}var G=E-t;0>G&&(G=-G),0===c?(f=G,m=G,v=E,y=S,b=E,_=S,null!==o&&(o.x=Math.atan2(C-g,T-d)-.5*Math.PI,o.y=o.x)):(f>G&&(f=G,v=E,y=S,null!==o&&(o.x=Math.atan2(C-g,T-d)-.5*Math.PI)),G>m&&(m=G,b=E,_=S,null!==o&&(o.y=Math.atan2(C-g,T-d)-.5*Math.PI))),c++}}d=T,g=C}return 1===c?(null!==r&&(r.x=v,r.y=y),null!==s&&(s.x=v,s.y=y),null!==o&&(o.y=o.x+Math.PI)):c>1&&(c++,null!==r&&(r.x=v,r.y=y),null!==s&&(s.x=b,s.y=_)),c},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=2,this.x=0,this.y=0,this.vertices.length=0},e.prototype.a1342=function(t,e){var i=!1;if(t>=this.x&&t<=this.width&&e>=this.y&&e<=this.height)for(var a=0,n=this.vertices.length,r=n-2;n>a;a+=2){var s=this.vertices[r+1],o=this.vertices[a+1];if(e>o&&s>=e||e>s&&o>=e){var l=this.vertices[r],h=this.vertices[a];t>(e-o)*(l-h)/(s-o)+h&&(i=!i)}r=a}return i},e.prototype.a1790=function(t,a,n,r,s,o,l){void 0===s&&(s=null),void 0===o&&(o=null),void 0===l&&(l=null);var h=0;return 0!==i.rectangleIntersectsSegment(t,a,n,r,this.x,this.y,this.x+this.width,this.y+this.height,null,null,null)&&(h=e.polygonIntersectsSegment(t,a,n,r,this.vertices,s,o,l)),h},e}(e);t.PolygonBoundingBoxData=n}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedFrames=[],e.boneTimelines={},e.surfaceTimelines={},e.slotTimelines={},e.constraintTimelines={},e.animationTimelines={},e.boneCachedFrameIndices={},e.slotCachedFrameIndices={},e.actionTimeline=null,e.zOrderTimeline=null,e}return __extends(e,t),e.toString=function(){return"[class dragonBones.AnimationData]"},e.prototype._onClear=function(){for(var t in this.boneTimelines){for(var e=0,i=this.boneTimelines[t];e<i.length;e++){var a=i[e];a.a1755()}delete this.boneTimelines[t]}for(var t in this.surfaceTimelines){for(var n=0,r=this.surfaceTimelines[t];n<r.length;n++){var a=r[n];a.a1755()}delete this.surfaceTimelines[t]}for(var t in this.slotTimelines){for(var s=0,o=this.slotTimelines[t];s<o.length;s++){var a=o[s];a.a1755()}delete this.slotTimelines[t]}for(var t in this.constraintTimelines){for(var l=0,h=this.constraintTimelines[t];l<h.length;l++){var a=h[l];a.a1755()}delete this.constraintTimelines[t]}for(var t in this.animationTimelines){for(var p=0,u=this.animationTimelines[t];p<u.length;p++){var a=u[p];a.a1755()}delete this.animationTimelines[t]}for(var t in this.boneCachedFrameIndices)delete this.boneCachedFrameIndices[t];for(var t in this.slotCachedFrameIndices)delete this.slotCachedFrameIndices[t];null!==this.actionTimeline&&this.actionTimeline.a1755(),null!==this.zOrderTimeline&&this.zOrderTimeline.a1755(),this.frameIntOffset=0,this.frameFloatOffset=0,this.frameOffset=0,this.frameCount=0,this.playTimes=0,this.duration=0,this.scale=1,this.fadeInTime=0,this.cacheFrameRate=0,this.name="",this.cachedFrames.length=0,this.actionTimeline=null,this.zOrderTimeline=null,this.parent=null},e.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0)){this.cacheFrameRate=Math.max(Math.ceil(t*this.scale),1);var e=Math.ceil(this.cacheFrameRate*this.duration)+1;this.cachedFrames.length=e;for(var i=0,a=this.cacheFrames.length;a>i;++i)this.cachedFrames[i]=!1;for(var n=0,r=this.parent.sortedBones;n<r.length;n++){for(var s=r[n],o=new Array(e),i=0,a=o.length;a>i;++i)o[i]=-1;this.boneCachedFrameIndices[s.name]=o}for(var l=0,h=this.parent.sortedSlots;l<h.length;l++){for(var p=h[l],o=new Array(e),i=0,a=o.length;a>i;++i)o[i]=-1;this.slotCachedFrameIndices[p.name]=o}}},e.prototype.a1791=function(t,e){var i=t.name in this.boneTimelines?this.boneTimelines[t.name]:this.boneTimelines[t.name]=[];i.indexOf(e)<0&&i.push(e)},e.prototype.a1792=function(t,e){var i=t.name in this.surfaceTimelines?this.surfaceTimelines[t.name]:this.surfaceTimelines[t.name]=[];i.indexOf(e)<0&&i.push(e)},e.prototype.a1793=function(t,e){var i=t.name in this.slotTimelines?this.slotTimelines[t.name]:this.slotTimelines[t.name]=[];i.indexOf(e)<0&&i.push(e)},e.prototype.addConstraintTimeline=function(t,e){var i=t.name in this.constraintTimelines?this.constraintTimelines[t.name]:this.constraintTimelines[t.name]=[];i.indexOf(e)<0&&i.push(e)},e.prototype.addAnimationTimeline=function(t,e){var i=t in this.animationTimelines?this.animationTimelines[t]:this.animationTimelines[t]=[];i.indexOf(e)<0&&i.push(e)},e.prototype.a1794=function(t){return t in this.boneTimelines?this.boneTimelines[t]:null},e.prototype.a1795=function(t){return t in this.surfaceTimelines?this.surfaceTimelines[t]:null},e.prototype.a1796=function(t){return t in this.slotTimelines?this.slotTimelines[t]:null},e.prototype.getConstraintTimelines=function(t){return t in this.constraintTimelines?this.constraintTimelines[t]:null},e.prototype.getAnimationTimelines=function(t){return t in this.animationTimelines?this.animationTimelines[t]:null},e.prototype.getBoneCachedFrameIndices=function(t){return t in this.boneCachedFrameIndices?this.boneCachedFrameIndices[t]:null},e.prototype.getSlotCachedFrameIndices=function(t){return t in this.slotCachedFrameIndices?this.slotCachedFrameIndices[t]:null},e}(t.BaseObject);t.AnimationData=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.TimelineData]"},e.prototype._onClear=function(){this.type=10,this.offset=0,this.frameIndicesOffset=-1},e}(t.BaseObject);t.TimelineData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boneMask=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.AnimationConfig]"},e.prototype._onClear=function(){this.pauseFadeOut=!0,this.fadeOutMode=4,this.fadeOutTweenType=1,this.fadeOutTime=-1,this.actionEnabled=!0,this.additiveBlending=!1,this.displayControl=!0,this.pauseFadeIn=!0,this.resetToPose=!0,this.fadeInTweenType=1,this.playTimes=-1,this.layer=0,this.position=0,this.duration=-1,this.timeScale=-100,this.weight=1,this.fadeInTime=-1,this.autoFadeOutTime=-1,this.name="",this.animation="",this.group="",this.boneMask.length=0},e.prototype.clear=function(){this._onClear()},e.prototype.copyFrom=function(t){this.pauseFadeOut=t.pauseFadeOut,this.fadeOutMode=t.fadeOutMode,this.autoFadeOutTime=t.autoFadeOutTime,this.fadeOutTweenType=t.fadeOutTweenType,this.actionEnabled=t.actionEnabled,this.additiveBlending=t.additiveBlending,this.displayControl=t.displayControl,this.pauseFadeIn=t.pauseFadeIn,this.resetToPose=t.resetToPose,this.playTimes=t.playTimes,this.layer=t.layer,this.position=t.position,this.duration=t.duration,this.timeScale=t.timeScale,this.fadeInTime=t.fadeInTime,this.fadeOutTime=t.fadeOutTime,this.fadeInTweenType=t.fadeInTweenType,this.weight=t.weight,this.name=t.name,this.animation=t.animation,this.group=t.group,this.boneMask.length=t.boneMask.length;for(var e=0,i=this.boneMask.length;i>e;++e)this.boneMask[e]=t.boneMask[e]},e.prototype.containsBoneMask=function(t){return 0===this.boneMask.length||this.boneMask.indexOf(t)>=0},e.prototype.a1798=function(t,e,i){void 0===i&&(i=!0);var a=t.getBone(e);if(null!==a&&(this.boneMask.indexOf(e)<0&&this.boneMask.push(e),i))for(var n=0,r=t.getBones();n<r.length;n++){var s=r[n];this.boneMask.indexOf(s.name)<0&&a.contains(s)&&this.boneMask.push(s.name)}},e.prototype.a1799=function(t,e,i){void 0===i&&(i=!0);var a=this.boneMask.indexOf(e);if(a>=0&&this.boneMask.splice(a,1),i){var n=t.getBone(e);if(null!==n)if(this.boneMask.length>0)for(var r=0,s=t.getBones();r<s.length;r++){var o=s[r],l=this.boneMask.indexOf(o.name);l>=0&&n.contains(o)&&this.boneMask.splice(l,1)}else for(var h=0,p=t.getBones();h<p.length;h++){var o=p[h];o!==n&&(n.contains(o)||this.boneMask.push(o.name))}}},e}(t.BaseObject);t.AnimationConfig=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textures={},e}return __extends(e,t),e.prototype._onClear=function(){for(var t in this.textures)this.textures[t].a1755(),delete this.textures[t];this.autoSearch=!1,this.width=0,this.height=0,this.scale=1,this.name="",this.imagePath=""},e.prototype.copyFrom=function(t){this.autoSearch=t.autoSearch,this.scale=t.scale,this.width=t.width,this.height=t.height,this.name=t.name,this.imagePath=t.imagePath;for(var e in this.textures)this.textures[e].a1755(),delete this.textures[e];for(var e in t.textures){var i=this.createTexture();i.copyFrom(t.textures[e]),this.textures[e]=i}},e.prototype.a1800=function(t){return t.name in this.textures?void console.warn("Same texture: "+t.name):(t.parent=this,void(this.textures[t.name]=t))},e.prototype.a1297=function(t){return t in this.textures?this.textures[t]:null},e}(t.BaseObject);t.TextureAtlasData=e;var i=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.region=new t.Rectangle,i.frame=null,i}return __extends(i,e),i.createRectangle=function(){return new t.Rectangle},i.prototype._onClear=function(){this.rotated=!1,this.name="",this.region.clear(),this.parent=null,this.frame=null},i.prototype.copyFrom=function(t){this.rotated=t.rotated,this.name=t.name,this.region.copyFrom(t.region),this.parent=t.parent,null===this.frame&&null!==t.frame?this.frame=i.createRectangle():null!==this.frame&&null===t.frame&&(this.frame=null),null!==this.frame&&null!==t.frame&&this.frame.copyFrom(t.frame)},i}(t.BaseObject);t.TextureData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vertices=[],e.bones=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.DeformVertices]"},e.prototype._onClear=function(){this.verticesDirty=!1,this.vertices.length=0,this.bones.length=0,this.verticesData=null},e.prototype.init=function(t,e){if(this.verticesData=t,null!==this.verticesData){var i=0;i=null!==this.verticesData.weight?2*this.verticesData.weight.count:2*this.verticesData.data.intArray[this.verticesData.offset+0],this.verticesDirty=!0,this.vertices.length=i,this.bones.length=0;for(var a=0,n=this.vertices.length;n>a;++a)this.vertices[a]=0;if(null!==this.verticesData.weight)for(var a=0,n=this.verticesData.weight.bones.length;n>a;++a){var r=e.getBone(this.verticesData.weight.bones[a].name);this.bones.push(r)}}else this.verticesDirty=!1,this.vertices.length=0,this.bones.length=0,this.verticesData=null},e.prototype.a1801=function(){for(var t=0,e=this.bones;t<e.length;t++){var i=e[t];if(null!==i&&i._childrenTransformDirty)return!0}return!1},e}(t.BaseObject);t.DeformVertices=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._bones=[],t._slots=[],t._constraints=[],t._actions=[],t._animation=null,t._proxy=null,t._replaceTextureAtlasData=null,t._clock=null,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.Armature]"},i._onSortSlots=function(t,e){return t._zOrder>e._zOrder?1:-1},i.prototype._onClear=function(){null!==this._clock&&this._clock.remove(this);for(var t=0,e=this._bones;t<e.length;t++){var i=e[t];i.a1755()}for(var a=0,n=this._slots;a<n.length;a++){var r=n[a];r.a1755()}for(var s=0,o=this._constraints;s<o.length;s++){var l=o[s];l.a1755()}for(var h=0,p=this._actions;h<p.length;h++){var u=p[h];u.a1755()}null!==this._animation&&this._animation.a1755(),null!==this._proxy&&this._proxy.dbClear(),null!==this._replaceTextureAtlasData&&this._replaceTextureAtlasData.a1755(),this.inheritAnimation=!0,this.userData=null,this._lockUpdate=!1,this._slotsDirty=!0,this._zOrderDirty=!1,this._flipX=!1,this._flipY=!1,this._cacheFrameIndex=-1,this._bones.length=0,this._slots.length=0,this._constraints.length=0,this._actions.length=0,this._armatureData=null,this._animation=null,this._proxy=null,this._display=null,this._replaceTextureAtlasData=null,this._replacedTexture=null,this._dragonBones=null,this._clock=null,this._parent=null},i.prototype._sortZOrder=function(t,e){var i=this._armatureData.sortedSlots,a=null===t;if(this._zOrderDirty||!a){for(var n=0,r=i.length;r>n;++n){var s=a?n:t[e+n];if(!(0>s||s>=r)){var o=i[s],l=this.getSlot(o.name);null!==l&&l._setZorder(n)}}this._slotsDirty=!0,this._zOrderDirty=!a}},i.prototype._addBone=function(t){this._bones.indexOf(t)<0&&this._bones.push(t)},i.prototype._addSlot=function(t){this._slots.indexOf(t)<0&&this._slots.push(t)},i.prototype._addConstraint=function(t){this._constraints.indexOf(t)<0&&this._constraints.push(t)},i.prototype._bufferAction=function(t,e){this._actions.indexOf(t)<0&&(e?this._actions.push(t):this._actions.unshift(t))},i.prototype.dispose=function(){null!==this._armatureData&&(this._lockUpdate=!0,this._dragonBones.a1754(this))},i.prototype.init=function(e,i,a,n){null===this._armatureData&&(this._armatureData=e,this._animation=t.BaseObject.borrowObject(t.Animation),this._proxy=i,this._display=a,this._dragonBones=n,this._proxy.dbInit(this),this._animation.init(this),this._animation.animations=this._armatureData.animations)},i.prototype.advanceTime=function(t){if(!this._lockUpdate){if(null===this._armatureData)return void console.warn("The armature has been disposed.");if(null===this._armatureData.parent)return void console.warn("The armature data has been disposed.\nPlease make sure dispose armature before call factory.clear().");var e=this._cacheFrameIndex;if(this._animation.advanceTime(t),this._slotsDirty&&(this._slotsDirty=!1,this._slots.sort(i._onSortSlots)),this._cacheFrameIndex<0||this._cacheFrameIndex!==e){var a=0,n=0;for(a=0,n=this._bones.length;n>a;++a)this._bones[a].update(this._cacheFrameIndex);for(a=0,n=this._slots.length;n>a;++a)this._slots[a].update(this._cacheFrameIndex)}if(this._actions.length>0){this._lockUpdate=!0;for(var r=0,s=this._actions;r<s.length;r++){var o=s[r],l=o.actionData;if(null!==l&&0===l.type)if(null!==o.slot){var h=o.slot.childArmature;null!==h&&h.animation.fadeIn(l.name)}else if(null!==o.bone)for(var p=0,u=this.a1806();p<u.length;p++){var c=u[p];if(c.parent===o.bone){var h=c.childArmature;null!==h&&h.animation.fadeIn(l.name)}}else this._animation.fadeIn(l.name);o.a1755()}this._actions.length=0,this._lockUpdate=!1}this._proxy.a1838()}},i.prototype.invalidUpdate=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),null!==t&&t.length>0){var i=this.getBone(t);if(null!==i&&(i.invalidUpdate(),e))for(var a=0,n=this._slots;a<n.length;a++){var r=n[a];r.parent===i&&r.invalidUpdate()}}else{for(var s=0,o=this._bones;s<o.length;s++){var i=o[s];i.invalidUpdate()}if(e)for(var l=0,h=this._slots;l<h.length;l++){var r=h[l];r.invalidUpdate()}}},i.prototype.a1342=function(t,e){for(var i=0,a=this._slots;i<a.length;i++){var n=a[i];if(n.a1342(t,e))return n}return null},i.prototype.a1790=function(t,e,i,a,n,r,s){void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=null);for(var o=t===i,l=0,h=0,p=0,u=0,c=0,d=0,g=0,f=0,m=null,v=null,y=0,b=this._slots;y<b.length;y++){var _=b[y],A=_.a1790(t,e,i,a,n,r,s);if(A>0){if(null===n&&null===r){m=_;break}if(null!==n){var T=o?n.y-e:n.x-t;0>T&&(T=-T),(null===m||l>T)&&(l=T,p=n.x,u=n.y,m=_,s&&(g=s.x))}if(null!==r){var T=r.x-t;0>T&&(T=-T),(null===v||T>h)&&(h=T,c=r.x,d=r.y,v=_,null!==s&&(f=s.y))}}}return null!==m&&null!==n&&(n.x=p,n.y=u,null!==s&&(s.x=g)),null!==v&&null!==r&&(r.x=c,r.y=d,null!==s&&(s.y=f)),m},i.prototype.getBone=function(t){for(var e=0,i=this._bones;e<i.length;e++){var a=i[e];if(a.name===t)return a}return null},i.prototype.a1803=function(t){var e=this.a1804(t);return null!==e?e.parent:null},i.prototype.getSlot=function(t){for(var e=0,i=this._slots;e<i.length;e++){var a=i[e];if(a.name===t)return a}return null},i.prototype.a1804=function(t){if(null!==t)for(var e=0,i=this._slots;e<i.length;e++){var a=i[e];if(a.display===t)return a}return null},i.prototype.getBones=function(){return this._bones},i.prototype.a1806=function(){return this._slots},Object.defineProperty(i.prototype,"flipX",{get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.invalidUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"flipY",{get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.invalidUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cacheFrameRate",{get:function(){return this._armatureData.cacheFrameRate},set:function(t){if(this._armatureData.cacheFrameRate!==t){this._armatureData.cacheFrames(t);for(var e=0,i=this._slots;e<i.length;e++){var a=i[e],n=a.childArmature;null!==n&&(n.cacheFrameRate=t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._armatureData.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"armatureData",{get:function(){return this._armatureData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"proxy",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"eventDispatcher",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this._display},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"replacedTexture",{get:function(){return this._replacedTexture},set:function(t){if(this._replacedTexture!==t){null!==this._replaceTextureAtlasData&&(this._replaceTextureAtlasData.a1755(),this._replaceTextureAtlasData=null),this._replacedTexture=t;for(var e=0,i=this._slots;e<i.length;e++){var a=i[e];a.invalidUpdate(),a.update(-1)}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clock",{get:function(){return this._clock},set:function(t){if(this._clock!==t){null!==this._clock&&this._clock.remove(this),this._clock=t,this._clock&&this._clock.add(this);for(var e=0,i=this._slots;e<i.length;e++){var a=i[e],n=a.childArmature;null!==n&&(n.clock=this._clock)}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),i.prototype.a1807=function(t){this.replacedTexture=t},i.prototype.a1256=function(t){return console.warn("Deprecated."),this._proxy.a1840(t)},i.prototype.addEventListener=function(t,e,i){console.warn("Deprecated."),this._proxy.a1841(t,e,i)},i.prototype.removeEventListener=function(t,e,i){console.warn("Deprecated."),this._proxy.removeDBEventListener(t,e,i)},i.prototype.enableAnimationCache=function(t){console.warn("Deprecated."),this.cacheFrameRate=t},i.prototype.a1786=function(){return this._display},i}(t.BaseObject);t.Armature=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.globalTransformMatrix=new t.Matrix,i.global=new t.Transform,i.offset=new t.Transform,i}return __extends(i,e),i.prototype._onClear=function(){this.globalTransformMatrix.identity(),this.global.identity(),this.offset.identity(),this.origin=null,this.userData=null,this._globalDirty=!1,this._armature=null},i.prototype.updateGlobalTransform=function(){this._globalDirty&&(this._globalDirty=!1,this.global.fromMatrix(this.globalTransformMatrix))},Object.defineProperty(i.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),i._helpMatrix=new t.Matrix,i._helpTransform=new t.Transform,i._helpPoint=new t.Point,i}(t.BaseObject);t.TransformObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.animationPose=new t.Transform,i._blendState=new t.BlendState,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.Bone]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.offsetMode=1,this.animationPose.identity(),this._transformDirty=!1,this._childrenTransformDirty=!1,this._localDirty=!0,this._hasConstraint=!1,this._visible=!0,this._cachedFrameIndex=-1,this._blendState.clear(),this._boneData=null,this._parent=null,this._cachedFrameIndices=null},i.prototype._updateGlobalTransformMatrix=function(e){if(this._armature){var i=this._boneData,a=this.global,n=this.globalTransformMatrix,r=this.origin,s=this.offset,o=this.animationPose,l=this._parent,h=this._armature.flipX,p=this._armature.flipY===t.DragonBones.yDown,u=null!==l,c=0;if(1===this.offsetMode?null!==r?(a.x=r.x+s.x+o.x,a.y=r.y+s.y+o.y,a.skew=r.skew+s.skew+o.skew,a.rotation=r.rotation+s.rotation+o.rotation,a.scaleX=r.scaleX*s.scaleX*o.scaleX,a.scaleY=r.scaleY*s.scaleY*o.scaleY):a.copyFrom(s).add(o):0===this.offsetMode?null!==r?a.copyFrom(r).add(o):a.copyFrom(o):(u=!1,a.copyFrom(s)),u&&l._boneData){var d=0===l._boneData.type?l.globalTransformMatrix:l._getGlobalTransformMatrix(a.x,a.y);if(i.inheritScale)i.inheritRotation||(l.updateGlobalTransform(),c=h&&p?a.rotation-(l.global.rotation+Math.PI):h?a.rotation+l.global.rotation+Math.PI:p?a.rotation+l.global.rotation:a.rotation-l.global.rotation,a.rotation=c),a.toMatrix(n),n.concat(d),i.inheritTranslation?(a.x=n.tx,a.y=n.ty):(n.tx=a.x,n.ty=a.y),e?a.fromMatrix(n):this._globalDirty=!0;else{if(i.inheritTranslation){var g=a.x,f=a.y;a.x=d.a*g+d.c*f+d.tx,a.y=d.b*g+d.d*f+d.ty}else h&&(a.x=-a.x),p&&(a.y=-a.y);i.inheritRotation?(l.updateGlobalTransform(),c=l.global.scaleX<0?a.rotation+l.global.rotation+Math.PI:a.rotation+l.global.rotation,d.a*d.d-d.b*d.c<0&&(c-=2*a.rotation,(h!==p||i.inheritReflection)&&(a.skew+=Math.PI)),a.rotation=c):(h||p)&&(h&&p?c=a.rotation+Math.PI:(c=h?Math.PI-a.rotation:-a.rotation,a.skew+=Math.PI),a.rotation=c),a.toMatrix(n)}}else(h||p)&&(h&&(a.x=-a.x),p&&(a.y=-a.y),h&&p?c=a.rotation+Math.PI:(c=h?Math.PI-a.rotation:-a.rotation,a.skew+=Math.PI),a.rotation=c),a.toMatrix(n)}},i.prototype.init=function(t,e){null===this._boneData&&(this._boneData=t,this._armature=e,null!==this._boneData.parent&&(this._parent=this._armature.getBone(this._boneData.parent.name)),this._armature._addBone(this),this.origin=this._boneData.transform)},i.prototype.update=function(t){if(this._blendState.dirty=!1,t>=0&&null!==this._cachedFrameIndices){var e=this._cachedFrameIndices[t];if(e>=0&&this._cachedFrameIndex===e)this._transformDirty=!1;else if(e>=0)this._transformDirty=!0,this._cachedFrameIndex=e;else{if(this._hasConstraint)for(var i=0,a=this._armature._constraints;i<a.length;i++){var n=a[i];n._root===this&&n.update()}this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}}else{if(this._hasConstraint)for(var r=0,s=this._armature._constraints;r<s.length;r++){var n=s[r];n._root===this&&n.update()}(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1)}if(this._transformDirty)if(this._transformDirty=!1,this._childrenTransformDirty=!0,this._cachedFrameIndex<0){var o=t>=0;this._localDirty&&this._updateGlobalTransformMatrix(o),o&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.a1771(this.globalTransformMatrix,this.global))}else this._armature._armatureData.a1772(this.globalTransformMatrix,this.global,this._cachedFrameIndex);else this._childrenTransformDirty&&(this._childrenTransformDirty=!1);this._localDirty=!0},i.prototype.a1808=function(){this._localDirty&&(this._localDirty=!1,(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&this._updateGlobalTransformMatrix(!0),this._transformDirty=!0)},i.prototype.invalidUpdate=function(){this._transformDirty=!0},i.prototype.contains=function(t){if(t===this)return!1;for(var e=t;e!==this&&null!==e;)e=e.parent;return e===this},Object.defineProperty(i.prototype,"boneData",{get:function(){return this._boneData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){if(this._visible!==t){this._visible=t;for(var e=0,i=this._armature.a1806();e<i.length;e++){var a=i[e];a.parent===this&&a._updateVisible()}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._boneData.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),i.prototype.getBones=function(){console.warn("Deprecated.");for(var t=new Array,e=0,i=this._armature.getBones();e<i.length;e++){var a=i[e];a.parent===this&&t.push(a)}return t},i.prototype.a1806=function(){console.warn("Deprecated.");for(var t=new Array,e=0,i=this._armature.a1806();e<i.length;e++){var a=i[e];a.parent===this&&t.push(a)}return t},Object.defineProperty(i.prototype,"slot",{get:function(){console.warn("Deprecated.");for(var t=0,e=this._armature.a1806();t<e.length;t++){var i=e[t];if(i.parent===this)return i}return null},enumerable:!0,configurable:!0}),i}(t.TransformObject);t.Bone=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._vertices=[],e._deformVertices=[],e._hullCache=[],e._matrixCahce=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.Surface]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._dX=0,this._dY=0,this._k=0,this._kX=0,this._kY=0,this._vertices.length=0,this._deformVertices.length=0,this._matrixCahce.length=0,this._hullCache.length=0},e.prototype._getAffineTransform=function(t,e,i,a,n,r,s,o,l,h,p,u,c){var d=s-n,g=o-r,f=l-n,m=h-r;p.rotation=Math.atan2(g,d),p.skew=Math.atan2(m,f)-.5*Math.PI-p.rotation,c&&(p.rotation+=Math.PI),p.scaleX=Math.sqrt(d*d+g*g)/i,p.scaleY=Math.sqrt(f*f+m*m)/a,p.toMatrix(u),p.x=u.tx=n-(u.a*t+u.c*e),p.y=u.ty=r-(u.b*t+u.d*e)},e.prototype._updateVertices=function(){var t=this._boneData.vertices,e=this._vertices,i=this._deformVertices;if(null!==this._parent)if(1===this._parent._boneData.type)for(var a=0,n=t.length;n>a;a+=2){var r=t[a]+i[a],s=t[a+1]+i[a],o=this._parent._getGlobalTransformMatrix(r,s);e[a]=o.a*r+o.c*s+o.tx,e[a+1]=o.b*r+o.d*s+o.ty}else for(var l=this._parent.globalTransformMatrix,a=0,n=t.length;n>a;a+=2){var r=t[a]+i[a],s=t[a+1]+i[a+1];e[a]=l.a*r+l.c*s+l.tx,e[a+1]=l.b*r+l.d*s+l.ty}else for(var a=0,n=t.length;n>a;a+=2)e[a]=t[a]+i[a],e[a+1]=t[a+1]+i[a+1]},e.prototype._updateGlobalTransformMatrix=function(t){var e=2*this._boneData.segmentX,i=this._vertices.length-2,a=200,n=this._vertices[0],r=this._vertices[1],s=this._vertices[e],o=this._vertices[e+1],l=this._vertices[i],h=this._vertices[i+1],p=this._vertices[i-e],u=this._vertices[i-e+1],c=n+.5*(l-n),d=r+.5*(h-r),g=s+.5*(p-s),f=o+.5*(u-o),m=c+.5*(g-c),v=d+.5*(f-d),y=s+.5*(l-s),b=o+.5*(h-o),_=p+.5*(l-p),A=u+.5*(h-u);
this._globalDirty=!1,this._getAffineTransform(0,0,a,a,m,v,y,b,_,A,this.global,this.globalTransformMatrix,!1)},e.prototype._getGlobalTransformMatrix=function(t,i){var a=1e3;if(-a>t||t>a||-a>i||i>a)return this.globalTransformMatrix;var n=!1,r=200,s=this._boneData,o=s.segmentX,l=s.segmentY,h=2*s.segmentX,p=this._dX,u=this._dY,c=Math.floor((t+r)/p),d=Math.floor((i+r)/u),g=0,f=c*p-r,m=d*u-r,v=this._matrixCahce,y=e._helpMatrix;if(-r>t){if(-r>i||i>=r)return this.globalTransformMatrix;if(n=i>this._kX*(t+r)+m,g=7*(2*(o*(l+1)+2*o+l+d)+(n?1:0)),this._matrixCahce[g]>0)y.a1756(v,g+1);else{var b=d*(h+2),_=this._hullCache[4],A=this._hullCache[5],T=this._hullCache[2]-(l-d)*_,C=this._hullCache[3]-(l-d)*A,w=this._vertices;n?this._getAffineTransform(-r,m+u,a-r,u,w[b+h+2],w[b+h+3],T+_,C+A,w[b],w[b+1],e._helpTransform,y,!0):this._getAffineTransform(-a,m,a-r,u,T,C,w[b],w[b+1],T+_,C+A,e._helpTransform,y,!1),v[g]=1,v[g+1]=y.a,v[g+2]=y.b,v[g+3]=y.c,v[g+4]=y.d,v[g+5]=y.tx,v[g+6]=y.ty}}else if(t>=r){if(-r>i||i>=r)return this.globalTransformMatrix;if(n=i>this._kX*(t-a)+m,g=7*(2*(o*(l+1)+o+d)+(n?1:0)),this._matrixCahce[g]>0)y.a1756(v,g+1);else{var b=(d+1)*(h+2)-2,_=this._hullCache[4],A=this._hullCache[5],T=this._hullCache[0]+d*_,C=this._hullCache[1]+d*A,w=this._vertices;n?this._getAffineTransform(a,m+u,a-r,u,T+_,C+A,w[b+h+2],w[b+h+3],T,C,e._helpTransform,y,!0):this._getAffineTransform(r,m,a-r,u,w[b],w[b+1],T,C,w[b+h+2],w[b+h+3],e._helpTransform,y,!1),v[g]=1,v[g+1]=y.a,v[g+2]=y.b,v[g+3]=y.c,v[g+4]=y.d,v[g+5]=y.tx,v[g+6]=y.ty}}else if(-r>i){if(-r>t||t>=r)return this.globalTransformMatrix;if(n=i>this._kY*(t-f-p)-a,g=7*(o*(l+1)+2*c+(n?1:0)),this._matrixCahce[g]>0)y.a1756(v,g+1);else{var b=2*c,_=this._hullCache[10],A=this._hullCache[11],T=this._hullCache[8]+c*_,C=this._hullCache[9]+c*A,w=this._vertices;n?this._getAffineTransform(f+p,-r,p,a-r,w[b+2],w[b+3],w[b],w[b+1],T+_,C+A,e._helpTransform,y,!0):this._getAffineTransform(f,-a,p,a-r,T,C,T+_,C+A,w[b],w[b+1],e._helpTransform,y,!1),v[g]=1,v[g+1]=y.a,v[g+2]=y.b,v[g+3]=y.c,v[g+4]=y.d,v[g+5]=y.tx,v[g+6]=y.ty}}else if(i>=r){if(-r>t||t>=r)return this.globalTransformMatrix;if(n=i>this._kY*(t-f-p)+r,g=7*(2*(o*(l+1)+o+l+d)+(n?1:0)),this._matrixCahce[g]>0)y.a1756(v,g+1);else{var b=l*(h+2)+2*c,_=this._hullCache[10],A=this._hullCache[11],T=this._hullCache[6]-(o-c)*_,C=this._hullCache[7]-(o-c)*A,w=this._vertices;n?this._getAffineTransform(f+p,a,p,a-r,T+_,C+A,T,C,w[b+2],w[b+3],e._helpTransform,y,!0):this._getAffineTransform(f,r,p,a-r,w[b],w[b+1],w[b+2],w[b+3],T,C,e._helpTransform,y,!1),v[g]=1,v[g+1]=y.a,v[g+2]=y.b,v[g+3]=y.c,v[g+4]=y.d,v[g+5]=y.tx,v[g+6]=y.ty}}else if(n=i>this._k*(t-f-p)+m,g=7*(2*(o*d+c)+(n?1:0)),this._matrixCahce[g]>0)y.a1756(v,g+1);else{var b=2*c+d*(h+2),w=this._vertices;n?this._getAffineTransform(f+p,m+u,p,u,w[b+h+4],w[b+h+5],w[b+h+2],w[b+h+3],w[b+2],w[b+3],e._helpTransform,y,!0):this._getAffineTransform(f,m,p,u,w[b],w[b+1],w[b+2],w[b+3],w[b+h+2],w[b+h+3],e._helpTransform,y,!1),v[g]=1,v[g+1]=y.a,v[g+2]=y.b,v[g+3]=y.c,v[g+4]=y.d,v[g+5]=y.tx,v[g+6]=y.ty}return y},e.prototype.init=function(e,i){if(null===this._boneData){t.prototype.init.call(this,e,i);var a=e.segmentX,n=e.segmentY,r=e.vertices.length,s=1e3,o=200;this._dX=2*o/a,this._dY=2*o/n,this._k=-this._dY/this._dX,this._kX=-this._dY/(s-o),this._kY=-(s-o)/this._dX,this._vertices.length=r,this._deformVertices.length=r,this._matrixCahce.length=2*(a*n+2*a+2*n)*7,this._hullCache.length=10;for(var l=0;r>l;++l)this._deformVertices[l]=0}},e.prototype.update=function(t){if(this._blendState.dirty=!1,t>=0&&null!==this._cachedFrameIndices){var i=this._cachedFrameIndices[t];if(i>=0&&this._cachedFrameIndex===i)this._transformDirty=!1;else if(i>=0)this._transformDirty=!0,this._cachedFrameIndex=i;else{if(this._hasConstraint)for(var a=0,n=this._armature._constraints;a<n.length;a++){var r=n[a];r._root===this&&r.update()}this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}}else{if(this._hasConstraint)for(var s=0,o=this._armature._constraints;s<o.length;s++){var r=o[s];r._root===this&&r.update()}(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1)}if(this._transformDirty){this._transformDirty=!1,this._childrenTransformDirty=!0;for(var l=0,h=this._matrixCahce.length;h>l;l+=7)this._matrixCahce[l]=-1;if(this._updateVertices(),this._cachedFrameIndex<0){var p=t>=0;this._localDirty&&this._updateGlobalTransformMatrix(p),p&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.a1771(this.globalTransformMatrix,this.global))}else this._armature._armatureData.a1772(this.globalTransformMatrix,this.global,this._cachedFrameIndex);var u=1e3,c=200,d=2*this.global.x,g=2*this.global.y,f=e._helpPoint;this.globalTransformMatrix.a1329(u,-c,f),this._hullCache[0]=f.x,this._hullCache[1]=f.y,this._hullCache[2]=d-f.x,this._hullCache[3]=g-f.y,this.globalTransformMatrix.a1329(0,this._dY,f,!0),this._hullCache[4]=f.x,this._hullCache[5]=f.y,this.globalTransformMatrix.a1329(c,u,f),this._hullCache[6]=f.x,this._hullCache[7]=f.y,this._hullCache[8]=d-f.x,this._hullCache[9]=g-f.y,this.globalTransformMatrix.a1329(this._dX,0,f,!0),this._hullCache[10]=f.x,this._hullCache[11]=f.y}else this._childrenTransformDirty&&(this._childrenTransformDirty=!1);this._localDirty=!0},e}(t.Bone);t.Surface=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._localMatrix=new t.Matrix,i._colorTransform=new t.ColorTransform,i._displayDatas=[],i._displayList=[],i._deformVertices=null,i._rawDisplay=null,i._meshDisplay=null,i}return __extends(i,e),i.prototype._onClear=function(){e.prototype._onClear.call(this);for(var i=[],a=0,n=this._displayList;a<n.length;a++){var r=n[a];null!==r&&r!==this._rawDisplay&&r!==this._meshDisplay&&i.indexOf(r)<0&&i.push(r)}for(var s=0,o=i;s<o.length;s++){var r=o[s];r instanceof t.Armature?r.dispose():this._disposeDisplay(r,!0)}null!==this._deformVertices&&this._deformVertices.a1755(),null!==this._meshDisplay&&this._meshDisplay!==this._rawDisplay&&this._disposeDisplay(this._meshDisplay,!1),null!==this._rawDisplay&&this._disposeDisplay(this._rawDisplay,!1),this.displayController=null,this._displayDirty=!1,this._zOrderDirty=!1,this._blendModeDirty=!1,this._colorDirty=!1,this._transformDirty=!1,this._visible=!0,this._blendMode=0,this._displayIndex=-1,this._animationDisplayIndex=-1,this._zOrder=0,this._cachedFrameIndex=-1,this._pivotX=0,this._pivotY=0,this._localMatrix.identity(),this._colorTransform.identity(),this._displayList.length=0,this._displayDatas.length=0,this._slotData=null,this._rawDisplayDatas=null,this._displayData=null,this._boundingBoxData=null,this._textureData=null,this._deformVertices=null,this._rawDisplay=null,this._meshDisplay=null,this._display=null,this._childArmature=null,this._parent=null,this._cachedFrameIndices=null},i.prototype._getDefaultRawDisplayData=function(t){var e=this._armature._armatureData.defaultSkin;if(null!==e){var i=e.a1787(this._slotData.name);if(null!==i)return t<i.length?i[t]:null}return null},i.prototype._updateDisplayData=function(){var e=this._displayData,a=null!==this._deformVertices?this._deformVertices.verticesData:null,n=this._textureData,r=null,s=null;if(this._displayData=null,this._boundingBoxData=null,this._textureData=null,this._displayIndex>=0&&(null!==this._rawDisplayDatas&&(r=this._displayIndex<this._rawDisplayDatas.length?this._rawDisplayDatas[this._displayIndex]:null),null===r&&(r=this._getDefaultRawDisplayData(this._displayIndex)),this._displayIndex<this._displayDatas.length&&(this._displayData=this._displayDatas[this._displayIndex])),null!==this._displayData&&(2===this._displayData.type?s=this._displayData.vertices:4===this._displayData.type?s=this._displayData.vertices:null!==r&&(2===r.type?s=r.vertices:4===r.type&&(s=r.vertices)),3===this._displayData.type?this._boundingBoxData=this._displayData.boundingBox:null!==r&&3===r.type&&(this._boundingBoxData=r.boundingBox),0===this._displayData.type?this._textureData=this._displayData.texture:2===this._displayData.type&&(this._textureData=this._displayData.texture)),this._displayData!==e||s!==a||this._textureData!==n){if(null===s&&null!==this._textureData&&this._textureData.parent){var o=this._displayData,l=this._textureData.parent.scale*this._armature._armatureData.scale,h=this._textureData.frame;this._pivotX=o.pivot.x,this._pivotY=o.pivot.y;var p=null!==h?h:this._textureData.region,u=p.width,c=p.height;this._textureData.rotated&&null===h&&(u=p.height,c=p.width),this._pivotX*=u*l,this._pivotY*=c*l,null!==h&&(this._pivotX+=h.x*l,this._pivotY+=h.y*l),null!==this._displayData&&null!==r&&this._displayData!==r&&(r.transform.toMatrix(i._helpMatrix),i._helpMatrix.invert(),i._helpMatrix.a1329(0,0,i._helpPoint),this._pivotX-=i._helpPoint.x,this._pivotY-=i._helpPoint.y,this._displayData.transform.toMatrix(i._helpMatrix),i._helpMatrix.invert(),i._helpMatrix.a1329(0,0,i._helpPoint),this._pivotX+=i._helpPoint.x,this._pivotY+=i._helpPoint.y),t.DragonBones.yDown||(this._pivotY=(this._textureData.rotated?this._textureData.region.width:this._textureData.region.height)*l-this._pivotY)}else this._pivotX=0,this._pivotY=0;null!==r?this.origin=r.transform:null!==this._displayData?this.origin=this._displayData.transform:this.origin=null,s!==a?(null===this._deformVertices&&(this._deformVertices=t.BaseObject.borrowObject(t.DeformVertices)),this._deformVertices.init(s,this._armature)):null!==this._deformVertices&&this._textureData!==n&&(this._deformVertices.verticesDirty=!0),this._displayDirty=!0,this._transformDirty=!0}},i.prototype._updateDisplay=function(){var e=null!==this._display?this._display:this._rawDisplay,i=this._childArmature;this._displayIndex>=0&&this._displayIndex<this._displayList.length?(this._display=this._displayList[this._displayIndex],null!==this._display&&this._display instanceof t.Armature?(this._childArmature=this._display,this._display=this._childArmature.display):this._childArmature=null):(this._display=null,this._childArmature=null);var a=null!==this._display?this._display:this._rawDisplay;if(a!==e&&(this._onUpdateDisplay(),this._replaceDisplay(e),this._transformDirty=!0,this._visibleDirty=!0,this._blendModeDirty=!0,this._colorDirty=!0),(a===this._rawDisplay||a===this._meshDisplay)&&this._updateFrame(),this._childArmature!==i&&(null!==i&&(i._parent=null,i.clock=null,i.inheritAnimation&&i.animation.reset()),null!==this._childArmature&&(this._childArmature._parent=this,this._childArmature.clock=this._armature.clock,this._childArmature.inheritAnimation))){if(0===this._childArmature.cacheFrameRate){var n=this._armature.cacheFrameRate;0!==n&&(this._childArmature.cacheFrameRate=n)}var r=null;if(null!==this._displayData&&1===this._displayData.type)r=this._displayData.actions;else if(this._displayIndex>=0&&null!==this._rawDisplayDatas){var s=this._displayIndex<this._rawDisplayDatas.length?this._rawDisplayDatas[this._displayIndex]:null;null===s&&(s=this._getDefaultRawDisplayData(this._displayIndex)),null!==s&&1===s.type&&(r=s.actions)}if(null!==r&&r.length>0)for(var o=0,l=r;o<l.length;o++){var h=l[o],p=t.BaseObject.borrowObject(t.EventObject);t.EventObject.actionDataToInstance(h,p,this._armature),p.slot=this,this._armature._bufferAction(p,!1)}else this._childArmature.animation.play()}},i.prototype._updateGlobalTransformMatrix=function(t){var e=0===this._parent._boneData.type?this._parent.globalTransformMatrix:this._parent._getGlobalTransformMatrix(this.global.x,this.global.y);this.globalTransformMatrix.copyFrom(this._localMatrix),this.globalTransformMatrix.concat(e),t?this.global.fromMatrix(this.globalTransformMatrix):this._globalDirty=!0},i.prototype._setDisplayIndex=function(t,e){if(void 0===e&&(e=!1),e){if(this._animationDisplayIndex===t)return!1;this._animationDisplayIndex=t}return this._displayIndex===t?!1:(this._displayIndex=t,this._displayDirty=!0,this._updateDisplayData(),this._displayDirty)},i.prototype._setZorder=function(t){return this._zOrder===t,this._zOrder=t,this._zOrderDirty=!0,this._zOrderDirty},i.prototype._setColor=function(t){return this._colorTransform.copyFrom(t),this._colorDirty=!0,this._colorDirty},i.prototype._setDisplayList=function(e){if(null!==e&&e.length>0){this._displayList.length!==e.length&&(this._displayList.length=e.length);for(var i=0,a=e.length;a>i;++i){var n=e[i];null!==n&&n!==this._rawDisplay&&n!==this._meshDisplay&&!(n instanceof t.Armature)&&this._displayList.indexOf(n)<0&&this._initDisplay(n,!0),this._displayList[i]=n}}else this._displayList.length>0&&(this._displayList.length=0);return this._displayIndex>=0&&this._displayIndex<this._displayList.length?this._displayDirty=this._display!==this._displayList[this._displayIndex]:this._displayDirty=null!==this._display,this._updateDisplayData(),this._displayDirty},i.prototype.init=function(t,e,i,a){if(null===this._slotData){this._slotData=t,this._visibleDirty=!0,this._blendModeDirty=!0,this._colorDirty=!0,this._blendMode=this._slotData.blendMode,this._zOrder=this._slotData.zOrder,this._colorTransform.copyFrom(this._slotData.color),this._rawDisplay=i,this._meshDisplay=a,this._armature=e;var n=this._armature.getBone(this._slotData.parent.name);null!==n&&(this._parent=n),this._armature._addSlot(this),this._initDisplay(this._rawDisplay,!1),this._rawDisplay!==this._meshDisplay&&this._initDisplay(this._meshDisplay,!1),this._onUpdateDisplay(),this._addDisplay()}},i.prototype.update=function(t){if(this._displayDirty&&(this._displayDirty=!1,this._updateDisplay(),this._transformDirty&&(null!==this.origin?this.global.copyFrom(this.origin).add(this.offset).toMatrix(this._localMatrix):this.global.copyFrom(this.offset).toMatrix(this._localMatrix))),this._zOrderDirty&&(this._zOrderDirty=!1,this._updateZOrder()),t>=0&&null!==this._cachedFrameIndices){var e=this._cachedFrameIndices[t];e>=0&&this._cachedFrameIndex===e?this._transformDirty=!1:e>=0?(this._transformDirty=!0,this._cachedFrameIndex=e):this._transformDirty||this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}else(this._transformDirty||this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1);if(null!==this._display){if(this._visibleDirty&&(this._visibleDirty=!1,this._updateVisible()),this._blendModeDirty&&(this._blendModeDirty=!1,this._updateBlendMode()),this._colorDirty&&(this._colorDirty=!1,this._updateColor()),null!==this._deformVertices&&null!==this._deformVertices.verticesData&&this._display===this._meshDisplay){var i=null!==this._deformVertices.verticesData.weight,a=0!==this._parent._boneData.type;if((this._deformVertices.verticesDirty||i&&this._deformVertices.a1801()||a&&this._parent._childrenTransformDirty)&&(this._deformVertices.verticesDirty=!1,this._updateMesh()),i||a)return}if(this._transformDirty){if(this._transformDirty=!1,this._cachedFrameIndex<0){var n=t>=0;this._updateGlobalTransformMatrix(n),n&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.a1771(this.globalTransformMatrix,this.global))}else this._armature._armatureData.a1772(this.globalTransformMatrix,this.global,this._cachedFrameIndex);this._updateTransform()}}},i.prototype.updateTransformAndMatrix=function(){this._transformDirty&&(this._transformDirty=!1,this._updateGlobalTransformMatrix(!1))},i.prototype.a1809=function(t,e){if(void 0===e&&(e=-1),0>e&&(e=this._displayIndex<0?0:this._displayIndex),this._displayDatas.length<=e){this._displayDatas.length=e+1;for(var i=0,a=this._displayDatas.length;a>i;++i)this._displayDatas[i]||(this._displayDatas[i]=null)}this._displayDatas[e]=t},i.prototype.a1342=function(t,e){return null===this._boundingBoxData?!1:(this.updateTransformAndMatrix(),i._helpMatrix.copyFrom(this.globalTransformMatrix),i._helpMatrix.invert(),i._helpMatrix.a1329(t,e,i._helpPoint),this._boundingBoxData.a1342(i._helpPoint.x,i._helpPoint.y))},i.prototype.a1790=function(t,e,a,n,r,s,o){if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),null===this._boundingBoxData)return 0;this.updateTransformAndMatrix(),i._helpMatrix.copyFrom(this.globalTransformMatrix),i._helpMatrix.invert(),i._helpMatrix.a1329(t,e,i._helpPoint),t=i._helpPoint.x,e=i._helpPoint.y,i._helpMatrix.a1329(a,n,i._helpPoint),a=i._helpPoint.x,n=i._helpPoint.y;var l=this._boundingBoxData.a1790(t,e,a,n,r,s,o);return l>0&&(1===l||2===l?null!==r?(this.globalTransformMatrix.a1329(r.x,r.y,r),null!==s&&(s.x=r.x,s.y=r.y)):null!==s&&this.globalTransformMatrix.a1329(s.x,s.y,s):(null!==r&&this.globalTransformMatrix.a1329(r.x,r.y,r),null!==s&&this.globalTransformMatrix.a1329(s.x,s.y,s)),null!==o&&(this.globalTransformMatrix.a1329(Math.cos(o.x),Math.sin(o.x),i._helpPoint,!0),o.x=Math.atan2(i._helpPoint.y,i._helpPoint.x),this.globalTransformMatrix.a1329(Math.cos(o.y),Math.sin(o.y),i._helpPoint,!0),o.y=Math.atan2(i._helpPoint.y,i._helpPoint.x))),l},i.prototype.invalidUpdate=function(){this._displayDirty=!0,this._transformDirty=!0},Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._updateVisible())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayIndex",{get:function(){return this._displayIndex},set:function(t){this._setDisplayIndex(t)&&this.update(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._slotData.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayList",{get:function(){return this._displayList.concat()},set:function(e){var i=this._displayList.concat(),a=new Array;this._setDisplayList(e)&&this.update(-1);for(var n=0,r=i;n<r.length;n++){var s=r[n];null!==s&&s!==this._rawDisplay&&s!==this._meshDisplay&&this._displayList.indexOf(s)<0&&a.indexOf(s)<0&&a.push(s)}for(var o=0,l=a;o<l.length;o++){var s=l[o];s instanceof t.Armature||this._disposeDisplay(s,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slotData",{get:function(){return this._slotData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawDisplayDatas",{get:function(){return this._rawDisplayDatas},set:function(t){if(this._rawDisplayDatas!==t)if(this._displayDirty=!0,this._rawDisplayDatas=t,null!==this._rawDisplayDatas){this._displayDatas.length=this._rawDisplayDatas.length;for(var e=0,i=this._displayDatas.length;i>e;++e){var a=this._rawDisplayDatas[e];null===a&&(a=this._getDefaultRawDisplayData(e)),this._displayDatas[e]=a}}else this._displayDatas.length=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayData",{get:function(){return this._displayData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundingBoxData",{get:function(){return this._boundingBoxData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawDisplay",{get:function(){return this._rawDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"meshDisplay",{get:function(){return this._meshDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this._display},set:function(t){if(this._display!==t){var e=this._displayList.length;if(this._displayIndex<0&&0===e&&(this._displayIndex=0),!(this._displayIndex<0)){var i=this.displayList;e<=this._displayIndex&&(i.length=this._displayIndex+1),i[this._displayIndex]=t,this.displayList=i}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"childArmature",{get:function(){return this._childArmature},set:function(t){this._childArmature!==t&&(this.display=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),i.prototype.a1786=function(){return this._display},i.prototype.a1810=function(t){this.display=t},i}(t.TransformObject);t.Slot=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype._onClear=function(){this._armature=null,this._target=null,this._root=null,this._bone=null},Object.defineProperty(i.prototype,"name",{get:function(){return this._constraintData.name},enumerable:!0,configurable:!0}),i._helpMatrix=new t.Matrix,i._helpTransform=new t.Transform,i._helpPoint=new t.Point,i}(t.BaseObject);t.Constraint=e;var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.toString=function(){return"[class dragonBones.IKConstraint]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this._scaleEnabled=!1,this._bendPositive=!1,this._weight=1,this._constraintData=null},i.prototype._computeA=function(){var e=this._target.global,i=this._root.global,a=this._root.globalTransformMatrix,n=Math.atan2(e.y-i.y,e.x-i.x);i.scaleX<0&&(n+=Math.PI),i.rotation+=t.Transform.normalizeRadian(n-i.rotation)*this._weight,i.toMatrix(a)},i.prototype._computeB=function(){var e=this._bone._boneData.length,i=this._root,a=this._target.global,n=i.global,r=this._bone.global,s=this._bone.globalTransformMatrix,o=s.a*e,l=s.b*e,h=o*o+l*l,p=Math.sqrt(h),u=r.x-n.x,c=r.y-n.y,d=u*u+c*c,g=Math.sqrt(d),f=r.rotation,m=n.rotation,v=Math.atan2(c,u);u=a.x-n.x,c=a.y-n.y;var y=u*u+c*c,b=Math.sqrt(y),_=0;if(b>=p+g||g>=b+p||p>=b+g)_=Math.atan2(a.y-n.y,a.x-n.x),b>=p+g||p>g&&(_+=Math.PI);else{var A=(d-h+y)/(2*y),T=Math.sqrt(d-A*A*y)/b,C=n.x+u*A,w=n.y+c*A,x=-c*T,I=u*T,D=!1,E=i.parent;if(null!==E){var S=E.globalTransformMatrix;D=S.a*S.d-S.b*S.c<0}D!==this._bendPositive?(r.x=C-x,r.y=w-I):(r.x=C+x,r.y=w+I),_=Math.atan2(r.y-n.y,r.x-n.x)}var G=t.Transform.normalizeRadian(_-v);n.rotation=m+G*this._weight,n.toMatrix(i.globalTransformMatrix);var P=v+G*this._weight;r.x=n.x+Math.cos(P)*g,r.y=n.y+Math.sin(P)*g;var k=Math.atan2(a.y-r.y,a.x-r.x);r.scaleX<0&&(k+=Math.PI),r.rotation=n.rotation+f-m+t.Transform.normalizeRadian(k-G-f)*this._weight,r.toMatrix(s)},i.prototype.init=function(t,e){if(null===this._constraintData){this._constraintData=t,this._armature=e,this._target=this._armature.getBone(this._constraintData.target.name),this._root=this._armature.getBone(this._constraintData.root.name),this._bone=null!==this._constraintData.bone?this._armature.getBone(this._constraintData.bone.name):null;var i=this._constraintData;this._scaleEnabled=i.scaleEnabled,this._bendPositive=i.bendPositive,this._weight=i.weight,this._root._hasConstraint=!0}},i.prototype.update=function(){this._root.a1808(),null!==this._bone?(this._bone.a1808(),this._computeB()):this._computeA()},i.prototype.invalidUpdate=function(){this._root.invalidUpdate(),null!==this._bone&&this._bone.invalidUpdate()},i}(e);t.IKConstraint=i;var a=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._bones=[],t._spaces=[],t._positions=[],t._curves=[],t._boneLengths=[],t._pathGlobalVertices=[],t._segments=[10],t}return __extends(i,e),i.toString=function(){return"[class dragonBones.PathConstraint]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.dirty=!1,this.pathOffset=0,this.position=0,this.spacing=0,this.rotateOffset=0,this.rotateMix=1,this.translateMix=1,this._pathSlot=null,this._bones.length=0,this._spaces.length=0,this._positions.length=0,this._curves.length=0,this._boneLengths.length=0,this._pathGlobalVertices.length=0},i.prototype._updatePathVertices=function(t){var e=this._armature,i=e.armatureData.parent,a=e.armatureData.scale,n=i.intArray,r=i.floatArray,s=t.offset,o=n[s+0],l=n[s+2];this._pathGlobalVertices.length=2*o;var h=t.weight;if(null!==h)for(var p=this._pathSlot._deformVertices.bones,u=h.bones.length,c=h.offset,d=n[c+1],g=d,f=c+2+u,m=0,v=0;o>m;m++){for(var y=n[f++],b=0,_=0,A=0,T=y;T>A;A++){var C=n[f++],w=p[C];if(null!==w){w.a1808();var x=w.globalTransformMatrix,I=r[g++],D=r[g++]*a,E=r[g++]*a;b+=(x.a*D+x.c*E+x.tx)*I,_+=(x.b*D+x.d*E+x.ty)*I}}this._pathGlobalVertices[v++]=b,this._pathGlobalVertices[v++]=_}else{var S=this._pathSlot.parent;S.a1808();for(var x=S.globalTransformMatrix,m=0,G=l;o>m;m+=2){var D=r[G++]*a,E=r[G++]*a,P=x.a*D+x.c*E+x.tx,k=x.b*D+x.d*E+x.ty;this._pathGlobalVertices[m]=P,this._pathGlobalVertices[m+1]=k}}},i.prototype._computeVertices=function(t,e,i,a){for(var n=i,r=t;e>n;n+=2)a[n]=this._pathGlobalVertices[r++],a[n+1]=this._pathGlobalVertices[r++]},i.prototype._computeBezierCurve=function(t,e,i,a,n){var r=this._armature,s=r.armatureData.parent.intArray,o=s[t.vertices.offset+0],l=this._positions,h=this._spaces,p=t.closed,u=Array(),c=2*o,d=c/6,g=-1,f=this.position;l.length=3*e+2;var m=0;if(t.constantSpeed){p?(c+=2,u.length=o,this._computeVertices(2,c-4,0,u),this._computeVertices(0,2,c-4,u),u[c-2]=u[0],u[c-1]=u[1]):(d--,c-=4,u.length=c,this._computeVertices(2,c,0,u));var v=new Array(d);m=0;for(var y,b,_,A,T,C,w,x,I=u[0],D=u[1],E=0,S=0,G=0,P=0,k=0,M=0,L=0,O=2;d>L;L++,O+=6)E=u[O],S=u[O+1],G=u[O+2],P=u[O+3],k=u[O+4],M=u[O+5],y=.1875*(I-2*E+G),b=.1875*(D-2*S+P),_=.09375*(3*(E-G)-I+k),A=.09375*(3*(S-P)-D+M),T=2*y+_,C=2*b+A,w=.75*(E-I)+y+.16666667*_,x=.75*(S-D)+b+.16666667*A,m+=Math.sqrt(w*w+x*x),w+=T,x+=C,T+=_,C+=A,m+=Math.sqrt(w*w+x*x),w+=T,x+=C,m+=Math.sqrt(w*w+x*x),w+=T+_,x+=C+A,m+=Math.sqrt(w*w+x*x),v[L]=m,I=k,D=M;if(a&&(f*=m),n)for(var L=0;e>L;L++)h[L]*=m;for(var B=this._segments,R=0,L=0,U=0,F=0,V=0;e>L;L++,U+=3){var $=h[L];f+=$;var N=f;if(p)N%=m,0>N&&(N+=m),F=0;else{if(0>N)continue;if(N>m)continue}for(;;F++){var j=v[F];if(!(N>j)){if(0===F)N/=j;else{var H=v[F-1];N=(N-H)/(j-H)}break}}if(F!==g){g=F;var z=6*F;for(I=u[z],D=u[z+1],E=u[z+2],S=u[z+3],G=u[z+4],P=u[z+5],k=u[z+6],M=u[z+7],y=.03*(I-2*E+G),b=.03*(D-2*S+P),_=.006*(3*(E-G)-I+k),A=.006*(3*(S-P)-D+M),T=2*y+_,C=2*b+A,w=.3*(E-I)+y+.16666667*_,x=.3*(S-D)+b+.16666667*A,R=Math.sqrt(w*w+x*x),B[0]=R,z=1;8>z;z++)w+=T,x+=C,T+=_,C+=A,R+=Math.sqrt(w*w+x*x),B[z]=R;w+=T,x+=C,R+=Math.sqrt(w*w+x*x),B[8]=R,w+=T+_,x+=C+A,R+=Math.sqrt(w*w+x*x),B[9]=R,V=0}for(N*=R;;V++){var X=B[V];if(!(N>X)){if(0===V)N/=X;else{var H=B[V-1];N=V+(N-H)/(X-H)}break}}this.a1811(.1*N,I,D,E,S,G,P,k,M,l,U,i)}}else{var Y=t.curveLengths;if(d-=p?1:2,m=Y[d],a&&(f*=m),n)for(var L=0;e>L;L++)h[L]*=m;u.length=8;for(var L=0,U=0,F=0;e>L;L++,U+=3){var $=h[L];if(f+=$,p)f%=m,0>f&&(f+=m),F=0;else{if(0>f)continue;if(f>m)continue}for(var W=0;;F++){var q=Y[F];if(!(f>q)){if(0===F)W=f/q;else{var K=Y[F-1];W=(f-K)/(q-K)}break}}F!==g&&(g=F,p&&F===d?(this._computeVertices(c-4,4,0,u),this._computeVertices(0,4,4,u)):this._computeVertices(6*F+2,8,0,u)),this.a1811(W,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,U,i)}}},i.prototype.a1811=function(t,e,i,a,n,r,s,o,l,h,p,u){if(0===t)return h[p]=e,h[p+1]=i,void(h[p+2]=0);if(1===t)return h[p]=o,h[p+1]=l,void(h[p+2]=0);var c=1-t,d=c*c,g=t*t,f=d*c,m=d*t*3,v=c*g*3,y=t*g,b=f*e+m*a+v*r+y*o,_=f*i+m*n+v*s+y*l;h[p]=b,h[p+1]=_,u?h[p+2]=Math.atan2(_-(f*i+m*n+v*s),b-(f*e+m*a+v*r)):h[p+2]=0},i.prototype.init=function(t,e){this._constraintData=t,this._armature=e;var i=t;this.pathOffset=i.pathDisplayData.vertices.offset,this.position=i.position,this.spacing=i.spacing,this.rotateOffset=i.rotateOffset,this.rotateMix=i.rotateMix,this.translateMix=i.translateMix,this._root=this._armature.getBone(i.root.name),this._target=this._armature.getBone(i.target.name),this._pathSlot=this._armature.getSlot(i.pathSlot.name);for(var a=0,n=i.bones.length;n>a;a++){var r=this._armature.getBone(i.bones[a].name);null!==r&&this._bones.push(r)}2===i.rotateMode&&(this._boneLengths.length=this._bones.length),this._root._hasConstraint=!0},i.prototype.update=function(){var e=this._pathSlot;if(null!==e._deformVertices&&null!==e._deformVertices.verticesData&&e._deformVertices.verticesData.offset===this.pathOffset){var i=this._constraintData,a=e._displayData,n=!1,r=e._deformVertices;if(this._root._childrenTransformDirty?(this._updatePathVertices(a.vertices),n=!0):null!==r&&(r.verticesDirty||r.a1801())&&(this._updatePathVertices(a.vertices),r.verticesDirty=!1,n=!0),n||this.dirty){var s=i.positionMode,o=i.spacingMode,l=i.rotateMode,h=this._bones,p=0===o,u=2===l,c=0===l,d=h.length,g=c?d:d+1,f=this.spacing,m=this._spaces;if(m.length=g,u||p){m[0]=0;for(var v=0,y=g-1;y>v;v++){var b=h[v];b.a1808();var _=b._boneData.length,A=b.globalTransformMatrix,T=_*A.a,C=_*A.b,w=Math.sqrt(T*T+C*C);u&&(this._boneLengths[v]=w),m[v+1]=(_+f)*w/_}}else for(var v=0;g>v;v++)m[v]=f;this._computeBezierCurve(a,g,c,1===s,2===o);var x,I=this._positions,D=this.rotateOffset,E=I[0],S=I[1];if(0===D)x=1===l;else{x=!1;var b=e.parent;if(null!==b){var A=b.globalTransformMatrix;D*=A.a*A.d-A.b*A.c>0?t.Transform.DEG_RAD:-t.Transform.DEG_RAD}}for(var G=this.rotateMix,P=this.translateMix,v=0,k=3;d>v;v++,k+=3){var b=h[v];b.a1808();var A=b.globalTransformMatrix;A.tx+=(E-A.tx)*P,A.ty+=(S-A.ty)*P;var T=I[k],C=I[k+1],M=T-E,L=C-S;if(u){var O=this._boneLengths[v],B=(Math.sqrt(M*M+L*L)/O-1)*G+1;A.a*=B,A.b*=B}if(E=T,S=C,G>0){var R=A.a,U=A.b,F=A.c,V=A.d,$=void 0,N=void 0,j=void 0;if($=c?I[k-1]:Math.atan2(L,M),$-=Math.atan2(U,R),x){N=Math.cos($),j=Math.sin($);var H=b._boneData.length;E+=(H*(N*R-j*U)-M)*G,S+=(H*(j*R+N*U)-L)*G}else $+=D;$>t.Transform.PI?$-=t.Transform.PI_D:$<-t.Transform.PI&&($+=t.Transform.PI_D),$*=G,N=Math.cos($),j=Math.sin($),A.a=N*R-j*U,A.b=j*R+N*U,A.c=N*F-j*V,A.d=j*F+N*V}b.global.fromMatrix(A)}this.dirty=!1}}},i.prototype.invalidUpdate=function(){},i}(e);t.PathConstraint=a}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t){void 0===t&&(t=0),this.time=0,this.timeScale=1,this._systemTime=0,this._animatebles=[],this._clock=null,this.time=t,this._systemTime=.001*(new Date).getTime()}return t.prototype.advanceTime=function(t){t!==t&&(t=0);var e=.001*Date.now();if(0>t&&(t=e-this._systemTime),this._systemTime=e,1!==this.timeScale&&(t*=this.timeScale),0!==t){0>t?this.time-=t:this.time+=t;for(var i=0,a=0,n=this._animatebles.length;n>i;++i){var r=this._animatebles[i];null!==r?(a>0&&(this._animatebles[i-a]=r,this._animatebles[i]=null),r.display&&r.display.parent&&(r.display.parent.parent||r.display.parent.parent2)&&r.advanceTime(t)):a++}if(a>0){for(n=this._animatebles.length;n>i;++i){var s=this._animatebles[i];null!==s?this._animatebles[i-a]=s:a++}this._animatebles.length-=a}}},t.prototype.contains=function(t){if(t===this)return!1;for(var e=t;e!==this&&null!==e;)e=e.clock;return e===this},t.prototype.add=function(t){this._animatebles.indexOf(t)<0&&(this._animatebles.push(t),t.clock=this)},t.prototype.remove=function(t){var e=this._animatebles.indexOf(t);e>=0&&(this._animatebles[e]=null,t.clock=null)},t.prototype.clear=function(){for(var t=0,e=this._animatebles;t<e.length;t++){var i=e[t];null!==i&&(i.clock=null)}},Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},set:function(t){this._clock!==t&&(null!==this._clock&&this._clock.remove(this),this._clock=t,null!==this._clock&&this._clock.add(this))},enumerable:!0,configurable:!0}),t.clock=new t,t}();t.WorldClock=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._animationNames=[],t._animationStates=[],t._animations={},t._animationConfig=null,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.Animation]"},i.prototype._onClear=function(){for(var t=0,e=this._animationStates;t<e.length;t++){var i=e[t];
i.a1755()}for(var a in this._animations)delete this._animations[a];null!==this._animationConfig&&this._animationConfig.a1755(),this.timeScale=1,this._lockUpdate=!1,this._animationDirty=!1,this._inheritTimeScale=1,this._animationNames.length=0,this._animationStates.length=0,this._armature=null,this._animationConfig=null,this._lastAnimationState=null},i.prototype._fadeOut=function(t){switch(t.fadeOutMode){case 1:for(var e=0,i=this._animationStates;e<i.length;e++){var a=i[e];null===a._parent&&a.layer===t.layer&&a.fadeOut(t.fadeOutTime,t.pauseFadeOut)}break;case 2:for(var n=0,r=this._animationStates;n<r.length;n++){var a=r[n];null===a._parent&&a.group===t.group&&a.fadeOut(t.fadeOutTime,t.pauseFadeOut)}break;case 3:for(var s=0,o=this._animationStates;s<o.length;s++){var a=o[s];null===a._parent&&a.layer===t.layer&&a.group===t.group&&a.fadeOut(t.fadeOutTime,t.pauseFadeOut)}break;case 4:for(var l=0,h=this._animationStates;l<h.length;l++){var a=h[l];null===a._parent&&a.fadeOut(t.fadeOutTime,t.pauseFadeOut)}break;case 0:case 5:}},i.prototype.init=function(e){null===this._armature&&(this._armature=e,this._animationConfig=t.BaseObject.borrowObject(t.AnimationConfig))},i.prototype.advanceTime=function(t){0>t&&(t=-t),this._armature.inheritAnimation&&null!==this._armature._parent?this._inheritTimeScale=this._armature._parent._armature.animation._inheritTimeScale*this.timeScale:this._inheritTimeScale=this.timeScale,1!==this._inheritTimeScale&&(t*=this._inheritTimeScale);var e=this._animationStates.length;if(1===e){var i=this._animationStates[0];if(i._fadeState>0&&i._subFadeState>0)this._armature._dragonBones.a1754(i),this._animationStates.length=0,this._lastAnimationState=null;else{var a=i._animationData,n=a.cacheFrameRate;if(this._animationDirty&&n>0){this._animationDirty=!1;for(var r=0,s=this._armature.getBones();r<s.length;r++){var o=s[r];o._cachedFrameIndices=a.getBoneCachedFrameIndices(o.name)}for(var l=0,h=this._armature.a1806();l<h.length;l++){var p=h[l],u=p.rawDisplayDatas;if(null!==u&&u.length>0){var c=u[0];if(null!==c&&c.parent===this._armature.armatureData.defaultSkin){p._cachedFrameIndices=a.getSlotCachedFrameIndices(p.name);continue}}p._cachedFrameIndices=null}}i.advanceTime(t,n)}}else if(e>1){for(var d=0,g=0;e>d;++d){var i=this._animationStates[d];i._fadeState>0&&i._subFadeState>0?(g++,this._armature._dragonBones.a1754(i),this._animationDirty=!0,this._lastAnimationState===i&&(this._lastAnimationState=null)):(g>0&&(this._animationStates[d-g]=i),i.advanceTime(t,0)),d===e-1&&g>0&&(this._animationStates.length-=g,null===this._lastAnimationState&&this._animationStates.length>0&&(this._lastAnimationState=this._animationStates[this._animationStates.length-1]))}this._armature._cacheFrameIndex=-1}else this._armature._cacheFrameIndex=-1},i.prototype.reset=function(){for(var t=0,e=this._animationStates;t<e.length;t++){var i=e[t];i.a1755()}this._animationDirty=!1,this._animationConfig.clear(),this._animationStates.length=0,this._lastAnimationState=null},i.prototype.stop=function(t){if(void 0===t&&(t=null),null!==t){var e=this.a1818(t);null!==e&&e.stop()}else for(var i=0,a=this._animationStates;i<a.length;i++){var e=a[i];e.stop()}},i.prototype.a1812=function(e){var i=e.animation;if(!(i in this._animations))return console.warn("Non-existent animation.\n","DragonBones name: "+this._armature.armatureData.parent.name,"Armature name: "+this._armature.name,"Animation name: "+i),null;var a=this._animations[i];if(5===e.fadeOutMode)for(var n=0,r=this._animationStates;n<r.length;n++){var s=r[n];if(s._animationData===a)return s}0===this._animationStates.length?e.fadeInTime=0:e.fadeInTime<0&&(e.fadeInTime=a.fadeInTime),e.fadeOutTime<0&&(e.fadeOutTime=e.fadeInTime),e.timeScale<=-100&&(e.timeScale=1/a.scale),a.frameCount>1?(e.position<0?(e.position%=a.duration,e.position=a.duration-e.position):e.position===a.duration?e.position-=1e-6:e.position>a.duration&&(e.position%=a.duration),e.duration>0&&e.position+e.duration>a.duration&&(e.duration=a.duration-e.position),e.playTimes<0&&(e.playTimes=a.playTimes)):(e.playTimes=1,e.position=0,e.duration>0&&(e.duration=0)),0===e.duration&&(e.duration=-1),this._fadeOut(e);var o=t.BaseObject.borrowObject(t.AnimationState);if(o.init(this._armature,a,e),this._animationDirty=!0,this._armature._cacheFrameIndex=-1,this._animationStates.length>0){for(var l=!1,h=0,p=this._animationStates.length;p>h;++h){if(o.layer>this._animationStates[h].layer){l=!0,this._animationStates.splice(h,0,o);break}if(h!==p-1&&o.layer>this._animationStates[h+1].layer){l=!0,this._animationStates.splice(h+1,0,o);break}}l||this._animationStates.push(o)}else this._animationStates.push(o);for(var u=0,c=this._armature.a1806();u<c.length;u++){var d=c[u],g=d.childArmature;null!==g&&g.inheritAnimation&&g.animation.a1819(i)&&null===g.animation.a1818(i)&&g.animation.fadeIn(i)}var f=!1;for(var m in a.animationTimelines){this._lockUpdate||(f=!0,this._lockUpdate=!0);var v=this.fadeIn(m,e.fadeInTime,1,o.layer,null,0);null!==v&&(v.resetToPose=!1,v._parent=o,v.stop())}return f&&(this._lockUpdate=!1),this._lockUpdate||(e.fadeInTime<=0&&this._armature.advanceTime(0),this._lastAnimationState=o),o},i.prototype.play=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=e,this._animationConfig.fadeInTime=0,this._animationConfig.animation=null!==t?t:"",null!==t&&t.length>0)this.a1812(this._animationConfig);else if(null===this._lastAnimationState){var i=this._armature.armatureData.defaultAnimation;null!==i&&(this._animationConfig.animation=i.name,this.a1812(this._animationConfig))}else this._lastAnimationState.a1713||this._lastAnimationState.isCompleted?(this._animationConfig.animation=this._lastAnimationState.name,this.a1812(this._animationConfig)):this._lastAnimationState.play();return this._lastAnimationState},i.prototype.fadeIn=function(t,e,i,a,n,r){return void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===a&&(a=0),void 0===n&&(n=null),void 0===r&&(r=3),this._animationConfig.clear(),this._animationConfig.fadeOutMode=r,this._animationConfig.playTimes=i,this._animationConfig.layer=a,this._animationConfig.fadeInTime=e,this._animationConfig.animation=t,this._animationConfig.group=null!==n?n:"",this.a1812(this._animationConfig)},i.prototype.a1814=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=i,this._animationConfig.position=e,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t,this.a1812(this._animationConfig)},i.prototype.gotoAndPlayByFrame=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=i,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t;var a=t in this._animations?this._animations[t]:null;return null!==a&&(this._animationConfig.position=a.duration*e/a.frameCount),this.a1812(this._animationConfig)},i.prototype.gotoAndPlayByProgress=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=i,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t;var a=t in this._animations?this._animations[t]:null;return null!==a&&(this._animationConfig.position=a.duration*(e>0?e:0)),this.a1812(this._animationConfig)},i.prototype.a1816=function(t,e){void 0===e&&(e=0);var i=this.a1814(t,e,1);return null!==i&&i.stop(),i},i.prototype.a1817=function(t,e){void 0===e&&(e=0);var i=this.gotoAndPlayByFrame(t,e,1);return null!==i&&i.stop(),i},i.prototype.gotoAndStopByProgress=function(t,e){void 0===e&&(e=0);var i=this.gotoAndPlayByProgress(t,e,1);return null!==i&&i.stop(),i},i.prototype.a1818=function(t){for(var e=this._animationStates.length;e--;){var i=this._animationStates[e];if(i.name===t)return i}return null},i.prototype.a1819=function(t){return t in this._animations},i.prototype.getStates=function(){return this._animationStates},Object.defineProperty(i.prototype,"a1713",{get:function(){for(var t=0,e=this._animationStates;t<e.length;t++){var i=e[t];if(i.a1713)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCompleted",{get:function(){for(var t=0,e=this._animationStates;t<e.length;t++){var i=e[t];if(!i.isCompleted)return!1}return this._animationStates.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastAnimationName",{get:function(){return null!==this._lastAnimationState?this._lastAnimationState.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationNames",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations},set:function(t){if(this._animations!==t){this._animationNames.length=0;for(var e in this._animations)delete this._animations[e];for(var e in t)this._animationNames.push(e),this._animations[e]=t[e]}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationConfig",{get:function(){return this._animationConfig.clear(),this._animationConfig},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastAnimationState",{get:function(){return this._lastAnimationState},enumerable:!0,configurable:!0}),i.prototype.a1484=function(t,e,i,a,n,r,s,o,l){void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===a&&(a=-1),void 0===n&&(n=0),void 0===r&&(r=null),void 0===s&&(s=3),void 0===o&&(o=!0),void 0===l&&(l=!0),console.warn("Deprecated."),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.fadeOutMode=s,this._animationConfig.playTimes=a,this._animationConfig.layer=n,this._animationConfig.fadeInTime=e,this._animationConfig.animation=t,this._animationConfig.group=null!==r?r:"";var h=this._animations[t];return h&&i>0&&(this._animationConfig.timeScale=h.duration/i),this.a1812(this._animationConfig)},i.prototype.a1485=function(t,e){return void 0===e&&(e=0),console.warn("Deprecated."),this.a1816(t,e)},Object.defineProperty(i.prototype,"animationList",{get:function(){return console.warn("Deprecated."),this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationDataList",{get:function(){console.warn("Deprecated.");for(var t=[],e=0,i=this._animationNames.length;i>e;++e)t.push(this._animations[this._animationNames[e]]);return t},enumerable:!0,configurable:!0}),i}(t.BaseObject);t.Animation=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._blendState=new a,t._boneMask=[],t._boneTimelines=[],t._surfaceTimelines=[],t._slotTimelines=[],t._constraintTimelines=[],t._animationTimelines=[],t._poseTimelines=[],t._bonePoses={},t._actionTimeline=null,t._zOrderTimeline=null,t._parent=null,t}return __extends(n,e),n.toString=function(){return"[class dragonBones.AnimationState]"},n.prototype._onClear=function(){for(var t=0,e=this._boneTimelines;t<e.length;t++){var i=e[t];i.a1755()}for(var a=0,n=this._surfaceTimelines;a<n.length;a++){var i=n[a];i.a1755()}for(var r=0,s=this._slotTimelines;r<s.length;r++){var i=s[r];i.a1755()}for(var o=0,l=this._constraintTimelines;o<l.length;o++){var i=l[o];i.a1755()}for(var h=0,p=this._animationTimelines;h<p.length;h++){var i=p[h];i.a1755()}for(var u in this._bonePoses)this._bonePoses[u].a1755(),delete this._bonePoses[u];null!==this._actionTimeline&&this._actionTimeline.a1755(),null!==this._zOrderTimeline&&this._zOrderTimeline.a1755(),this.actionEnabled=!1,this.additiveBlending=!1,this.displayControl=!1,this.resetToPose=!1,this.playTimes=1,this.layer=0,this.timeScale=1,this.weight=1,this.autoFadeOutTime=0,this.fadeTotalTime=0,this.name="",this.group="",this._timelineDirty=2,this._playheadState=0,this._fadeState=-1,this._subFadeState=-1,this._position=0,this._duration=0,this._fadeTime=0,this._time=0,this._fadeProgress=0,this._weightResult=0,this._blendState.clear(),this._boneMask.length=0,this._boneTimelines.length=0,this._surfaceTimelines.length=0,this._slotTimelines.length=0,this._constraintTimelines.length=0,this._animationTimelines.length=0,this._poseTimelines.length=0,this._animationData=null,this._armature=null,this._actionTimeline=null,this._zOrderTimeline=null,this._parent=null},n.prototype._updateTimelines=function(){for(var e=0,i=this._armature._constraints;e<i.length;e++){var a=i[e],n=this._animationData.getConstraintTimelines(a.name);if(null!==n)for(var r=0,s=n;r<s.length;r++){var o=s[r];switch(o.type){case 30:var l=t.BaseObject.borrowObject(t.IKConstraintTimelineState);l.constraint=a,l.init(this._armature,this,o),this._constraintTimelines.push(l)}}else if(this.resetToPose){var l=t.BaseObject.borrowObject(t.IKConstraintTimelineState);l.constraint=a,l.init(this._armature,this,null),this._constraintTimelines.push(l),this._poseTimelines.push(l)}}for(var h=0,p=this._armature.animation.getStates();h<p.length;h++){var u=p[h];if(u._parent===this){var n=this._animationData.getAnimationTimelines(u.name);if(null!==n)for(var c=0,d=n;c<d.length;c++){var o=d[c];switch(o.type){case 40:var l=t.BaseObject.borrowObject(t.AnimationTimelineState);l.animationState=u,l.init(this._armature,this,o),this._animationTimelines.push(l)}}}}},n.prototype._updateBoneAndSlotTimelines=function(){for(var e={},a=0,n=this._boneTimelines;a<n.length;a++){var r=n[a],s=r.bone.name;s in e||(e[s]=[]),e[s].push(r)}for(var o=0,l=this._armature.getBones();o<l.length;o++){var h=l[o],s=h.name;if(this.containsBoneMask(s))if(s in e)delete e[s];else if(0===h._boneData.type){var p=this._animationData.a1794(s),u=s in this._bonePoses?this._bonePoses[s]:this._bonePoses[s]=t.BaseObject.borrowObject(i);if(null!==p)for(var c=0,d=p;c<d.length;c++){var g=d[c];switch(g.type){case 10:var r=t.BaseObject.borrowObject(t.BoneAllTimelineState);r.bone=h,r.bonePose=u,r.init(this._armature,this,g),this._boneTimelines.push(r);break;case 11:var r=t.BaseObject.borrowObject(t.BoneTranslateTimelineState);r.bone=h,r.bonePose=u,r.init(this._armature,this,g),this._boneTimelines.push(r);break;case 12:var r=t.BaseObject.borrowObject(t.BoneRotateTimelineState);r.bone=h,r.bonePose=u,r.init(this._armature,this,g),this._boneTimelines.push(r);break;case 13:var r=t.BaseObject.borrowObject(t.BoneScaleTimelineState);r.bone=h,r.bonePose=u,r.init(this._armature,this,g),this._boneTimelines.push(r)}}else if(this.resetToPose){var r=t.BaseObject.borrowObject(t.BoneAllTimelineState);r.bone=h,r.bonePose=u,r.init(this._armature,this,null),this._boneTimelines.push(r),this._poseTimelines.push(r)}}else if(1===h._boneData.type){var p=this._animationData.a1795(s);if(null!==p)for(var f=0,m=p;f<m.length;f++){var g=m[f];switch(g.type){case 50:var r=t.BaseObject.borrowObject(t.SurfaceTimelineState);r.surface=h,r.init(this._armature,this,g),this._surfaceTimelines.push(r)}}else if(this.resetToPose){var r=t.BaseObject.borrowObject(t.SurfaceTimelineState);r.surface=h,r.init(this._armature,this,null),this._surfaceTimelines.push(r),this._poseTimelines.push(r)}}}for(var v in e)for(var y=0,b=e[v];y<b.length;y++){var r=b[y];this._boneTimelines.splice(this._boneTimelines.indexOf(r),1),r.a1755()}for(var _={},A=[],T=0,C=this._slotTimelines;T<C.length;T++){var r=C[T],s=r.slot.name;s in _||(_[s]=[]),_[s].push(r)}for(var w=0,x=this._armature.a1806();w<x.length;w++){var I=x[w],D=I.parent.name;if(this.containsBoneMask(D)){var s=I.name,p=this._animationData.a1796(s);if(s in _)delete _[s];else{var E=!1,S=!1;if(A.length=0,null!==p)for(var G=0,P=p;G<P.length;G++){var g=P[G];switch(g.type){case 20:var r=t.BaseObject.borrowObject(t.SlotDislayTimelineState);r.slot=I,r.init(this._armature,this,g),this._slotTimelines.push(r),E=!0;break;case 21:var r=t.BaseObject.borrowObject(t.SlotColorTimelineState);r.slot=I,r.init(this._armature,this,g),this._slotTimelines.push(r),S=!0;break;case 22:var r=t.BaseObject.borrowObject(t.DeformTimelineState);r.slot=I,r.init(this._armature,this,g),this._slotTimelines.push(r),A.push(r.vertexOffset)}}if(this.resetToPose){if(!E){var r=t.BaseObject.borrowObject(t.SlotDislayTimelineState);r.slot=I,r.init(this._armature,this,null),this._slotTimelines.push(r),this._poseTimelines.push(r)}if(!S){var r=t.BaseObject.borrowObject(t.SlotColorTimelineState);r.slot=I,r.init(this._armature,this,null),this._slotTimelines.push(r),this._poseTimelines.push(r)}if(null!==I.rawDisplayDatas)for(var k=0,M=I.rawDisplayDatas;k<M.length;k++){var L=M[k];if(null!==L&&2===L.type){var O=L.vertices.offset;if(A.indexOf(O)<0){var r=t.BaseObject.borrowObject(t.DeformTimelineState);r.vertexOffset=O,r.slot=I,r.init(this._armature,this,null),this._slotTimelines.push(r),this._poseTimelines.push(r)}}}}}}}for(var v in _)for(var B=0,R=_[v];B<R.length;B++){var r=R[B];this._slotTimelines.splice(this._slotTimelines.indexOf(r),1),r.a1755()}},n.prototype._advanceFadeTime=function(e){var i=this._fadeState>0;if(this._subFadeState<0){this._subFadeState=0;var a=i?t.EventObject.FADE_OUT:t.EventObject.FADE_IN;if(this._armature.eventDispatcher.a1840(a)){var n=t.BaseObject.borrowObject(t.EventObject);n.type=a,n.armature=this._armature,n.animationState=this,this._armature._dragonBones.bufferEvent(n)}}if(0>e&&(e=-e),this._fadeTime+=e,this._fadeTime>=this.fadeTotalTime?(this._subFadeState=1,this._fadeProgress=i?0:1):this._fadeTime>0?this._fadeProgress=i?1-this._fadeTime/this.fadeTotalTime:this._fadeTime/this.fadeTotalTime:this._fadeProgress=i?1:0,this._subFadeState>0){i||(this._playheadState|=1,this._fadeState=0);var a=i?t.EventObject.FADE_OUT_COMPLETE:t.EventObject.FADE_IN_COMPLETE;if(this._armature.eventDispatcher.a1840(a)){var n=t.BaseObject.borrowObject(t.EventObject);n.type=a,n.armature=this._armature,n.animationState=this,this._armature._dragonBones.bufferEvent(n)}}},n.prototype.init=function(e,i,a){if(null===this._armature){if(this._armature=e,this._animationData=i,this.resetToPose=a.resetToPose,this.additiveBlending=a.additiveBlending,this.displayControl=a.displayControl,this.actionEnabled=a.actionEnabled,this.layer=a.layer,this.playTimes=a.playTimes,this.timeScale=a.timeScale,this.fadeTotalTime=a.fadeInTime,this.autoFadeOutTime=a.autoFadeOutTime,this.weight=a.weight,this.name=a.name.length>0?a.name:a.animation,this.group=a.group,a.pauseFadeIn?this._playheadState=2:this._playheadState=3,a.duration<0?(this._position=0,this._duration=this._animationData.duration,0!==a.position?this.timeScale>=0?this._time=a.position:this._time=a.position-this._duration:this._time=0):(this._position=a.position,this._duration=a.duration,this._time=0),this.timeScale<0&&0===this._time&&(this._time=-1e-6),this.fadeTotalTime<=0&&(this._fadeProgress=.999999),a.boneMask.length>0){this._boneMask.length=a.boneMask.length;for(var n=0,r=this._boneMask.length;r>n;++n)this._boneMask[n]=a.boneMask[n]}this._actionTimeline=t.BaseObject.borrowObject(t.ActionTimelineState),this._actionTimeline.init(this._armature,this,this._animationData.actionTimeline),this._actionTimeline.currentTime=this._time,this._actionTimeline.currentTime<0&&(this._actionTimeline.currentTime=this._duration-this._actionTimeline.currentTime),null!==this._animationData.zOrderTimeline&&(this._zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineState),this._zOrderTimeline.init(this._armature,this,this._animationData.zOrderTimeline))}},n.prototype.advanceTime=function(e,i){if(this._blendState.dirty=!1,(0!==this._fadeState||0!==this._subFadeState)&&this._advanceFadeTime(e),3===this._playheadState&&(1!==this.timeScale&&(e*=this.timeScale),this._time+=e),0!==this._timelineDirty&&(2===this._timelineDirty&&this._updateTimelines(),this._timelineDirty=0,this._updateBoneAndSlotTimelines()),0!==this.weight){var a=0===this._fadeState&&i>0,n=!0,r=!0,s=this._time;if(this._weightResult=this.weight*this._fadeProgress,null!==this._parent&&(this._weightResult*=this._parent._weightResult/this._parent._fadeProgress),this._actionTimeline.playState<=0&&this._actionTimeline.update(s),a){var o=2*i;this._actionTimeline.currentTime=Math.floor(this._actionTimeline.currentTime*o)/o}if(null!==this._zOrderTimeline&&this._zOrderTimeline.playState<=0&&this._zOrderTimeline.update(s),a){var l=Math.floor(this._actionTimeline.currentTime*i);this._armature._cacheFrameIndex===l?(n=!1,r=!1):(this._armature._cacheFrameIndex=l,this._animationData.cachedFrames[l]?r=!1:this._animationData.cachedFrames[l]=!0)}if(n){if(r)for(var h=0,p=this._boneTimelines.length;p>h;++h){var u=this._boneTimelines[h];if(u.playState<=0&&u.update(s),h===p-1||u.bone!==this._boneTimelines[h+1].bone){var c=u.bone._blendState.update(this._weightResult,this.layer);0!==c&&u.blend(c)}}for(var h=0,p=this._surfaceTimelines.length;p>h;++h){var u=this._surfaceTimelines[h],c=u.surface._blendState.update(this._weightResult,this.layer);u.playState<=0&&u.update(s),0!==c&&u.blend(c)}if(this.displayControl)for(var h=0,p=this._slotTimelines.length;p>h;++h){var u=this._slotTimelines[h],d=u.slot.displayController;(null===d||d===this.name||d===this.group)&&u.playState<=0&&u.update(s)}for(var h=0,p=this._constraintTimelines.length;p>h;++h){var u=this._constraintTimelines[h];u.playState<=0&&u.update(s)}for(var h=0,p=this._animationTimelines.length;p>h;++h){var u=this._animationTimelines[h],c=u.animationState._blendState.update(this._weightResult,this.layer);u.playState<=0&&u.update(s),0!==c&&u.blend(c)}}if(0===this._fadeState){if(this._subFadeState>0&&(this._subFadeState=0,this._poseTimelines.length>0)){for(var g=0,f=this._poseTimelines;g<f.length;g++){var u=f[g];u instanceof t.BoneTimelineState?this._boneTimelines.splice(this._boneTimelines.indexOf(u),1):u instanceof t.SurfaceTimelineState?this._surfaceTimelines.splice(this._surfaceTimelines.indexOf(u),1):u instanceof t.SlotTimelineState?this._slotTimelines.splice(this._slotTimelines.indexOf(u),1):u instanceof t.ConstraintTimelineState&&this._constraintTimelines.splice(this._constraintTimelines.indexOf(u),1),u.a1755()}this._poseTimelines.length=0}this._actionTimeline.playState>0&&this.autoFadeOutTime>=0&&this.fadeOut(this.autoFadeOutTime)}}},n.prototype.play=function(){this._playheadState=3},n.prototype.stop=function(){this._playheadState&=1},n.prototype.fadeOut=function(t,e){if(void 0===e&&(e=!0),0>t&&(t=0),e&&(this._playheadState&=2),this._fadeState>0){if(t>this.fadeTotalTime-this._fadeTime)return}else{this._fadeState=1,this._subFadeState=-1,(0>=t||this._fadeProgress<=0)&&(this._fadeProgress=1e-6);for(var i=0,a=this._boneTimelines;i<a.length;i++){var n=a[i];n.fadeOut()}for(var r=0,s=this._surfaceTimelines;r<s.length;r++){var n=s[r];n.fadeOut()}for(var o=0,l=this._slotTimelines;o<l.length;o++){var n=l[o];n.fadeOut()}for(var h=0,p=this._constraintTimelines;h<p.length;h++){var n=p[h];n.fadeOut()}for(var u=0,c=this._animationTimelines;u<c.length;u++){var n=c[u];n.animationState.fadeOut(t,e),n.fadeOut()}}this.displayControl=!1,this.fadeTotalTime=this._fadeProgress>1e-6?t/this._fadeProgress:0,this._fadeTime=this.fadeTotalTime*(1-this._fadeProgress)},n.prototype.containsBoneMask=function(t){return 0===this._boneMask.length||this._boneMask.indexOf(t)>=0},n.prototype.a1798=function(t,e){void 0===e&&(e=!0);var i=this._armature.getBone(t);if(null!==i){if(this._boneMask.indexOf(t)<0&&this._boneMask.push(t),e)for(var a=0,n=this._armature.getBones();a<n.length;a++){var r=n[a];this._boneMask.indexOf(r.name)<0&&i.contains(r)&&this._boneMask.push(r.name)}this._timelineDirty=1}},n.prototype.a1799=function(t,e){void 0===e&&(e=!0);var i=this._boneMask.indexOf(t);if(i>=0&&this._boneMask.splice(i,1),e){var a=this._armature.getBone(t);if(null!==a){var n=this._armature.getBones();if(this._boneMask.length>0)for(var r=0,s=n;r<s.length;r++){var o=s[r],l=this._boneMask.indexOf(o.name);l>=0&&a.contains(o)&&this._boneMask.splice(l,1)}else for(var h=0,p=n;h<p.length;h++){var o=p[h];o!==a&&(a.contains(o)||this._boneMask.push(o.name))}}}this._timelineDirty=1},n.prototype.a1822=function(){this._boneMask.length=0,this._timelineDirty=1},Object.defineProperty(n.prototype,"isFadeIn",{get:function(){return this._fadeState<0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFadeOut",{get:function(){return this._fadeState>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFadeComplete",{get:function(){return 0===this._fadeState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a1713",{get:function(){return 0!==(2&this._playheadState)&&this._actionTimeline.playState<=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCompleted",{get:function(){return this._actionTimeline.playState>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPlayTimes",{get:function(){return this._actionTimeline.currentPlayTimes},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTime",{get:function(){return this._actionTimeline.currentTime},set:function(t){var e=this._actionTimeline.currentPlayTimes-(this._actionTimeline.playState>0?1:0);if((0>t||this._duration<t)&&(t=t%this._duration+e*this._duration,0>t&&(t+=this._duration)),this.playTimes>0&&e===this.playTimes-1&&t===this._duration&&(t=this._duration-1e-6),this._time!==t){this._time=t,this._actionTimeline.a1824(this._time),null!==this._zOrderTimeline&&(this._zOrderTimeline.playState=-1);for(var i=0,a=this._boneTimelines;i<a.length;i++){var n=a[i];n.playState=-1}for(var r=0,s=this._slotTimelines;r<s.length;r++){var n=s[r];n.playState=-1}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationData",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),n}(t.BaseObject);t.AnimationState=e;var i=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.current=new t.Transform,i.delta=new t.Transform,i.result=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BonePose]"},i.prototype._onClear=function(){this.current.identity(),this.delta.identity(),this.result.identity()},i}(t.BaseObject);t.BonePose=i;var a=function(){function t(){}return t.prototype.update=function(t,e){if(this.dirty){if(!(this.leftWeight>0))return 0;if(this.layer!==e){if(this.layerWeight>=this.leftWeight)return this.leftWeight=0,0;this.layer=e,this.leftWeight-=this.layerWeight,this.layerWeight=0}return t*=this.leftWeight,this.layerWeight+=t,this.blendWeight=t,2}return this.dirty=!0,this.layer=e,this.layerWeight=t,this.leftWeight=1,this.blendWeight=t,1},t.prototype.clear=function(){this.dirty=!1,this.layer=0,this.leftWeight=0,this.layerWeight=0,this.blendWeight=0},t}();t.BlendState=a}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){this.playState=-1,this.currentPlayTimes=-1,this.currentTime=-1,this._tweenState=0,this._frameRate=0,this._frameValueOffset=0,this._frameCount=0,this._frameOffset=0,this._frameIndex=-1,this._frameRateR=0,this._position=0,this._duration=0,this._timeScale=1,this._timeOffset=0,this._dragonBonesData=null,this._animationData=null,this._timelineData=null,this._armature=null,this._animationState=null,this._actionTimeline=null,this._frameArray=null,this._frameIntArray=null,this._frameFloatArray=null,this._timelineArray=null,this._frameIndices=null},e.prototype._setCurrentTime=function(t){var e=this.playState,i=this.currentPlayTimes,a=this.currentTime;if(null!==this._actionTimeline&&this._frameCount<=1)this.playState=this._actionTimeline.playState>=0?1:-1,this.currentPlayTimes=1,this.currentTime=this._actionTimeline.currentTime;else if(null===this._actionTimeline||1!==this._timeScale||0!==this._timeOffset){var n=this._animationState.playTimes,r=n*this._duration;t*=this._timeScale,0!==this._timeOffset&&(t+=this._timeOffset*this._animationData.duration),n>0&&(t>=r||-r>=t)?(this.playState<=0&&3===this._animationState._playheadState&&(this.playState=1),this.currentPlayTimes=n,0>t?this.currentTime=0:this.currentTime=this._duration+1e-6):(0!==this.playState&&3===this._animationState._playheadState&&(this.playState=0),0>t?(t=-t,this.currentPlayTimes=Math.floor(t/this._duration),this.currentTime=this._duration-t%this._duration):(this.currentPlayTimes=Math.floor(t/this._duration),this.currentTime=t%this._duration)),this.currentTime+=this._position}else this.playState=this._actionTimeline.playState,this.currentPlayTimes=this._actionTimeline.currentPlayTimes,this.currentTime=this._actionTimeline.currentTime;return this.currentPlayTimes===i&&this.currentTime===a?!1:((0>e&&this.playState!==e||this.playState<=0&&this.currentPlayTimes!==i)&&(this._frameIndex=-1),!0)},e.prototype.init=function(t,e,i){this._armature=t,this._animationState=e,this._timelineData=i,this._actionTimeline=this._animationState._actionTimeline,this===this._actionTimeline&&(this._actionTimeline=null),this._animationData=this._animationState._animationData,this._frameRate=this._animationData.parent.frameRate,this._frameRateR=1/this._frameRate,this._position=this._animationState._position,this._duration=this._animationState._duration,this._dragonBonesData=this._animationData.parent.parent,null!==this._timelineData&&(this._frameIntArray=this._dragonBonesData.frameIntArray,this._frameFloatArray=this._dragonBonesData.frameFloatArray,this._frameArray=this._dragonBonesData.frameArray,this._timelineArray=this._dragonBonesData.timelineArray,this._frameIndices=this._dragonBonesData.frameIndices,this._frameCount=this._timelineArray[this._timelineData.offset+2],this._frameValueOffset=this._timelineArray[this._timelineData.offset+4],this._timeScale=100/this._timelineArray[this._timelineData.offset+0],this._timeOffset=.01*this._timelineArray[this._timelineData.offset+1])},e.prototype.fadeOut=function(){},e.prototype.update=function(t){if(this._setCurrentTime(t)){if(this._frameCount>1){var e=Math.floor(this.currentTime*this._frameRate),i=this._frameIndices[this._timelineData.frameIndicesOffset+e];this._frameIndex!==i&&(this._frameIndex=i,this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+this._frameIndex],this._onArriveAtFrame())}else this._frameIndex<0&&(this._frameIndex=0,null!==this._timelineData&&(this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5]),this._onArriveAtFrame());0!==this._tweenState&&this._onUpdateFrame()}},e}(t.BaseObject);t.TimelineState=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e._getEasingValue=function(t,e,i){var a=e;switch(t){case 3:a=Math.pow(e,2);break;case 4:a=1-Math.pow(1-e,2);break;case 5:a=.5*(1-Math.cos(e*Math.PI))}return(a-e)*i+e},e._getEasingCurveValue=function(t,e,i,a){if(0>=t)return 0;if(t>=1)return 1;var n=i+1,r=Math.floor(t*n),s=0===r?0:e[a+r-1],o=r===n-1?1e4:e[a+r];return 1e-4*(s+(o-s)*(t*n-r))},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._tweenType=0,this._curveCount=0,this._framePosition=0,this._frameDurationR=0,this._tweenProgress=0,this._tweenEasing=0},e.prototype._onArriveAtFrame=function(){if(this._frameCount>1&&(this._frameIndex!==this._frameCount-1||0===this._animationState.playTimes||this._animationState.currentPlayTimes<this._animationState.playTimes-1))if(this._tweenType=this._frameArray[this._frameOffset+1],this._tweenState=0===this._tweenType?1:2,2===this._tweenType?this._curveCount=this._frameArray[this._frameOffset+2]:0!==this._tweenType&&1!==this._tweenType&&(this._tweenEasing=.01*this._frameArray[this._frameOffset+2]),this._framePosition=this._frameArray[this._frameOffset]*this._frameRateR,this._frameIndex===this._frameCount-1)this._frameDurationR=1/(this._animationData.duration-this._framePosition);
else{var t=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+this._frameIndex+1],e=this._frameArray[t]*this._frameRateR-this._framePosition;e>0?this._frameDurationR=1/e:this._frameDurationR=0}else this._tweenState=1},e.prototype._onUpdateFrame=function(){2===this._tweenState?(this._tweenProgress=(this.currentTime-this._framePosition)*this._frameDurationR,2===this._tweenType?this._tweenProgress=e._getEasingCurveValue(this._tweenProgress,this._frameArray,this._curveCount,this._frameOffset+3):1!==this._tweenType&&(this._tweenProgress=e._getEasingValue(this._tweenType,this._tweenProgress,this._tweenEasing))):this._tweenProgress=0},e}(e);t.TweenTimelineState=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this.bone=null,this.bonePose=null},e.prototype.blend=function(t){var e=this.bone._blendState.blendWeight,i=this.bone.animationPose,a=this.bonePose.result;2===t?(i.x+=a.x*e,i.y+=a.y*e,i.rotation+=a.rotation*e,i.skew+=a.skew*e,i.scaleX+=(a.scaleX-1)*e,i.scaleY+=(a.scaleY-1)*e):1!==e?(i.x=a.x*e,i.y=a.y*e,i.rotation=a.rotation*e,i.skew=a.skew*e,i.scaleX=(a.scaleX-1)*e+1,i.scaleY=(a.scaleY-1)*e+1):(i.x=a.x,i.y=a.y,i.rotation=a.rotation,i.skew=a.skew,i.scaleX=a.scaleX,i.scaleY=a.scaleY),(0!==this._animationState._fadeState||0!==this._animationState._subFadeState)&&(this.bone._transformDirty=!0)},e}(i);t.BoneTimelineState=a;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this.slot=null},e}(i);t.SlotTimelineState=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this.constraint=null},e}(i);t.ConstraintTimelineState=r}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.toString=function(){return"[class dragonBones.ActionTimelineState]"},i.prototype._onCrossFrame=function(e){var i=this._armature.eventDispatcher;if(this._animationState.actionEnabled)for(var a=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+e],n=this._frameArray[a+1],r=this._animationData.parent.actions,s=0;n>s;++s){var o=this._frameArray[a+2+s],l=r[o];if(0===l.type){var h=t.BaseObject.borrowObject(t.EventObject);h.time=this._frameArray[a]/this._frameRate,h.animationState=this._animationState,t.EventObject.actionDataToInstance(l,h,this._armature),this._armature._bufferAction(h,!0)}else{var p=10===l.type?t.EventObject.FRAME_EVENT:t.EventObject.SOUND_EVENT;if(11===l.type||i.a1840(p)){var h=t.BaseObject.borrowObject(t.EventObject);h.time=this._frameArray[a]/this._frameRate,h.animationState=this._animationState,t.EventObject.actionDataToInstance(l,h,this._armature),this._armature._dragonBones.bufferEvent(h)}}}},i.prototype._onArriveAtFrame=function(){},i.prototype._onUpdateFrame=function(){},i.prototype.update=function(e){var i=this.playState,a=this.currentPlayTimes,n=this.currentTime;if(this._setCurrentTime(e)){var r=this._armature.eventDispatcher;if(0>i){if(this.playState===i)return;if(this._animationState.displayControl&&this._animationState.resetToPose&&this._armature._sortZOrder(null,0),a=this.currentPlayTimes,r.a1840(t.EventObject.START)){var s=t.BaseObject.borrowObject(t.EventObject);s.type=t.EventObject.START,s.armature=this._armature,s.animationState=this._animationState,this._armature._dragonBones.bufferEvent(s)}}var o=this._animationState.timeScale<0,l=null,h=null;if(this.currentPlayTimes!==a&&(r.a1840(t.EventObject.LOOP_COMPLETE)&&(l=t.BaseObject.borrowObject(t.EventObject),l.type=t.EventObject.LOOP_COMPLETE,l.armature=this._armature,l.animationState=this._animationState),this.playState>0&&r.a1840(t.EventObject.COMPLETE)&&(h=t.BaseObject.borrowObject(t.EventObject),h.type=t.EventObject.COMPLETE,h.armature=this._armature,h.animationState=this._animationState)),this._frameCount>1){var p=this._timelineData,u=Math.floor(this.currentTime*this._frameRate),c=this._frameIndices[p.frameIndicesOffset+u];if(this._frameIndex!==c){var d=this._frameIndex;if(this._frameIndex=c,null!==this._timelineArray)if(this._frameOffset=this._animationData.frameOffset+this._timelineArray[p.offset+5+this._frameIndex],o){if(0>d){var g=Math.floor(n*this._frameRate);d=this._frameIndices[p.frameIndicesOffset+g],this.currentPlayTimes===a&&d===c&&(d=-1)}for(;d>=0;){var f=this._animationData.frameOffset+this._timelineArray[p.offset+5+d],m=this._frameArray[f]/this._frameRate;if(this._position<=m&&m<=this._position+this._duration&&this._onCrossFrame(d),null!==l&&0===d&&(this._armature._dragonBones.bufferEvent(l),l=null),d>0?d--:d=this._frameCount-1,d===c)break}}else{if(0>d){var g=Math.floor(n*this._frameRate);d=this._frameIndices[p.frameIndicesOffset+g];var f=this._animationData.frameOffset+this._timelineArray[p.offset+5+d],m=this._frameArray[f]/this._frameRate;this.currentPlayTimes===a&&(m>=n?d>0?d--:d=this._frameCount-1:d===c&&(d=-1))}for(;d>=0;){d<this._frameCount-1?d++:d=0;var f=this._animationData.frameOffset+this._timelineArray[p.offset+5+d],m=this._frameArray[f]/this._frameRate;if(this._position<=m&&m<=this._position+this._duration&&this._onCrossFrame(d),null!==l&&0===d&&(this._armature._dragonBones.bufferEvent(l),l=null),d===c)break}}}}else if(this._frameIndex<0&&(this._frameIndex=0,null!==this._timelineData)){this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5];var m=this._frameArray[this._frameOffset]/this._frameRate;this.currentPlayTimes===a?m>=n&&this._onCrossFrame(this._frameIndex):this._position<=m&&(o||null===l||(this._armature._dragonBones.bufferEvent(l),l=null),this._onCrossFrame(this._frameIndex))}null!==l&&this._armature._dragonBones.bufferEvent(l),null!==h&&this._armature._dragonBones.bufferEvent(h)}},i.prototype.a1824=function(t){this._setCurrentTime(t),this._frameIndex=-1},i}(t.TimelineState);t.ActionTimelineState=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineState]"},e.prototype._onArriveAtFrame=function(){if(this.playState>=0){var t=this._frameArray[this._frameOffset+1];t>0?this._armature._sortZOrder(this._frameArray,this._frameOffset+2):this._armature._sortZOrder(null,0)}},e.prototype._onUpdateFrame=function(){},e}(t.TimelineState);t.ZOrderTimelineState=i;var a=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneAllTimelineState]"},i.prototype._onArriveAtFrame=function(){if(e.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var t=this._animationData.frameFloatOffset+this._frameValueOffset+6*this._frameIndex,i=this._armature._armatureData.scale,a=this._frameFloatArray,n=this.bonePose.current,r=this.bonePose.delta;n.x=a[t++]*i,n.y=a[t++]*i,n.rotation=a[t++],n.skew=a[t++],n.scaleX=a[t++],n.scaleY=a[t++],2===this._tweenState?(this._frameIndex===this._frameCount-1&&(t=this._animationData.frameFloatOffset+this._frameValueOffset),r.x=a[t++]*i-n.x,r.y=a[t++]*i-n.y,r.rotation=a[t++]-n.rotation,r.skew=a[t++]-n.skew,r.scaleX=a[t++]-n.scaleX,r.scaleY=a[t++]-n.scaleY):(r.x=0,r.y=0,r.rotation=0,r.skew=0,r.scaleX=0,r.scaleY=0)}else{var n=this.bonePose.current,r=this.bonePose.delta;n.x=0,n.y=0,n.rotation=0,n.skew=0,n.scaleX=1,n.scaleY=1,r.x=0,r.y=0,r.rotation=0,r.skew=0,r.scaleX=0,r.scaleY=0}},i.prototype._onUpdateFrame=function(){e.prototype._onUpdateFrame.call(this);var t=this.bonePose.current,i=this.bonePose.delta,a=this.bonePose.result;this.bone._transformDirty=!0,2!==this._tweenState&&(this._tweenState=0),a.x=t.x+i.x*this._tweenProgress,a.y=t.y+i.y*this._tweenProgress,a.rotation=t.rotation+i.rotation*this._tweenProgress,a.skew=t.skew+i.skew*this._tweenProgress,a.scaleX=t.scaleX+i.scaleX*this._tweenProgress,a.scaleY=t.scaleY+i.scaleY*this._tweenProgress},i.prototype.fadeOut=function(){var e=this.bonePose.result;e.rotation=t.Transform.normalizeRadian(e.rotation),e.skew=t.Transform.normalizeRadian(e.skew)},i}(t.BoneTimelineState);t.BoneAllTimelineState=a;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.BoneTranslateTimelineState]"},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.frameFloatOffset+this._frameValueOffset+2*this._frameIndex,i=this._armature._armatureData.scale,a=this._frameFloatArray,n=this.bonePose.current,r=this.bonePose.delta;n.x=a[e++]*i,n.y=a[e++]*i,2===this._tweenState?(this._frameIndex===this._frameCount-1&&(e=this._animationData.frameFloatOffset+this._frameValueOffset),r.x=a[e++]*i-n.x,r.y=a[e++]*i-n.y):(r.x=0,r.y=0)}else{var n=this.bonePose.current,r=this.bonePose.delta;n.x=0,n.y=0,r.x=0,r.y=0}},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.bonePose.current,i=this.bonePose.delta,a=this.bonePose.result;this.bone._transformDirty=!0,2!==this._tweenState&&(this._tweenState=0),a.x=e.x+i.x*this._tweenProgress,a.y=e.y+i.y*this._tweenProgress},e}(t.BoneTimelineState);t.BoneTranslateTimelineState=n;var r=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneRotateTimelineState]"},i.prototype._onArriveAtFrame=function(){if(e.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var i=this._animationData.frameFloatOffset+this._frameValueOffset+2*this._frameIndex,a=this._frameFloatArray,n=this.bonePose.current,r=this.bonePose.delta;n.rotation=a[i++],n.skew=a[i++],2===this._tweenState?(this._frameIndex===this._frameCount-1?(i=this._animationData.frameFloatOffset+this._frameValueOffset,r.rotation=t.Transform.normalizeRadian(a[i++]-n.rotation)):r.rotation=a[i++]-n.rotation,r.skew=a[i++]-n.skew):(r.rotation=0,r.skew=0)}else{var n=this.bonePose.current,r=this.bonePose.delta;n.rotation=0,n.skew=0,r.rotation=0,r.skew=0}},i.prototype._onUpdateFrame=function(){e.prototype._onUpdateFrame.call(this);var t=this.bonePose.current,i=this.bonePose.delta,a=this.bonePose.result;this.bone._transformDirty=!0,2!==this._tweenState&&(this._tweenState=0),a.rotation=t.rotation+i.rotation*this._tweenProgress,a.skew=t.skew+i.skew*this._tweenProgress},i.prototype.fadeOut=function(){var e=this.bonePose.result;e.rotation=t.Transform.normalizeRadian(e.rotation),e.skew=t.Transform.normalizeRadian(e.skew)},i}(t.BoneTimelineState);t.BoneRotateTimelineState=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.BoneScaleTimelineState]"},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.frameFloatOffset+this._frameValueOffset+2*this._frameIndex,i=this._frameFloatArray,a=this.bonePose.current,n=this.bonePose.delta;a.scaleX=i[e++],a.scaleY=i[e++],2===this._tweenState?(this._frameIndex===this._frameCount-1&&(e=this._animationData.frameFloatOffset+this._frameValueOffset),n.scaleX=i[e++]-a.scaleX,n.scaleY=i[e++]-a.scaleY):(n.scaleX=0,n.scaleY=0)}else{var a=this.bonePose.current,n=this.bonePose.delta;a.scaleX=1,a.scaleY=1,n.scaleX=0,n.scaleY=0}},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.bonePose.current,i=this.bonePose.delta,a=this.bonePose.result;this.bone._transformDirty=!0,2!==this._tweenState&&(this._tweenState=0),a.scaleX=e.scaleX+i.scaleX*this._tweenProgress,a.scaleY=e.scaleY+i.scaleY*this._tweenProgress},e}(t.BoneTimelineState);t.BoneScaleTimelineState=s;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._current=[],e._delta=[],e._result=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.SurfaceTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.surface=null,this._frameFloatOffset=0,this._valueCount=0,this._deformCount=0,this._valueOffset=0,this._current.length=0,this._delta.length=0,this._result.length=0},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.frameFloatOffset+this._frameValueOffset+this._frameIndex*this._valueCount,i=this._armature._armatureData.scale,a=this._frameFloatArray;if(2===this._tweenState){var n=e+this._valueCount;this._frameIndex===this._frameCount-1&&(n=this._animationData.frameFloatOffset+this._frameValueOffset);for(var r=0;r<this._valueCount;++r)this._delta[r]=a[n+r]*i-(this._current[r]=a[e+r]*i)}else for(var r=0;r<this._valueCount;++r)this._current[r]=a[e+r]*i}else for(var r=0;r<this._valueCount;++r)this._current[r]=0},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this.surface._transformDirty=!0,2!==this._tweenState&&(this._tweenState=0);for(var e=0;e<this._valueCount;++e)this._result[e]=this._current[e]+this._delta[e]*this._tweenProgress},e.prototype.init=function(e,i,a){if(t.prototype.init.call(this,e,i,a),null!==this._timelineData){var n=this._animationData.frameIntOffset+this._timelineArray[this._timelineData.offset+3];this._deformCount=this._frameIntArray[n+1],this._valueCount=this._frameIntArray[n+2],this._valueOffset=this._frameIntArray[n+3],this._frameFloatOffset=this._frameIntArray[n+4]+this._animationData.frameFloatOffset}else this._deformCount=this.surface._deformVertices.length,this._valueCount=this._deformCount,this._valueOffset=0,this._frameFloatOffset=0;this._current.length=this._valueCount,this._delta.length=this._valueCount,this._result.length=this._valueCount;for(var r=0;r<this._valueCount;++r)this._delta[r]=0},e.prototype.blend=function(t){for(var e=this.surface._blendState.blendWeight,i=this.surface._deformVertices,a=0;a<this._deformCount;++a){var n=0;n=a<this._valueOffset?this._frameFloatArray[this._frameFloatOffset+a]:a<this._valueOffset+this._valueCount?this._result[a-this._valueOffset]:this._frameFloatArray[this._frameFloatOffset+a-this._valueCount],2===t?i[a]+=n*e:1!==e?i[a]=n*e:i[a]=n}(0!==this._animationState._fadeState||0!==this._animationState._subFadeState)&&(this.surface._transformDirty=!0)},e}(t.TweenTimelineState);t.SurfaceTimelineState=o;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.SlotDislayTimelineState]"},e.prototype._onArriveAtFrame=function(){if(this.playState>=0){var t=null!==this._timelineData?this._frameArray[this._frameOffset+1]:this.slot._slotData.displayIndex;this.slot.displayIndex!==t&&this.slot._setDisplayIndex(t,!0)}},e}(t.SlotTimelineState);t.SlotDislayTimelineState=l;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._current=[0,0,0,0,0,0,0,0],e._delta=[0,0,0,0,0,0,0,0],e._result=[0,0,0,0,0,0,0,0],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.SlotColorTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._dirty=!1},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._dragonBonesData.intArray,i=this._frameIntArray,a=this._animationData.frameIntOffset+this._frameValueOffset+1*this._frameIndex,n=i[a];0>n&&(n+=65536),this._current[0]=e[n++],this._current[1]=e[n++],this._current[2]=e[n++],this._current[3]=e[n++],this._current[4]=e[n++],this._current[5]=e[n++],this._current[6]=e[n++],this._current[7]=e[n++],2===this._tweenState&&(n=this._frameIndex===this._frameCount-1?i[this._animationData.frameIntOffset+this._frameValueOffset]:i[a+1],0>n&&(n+=65536),this._delta[0]=e[n++]-this._current[0],this._delta[1]=e[n++]-this._current[1],this._delta[2]=e[n++]-this._current[2],this._delta[3]=e[n++]-this._current[3],this._delta[4]=e[n++]-this._current[4],this._delta[5]=e[n++]-this._current[5],this._delta[6]=e[n++]-this._current[6],this._delta[7]=e[n++]-this._current[7])}else{var r=this.slot._slotData.color;this._current[0]=100*r.alphaMultiplier,this._current[1]=100*r.redMultiplier,this._current[2]=100*r.greenMultiplier,this._current[3]=100*r.blueMultiplier,this._current[4]=r.alphaOffset,this._current[5]=r.redOffset,this._current[6]=r.greenOffset,this._current[7]=r.blueOffset}},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this._dirty=!0,2!==this._tweenState&&(this._tweenState=0),this._result[0]=.01*(this._current[0]+this._delta[0]*this._tweenProgress),this._result[1]=.01*(this._current[1]+this._delta[1]*this._tweenProgress),this._result[2]=.01*(this._current[2]+this._delta[2]*this._tweenProgress),this._result[3]=.01*(this._current[3]+this._delta[3]*this._tweenProgress),this._result[4]=this._current[4]+this._delta[4]*this._tweenProgress,this._result[5]=this._current[5]+this._delta[5]*this._tweenProgress,this._result[6]=this._current[6]+this._delta[6]*this._tweenProgress,this._result[7]=this._current[7]+this._delta[7]*this._tweenProgress},e.prototype.fadeOut=function(){this._tweenState=0,this._dirty=!1},e.prototype.update=function(e){if(t.prototype.update.call(this,e),0!==this._tweenState||this._dirty){var i=this.slot._colorTransform;if(0!==this._animationState._fadeState||0!==this._animationState._subFadeState){if(i.alphaMultiplier!==this._result[0]||i.redMultiplier!==this._result[1]||i.greenMultiplier!==this._result[2]||i.blueMultiplier!==this._result[3]||i.alphaOffset!==this._result[4]||i.redOffset!==this._result[5]||i.greenOffset!==this._result[6]||i.blueOffset!==this._result[7]){var a=Math.pow(this._animationState._fadeProgress,4);i.alphaMultiplier+=(this._result[0]-i.alphaMultiplier)*a,i.redMultiplier+=(this._result[1]-i.redMultiplier)*a,i.greenMultiplier+=(this._result[2]-i.greenMultiplier)*a,i.blueMultiplier+=(this._result[3]-i.blueMultiplier)*a,i.alphaOffset+=(this._result[4]-i.alphaOffset)*a,i.redOffset+=(this._result[5]-i.redOffset)*a,i.greenOffset+=(this._result[6]-i.greenOffset)*a,i.blueOffset+=(this._result[7]-i.blueOffset)*a,this.slot._colorDirty=!0}}else this._dirty&&(this._dirty=!1,(i.alphaMultiplier!==this._result[0]||i.redMultiplier!==this._result[1]||i.greenMultiplier!==this._result[2]||i.blueMultiplier!==this._result[3]||i.alphaOffset!==this._result[4]||i.redOffset!==this._result[5]||i.greenOffset!==this._result[6]||i.blueOffset!==this._result[7])&&(i.alphaMultiplier=this._result[0],i.redMultiplier=this._result[1],i.greenMultiplier=this._result[2],i.blueMultiplier=this._result[3],i.alphaOffset=this._result[4],i.redOffset=this._result[5],i.greenOffset=this._result[6],i.blueOffset=this._result[7],this.slot._colorDirty=!0))}},e}(t.SlotTimelineState);t.SlotColorTimelineState=h;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._current=[],e._delta=[],e._result=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.DeformTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.vertexOffset=0,this._dirty=!1,this._frameFloatOffset=0,this._valueCount=0,this._deformCount=0,this._valueOffset=0,this._current.length=0,this._delta.length=0,this._result.length=0},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.frameFloatOffset+this._frameValueOffset+this._frameIndex*this._valueCount,i=this._armature._armatureData.scale,a=this._frameFloatArray;if(2===this._tweenState){var n=e+this._valueCount;this._frameIndex===this._frameCount-1&&(n=this._animationData.frameFloatOffset+this._frameValueOffset);for(var r=0;r<this._valueCount;++r)this._delta[r]=a[n+r]*i-(this._current[r]=a[e+r]*i)}else for(var r=0;r<this._valueCount;++r)this._current[r]=a[e+r]*i}else for(var r=0;r<this._valueCount;++r)this._current[r]=0},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this._dirty=!0,2!==this._tweenState&&(this._tweenState=0);for(var e=0;e<this._valueCount;++e)this._result[e]=this._current[e]+this._delta[e]*this._tweenProgress},e.prototype.init=function(e,i,a){if(t.prototype.init.call(this,e,i,a),null!==this._timelineData){var n=this._animationData.frameIntOffset+this._timelineArray[this._timelineData.offset+3];this.vertexOffset=this._frameIntArray[n+0],this.vertexOffset<0&&(this.vertexOffset+=65536),this._deformCount=this._frameIntArray[n+1],this._valueCount=this._frameIntArray[n+2],this._valueOffset=this._frameIntArray[n+3],this._frameFloatOffset=this._frameIntArray[n+4]+this._animationData.frameFloatOffset}else{var r=this.slot._deformVertices;this._deformCount=null!==r?r.vertices.length:0,this._valueCount=this._deformCount,this._valueOffset=0,this._frameFloatOffset=0}this._current.length=this._valueCount,this._delta.length=this._valueCount,this._result.length=this._valueCount;for(var s=0;s<this._valueCount;++s)this._delta[s]=0},e.prototype.fadeOut=function(){this._tweenState=0,this._dirty=!1},e.prototype.update=function(e){var i=this.slot._deformVertices;if(null!==i&&null!==i.verticesData&&i.verticesData.offset===this.vertexOffset&&(t.prototype.update.call(this,e),0!==this._tweenState||this._dirty)){var a=i.vertices;if(0!==this._animationState._fadeState||0!==this._animationState._subFadeState){for(var n=Math.pow(this._animationState._fadeProgress,2),r=0;r<this._deformCount;++r)r<this._valueOffset?a[r]+=(this._frameFloatArray[this._frameFloatOffset+r]-a[r])*n:r<this._valueOffset+this._valueCount?a[r]+=(this._result[r-this._valueOffset]-a[r])*n:a[r]+=(this._frameFloatArray[this._frameFloatOffset+r-this._valueCount]-a[r])*n;i.verticesDirty=!0}else if(this._dirty){this._dirty=!1;for(var r=0;r<this._deformCount;++r)r<this._valueOffset?a[r]=this._frameFloatArray[this._frameFloatOffset+r]:r<this._valueOffset+this._valueCount?a[r]=this._result[r-this._valueOffset]:a[r]=this._frameFloatArray[this._frameFloatOffset+r-this._valueCount];i.verticesDirty=!0}}},e}(t.SlotTimelineState);t.DeformTimelineState=p;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.IKConstraintTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._current=0,this._delta=0},e.prototype._onArriveAtFrame=function(){t.prototype._onArriveAtFrame.call(this);var e=this.constraint;if(null!==this._timelineData){var i=this._animationData.frameIntOffset+this._frameValueOffset+2*this._frameIndex,a=this._frameIntArray,n=0!==a[i++];this._current=.01*a[i++],2===this._tweenState?(this._frameIndex===this._frameCount-1&&(i=this._animationData.frameIntOffset+this._frameValueOffset),this._delta=.01*a[i+1]-this._current):this._delta=0,e._bendPositive=n}else{var r=e._constraintData;this._current=r.weight,this._delta=0,e._bendPositive=r.bendPositive}e.invalidUpdate()},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),2!==this._tweenState&&(this._tweenState=0);var e=this.constraint;e._weight=this._current+this._delta*this._tweenProgress,e.invalidUpdate()},e}(t.ConstraintTimelineState);t.IKConstraintTimelineState=u;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._floats=[0,0,0,0,0,0],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.AnimationTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.animationState=null},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.frameIntOffset+this._frameValueOffset+2*this._frameIndex,i=1/this.animationState._animationData.parent.frameRate,a=this._frameIntArray;this._floats[0]=a[e++]*i,this._floats[3]=.01*a[e++],2===this._tweenState?(this._frameIndex===this._frameCount-1&&(e=this._animationData.frameIntOffset+this._frameValueOffset),this._floats[1]=a[e++]*i-this._floats[0],this._floats[4]=.01*a[e++]-this._floats[3]):(this._floats[1]=0,this._floats[4]=0)}},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),2!==this._tweenState&&(this._tweenState=0),this._floats[0]>=0&&(this._floats[2]=this._floats[0]+this._floats[1]*this._tweenProgress),this._floats[5]=this._floats[3]+this._floats[4]*this._tweenProgress},e.prototype.blend=function(t){var e=this.animationState,i=e._blendState.blendWeight;2===t?(e.weight+=this._floats[5]*i,e.currentTime+=this._floats[2]*i):(e.weight=this._floats[5]*i,e.currentTime=this._floats[2]*i)},e}(t.TweenTimelineState);t.AnimationTimelineState=c}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.actionDataToInstance=function(t,i,a){0===t.type?i.type=e.FRAME_EVENT:i.type=10===t.type?e.FRAME_EVENT:e.SOUND_EVENT,i.name=t.name,i.armature=a,i.actionData=t,i.data=t.data,null!==t.bone&&(i.bone=a.getBone(t.bone.name)),null!==t.slot&&(i.slot=a.getSlot(t.slot.name))},e.toString=function(){return"[class dragonBones.EventObject]"},e.prototype._onClear=function(){this.time=0,this.type="",this.name="",this.armature=null,this.bone=null,this.slot=null,this.animationState=null,this.actionData=null,this.data=null},e.START="start",e.LOOP_COMPLETE="loopComplete",e.COMPLETE="complete",e.FADE_IN="fadeIn",e.FADE_IN_COMPLETE="fadeInComplete",e.FADE_OUT="fadeOut",e.FADE_OUT_COMPLETE="fadeOutComplete",e.FRAME_EVENT="frameEvent",e.SOUND_EVENT="soundEvent",e}(t.BaseObject);t.EventObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(){}return e._getArmatureType=function(t){switch(t.toLowerCase()){case"stage":return 2;case"armature":return 0;case"movieclip":return 1;default:return 0}},e._getBoneType=function(t){switch(t.toLowerCase()){case"bone":return 0;case"surface":return 1;default:return 0}},e._getDisplayType=function(t){switch(t.toLowerCase()){case"image":return 0;case"mesh":return 2;case"armature":return 1;case"boundingbox":return 3;case"path":return 4;default:return 0}},e._getBoundingBoxType=function(t){switch(t.toLowerCase()){case"rectangle":return 0;case"ellipse":return 1;case"polygon":return 2;default:return 0}},e._getActionType=function(t){switch(t.toLowerCase()){case"play":return 0;case"frame":return 10;case"sound":return 11;default:return 0}},e._getBlendMode=function(t){switch(t.toLowerCase()){case"normal":return 0;case"add":return 1;case"alpha":return 2;case"darken":return 3;case"difference":return 4;case"erase":return 5;case"hardlight":return 6;case"invert":return 7;case"layer":return 8;case"lighten":return 9;case"multiply":return 10;case"overlay":return 11;case"screen":return 12;case"subtract":return 13;default:return 0}},e._getPositionMode=function(t){switch(t.toLocaleLowerCase()){case"percent":return 1;case"fixed":return 0;default:return 1}},e._getSpacingMode=function(t){switch(t.toLocaleLowerCase()){case"length":return 0;case"percent":return 2;case"fixed":return 1;default:return 0}},e._getRotateMode=function(t){switch(t.toLocaleLowerCase()){case"tangent":return 0;case"chain":return 1;case"chainscale":return 2;default:return 0}},e.parseDragonBonesData=function(e){return console.warn("Deprecated."),e instanceof ArrayBuffer?t.BinaryDataParser.getInstance().parseDragonBonesData(e):t.ObjectDataParser.getInstance().parseDragonBonesData(e)},e.parseTextureAtlasData=function(i,a){void 0===a&&(a=1),console.warn("已废弃");for(var n={},r=i[e.SUB_TEXTURE],s=0,o=r.length;o>s;s++){var l=r[s],h=l[e.NAME],p=new t.Rectangle,u=null;p.x=l[e.X]/a,p.y=l[e.Y]/a,p.width=l[e.WIDTH]/a,p.height=l[e.HEIGHT]/a,e.FRAME_WIDTH in l&&(u=new t.Rectangle,u.x=l[e.FRAME_X]/a,u.y=l[e.FRAME_Y]/a,u.width=l[e.FRAME_WIDTH]/a,u.height=l[e.FRAME_HEIGHT]/a),n[h]={region:p,frame:u,rotated:!1}}return n},e.DATA_VERSION_2_3="2.3",e.DATA_VERSION_3_0="3.0",e.DATA_VERSION_4_0="4.0",e.DATA_VERSION_4_5="4.5",e.DATA_VERSION_5_0="5.0",e.DATA_VERSION_5_5="5.5",e.DATA_VERSION=e.DATA_VERSION_5_5,e.DATA_VERSIONS=[e.DATA_VERSION_4_0,e.DATA_VERSION_4_5,e.DATA_VERSION_5_0,e.DATA_VERSION_5_5],e.TEXTURE_ATLAS="textureAtlas",e.SUB_TEXTURE="SubTexture",e.FORMAT="format",e.IMAGE_PATH="imagePath",e.WIDTH="width",e.HEIGHT="height",e.ROTATED="rotated",e.FRAME_X="frameX",e.FRAME_Y="frameY",e.FRAME_WIDTH="frameWidth",e.FRAME_HEIGHT="frameHeight",e.DRADON_BONES="dragonBones",e.USER_DATA="userData",e.ARMATURE="armature",e.BONE="bone",e.SURFACE="surface",e.SLOT="slot",e.CONSTRAINT="constraint",e.IK="ik",e.PATH_CONSTRAINT="path",e.SKIN="skin",e.DISPLAY="display",e.ANIMATION="animation",e.Z_ORDER="zOrder",e.FFD="ffd",e.FRAME="frame",e.TRANSLATE_FRAME="translateFrame",e.ROTATE_FRAME="rotateFrame",e.SCALE_FRAME="scaleFrame",e.DISPLAY_FRAME="displayFrame",e.COLOR_FRAME="colorFrame",e.DEFAULT_ACTIONS="defaultActions",e.ACTIONS="actions",e.EVENTS="events",e.INTS="ints",e.FLOATS="floats",e.STRINGS="strings",e.CANVAS="canvas",e.TRANSFORM="transform",e.PIVOT="pivot",e.AABB="aabb",e.COLOR="color",e.VERSION="version",e.COMPATIBLE_VERSION="compatibleVersion",e.FRAME_RATE="frameRate",e.TYPE="type",e.SUB_TYPE="subType",e.NAME="name",e.PARENT="parent",e.TARGET="target",e.STAGE="stage",e.SHARE="share",e.PATH="path",e.LENGTH="length",e.DISPLAY_INDEX="displayIndex",e.BLEND_MODE="blendMode",e.INHERIT_TRANSLATION="inheritTranslation",e.INHERIT_ROTATION="inheritRotation",e.INHERIT_SCALE="inheritScale",e.INHERIT_REFLECTION="inheritReflection",e.INHERIT_ANIMATION="inheritAnimation",e.INHERIT_DEFORM="inheritDeform",e.SEGMENT_X="segmentX",e.SEGMENT_Y="segmentY",e.BEND_POSITIVE="bendPositive",e.CHAIN="chain",e.WEIGHT="weight",e.FADE_IN_TIME="fadeInTime",e.PLAY_TIMES="playTimes",e.SCALE="scale",e.OFFSET="offset",e.POSITION="position",e.DURATION="duration",e.TWEEN_EASING="tweenEasing",e.TWEEN_ROTATE="tweenRotate",e.TWEEN_SCALE="tweenScale",e.CLOCK_WISE="clockwise",e.CURVE="curve",e.SOUND="sound",e.EVENT="event",e.ACTION="action",e.X="x",e.Y="y",e.SKEW_X="skX",e.SKEW_Y="skY",e.SCALE_X="scX",e.SCALE_Y="scY",e.VALUE="value",e.ROTATE="rotate",e.SKEW="skew",e.ALPHA_OFFSET="aO",e.RED_OFFSET="rO",e.GREEN_OFFSET="gO",e.BLUE_OFFSET="bO",e.ALPHA_MULTIPLIER="aM",e.RED_MULTIPLIER="rM",e.GREEN_MULTIPLIER="gM",e.BLUE_MULTIPLIER="bM",e.UVS="uvs",e.VERTICES="vertices",e.TRIANGLES="triangles",e.WEIGHTS="weights",e.SLOT_POSE="slotPose",e.BONE_POSE="bonePose",e.GLUE_WEIGHTS="glueWeights",e.GLUE_MESHES="glueMeshes",e.BONES="bones",e.POSITION_MODE="positionMode",e.SPACING_MODE="spacingMode",e.ROTATE_MODE="rotateMode",e.SPACING="spacing",e.ROTATE_OFFSET="rotateOffset",e.ROTATE_MIX="rotateMix",e.TRANSLATE_MIX="translateMix",e.TARGET_DISPLAY="targetDisplay",e.CLOSED="closed",e.CONSTANT_SPEED="constantSpeed",e.VERTEX_COUNT="vertexCount",e.LENGTHS="lengths",e.GOTO_AND_PLAY="a1484",e.DEFAULT_NAME="default",e}();t.DataParser=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function a(){var i=null!==e&&e.apply(this,arguments)||this;return i._rawTextureAtlasIndex=0,i._rawBones=[],i._data=null,i._armature=null,i._bone=null,i._surface=null,i._slot=null,i._skin=null,i._mesh=null,i._animation=null,i._timeline=null,i._rawTextureAtlases=null,i._defaultColorOffset=-1,i._prevClockwise=0,i._prevRotation=0,i._helpMatrixA=new t.Matrix,i._helpMatrixB=new t.Matrix,i._helpTransform=new t.Transform,i._helpColorTransform=new t.ColorTransform,i._helpPoint=new t.Point,i._helpArray=[],i._intArray=[],i._floatArray=[],i._frameIntArray=[],i._frameFloatArray=[],i._frameArray=[],i._timelineArray=[],i._cacheRawMeshes=[],i._cacheMeshes=[],i._actionFrames=[],i._weightSlotPose={},i._weightBonePoses={},i._cacheBones={},i._slotChildActions={},i}return __extends(a,e),a._getBoolean=function(t,e,i){if(e in t){var a=t[e],n=typeof a;if("boolean"===n)return a;if("string"!==n)return!!a;switch(a){case"0":case"NaN":case"":case"false":case"null":case"undefined":return!1;
default:return!0}}return i},a._getNumber=function(t,e,i){if(e in t){var a=t[e];return null===a||"NaN"===a?i:+a||0}return i},a._getString=function(e,i,a){if(i in e){var n=e[i],r=typeof n;if("string"===r){if(t.DragonBones.webAssembly)for(var s=0,o=n.length;o>s;++s)if(n.charCodeAt(s)>255)return encodeURI(n);return n}return String(n)}return a},a.prototype._getCurvePoint=function(t,e,i,a,n,r,s,o,l,h){var p=1-l,u=p*p,c=l*l,d=p*u,g=3*l*u,f=3*p*c,m=l*c;h.x=d*t+g*i+f*n+m*s,h.y=d*e+g*a+f*r+m*o},a.prototype._samplingEasingCurve=function(t,e){for(var i=t.length,a=-2,n=0,r=e.length;r>n;++n){for(var s=(n+1)/(r+1);(i>a+6?t[a+6]:1)<s;)a+=6;for(var o=a>=0&&i>a+6,l=o?t[a]:0,h=o?t[a+1]:0,p=t[a+2],u=t[a+3],c=t[a+4],d=t[a+5],g=o?t[a+6]:1,f=o?t[a+7]:1,m=0,v=1;v-m>1e-4;){var y=.5*(v+m);this._getCurvePoint(l,h,p,u,c,d,g,f,y,this._helpPoint),s-this._helpPoint.x>0?m=y:v=y}e[n]=this._helpPoint.y}},a.prototype._parseActionDataInFrame=function(e,i,a,n){t.DataParser.EVENT in e&&this._mergeActionFrame(e[t.DataParser.EVENT],i,10,a,n),t.DataParser.SOUND in e&&this._mergeActionFrame(e[t.DataParser.SOUND],i,11,a,n),t.DataParser.ACTION in e&&this._mergeActionFrame(e[t.DataParser.ACTION],i,0,a,n),t.DataParser.EVENTS in e&&this._mergeActionFrame(e[t.DataParser.EVENTS],i,10,a,n),t.DataParser.ACTIONS in e&&this._mergeActionFrame(e[t.DataParser.ACTIONS],i,0,a,n)},a.prototype._mergeActionFrame=function(e,a,n,r,s){for(var o=t.DragonBones.webAssembly?this._armature.actions.size():this._armature.actions.length,l=this._parseActionData(e,n,r,s),h=0,p=null,u=0,c=l;u<c.length;u++){var d=c[u];this._armature.a1778(d,!1)}0===this._actionFrames.length&&(p=new i,p.frameStart=0,this._actionFrames.push(p),p=null);for(var g=0,f=this._actionFrames;g<f.length;g++){var m=f[g];if(m.frameStart===a){p=m;break}if(m.frameStart>a)break;h++}null===p&&(p=new i,p.frameStart=a,this._actionFrames.splice(h+1,0,p));for(var v=0;v<l.length;++v)p.actions.push(o+v)},a.prototype._parseArmature=function(e,i){var n=t.BaseObject.borrowObject(t.ArmatureData);if(n.name=a._getString(e,t.DataParser.NAME,""),n.frameRate=a._getNumber(e,t.DataParser.FRAME_RATE,this._data.frameRate),n.scale=i,t.DataParser.TYPE in e&&"string"==typeof e[t.DataParser.TYPE]?n.type=t.DataParser._getArmatureType(e[t.DataParser.TYPE]):n.type=a._getNumber(e,t.DataParser.TYPE,0),0===n.frameRate&&(n.frameRate=24),this._armature=n,t.DataParser.CANVAS in e){var r=e[t.DataParser.CANVAS],s=t.BaseObject.borrowObject(t.CanvasData);t.DataParser.COLOR in r?s.hasBackground=!0:s.hasBackground=!1,s.color=a._getNumber(r,t.DataParser.COLOR,0),s.x=a._getNumber(r,t.DataParser.X,0)*n.scale,s.y=a._getNumber(r,t.DataParser.Y,0)*n.scale,s.width=a._getNumber(r,t.DataParser.WIDTH,0)*n.scale,s.height=a._getNumber(r,t.DataParser.HEIGHT,0)*n.scale,n.canvas=s}if(t.DataParser.AABB in e){var o=e[t.DataParser.AABB];n.aabb.x=a._getNumber(o,t.DataParser.X,0)*n.scale,n.aabb.y=a._getNumber(o,t.DataParser.Y,0)*n.scale,n.aabb.width=a._getNumber(o,t.DataParser.WIDTH,0)*n.scale,n.aabb.height=a._getNumber(o,t.DataParser.HEIGHT,0)*n.scale}if(t.DataParser.BONE in e)for(var l=e[t.DataParser.BONE],h=0,p=l;h<p.length;h++){var u=p[h],c=a._getString(u,t.DataParser.PARENT,""),d=this._parseBone(u);if(c.length>0){var g=n.getBone(c);null!==g?d.parent=g:(c in this._cacheBones||(this._cacheBones[c]=[]),this._cacheBones[c].push(d))}if(d.name in this._cacheBones){for(var f=0,m=this._cacheBones[d.name];f<m.length;f++){var v=m[f];v.parent=d}delete this._cacheBones[d.name]}n.addBone(d),this._rawBones.push(d)}if(t.DataParser.IK in e)for(var y=e[t.DataParser.IK],b=0,_=y;b<_.length;b++){var A=_[b],T=this._parseIKConstraint(A);T&&n.a1775(T)}if(n.a1769(),t.DataParser.SLOT in e)for(var C=0,w=e[t.DataParser.SLOT],x=0,I=w;x<I.length;x++){var D=I[x];n.addSlot(this._parseSlot(D,C++))}if(t.DataParser.SKIN in e)for(var E=e[t.DataParser.SKIN],S=0,G=E;S<G.length;S++){var P=G[S];n.a1776(this._parseSkin(P))}if(t.DataParser.PATH_CONSTRAINT in e)for(var k=e[t.DataParser.PATH_CONSTRAINT],M=0,L=k;M<L.length;M++){var O=L[M],T=this._parsePathConstraint(O);T&&n.a1775(T)}for(var B=0,R=this._cacheRawMeshes.length;R>B;++B){var U=this._cacheRawMeshes[B];t.DataParser.GLUE_WEIGHTS in U&&t.DataParser.GLUE_MESHES in U&&this._parseMeshGlue(U,this._cacheMeshes[B])}for(var B=0,R=this._cacheRawMeshes.length;R>B;++B){var F=this._cacheRawMeshes[B],V=a._getString(F,t.DataParser.SHARE,"");if(0!==V.length){var $=a._getString(F,t.DataParser.SKIN,t.DataParser.DEFAULT_NAME);0===$.length&&($=t.DataParser.DEFAULT_NAME);var N=n.getMesh($,"",V);if(null!==N){var j=this._cacheMeshes[B];j.vertices.a1789(N.vertices)}}}if(t.DataParser.ANIMATION in e)for(var H=e[t.DataParser.ANIMATION],z=0,X=H;z<X.length;z++){var Y=X[z],W=this._parseAnimation(Y);n.a1777(W)}if(t.DataParser.DEFAULT_ACTIONS in e)for(var q=this._parseActionData(e[t.DataParser.DEFAULT_ACTIONS],0,null,null),K=0,Z=q;K<Z.length;K++){var J=Z[K];if(n.a1778(J,!0),0===J.type){var W=n.getAnimation(J.name);null!==W&&(n.defaultAnimation=W)}}if(t.DataParser.ACTIONS in e)for(var q=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null),Q=0,te=q;Q<te.length;Q++){var J=te[Q];n.a1778(J,!1)}this._rawBones.length=0,this._cacheRawMeshes.length=0,this._cacheMeshes.length=0,this._armature=null;for(var ee in this._weightSlotPose)delete this._weightSlotPose[ee];for(var ee in this._weightBonePoses)delete this._weightBonePoses[ee];for(var ee in this._cacheBones)delete this._cacheBones[ee];for(var ee in this._slotChildActions)delete this._slotChildActions[ee];return n},a.prototype._parseBone=function(e){var i=0,n=this._armature.scale;if(i=t.DataParser.TYPE in e&&"string"==typeof e[t.DataParser.TYPE]?t.DataParser._getBoneType(e[t.DataParser.TYPE]):a._getNumber(e,t.DataParser.TYPE,0),0===i){var r=t.BaseObject.borrowObject(t.BoneData);return r.inheritTranslation=a._getBoolean(e,t.DataParser.INHERIT_TRANSLATION,!0),r.inheritRotation=a._getBoolean(e,t.DataParser.INHERIT_ROTATION,!0),r.inheritScale=a._getBoolean(e,t.DataParser.INHERIT_SCALE,!0),r.inheritReflection=a._getBoolean(e,t.DataParser.INHERIT_REFLECTION,!0),r.length=a._getNumber(e,t.DataParser.LENGTH,0)*n,r.name=a._getString(e,t.DataParser.NAME,""),t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],r.transform,n),r}var s=t.BaseObject.borrowObject(t.SurfaceData);if(s.name=a._getString(e,t.DataParser.NAME,""),s.segmentX=a._getNumber(e,t.DataParser.SEGMENT_X,0),s.segmentY=a._getNumber(e,t.DataParser.SEGMENT_Y,0),s.vertices.length=(s.segmentX+1)*(s.segmentY+1)*2,t.DataParser.VERTICES in e)for(var o=e[t.DataParser.VERTICES],l=0,h=s.vertices.length;h>l;++l)l<o.length?s.vertices[l]=o[l]*n:s.vertices[l]=0;return s},a.prototype._parseIKConstraint=function(e){var i=this._armature.getBone(a._getString(e,t.DataParser.BONE,""));if(null===i)return null;var n=this._armature.getBone(a._getString(e,t.DataParser.TARGET,""));if(null===n)return null;var r=t.BaseObject.borrowObject(t.IKConstraintData);r.scaleEnabled=a._getBoolean(e,t.DataParser.SCALE,!1),r.bendPositive=a._getBoolean(e,t.DataParser.BEND_POSITIVE,!0),r.weight=a._getNumber(e,t.DataParser.WEIGHT,1),r.name=a._getString(e,t.DataParser.NAME,""),r.type=0,r.target=n;var s=a._getNumber(e,t.DataParser.CHAIN,0);return s>0&&null!==i.parent?(r.root=i.parent,r.bone=i):(r.root=i,r.bone=null),r},a.prototype._parsePathConstraint=function(e){var i=this._armature.getSlot(a._getString(e,t.DataParser.TARGET,""));if(null===i)return null;var n=this._armature.defaultSkin;if(null===n)return null;var r=n.a1786(i.name,a._getString(e,t.DataParser.TARGET_DISPLAY,i.name));if(null===r||!(r instanceof t.PathDisplayData))return null;var s=e[t.DataParser.BONES];if(null===s||0===s.length)return null;var o=t.BaseObject.borrowObject(t.PathConstraintData);o.name=a._getString(e,t.DataParser.NAME,""),o.type=1,o.pathSlot=i,o.pathDisplayData=r,o.target=i.parent,o.positionMode=t.DataParser._getPositionMode(a._getString(e,t.DataParser.POSITION_MODE,"")),o.spacingMode=t.DataParser._getSpacingMode(a._getString(e,t.DataParser.SPACING_MODE,"")),o.rotateMode=t.DataParser._getRotateMode(a._getString(e,t.DataParser.ROTATE_MODE,"")),o.position=a._getNumber(e,t.DataParser.POSITION,0),o.spacing=a._getNumber(e,t.DataParser.SPACING,0),o.rotateOffset=a._getNumber(e,t.DataParser.ROTATE_OFFSET,0),o.rotateMix=a._getNumber(e,t.DataParser.ROTATE_MIX,1),o.translateMix=a._getNumber(e,t.DataParser.TRANSLATE_MIX,1);for(var l=0,h=s;l<h.length;l++){var p=h[l],u=this._armature.getBone(p);null!==u&&(o.AddBone(u),null===o.root&&(o.root=u))}return o},a.prototype._parseSlot=function(e,i){var n=t.BaseObject.borrowObject(t.SlotData);return n.displayIndex=a._getNumber(e,t.DataParser.DISPLAY_INDEX,0),n.zOrder=i,n.name=a._getString(e,t.DataParser.NAME,""),n.parent=this._armature.getBone(a._getString(e,t.DataParser.PARENT,"")),t.DataParser.BLEND_MODE in e&&"string"==typeof e[t.DataParser.BLEND_MODE]?n.blendMode=t.DataParser._getBlendMode(e[t.DataParser.BLEND_MODE]):n.blendMode=a._getNumber(e,t.DataParser.BLEND_MODE,0),t.DataParser.COLOR in e?(n.color=t.SlotData.createColor(),this._parseColorTransform(e[t.DataParser.COLOR],n.color)):n.color=t.SlotData.DEFAULT_COLOR,t.DataParser.ACTIONS in e&&(this._slotChildActions[n.name]=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null)),n},a.prototype._parseSkin=function(e){var i=t.BaseObject.borrowObject(t.SkinData);if(i.name=a._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===i.name.length&&(i.name=t.DataParser.DEFAULT_NAME),t.DataParser.SLOT in e){var n=e[t.DataParser.SLOT];this._skin=i;for(var r=0,s=n;r<s.length;r++){var o=s[r],l=a._getString(o,t.DataParser.NAME,""),h=this._armature.getSlot(l);if(null!==h){if(this._slot=h,t.DataParser.DISPLAY in o)for(var p=o[t.DataParser.DISPLAY],u=0,c=p;u<c.length;u++){var d=c[u];d?i.a1785(l,this._parseDisplay(d)):i.a1785(l,null)}this._slot=null}}this._skin=null}return i},a.prototype._parseDisplay=function(e){var i=a._getString(e,t.DataParser.NAME,""),n=a._getString(e,t.DataParser.PATH,""),r=0,s=null;switch(r=t.DataParser.TYPE in e&&"string"==typeof e[t.DataParser.TYPE]?t.DataParser._getDisplayType(e[t.DataParser.TYPE]):a._getNumber(e,t.DataParser.TYPE,r)){case 0:var o=s=t.BaseObject.borrowObject(t.ImageDisplayData);o.name=i,o.path=n.length>0?n:i,this._parsePivot(e,o);break;case 1:var l=s=t.BaseObject.borrowObject(t.ArmatureDisplayData);if(l.name=i,l.path=n.length>0?n:i,l.inheritAnimation=!0,t.DataParser.ACTIONS in e)for(var h=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null),p=0,u=h;p<u.length;p++){var c=u[p];l.a1778(c)}else if(this._slot.name in this._slotChildActions){var d=this._skin.a1787(this._slot.name);if(null===d?0===this._slot.displayIndex:this._slot.displayIndex===d.length){for(var g=0,f=this._slotChildActions[this._slot.name];g<f.length;g++){var c=f[g];l.a1778(c)}delete this._slotChildActions[this._slot.name]}}break;case 2:var m=s=t.BaseObject.borrowObject(t.MeshDisplayData);m.vertices.inheritDeform=a._getBoolean(e,t.DataParser.INHERIT_DEFORM,!0),m.name=i,m.path=n.length>0?n:i,m.vertices.data=this._data,t.DataParser.SHARE in e?(this._cacheRawMeshes.push(e),this._cacheMeshes.push(m)):this._parseMesh(e,m),t.DataParser.GLUE_WEIGHTS in e&&t.DataParser.GLUE_MESHES in e&&(this._cacheRawMeshes.push(e),this._cacheMeshes.push(m));break;case 3:var v=this._parseBoundingBox(e);if(null!==v){var y=s=t.BaseObject.borrowObject(t.BoundingBoxDisplayData);y.name=i,y.path=n.length>0?n:i,y.boundingBox=v}break;case 4:var b=e[t.DataParser.LENGTHS],_=s=t.BaseObject.borrowObject(t.PathDisplayData);_.closed=a._getBoolean(e,t.DataParser.CLOSED,!1),_.constantSpeed=a._getBoolean(e,t.DataParser.CONSTANT_SPEED,!1),_.name=i,_.path=n.length>0?n:i,_.vertices.data=this._data,_.curveLengths.length=b.length;for(var A=0,T=b.length;T>A;++A)_.curveLengths[A]=b[A];this._parsePath(e,_)}return null!==s&&t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],s.transform,this._armature.scale),s},a.prototype._parsePath=function(e,i){var n=e[t.DataParser.VERTICES],r=a._getNumber(e,t.DataParser.VERTEX_COUNT,0),s=this._floatArray.length,o=this._intArray.length;if(i.vertices.offset=o,this._intArray.length+=2,this._intArray[o+0]=r,this._intArray[o+2]=s,t.DataParser.WEIGHTS in e){var l=e[t.DataParser.WEIGHTS],h=e[t.DataParser.BONES],p=h.length,u=Math.floor(l.length-r)/2,c=this._intArray.length,d=this._floatArray.length,g=this._armature.sortedBones,f=t.BaseObject.borrowObject(t.WeightData);f.count=u,f.offset=c,this._intArray.length+=2+p+r+u,this._intArray[c+0]=p,this._intArray[c+1]=d;for(var m=0;p>m;m++){var v=h[m],y=this._rawBones[v];f.addBone(y),this._intArray[c+2+m]=g.indexOf(y)}this._floatArray.length+=3*u;for(var m=0,b=0,_=0,A=c+2+p,T=d;u>m;m++){var C=l[b++];this._intArray[A++]=C;for(var w=0;C>w;w++){var x=l[b++],I=l[b++],D=n[_++],E=n[_++];this._intArray[A++]=h.indexOf(x),this._floatArray[T++]=I,this._floatArray[T++]=D,this._floatArray[T++]=E}}i.vertices.weight=f}else{this._floatArray.length+=n.length;for(var m=0,S=n.length;S>m;++m)this._floatArray[s+m]=n[m]}},a.prototype._parsePivot=function(e,i){if(t.DataParser.PIVOT in e){var n=e[t.DataParser.PIVOT];i.pivot.x=a._getNumber(n,t.DataParser.X,0),i.pivot.y=a._getNumber(n,t.DataParser.Y,0)}else i.pivot.x=.5,i.pivot.y=.5},a.prototype._parseMesh=function(e,i){var a=e[t.DataParser.VERTICES],n=e[t.DataParser.UVS],r=e[t.DataParser.TRIANGLES],s=Math.floor(a.length/2),o=Math.floor(r.length/3),l=this._floatArray.length,h=l+2*s,p=this._intArray.length,u=this._skin.name+"_"+this._slot.name+"_"+i.name;i.vertices.offset=p,this._intArray.length+=4+3*o,this._intArray[p+0]=s,this._intArray[p+1]=o,this._intArray[p+2]=l;for(var c=0,d=3*o;d>c;++c)this._intArray[p+4+c]=r[c];this._floatArray.length+=2*s+2*s;for(var c=0,d=2*s;d>c;++c)this._floatArray[l+c]=a[c],this._floatArray[h+c]=n[c];if(t.DataParser.WEIGHTS in e){var g=e[t.DataParser.WEIGHTS],f=e[t.DataParser.SLOT_POSE],m=e[t.DataParser.BONE_POSE],v=this._armature.sortedBones,y=new Array,b=Math.floor(m.length/7),_=this._floatArray.length,A=Math.floor(g.length-s)/2,T=this._intArray.length,C=t.BaseObject.borrowObject(t.WeightData);C.count=A,C.offset=T,y.length=b,this._intArray.length+=2+b+s+A,this._intArray[T+1]=_;for(var c=0;b>c;++c){var w=m[7*c],x=this._rawBones[w];C.addBone(x),y[c]=w,this._intArray[T+2+c]=v.indexOf(x)}this._floatArray.length+=3*A,this._helpMatrixA.a1756(f,0);for(var c=0,I=0,D=T+2+b,E=_;s>c;++c){var S=2*c,G=this._intArray[D++]=g[I++],P=this._floatArray[l+S],k=this._floatArray[l+S+1];this._helpMatrixA.a1329(P,k,this._helpPoint),P=this._helpPoint.x,k=this._helpPoint.y;for(var M=0;G>M;++M){var w=g[I++],L=y.indexOf(w);this._helpMatrixB.a1756(m,7*L+1),this._helpMatrixB.invert(),this._helpMatrixB.a1329(P,k,this._helpPoint),this._intArray[D++]=L,this._floatArray[E++]=g[I++],this._floatArray[E++]=this._helpPoint.x,this._floatArray[E++]=this._helpPoint.y}}i.vertices.weight=C,this._weightSlotPose[u]=f,this._weightBonePoses[u]=m}},a.prototype._parseMeshGlue=function(t,e){},a.prototype._parseBoundingBox=function(e){var i=null,n=0;switch(n=t.DataParser.SUB_TYPE in e&&"string"==typeof e[t.DataParser.SUB_TYPE]?t.DataParser._getBoundingBoxType(e[t.DataParser.SUB_TYPE]):a._getNumber(e,t.DataParser.SUB_TYPE,n)){case 0:i=t.BaseObject.borrowObject(t.RectangleBoundingBoxData);break;case 1:i=t.BaseObject.borrowObject(t.EllipseBoundingBoxData);break;case 2:i=this._parsePolygonBoundingBox(e)}return null!==i&&(i.color=a._getNumber(e,t.DataParser.COLOR,0),(0===i.type||1===i.type)&&(i.width=a._getNumber(e,t.DataParser.WIDTH,0),i.height=a._getNumber(e,t.DataParser.HEIGHT,0))),i},a.prototype._parsePolygonBoundingBox=function(e){var i=t.BaseObject.borrowObject(t.PolygonBoundingBoxData);if(t.DataParser.VERTICES in e){var a=this._armature.scale,n=e[t.DataParser.VERTICES],r=i.vertices;t.DragonBones.webAssembly?r.resize(n.length,0):r.length=n.length;for(var s=0,o=n.length;o>s;s+=2){var l=n[s]*a,h=n[s+1]*a;t.DragonBones.webAssembly?(r.set(s,l),r.set(s+1,h)):(r[s]=l,r[s+1]=h),0===s?(i.x=l,i.y=h,i.width=l,i.height=h):(l<i.x?i.x=l:l>i.width&&(i.width=l),h<i.y?i.y=h:h>i.height&&(i.height=h))}i.width-=i.x,i.height-=i.y}else console.warn("Data error.\n Please reexport DragonBones Data to fixed the bug.");return i},a.prototype._parseAnimation=function(e){var i=t.BaseObject.borrowObject(t.AnimationData);if(i.frameCount=Math.max(a._getNumber(e,t.DataParser.DURATION,1),1),i.playTimes=a._getNumber(e,t.DataParser.PLAY_TIMES,1),i.duration=i.frameCount/this._armature.frameRate,i.fadeInTime=a._getNumber(e,t.DataParser.FADE_IN_TIME,0),i.scale=a._getNumber(e,t.DataParser.SCALE,1),i.name=a._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===i.name.length&&(i.name=t.DataParser.DEFAULT_NAME),i.frameIntOffset=this._frameIntArray.length,i.frameFloatOffset=this._frameFloatArray.length,i.frameOffset=this._frameArray.length,this._animation=i,t.DataParser.FRAME in e){var n=e[t.DataParser.FRAME],r=n.length;if(r>0)for(var s=0,o=0;r>s;++s){var l=n[s];this._parseActionDataInFrame(l,o,null,null),o+=a._getNumber(l,t.DataParser.DURATION,1)}}if(t.DataParser.Z_ORDER in e&&(this._animation.zOrderTimeline=this._parseTimeline(e[t.DataParser.Z_ORDER],null,t.DataParser.FRAME,1,!1,!1,0,this._parseZOrderFrame)),t.DataParser.BONE in e)for(var h=e[t.DataParser.BONE],p=0,u=h;p<u.length;p++){var c=u[p];this._parseBoneTimeline(c)}if(t.DataParser.SURFACE in e)for(var h=e[t.DataParser.SURFACE],d=0,g=h;d<g.length;d++){var c=g[d],f=a._getString(c,t.DataParser.NAME,"");if(this._surface=this._armature.getBone(f),null!==this._surface){var m=this._parseTimeline(c,null,t.DataParser.FRAME,50,!1,!0,0,this._parseSurfaceFrame);null!==m&&this._animation.a1792(this._surface,m),this._surface=null}}if(t.DataParser.SLOT in e)for(var h=e[t.DataParser.SLOT],v=0,y=h;v<y.length;v++){var c=y[v];this._parseSlotTimeline(c)}if(t.DataParser.FFD in e)for(var h=e[t.DataParser.FFD],b=0,_=h;b<_.length;b++){var c=_[b],A=a._getString(c,t.DataParser.SKIN,t.DataParser.DEFAULT_NAME),T=a._getString(c,t.DataParser.SLOT,""),C=a._getString(c,t.DataParser.NAME,"");if(0===A.length&&(A=t.DataParser.DEFAULT_NAME),this._slot=this._armature.getSlot(T),this._mesh=this._armature.getMesh(A,T,C),null!==this._slot&&null!==this._mesh){var m=this._parseTimeline(c,null,t.DataParser.FRAME,22,!1,!0,0,this._parseSlotFFDFrame);null!==m&&this._animation.a1793(this._slot,m),this._slot=null,this._mesh=null}}if(t.DataParser.IK in e)for(var h=e[t.DataParser.IK],w=0,x=h;w<x.length;w++){var c=x[w],I=a._getString(c,t.DataParser.NAME,""),D=this._armature.getConstraint(I);if(null!==D){var m=this._parseTimeline(c,null,t.DataParser.FRAME,30,!0,!1,2,this._parseIKConstraintFrame);null!==m&&this._animation.addConstraintTimeline(D,m)}}if(t.DataParser.ANIMATION in e)for(var h=e[t.DataParser.ANIMATION],E=0,S=h;E<S.length;E++){var c=S[E],G=a._getString(c,t.DataParser.NAME,""),m=this._parseTimeline(c,null,t.DataParser.FRAME,40,!0,!1,2,this._parseAnimationFrame);null!==m&&this._animation.addAnimationTimeline(G,m)}return this._actionFrames.length>0&&(this._animation.actionTimeline=this._parseTimeline(null,this._actionFrames,"",0,!1,!1,0,this._parseActionFrame),this._actionFrames.length=0),this._animation=null,i},a.prototype._parseTimeline=function(e,n,r,s,o,l,h,p){if(null!==e&&r.length>0&&r in e&&(n=e[r]),null===n)return null;var u=n.length;if(0===u)return null;var c=this._frameIntArray.length,d=this._frameFloatArray.length,g=t.BaseObject.borrowObject(t.TimelineData),f=this._timelineArray.length;if(this._timelineArray.length+=5+u,null!==e?(this._timelineArray[f+0]=Math.round(100*a._getNumber(e,t.DataParser.SCALE,1)),this._timelineArray[f+1]=Math.round(100*a._getNumber(e,t.DataParser.OFFSET,0))):(this._timelineArray[f+0]=100,this._timelineArray[f+1]=0),this._timelineArray[f+2]=u,this._timelineArray[f+3]=h,o?this._timelineArray[f+4]=c-this._animation.frameIntOffset:l?this._timelineArray[f+4]=d-this._animation.frameFloatOffset:this._timelineArray[f+4]=0,this._timeline=g,g.type=s,g.offset=f,1===u)g.frameIndicesOffset=-1,this._timelineArray[f+5+0]=p.call(this,n[0],0,0)-this._animation.frameOffset;else{var m=this._animation.frameCount+1,v=this._data.frameIndices,y=0;t.DragonBones.webAssembly?(y=v.size(),v.resize(y+m,0)):(y=v.length,v.length+=m),g.frameIndicesOffset=y;for(var b=0,_=0,A=0,T=0;m>b;++b){if(b>=A+T&&u>_){var C=n[_];A=b,T=_===u-1?this._animation.frameCount-A:C instanceof i?this._actionFrames[_+1].frameStart-A:a._getNumber(C,t.DataParser.DURATION,1),this._timelineArray[f+5+_]=p.call(this,C,A,T)-this._animation.frameOffset,_++}t.DragonBones.webAssembly?v.set(y+b,_-1):v[y+b]=_-1}}return this._timeline=null,g},a.prototype._parseBoneTimeline=function(e){var i=this._armature.getBone(a._getString(e,t.DataParser.NAME,""));if(null!==i){if(this._bone=i,this._slot=this._armature.getSlot(this._bone.name),t.DataParser.TRANSLATE_FRAME in e){var n=this._parseTimeline(e,null,t.DataParser.TRANSLATE_FRAME,11,!1,!0,2,this._parseBoneTranslateFrame);null!==n&&this._animation.a1791(i,n)}if(t.DataParser.ROTATE_FRAME in e){var n=this._parseTimeline(e,null,t.DataParser.ROTATE_FRAME,12,!1,!0,2,this._parseBoneRotateFrame);null!==n&&this._animation.a1791(i,n)}if(t.DataParser.SCALE_FRAME in e){var n=this._parseTimeline(e,null,t.DataParser.SCALE_FRAME,13,!1,!0,2,this._parseBoneScaleFrame);null!==n&&this._animation.a1791(i,n)}if(t.DataParser.FRAME in e){var n=this._parseTimeline(e,null,t.DataParser.FRAME,10,!1,!0,6,this._parseBoneAllFrame);null!==n&&this._animation.a1791(i,n)}this._bone=null,this._slot=null}},a.prototype._parseSlotTimeline=function(e){var i=this._armature.getSlot(a._getString(e,t.DataParser.NAME,""));if(null!==i){this._slot=i;var n=null;n=t.DataParser.DISPLAY_FRAME in e?this._parseTimeline(e,null,t.DataParser.DISPLAY_FRAME,20,!1,!1,0,this._parseSlotDisplayFrame):this._parseTimeline(e,null,t.DataParser.FRAME,20,!1,!1,0,this._parseSlotDisplayFrame),null!==n&&this._animation.a1793(i,n);var r=null;r=t.DataParser.COLOR_FRAME in e?this._parseTimeline(e,null,t.DataParser.COLOR_FRAME,21,!0,!1,1,this._parseSlotColorFrame):this._parseTimeline(e,null,t.DataParser.FRAME,21,!0,!1,1,this._parseSlotColorFrame),null!==r&&this._animation.a1793(i,r),this._slot=null}},a.prototype._parseFrame=function(t,e,i){var a=this._frameArray.length;return this._frameArray.length+=1,this._frameArray[a+0]=e,a},a.prototype._parseTweenFrame=function(e,i,n){var r=this._parseFrame(e,i,n);if(n>0)if(t.DataParser.CURVE in e){var s=n+1;this._helpArray.length=s,this._samplingEasingCurve(e[t.DataParser.CURVE],this._helpArray),this._frameArray.length+=2+this._helpArray.length,this._frameArray[r+1]=2,this._frameArray[r+2]=s;for(var o=0;s>o;++o)this._frameArray[r+3+o]=Math.round(1e4*this._helpArray[o])}else{var l=-2,h=l;t.DataParser.TWEEN_EASING in e&&(h=a._getNumber(e,t.DataParser.TWEEN_EASING,l)),h===l?(this._frameArray.length+=1,this._frameArray[r+1]=0):0===h?(this._frameArray.length+=1,this._frameArray[r+1]=1):0>h?(this._frameArray.length+=2,this._frameArray[r+1]=3,this._frameArray[r+2]=Math.round(100*-h)):1>=h?(this._frameArray.length+=2,this._frameArray[r+1]=4,this._frameArray[r+2]=Math.round(100*h)):(this._frameArray.length+=2,this._frameArray[r+1]=5,this._frameArray[r+2]=Math.round(100*h-100))}else this._frameArray.length+=1,this._frameArray[r+1]=0;return r},a.prototype._parseActionFrame=function(t,e,i){var a=this._frameArray.length,n=t.actions.length;this._frameArray.length+=2+n,this._frameArray[a+0]=e,this._frameArray[a+0+1]=n;for(var r=0;n>r;++r)this._frameArray[a+0+2+r]=t.actions[r];return a},a.prototype._parseZOrderFrame=function(e,i,a){var n=this._parseFrame(e,i,a);if(t.DataParser.Z_ORDER in e){var r=e[t.DataParser.Z_ORDER];if(r.length>0){for(var s=this._armature.sortedSlots.length,o=new Array(s-r.length/2),l=new Array(s),h=0;h<o.length;++h)o[h]=0;for(var p=0;s>p;++p)l[p]=-1;for(var u=0,c=0,d=0,g=r.length;g>d;d+=2){for(var f=r[d],m=r[d+1];u!==f;)o[c++]=u++;var v=u+m;l[v]=u++}for(;s>u;)o[c++]=u++;this._frameArray.length+=1+s,this._frameArray[n+1]=s;for(var y=s;y--;)-1===l[y]?this._frameArray[n+2+y]=o[--c]||0:this._frameArray[n+2+y]=l[y]||0;return n}}return this._frameArray.length+=1,this._frameArray[n+1]=0,n},a.prototype._parseBoneAllFrame=function(e,i,n){this._helpTransform.identity(),t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],this._helpTransform,1);var r=this._helpTransform.rotation;0!==i&&(0===this._prevClockwise?r=this._prevRotation+t.Transform.normalizeRadian(r-this._prevRotation):((this._prevClockwise>0?r>=this._prevRotation:r<=this._prevRotation)&&(this._prevClockwise=this._prevClockwise>0?this._prevClockwise-1:this._prevClockwise+1),r=this._prevRotation+r-this._prevRotation+t.Transform.PI_D*this._prevClockwise)),this._prevClockwise=a._getNumber(e,t.DataParser.TWEEN_ROTATE,0),this._prevRotation=r;var s=this._parseTweenFrame(e,i,n),o=this._frameFloatArray.length;return this._frameFloatArray.length+=6,this._frameFloatArray[o++]=this._helpTransform.x,this._frameFloatArray[o++]=this._helpTransform.y,this._frameFloatArray[o++]=r,this._frameFloatArray[o++]=this._helpTransform.skew,this._frameFloatArray[o++]=this._helpTransform.scaleX,this._frameFloatArray[o++]=this._helpTransform.scaleY,this._parseActionDataInFrame(e,i,this._bone,this._slot),s},a.prototype._parseBoneTranslateFrame=function(e,i,n){var r=this._parseTweenFrame(e,i,n),s=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[s++]=a._getNumber(e,t.DataParser.X,0),this._frameFloatArray[s++]=a._getNumber(e,t.DataParser.Y,0),r},a.prototype._parseBoneRotateFrame=function(e,i,n){var r=a._getNumber(e,t.DataParser.ROTATE,0)*t.Transform.DEG_RAD;0!==i&&(0===this._prevClockwise?r=this._prevRotation+t.Transform.normalizeRadian(r-this._prevRotation):((this._prevClockwise>0?r>=this._prevRotation:r<=this._prevRotation)&&(this._prevClockwise=this._prevClockwise>0?this._prevClockwise-1:this._prevClockwise+1),r=this._prevRotation+r-this._prevRotation+t.Transform.PI_D*this._prevClockwise)),this._prevClockwise=a._getNumber(e,t.DataParser.CLOCK_WISE,0),this._prevRotation=r;var s=this._parseTweenFrame(e,i,n),o=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[o++]=r,this._frameFloatArray[o++]=a._getNumber(e,t.DataParser.SKEW,0)*t.Transform.DEG_RAD,s},a.prototype._parseBoneScaleFrame=function(e,i,n){var r=this._parseTweenFrame(e,i,n),s=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[s++]=a._getNumber(e,t.DataParser.X,1),this._frameFloatArray[s++]=a._getNumber(e,t.DataParser.Y,1),r},a.prototype._parseSurfaceFrame=function(e,i,n){var r=this._frameFloatArray.length,s=this._parseTweenFrame(e,i,n),o=e[t.DataParser.VERTICES],l=a._getNumber(e,t.DataParser.OFFSET,0),h=this._surface.vertices.length/2,p=0,u=0;this._frameFloatArray.length+=2*h;for(var c=0;2*h>c;c+=2)p=l>c||c-l>=o.length?0:o[c-l],u=l>c+1||c+1-l>=o.length?0:o[c+1-l],this._frameFloatArray[r+c]=p,this._frameFloatArray[r+c+1]=u;if(0===i){var d=this._frameIntArray.length;this._frameIntArray.length+=5,this._frameIntArray[d+0]=0,this._frameIntArray[d+1]=this._frameFloatArray.length-r,this._frameIntArray[d+2]=this._frameFloatArray.length-r,this._frameIntArray[d+3]=0,this._frameIntArray[d+4]=r-this._animation.frameFloatOffset,this._timelineArray[this._timeline.offset+3]=d-this._animation.frameIntOffset}return s},a.prototype._parseSlotDisplayFrame=function(e,i,n){var r=this._parseFrame(e,i,n);return this._frameArray.length+=1,t.DataParser.VALUE in e?this._frameArray[r+1]=a._getNumber(e,t.DataParser.VALUE,0):this._frameArray[r+1]=a._getNumber(e,t.DataParser.DISPLAY_INDEX,0),this._parseActionDataInFrame(e,i,this._slot.parent,this._slot),r},a.prototype._parseSlotColorFrame=function(e,i,a){var n=this._parseTweenFrame(e,i,a),r=-1;if(t.DataParser.VALUE in e||t.DataParser.COLOR in e){var s=t.DataParser.VALUE in e?e[t.DataParser.VALUE]:e[t.DataParser.COLOR];for(var o in s){this._parseColorTransform(s,this._helpColorTransform),r=this._intArray.length,this._intArray.length+=8,this._intArray[r++]=Math.round(100*this._helpColorTransform.alphaMultiplier),this._intArray[r++]=Math.round(100*this._helpColorTransform.redMultiplier),this._intArray[r++]=Math.round(100*this._helpColorTransform.greenMultiplier),this._intArray[r++]=Math.round(100*this._helpColorTransform.blueMultiplier),this._intArray[r++]=Math.round(this._helpColorTransform.alphaOffset),this._intArray[r++]=Math.round(this._helpColorTransform.redOffset),this._intArray[r++]=Math.round(this._helpColorTransform.greenOffset),this._intArray[r++]=Math.round(this._helpColorTransform.blueOffset),r-=8;break}}0>r&&(this._defaultColorOffset<0&&(this._defaultColorOffset=r=this._intArray.length,this._intArray.length+=8,this._intArray[r++]=100,this._intArray[r++]=100,this._intArray[r++]=100,this._intArray[r++]=100,this._intArray[r++]=0,this._intArray[r++]=0,this._intArray[r++]=0,this._intArray[r++]=0),r=this._defaultColorOffset);var l=this._frameIntArray.length;return this._frameIntArray.length+=1,this._frameIntArray[l]=r,n},a.prototype._parseSlotFFDFrame=function(e,i,n){var r=this._frameFloatArray.length,s=this._parseTweenFrame(e,i,n),o=t.DataParser.VERTICES in e?e[t.DataParser.VERTICES]:null,l=a._getNumber(e,t.DataParser.OFFSET,0),h=this._intArray[this._mesh.vertices.offset+0],p=this._mesh.parent.name+"_"+this._slot.name+"_"+this._mesh.name,u=this._mesh.vertices.weight,c=0,d=0,g=0,f=0;if(null!==u){var m=this._weightSlotPose[p];this._helpMatrixA.a1756(m,0),this._frameFloatArray.length+=2*u.count,g=u.offset+2+u.bones.length}else this._frameFloatArray.length+=2*h;for(var v=0;2*h>v;v+=2)if(null===o?(c=0,d=0):(c=l>v||v-l>=o.length?0:o[v-l],d=l>v+1||v+1-l>=o.length?0:o[v+1-l]),null!==u){var y=this._weightBonePoses[p],b=this._intArray[g++];this._helpMatrixA.a1329(c,d,this._helpPoint,!0),c=this._helpPoint.x,d=this._helpPoint.y;for(var _=0;b>_;++_){var A=this._intArray[g++];this._helpMatrixB.a1756(y,7*A+1),this._helpMatrixB.invert(),this._helpMatrixB.a1329(c,d,this._helpPoint,!0),this._frameFloatArray[r+f++]=this._helpPoint.x,this._frameFloatArray[r+f++]=this._helpPoint.y}}else this._frameFloatArray[r+v]=c,this._frameFloatArray[r+v+1]=d;if(0===i){var T=this._frameIntArray.length;this._frameIntArray.length+=5,this._frameIntArray[T+0]=this._mesh.vertices.offset,this._frameIntArray[T+1]=this._frameFloatArray.length-r,this._frameIntArray[T+2]=this._frameFloatArray.length-r,this._frameIntArray[T+3]=0,this._frameIntArray[T+4]=r-this._animation.frameFloatOffset,this._timelineArray[this._timeline.offset+3]=T-this._animation.frameIntOffset}return s},a.prototype._parseIKConstraintFrame=function(e,i,n){var r=this._parseTweenFrame(e,i,n),s=this._frameIntArray.length;return this._frameIntArray.length+=2,this._frameIntArray[s++]=a._getBoolean(e,t.DataParser.BEND_POSITIVE,!0)?1:0,this._frameIntArray[s++]=Math.round(100*a._getNumber(e,t.DataParser.WEIGHT,1)),r},a.prototype._parseAnimationFrame=function(e,i,n){var r=this._parseTweenFrame(e,i,n),s=this._frameIntArray.length;return this._frameIntArray.length+=2,this._frameIntArray[s++]=a._getNumber(e,t.DataParser.VALUE,0),this._frameIntArray[s++]=Math.round(100*a._getNumber(e,t.DataParser.WEIGHT,1)),r},a.prototype._parseActionData=function(e,i,n,r){var s=new Array;if("string"==typeof e){var o=t.BaseObject.borrowObject(t.ActionData);o.type=i,o.name=e,o.bone=n,o.slot=r,s.push(o)}else if(e instanceof Array)for(var l=0,h=e;l<h.length;l++){var p=h[l],o=t.BaseObject.borrowObject(t.ActionData);if(t.DataParser.GOTO_AND_PLAY in p?(o.type=0,o.name=a._getString(p,t.DataParser.GOTO_AND_PLAY,"")):(t.DataParser.TYPE in p&&"string"==typeof p[t.DataParser.TYPE]?o.type=t.DataParser._getActionType(p[t.DataParser.TYPE]):o.type=a._getNumber(p,t.DataParser.TYPE,i),o.name=a._getString(p,t.DataParser.NAME,"")),t.DataParser.BONE in p){var u=a._getString(p,t.DataParser.BONE,"");o.bone=this._armature.getBone(u)}else o.bone=n;if(t.DataParser.SLOT in p){var c=a._getString(p,t.DataParser.SLOT,"");
o.slot=this._armature.getSlot(c)}else o.slot=r;var d=null;if(t.DataParser.INTS in p){null===d&&(d=t.BaseObject.borrowObject(t.UserData));for(var g=p[t.DataParser.INTS],f=0,m=g;f<m.length;f++){var v=m[f];d.addInt(v)}}if(t.DataParser.FLOATS in p){null===d&&(d=t.BaseObject.borrowObject(t.UserData));for(var y=p[t.DataParser.FLOATS],b=0,_=y;b<_.length;b++){var v=_[b];d.addFloat(v)}}if(t.DataParser.STRINGS in p){null===d&&(d=t.BaseObject.borrowObject(t.UserData));for(var A=p[t.DataParser.STRINGS],T=0,C=A;T<C.length;T++){var v=C[T];d.addString(v)}}o.data=d,s.push(o)}return s},a.prototype._parseTransform=function(e,i,n){i.x=a._getNumber(e,t.DataParser.X,0)*n,i.y=a._getNumber(e,t.DataParser.Y,0)*n,t.DataParser.ROTATE in e||t.DataParser.SKEW in e?(i.rotation=t.Transform.normalizeRadian(a._getNumber(e,t.DataParser.ROTATE,0)*t.Transform.DEG_RAD),i.skew=t.Transform.normalizeRadian(a._getNumber(e,t.DataParser.SKEW,0)*t.Transform.DEG_RAD)):(t.DataParser.SKEW_X in e||t.DataParser.SKEW_Y in e)&&(i.rotation=t.Transform.normalizeRadian(a._getNumber(e,t.DataParser.SKEW_Y,0)*t.Transform.DEG_RAD),i.skew=t.Transform.normalizeRadian(a._getNumber(e,t.DataParser.SKEW_X,0)*t.Transform.DEG_RAD)-i.rotation),i.scaleX=a._getNumber(e,t.DataParser.SCALE_X,1),i.scaleY=a._getNumber(e,t.DataParser.SCALE_Y,1)},a.prototype._parseColorTransform=function(e,i){i.alphaMultiplier=.01*a._getNumber(e,t.DataParser.ALPHA_MULTIPLIER,100),i.redMultiplier=.01*a._getNumber(e,t.DataParser.RED_MULTIPLIER,100),i.greenMultiplier=.01*a._getNumber(e,t.DataParser.GREEN_MULTIPLIER,100),i.blueMultiplier=.01*a._getNumber(e,t.DataParser.BLUE_MULTIPLIER,100),i.alphaOffset=a._getNumber(e,t.DataParser.ALPHA_OFFSET,0),i.redOffset=a._getNumber(e,t.DataParser.RED_OFFSET,0),i.greenOffset=a._getNumber(e,t.DataParser.GREEN_OFFSET,0),i.blueOffset=a._getNumber(e,t.DataParser.BLUE_OFFSET,0)},a.prototype._parseArray=function(t){this._intArray.length=0,this._floatArray.length=0,this._frameIntArray.length=0,this._frameFloatArray.length=0,this._frameArray.length=0,this._timelineArray.length=0},a.prototype._modifyArray=function(){this._intArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._intArray.push(0),this._frameIntArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._frameIntArray.push(0),this._frameArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._frameArray.push(0),this._timelineArray.length%Uint16Array.BYTES_PER_ELEMENT!==0&&this._timelineArray.push(0);var e=this._intArray.length*Int16Array.BYTES_PER_ELEMENT,i=this._floatArray.length*Float32Array.BYTES_PER_ELEMENT,a=this._frameIntArray.length*Int16Array.BYTES_PER_ELEMENT,n=this._frameFloatArray.length*Float32Array.BYTES_PER_ELEMENT,r=this._frameArray.length*Int16Array.BYTES_PER_ELEMENT,s=this._timelineArray.length*Uint16Array.BYTES_PER_ELEMENT,o=e+i+a+n+r+s;if(t.DragonBones.webAssembly){for(var l=t.webAssemblyModule.HEAP16.buffer,h=t.webAssemblyModule._malloc(o),p=new Int16Array(l,h,this._intArray.length),u=new Float32Array(l,h+e,this._floatArray.length),c=new Int16Array(l,h+e+i,this._frameIntArray.length),d=new Float32Array(l,h+e+i+a,this._frameFloatArray.length),g=new Int16Array(l,h+e+i+a+n,this._frameArray.length),f=new Uint16Array(l,h+e+i+a+n+r,this._timelineArray.length),m=0,v=this._intArray.length;v>m;++m)p[m]=this._intArray[m];for(var m=0,v=this._floatArray.length;v>m;++m)u[m]=this._floatArray[m];for(var m=0,v=this._frameIntArray.length;v>m;++m)c[m]=this._frameIntArray[m];for(var m=0,v=this._frameFloatArray.length;v>m;++m)d[m]=this._frameFloatArray[m];for(var m=0,v=this._frameArray.length;v>m;++m)g[m]=this._frameArray[m];for(var m=0,v=this._timelineArray.length;v>m;++m)f[m]=this._timelineArray[m];t.webAssemblyModule.setDataBinary(this._data,h,e,i,a,n,r,s)}else{for(var y=new ArrayBuffer(o),p=new Int16Array(y,0,this._intArray.length),u=new Float32Array(y,e,this._floatArray.length),c=new Int16Array(y,e+i,this._frameIntArray.length),d=new Float32Array(y,e+i+a,this._frameFloatArray.length),g=new Int16Array(y,e+i+a+n,this._frameArray.length),f=new Uint16Array(y,e+i+a+n+r,this._timelineArray.length),m=0,v=this._intArray.length;v>m;++m)p[m]=this._intArray[m];for(var m=0,v=this._floatArray.length;v>m;++m)u[m]=this._floatArray[m];for(var m=0,v=this._frameIntArray.length;v>m;++m)c[m]=this._frameIntArray[m];for(var m=0,v=this._frameFloatArray.length;v>m;++m)d[m]=this._frameFloatArray[m];for(var m=0,v=this._frameArray.length;v>m;++m)g[m]=this._frameArray[m];for(var m=0,v=this._timelineArray.length;v>m;++m)f[m]=this._timelineArray[m];this._data.binary=y,this._data.intArray=p,this._data.floatArray=u,this._data.frameIntArray=c,this._data.frameFloatArray=d,this._data.frameArray=g,this._data.timelineArray=f}this._defaultColorOffset=-1},a.prototype.parseDragonBonesData=function(e,i){void 0===i&&(i=1),console.assert(null!==e&&void 0!==e,"Data error.");var n=a._getString(e,t.DataParser.VERSION,""),r=a._getString(e,t.DataParser.COMPATIBLE_VERSION,"");if(t.DataParser.DATA_VERSIONS.indexOf(n)>=0||t.DataParser.DATA_VERSIONS.indexOf(r)>=0){var s=t.BaseObject.borrowObject(t.DragonBonesData);if(s.version=n,s.name=a._getString(e,t.DataParser.NAME,""),s.frameRate=a._getNumber(e,t.DataParser.FRAME_RATE,24),0===s.frameRate&&(s.frameRate=24),t.DataParser.ARMATURE in e){this._data=s,this._parseArray(e);for(var o=e[t.DataParser.ARMATURE],l=0,h=o;l<h.length;l++){var p=h[l];s.a1767(this._parseArmature(p,i))}this._data.binary||this._modifyArray(),t.DataParser.STAGE in e?s.stage=s.a1768(a._getString(e,t.DataParser.STAGE,"")):s.armatureNames.length>0&&(s.stage=s.a1768(s.armatureNames[0])),this._data=null}return t.DataParser.TEXTURE_ATLAS in e&&(this._rawTextureAtlases=e[t.DataParser.TEXTURE_ATLAS]),s}return console.assert(!1,"Nonsupport data version: "+n+"\nPlease convert DragonBones data to support version.\nRead more: https://github.com/DragonBones/Tools/"),null},a.prototype.parseTextureAtlasData=function(e,i,n){if(void 0===n&&(n=1),console.assert(void 0!==e),null===e){if(null===this._rawTextureAtlases||0===this._rawTextureAtlases.length)return!1;var r=this._rawTextureAtlases[this._rawTextureAtlasIndex++];return this.parseTextureAtlasData(r,i,n),this._rawTextureAtlasIndex>=this._rawTextureAtlases.length&&(this._rawTextureAtlasIndex=0,this._rawTextureAtlases=null),!0}if(i.width=a._getNumber(e,t.DataParser.WIDTH,0),i.height=a._getNumber(e,t.DataParser.HEIGHT,0),i.scale=1===n?1/a._getNumber(e,t.DataParser.SCALE,1):n,i.name=a._getString(e,t.DataParser.NAME,""),i.imagePath=a._getString(e,t.DataParser.IMAGE_PATH,""),t.DataParser.SUB_TEXTURE in e)for(var s=e[t.DataParser.SUB_TEXTURE],o=0,l=s.length;l>o;++o){var h=s[o],p=i.createTexture();p.rotated=a._getBoolean(h,t.DataParser.ROTATED,!1),p.name=a._getString(h,t.DataParser.NAME,""),p.region.x=a._getNumber(h,t.DataParser.X,0),p.region.y=a._getNumber(h,t.DataParser.Y,0),p.region.width=a._getNumber(h,t.DataParser.WIDTH,0),p.region.height=a._getNumber(h,t.DataParser.HEIGHT,0);var u=a._getNumber(h,t.DataParser.FRAME_WIDTH,-1),c=a._getNumber(h,t.DataParser.FRAME_HEIGHT,-1);u>0&&c>0&&(p.frame=t.TextureData.createRectangle(),p.frame.x=a._getNumber(h,t.DataParser.FRAME_X,0),p.frame.y=a._getNumber(h,t.DataParser.FRAME_Y,0),p.frame.width=u,p.frame.height=c),i.a1800(p)}return!0},a.getInstance=function(){return null===a._objectDataParserInstance&&(a._objectDataParserInstance=new a),a._objectDataParserInstance},a._objectDataParserInstance=null,a}(t.DataParser);t.ObjectDataParser=e;var i=function(){function t(){this.frameStart=0,this.actions=[]}return t}();t.ActionFrame=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype._inRange=function(t,e,i){return t>=e&&i>=t},i.prototype._decodeUTF8=function(t){for(var e,i=-1,a=-1,n=65533,r=0,s="",o=0,l=0,h=0,p=0;t.length>r;){var u=t[r++];if(u===i)e=0!==l?n:a;else if(0===l)this._inRange(u,0,127)?e=u:(this._inRange(u,194,223)?(l=1,p=128,o=u-192):this._inRange(u,224,239)?(l=2,p=2048,o=u-224):this._inRange(u,240,244)&&(l=3,p=65536,o=u-240),o*=Math.pow(64,l),e=null);else if(this._inRange(u,128,191))if(h+=1,o+=(u-128)*Math.pow(64,l-h),h!==l)e=null;else{var c=o,d=p;o=0,l=0,h=0,p=0,e=this._inRange(c,d,1114111)&&!this._inRange(c,55296,57343)?c:u}else o=0,l=0,h=0,p=0,r--,e=u;null!==e&&e!==a&&(65535>=e?e>0&&(s+=String.fromCharCode(e)):(e-=65536,s+=String.fromCharCode(55296+(e>>10&1023)),s+=String.fromCharCode(56320+(1023&e))))}return s},i.prototype._getUTF16Key=function(t){for(var e=0,i=t.length;i>e;++e)if(t.charCodeAt(e)>255)return encodeURI(t);return t},i.prototype._parseBinaryTimeline=function(e,i,a){void 0===a&&(a=null);var n=null!==a?a:t.BaseObject.borrowObject(t.TimelineData);n.type=e,n.offset=i,this._timeline=n;var r=this._timelineArrayBuffer[n.offset+2];if(1===r)n.frameIndicesOffset=-1;else{var s=0,o=this._animation.frameCount+1,l=this._data.frameIndices;t.DragonBones.webAssembly?(s=l.size(),l.resize(s+o,0)):(s=l.length,l.length+=o),n.frameIndicesOffset=s;for(var h=0,p=0,u=0,c=0;o>h;++h)h>=u+c&&r>p&&(u=this._frameArrayBuffer[this._animation.frameOffset+this._timelineArrayBuffer[n.offset+5+p]],c=p===r-1?this._animation.frameCount-u:this._frameArrayBuffer[this._animation.frameOffset+this._timelineArrayBuffer[n.offset+5+p+1]]-u,p++),t.DragonBones.webAssembly?l.set(s+h,p-1):l[s+h]=p-1}return this._timeline=null,n},i.prototype._parseVertices=function(e,i){i.offset=e[t.DataParser.OFFSET];var a=this._intArrayBuffer[i.offset+3];if(a>=0){var n=t.BaseObject.borrowObject(t.WeightData),r=this._intArrayBuffer[i.offset+0],s=this._intArrayBuffer[a+0];n.offset=a;for(var o=0;s>o;++o){var l=this._intArrayBuffer[a+2+o];n.addBone(this._rawBones[l])}for(var h=a+2+s,p=0,o=0,u=r;u>o;++o){var c=this._intArrayBuffer[h++];p+=c,h+=c}n.count=p,i.weight=n}},i.prototype._parseMesh=function(t,e){this._parseVertices(t,e.vertices)},i.prototype._parsePath=function(t,e){this._parseVertices(t,e.vertices)},i.prototype._parseAnimation=function(e){var i=t.BaseObject.borrowObject(t.AnimationData);i.frameCount=Math.max(t.ObjectDataParser._getNumber(e,t.DataParser.DURATION,1),1),i.playTimes=t.ObjectDataParser._getNumber(e,t.DataParser.PLAY_TIMES,1),i.duration=i.frameCount/this._armature.frameRate,i.fadeInTime=t.ObjectDataParser._getNumber(e,t.DataParser.FADE_IN_TIME,0),i.scale=t.ObjectDataParser._getNumber(e,t.DataParser.SCALE,1),i.name=t.ObjectDataParser._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===i.name.length&&(i.name=t.DataParser.DEFAULT_NAME);var a=e[t.DataParser.OFFSET];if(i.frameIntOffset=a[0],i.frameFloatOffset=a[1],i.frameOffset=a[2],this._animation=i,t.DataParser.ACTION in e&&(i.actionTimeline=this._parseBinaryTimeline(0,e[t.DataParser.ACTION])),t.DataParser.Z_ORDER in e&&(i.zOrderTimeline=this._parseBinaryTimeline(1,e[t.DataParser.Z_ORDER])),t.DataParser.BONE in e){var n=e[t.DataParser.BONE];for(var r in n){var s=n[r];t.DragonBones.webAssembly&&(r=this._getUTF16Key(r));var o=this._armature.getBone(r);if(null!==o)for(var l=0,h=s.length;h>l;l+=2){var p=s[l],u=s[l+1],c=this._parseBinaryTimeline(p,u);this._animation.a1791(o,c)}}}if(t.DataParser.SURFACE in e){var n=e[t.DataParser.SURFACE];for(var r in n){var s=n[r];t.DragonBones.webAssembly&&(r=this._getUTF16Key(r));var d=this._armature.getBone(r);if(null!==d)for(var l=0,h=s.length;h>l;l+=2){var p=s[l],u=s[l+1],c=this._parseBinaryTimeline(p,u);this._animation.a1792(d,c)}}}if(t.DataParser.SLOT in e){var n=e[t.DataParser.SLOT];for(var r in n){var s=n[r];t.DragonBones.webAssembly&&(r=this._getUTF16Key(r));var g=this._armature.getSlot(r);if(null!==g)for(var l=0,h=s.length;h>l;l+=2){var p=s[l],u=s[l+1],c=this._parseBinaryTimeline(p,u);this._animation.a1793(g,c)}}}if(t.DataParser.CONSTRAINT in e){var n=e[t.DataParser.CONSTRAINT];for(var r in n){var s=n[r];t.DragonBones.webAssembly&&(r=this._getUTF16Key(r));var f=this._armature.getConstraint(r);if(null!==f)for(var l=0,h=s.length;h>l;l+=2){var p=s[l],u=s[l+1],c=this._parseBinaryTimeline(p,u);this._animation.addConstraintTimeline(f,c)}}}if(t.DataParser.ANIMATION in e){var n=e[t.DataParser.ANIMATION];for(var r in n){var s=n[r];t.DragonBones.webAssembly&&(r=this._getUTF16Key(r));for(var l=0,h=s.length;h>l;l+=2){var p=s[l],u=s[l+1],c=this._parseBinaryTimeline(p,u);this._animation.addAnimationTimeline(r,c)}}}return this._animation=null,i},i.prototype._parseArray=function(e){var i=e[t.DataParser.OFFSET],a=i[1],n=i[3],r=i[5],s=i[7],o=i[9],l=i[11],h=new Int16Array(this._binary,this._binaryOffset+i[0],a/Int16Array.BYTES_PER_ELEMENT),p=new Float32Array(this._binary,this._binaryOffset+i[2],n/Float32Array.BYTES_PER_ELEMENT),u=new Int16Array(this._binary,this._binaryOffset+i[4],r/Int16Array.BYTES_PER_ELEMENT),c=new Float32Array(this._binary,this._binaryOffset+i[6],s/Float32Array.BYTES_PER_ELEMENT),d=new Int16Array(this._binary,this._binaryOffset+i[8],o/Int16Array.BYTES_PER_ELEMENT),g=new Uint16Array(this._binary,this._binaryOffset+i[10],l/Uint16Array.BYTES_PER_ELEMENT);if(t.DragonBones.webAssembly){for(var f=a+n+r+s+o+l,m=t.webAssemblyModule._malloc(f),v=new Uint8Array(this._binary,this._binaryOffset,f/Uint8Array.BYTES_PER_ELEMENT),y=new Uint8Array(t.webAssemblyModule.HEAP16.buffer,m,v.length),b=0,_=v.length;_>b;++b)y[b]=v[b];t.webAssemblyModule.setDataBinary(this._data,m,a,n,r,s,o,l),this._intArrayBuffer=h,this._floatArrayBuffer=p,this._frameIntArrayBuffer=u,this._frameFloatArrayBuffer=c,this._frameArrayBuffer=d,this._timelineArrayBuffer=g}else this._data.binary=this._binary,this._data.intArray=this._intArrayBuffer=h,this._data.floatArray=this._floatArrayBuffer=p,this._data.frameIntArray=this._frameIntArrayBuffer=u,this._data.frameFloatArray=this._frameFloatArrayBuffer=c,this._data.frameArray=this._frameArrayBuffer=d,this._data.timelineArray=this._timelineArrayBuffer=g},i.prototype.parseDragonBonesData=function(t,i){void 0===i&&(i=1),console.assert(null!==t&&void 0!==t&&t instanceof ArrayBuffer,"Data error.");var a=new Uint8Array(t,0,8);if(a[0]!=="D".charCodeAt(0)||a[1]!=="B".charCodeAt(0)||a[2]!=="D".charCodeAt(0)||a[3]!=="T".charCodeAt(0))return console.assert(!1,"Nonsupport data."),null;var n=new Uint32Array(t,8,1)[0],r=new Uint8Array(t,12,n),s=this._decodeUTF8(r),o=JSON.parse(s);return this._binaryOffset=12+n,this._binary=t,e.prototype.parseDragonBonesData.call(this,o,i)},i.getInstance=function(){return null===i._binaryDataParserInstance&&(i._binaryDataParserInstance=new i),i._binaryDataParserInstance},i._binaryDataParserInstance=null,i}(t.ObjectDataParser);t.BinaryDataParser=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(i){void 0===i&&(i=null),this.autoSearch=!1,this._dragonBonesDataMap={},this._textureAtlasDataMap={},this._dragonBones=null,this._dataParser=null,null===e._objectParser&&(e._objectParser=new t.ObjectDataParser),null===e._binaryParser&&(e._binaryParser=new t.BinaryDataParser),this._dataParser=null!==i?i:e._objectParser}return e.prototype._isSupportMesh=function(){return!0},e.prototype._getTextureData=function(t,e){if(t in this._textureAtlasDataMap)for(var i=0,a=this._textureAtlasDataMap[t];i<a.length;i++){var n=a[i],r=n.a1297(e);if(null!==r)return r}if(this.autoSearch)for(var s in this._textureAtlasDataMap)for(var o=0,l=this._textureAtlasDataMap[s];o<l.length;o++){var n=l[o];if(n.autoSearch){var r=n.a1297(e);if(null!==r)return r}}return null},e.prototype._fillBuildArmaturePackage=function(t,e,i,a,n){var r=null,s=null;if(e.length>0&&e in this._dragonBonesDataMap&&(r=this._dragonBonesDataMap[e],s=r.a1768(i)),null===s&&(0===e.length||this.autoSearch))for(var o in this._dragonBonesDataMap)if(r=this._dragonBonesDataMap[o],(0===e.length||r.autoSearch)&&(s=r.a1768(i),null!==s)){e=o;break}if(null!==s){if(t.dataName=e,t.textureAtlasName=n,t.data=r,t.armature=s,t.skin=null,a.length>0&&(t.skin=s.a1782(a),null===t.skin&&this.autoSearch))for(var o in this._dragonBonesDataMap){var l=this._dragonBonesDataMap[o],h=l.a1768(a);if(null!==h){t.skin=h.defaultSkin;break}}return null===t.skin&&(t.skin=s.defaultSkin),!0}return!1},e.prototype._buildBones=function(e,i){for(var a=0,n=e.armature.sortedBones;a<n.length;a++){var r=n[a],s=t.BaseObject.borrowObject(0===r.type?t.Bone:t.Surface);s.init(r,i)}},e.prototype._buildSlots=function(e,i){var a=e.skin,n=e.armature.defaultSkin;if(null!==a&&null!==n){var r={};for(var s in n.displays){var o=n.a1787(s);r[s]=o}if(a!==n)for(var s in a.displays){var o=a.a1787(s);r[s]=o}for(var l=0,h=e.armature.sortedSlots;l<h.length;l++){var p=h[l],u=p.name in r?r[p.name]:null,c=this._buildSlot(e,p,i);if(c.rawDisplayDatas=u,null!==u){for(var d=new Array,g=0,f=t.DragonBones.webAssembly?u.size():u.length;f>g;++g){var m=t.DragonBones.webAssembly?u.get(g):u[g];null!==m?d.push(this._getSlotDisplay(e,m,null,c)):d.push(null)}c._setDisplayList(d)}c._setDisplayIndex(p.displayIndex,!0)}}},e.prototype._buildConstraints=function(e,i){var a=e.armature.constraints;for(var n in a){var r=a[n];switch(r.type){case 0:var s=t.BaseObject.borrowObject(t.IKConstraint);s.init(r,i),i._addConstraint(s);break;case 1:var o=t.BaseObject.borrowObject(t.PathConstraint);o.init(r,i),i._addConstraint(o);break;default:var l=t.BaseObject.borrowObject(t.IKConstraint);l.init(r,i),i._addConstraint(l)}}},e.prototype._buildChildArmature=function(t,e,i){return this.a1830(i.path,null!==t?t.dataName:"","",null!==t?t.textureAtlasName:"")},e.prototype._getSlotDisplay=function(e,i,a,n){var r=null!==e?e.dataName:i.parent.parent.parent.name,s=null;switch(i.type){case 0:var o=i;null===o.texture?o.texture=this._getTextureData(r,i.path):null!==e&&e.textureAtlasName.length>0&&(o.texture=this._getTextureData(e.textureAtlasName,i.path)),s=null!==a&&2===a.type&&this._isSupportMesh()?n.meshDisplay:n.rawDisplay;break;case 2:var l=i;null===l.texture?l.texture=this._getTextureData(r,l.path):null!==e&&e.textureAtlasName.length>0&&(l.texture=this._getTextureData(e.textureAtlasName,l.path)),s=this._isSupportMesh()?n.meshDisplay:n.rawDisplay;break;case 1:var h=i,p=this._buildChildArmature(e,n,i);if(null!==p){if(p.inheritAnimation=h.inheritAnimation,!p.inheritAnimation){var u=h.actions.length>0?h.actions:p.armatureData.defaultActions;if(u.length>0)for(var c=0,d=u;c<d.length;c++){var g=d[c],f=t.BaseObject.borrowObject(t.EventObject);t.EventObject.actionDataToInstance(g,f,n.armature),f.slot=n,n.armature._bufferAction(f,!1)}else p.animation.play()}h.armature=p.armatureData}s=p;break;case 3:}return s},e.prototype.parseDragonBonesData=function(t,i,a){void 0===i&&(i=null),void 0===a&&(a=1);for(var n=t instanceof ArrayBuffer?e._binaryParser:this._dataParser,r=n.parseDragonBonesData(t,a);;){var s=this._buildTextureAtlasData(null,null);if(!n.parseTextureAtlasData(null,s,a)){s.a1755();break}this.a1828(s,i)}return null!==r&&this.a1826(r,i),r},e.prototype.parseTextureAtlasData=function(t,e,i,a){void 0===i&&(i=null),void 0===a&&(a=1);var n=this._buildTextureAtlasData(null,null);return this._dataParser.parseTextureAtlasData(t,n,a),this._buildTextureAtlasData(n,e||null),this.a1828(n,i),n},e.prototype.updateTextureAtlasData=function(t,e){var i=this.a1827(t);if(null!==i)for(var a=0,n=i.length;n>a;++a)a<e.length&&this._buildTextureAtlasData(i[a],e[a])},e.prototype.a1825=function(t){return t in this._dragonBonesDataMap?this._dragonBonesDataMap[t]:null},e.prototype.a1826=function(t,e){if(void 0===e&&(e=null),e=null!==e?e:t.name,e in this._dragonBonesDataMap){if(this._dragonBonesDataMap[e]===t)return;return void console.warn("Can not add same name data: "+e)}this._dragonBonesDataMap[e]=t},e.prototype.removeDragonBonesData=function(t,e){void 0===e&&(e=!0),t in this._dragonBonesDataMap&&(e&&this._dragonBones.a1754(this._dragonBonesDataMap[t]),delete this._dragonBonesDataMap[t])},e.prototype.a1827=function(t){return t in this._textureAtlasDataMap?this._textureAtlasDataMap[t]:null},e.prototype.a1828=function(t,e){void 0===e&&(e=null),e=null!==e?e:t.name;var i=e in this._textureAtlasDataMap?this._textureAtlasDataMap[e]:this._textureAtlasDataMap[e]=[];i.indexOf(t)<0&&i.push(t)},e.prototype.removeTextureAtlasData=function(t,e){if(void 0===e&&(e=!0),t in this._textureAtlasDataMap){var i=this._textureAtlasDataMap[t];if(e)for(var a=0,n=i;a<n.length;a++){var r=n[a];this._dragonBones.a1754(r)}delete this._textureAtlasDataMap[t]}},e.prototype.a1829=function(t,e){void 0===e&&(e="");var a=new i;return this._fillBuildArmaturePackage(a,e,t,"","")?a.armature:null},e.prototype.clear=function(t){void 0===t&&(t=!0);for(var e in this._dragonBonesDataMap)t&&this._dragonBones.a1754(this._dragonBonesDataMap[e]),delete this._dragonBonesDataMap[e];for(var e in this._textureAtlasDataMap){if(t)for(var i=this._textureAtlasDataMap[e],a=0,n=i;a<n.length;a++){var r=n[a];this._dragonBones.a1754(r)}delete this._textureAtlasDataMap[e]}},e.prototype.a1830=function(t,e,a,n){void 0===e&&(e=""),void 0===a&&(a=""),void 0===n&&(n="");var r=new i;if(!this._fillBuildArmaturePackage(r,e||"",t,a||"",n||""))return console.warn("No armature data: "+t+", "+(null!==e?e:"")),null;var s=this._buildArmature(r);return this._buildBones(r,s),this._buildSlots(r,s),this._buildConstraints(r,s),s.invalidUpdate(null,!0),s.advanceTime(0),s},e.prototype.a1831=function(e,i,a){void 0===a&&(a=-1),0>a&&(a=e.displayIndex),0>a&&(a=0),e.a1809(i,a);var n=e.displayList;if(n.length<=a){n.length=a+1;for(var r=0,s=n.length;s>r;++r)n[r]||(n[r]=null)}if(null!==i){var o=e.rawDisplayDatas,l=null;o&&(t.DragonBones.webAssembly?a<o.size()&&(l=o.get(a)):a<o.length&&(l=o[a])),n[a]=this._getSlotDisplay(null,i,l,e)}else n[a]=null;e.displayList=n},e.prototype.a1832=function(t,e,i,a,n,r){void 0===r&&(r=-1);var s=this.a1829(e,t||"");if(!s||!s.defaultSkin)return!1;var o=s.defaultSkin.a1786(i,a);return o?(this.a1831(n,o,r),!0):!1},e.prototype.replaceSlotDisplayList=function(e,i,a,n){var r=this.a1829(i,e||"");if(!r||!r.defaultSkin)return!1;var s=r.defaultSkin.a1787(a);if(!s)return!1;for(var o=0,l=0,h=t.DragonBones.webAssembly?s.size():s.length;h>l;++l){var p=t.DragonBones.webAssembly?s.get(l):s[l];this.a1831(n,p,o++)}return!0},e.prototype.a1833=function(e,i,a,n){void 0===a&&(a=!1),void 0===n&&(n=null);for(var r=!1,s=i.parent.defaultSkin,o=0,l=e.a1806();o<l.length;o++){var h=l[o];if(!(null!==n&&n.indexOf(h.name)>=0)){var p=i.a1787(h.name);if(p||(null!==s&&i!==s&&(p=s.a1787(h.name)),p)){var u=t.DragonBones.webAssembly?p.size():p.length,c=h.displayList;c.length=u;for(var d=0,g=u;g>d;++d){var f=t.DragonBones.webAssembly?p.get(d):p[d];null!==f?c[d]=this._getSlotDisplay(null,f,null,h):c[d]=null}r=!0,h.rawDisplayDatas=p,h.displayList=c}else a&&(h.rawDisplayDatas=null,h.displayList=[])}}return r},e.prototype.a1834=function(e,i,a){void 0===a&&(a=!0);var n=i.defaultSkin;if(null===n)return!1;if(a)e.animation.animations=i.animations;else{var r=e.animation.animations,s={};for(var o in r)s[o]=r[o];for(var o in i.animations)s[o]=i.animations[o];e.animation.animations=s}for(var l=0,h=e.a1806();l<h.length;l++)for(var p=h[l],u=0,c=0,d=p.displayList;c<d.length;c++){var g=d[c];if(g instanceof t.Armature){var f=n.a1787(p.name);if(null!==f&&u<(t.DragonBones.webAssembly?f.size():f.length)){var m=t.DragonBones.webAssembly?f.get(u):f[u];if(null!==m&&1===m.type){var v=this.a1829(m.path,m.parent.parent.parent.name);v&&this.a1834(g,v,a)}}}u++}return!0},e.prototype.getAllDragonBonesData=function(){return this._dragonBonesDataMap},e.prototype.getAllTextureAtlasData=function(){return this._textureAtlasDataMap},Object.defineProperty(e.prototype,"clock",{get:function(){return this._dragonBones.clock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragonBones",{get:function(){return this._dragonBones},enumerable:!0,configurable:!0}),e.prototype.a1835=function(t,e,i){return void 0===i&&(i=null),this.a1833(t,e,!1,i)},e.prototype.copyAnimationsToArmature=function(t,e,i,a,n){void 0===i&&(i=""),void 0===a&&(a=""),void 0===n&&(n=!0);var r=this.a1829(e,a);return r?this.a1834(t,r,n):!1},e._objectParser=null,e._binaryParser=null,e}();t.BaseFactory=e;var i=function(){function t(){this.dataName="",this.textureAtlasName="",this.skin=null}return t}();t.BuildArmaturePackage=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function a(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderTexture=null,t}return __extends(a,e),a.toString=function(){return"[class dragonBones.EgretTextureAtlasData]"},a.prototype._onClear=function(){e.prototype._onClear.call(this),this.disposeEnabled&&null!==this._renderTexture&&this._renderTexture.dispose(),this.disposeEnabled=!1,this._renderTexture=null},a.prototype.createTexture=function(){return t.BaseObject.borrowObject(i)},Object.defineProperty(a.prototype,"renderTexture",{get:function(){return this._renderTexture},set:function(t){if(this._renderTexture!==t)if(this._renderTexture=t,null!==this._renderTexture){var e=this._renderTexture.bitmapData,i=this.width>0?this.width:e.width,a=this.height>0?this.height:e.height;for(var n in this.textures){var r=egret.$TextureScaleFactor,s=this.textures[n],o=s.region.width,l=s.region.height;null===s.renderTexture&&(s.renderTexture=new egret.Texture),s.renderTexture.bitmapData=e,s.rotated?s.renderTexture.$initData(s.region.x*r,s.region.y*r,l*r,o*r,0,0,l*r,o*r,i,a,s.rotated):s.renderTexture.$initData(s.region.x*r,s.region.y*r,o*r,l*r,0,0,o*r,l*r,i,a)}}else for(var n in this.textures){var s=this.textures[n];s.renderTexture=null}},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){console.warn("已废弃。"),this.a1755()},Object.defineProperty(a.prototype,"texture",{get:function(){return console.warn("已废弃。"),this.renderTexture},enumerable:!0,configurable:!0}),a}(t.TextureAtlasData);t.EgretTextureAtlasData=e;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderTexture=null,e}return __extends(e,t),e.toString=function(){return"[class dragonBones.EgretTextureData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),null!==this.renderTexture,this.renderTexture=null},e}(t.TextureData);t.EgretTextureData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"eventObject",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationName",{get:function(){var t=this.eventObject.animationState;return null!==t?t.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"armature",{get:function(){return this.eventObject.armature},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bone",{get:function(){return this.eventObject.bone},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slot",{get:function(){return this.eventObject.slot},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationState",{get:function(){return this.eventObject.animationState},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameLabel",{get:function(){return this.eventObject.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sound",{get:function(){return this.eventObject.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"movementID",{get:function(){return this.animationName},enumerable:!0,configurable:!0}),i.START=t.EventObject.START,i.LOOP_COMPLETE=t.EventObject.LOOP_COMPLETE,i.COMPLETE=t.EventObject.COMPLETE,i.FADE_IN=t.EventObject.FADE_IN,i.FADE_IN_COMPLETE=t.EventObject.FADE_IN_COMPLETE,i.FADE_OUT=t.EventObject.FADE_OUT,i.FADE_OUT_COMPLETE=t.EventObject.FADE_OUT_COMPLETE,i.FRAME_EVENT=t.EventObject.FRAME_EVENT,i.SOUND_EVENT=t.EventObject.SOUND_EVENT,i.ANIMATION_FRAME_EVENT=t.EventObject.FRAME_EVENT,i.BONE_FRAME_EVENT=t.EventObject.FRAME_EVENT,i.MOVEMENT_FRAME_EVENT=t.EventObject.FRAME_EVENT,i.SOUND=t.EventObject.SOUND_EVENT,i}(egret.Event);t.EgretEvent=e;var i=function(i){function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.debugDraw=!1,t._batchEnabled=!(global.nativeRender||global.bricks),t._childDirty=!0,t._debugDraw=!1,t._armature=null,t._bounds=null,t._debugDrawer=null,t}return __extends(a,i),a._cleanBeforeRender=function(){},a.prototype.dbInit=function(t){this._armature=t,this._batchEnabled&&(this.$a1377=new egret.sys.GroupNode,this.$a1377.a1300=a._cleanBeforeRender)},a.prototype.dbClear=function(){this._armature=null,this._bounds=null,this._debugDrawer=null},a.prototype.a1838=function(){var e=t.DragonBones.debugDraw||this.debugDraw;if(e||this._debugDraw)if(this._debugDraw=e,this._debugDraw){null===this._debugDrawer&&(this._debugDrawer=new egret.Sprite),this._debugDrawer.parent!==this&&this.addChild(this._debugDrawer);var i=2,a=this._debugDrawer.graphics;a.clear();for(var n=0,r=this._armature.getBones();n<r.length;n++){var s=r[n];if(0===s.boneData.type){var o=Math.max(s.boneData.length,i),l=s.globalTransformMatrix.tx,h=s.globalTransformMatrix.ty,p=l-s.globalTransformMatrix.a*i,u=h-s.globalTransformMatrix.b*i,c=l+s.globalTransformMatrix.a*o,d=h+s.globalTransformMatrix.b*o,g=l+u-h,f=h+p-l,m=l-u+h,v=h-p+l;a.lineStyle(2,65535,.7),a.moveTo(p,u),a.lineTo(c,d),a.moveTo(g,f),a.lineTo(m,v)}else{var y=s,b=y._boneData,_=b.segmentX,A=b.segmentY,T=y._vertices;a.lineStyle(2,16776960,.7);for(var C=0;A>C;++C)for(var w=0;_>w;++w){var x=2*(w+C*(_+1)),I=T[x],D=T[x+1];a.moveTo(I,D),a.lineTo(T[x+2],T[x+3]),a.moveTo(I,D),a.lineTo(T[x+2*(_+1)],T[x+2*(_+1)+1]),w===_-1&&(a.moveTo(T[x+2],T[x+3]),a.lineTo(T[x+2*(_+2)],T[x+2*(_+2)+1])),C===A-1&&(a.moveTo(T[x+2*(_+1)],T[x+2*(_+1)+1]),a.lineTo(T[x+2*(_+2)],T[x+2*(_+2)+1]))}}}for(var E=0,S=this._armature.a1806();E<S.length;E++){var G=S[E],P=G.boundingBoxData;if(null!==P){var k=this._debugDrawer.getChildByName(G.name);switch(null===k&&(k=new egret.Shape,k.name=G.name,this._debugDrawer.addChild(k)),k.graphics.clear(),k.graphics.lineStyle(2,16711935,.7),P.type){case 0:k.graphics.drawRect(.5*-P.width,.5*-P.height,P.width,P.height);break;case 1:k.graphics.drawEllipse(.5*-P.width,.5*-P.height,P.width,P.height);break;case 2:for(var T=P.vertices,M=0;M<T.length;M+=2){var I=T[M],D=T[M+1];0===M?k.graphics.moveTo(I,D):k.graphics.lineTo(I,D)}k.graphics.lineTo(T[0],T[1])}G.updateTransformAndMatrix(),G.updateGlobalTransform(),k.$setMatrix(G.globalTransformMatrix,!1)}else{var k=this._debugDrawer.getChildByName(G.name);null!==k&&this._debugDrawer.removeChild(k)}}}else null!==this._debugDrawer&&this._debugDrawer.parent===this&&this.removeChild(this._debugDrawer);!t.isV5&&this._batchEnabled&&this._childDirty&&this.$invalidateContentBounds()},a.prototype.dispose=function(t){void 0===t&&(t=!0),null!==this._armature&&(this._armature.dispose(),this._armature=null)},a.prototype.a1839=function(t,a){var n=egret.Event.create(e,t);n.data=a,i.prototype.a1258.call(this,n),egret.Event.release(n)},a.prototype.a1840=function(t){return this.a1256(t)},a.prototype.a1841=function(t,e,i){this.addEventListener(t,e,i)},a.prototype.removeDBEventListener=function(t,e,i){this.removeEventListener(t,e,i)},a.prototype.disableBatch=function(){if(this._batchEnabled&&this._armature){for(var t=0,e=this._armature.a1806();t<e.length;t++){var i=e[t],a=i._deformVertices&&i._deformVertices.verticesData?i.meshDisplay:i.rawDisplay;i.display||a!==i.meshDisplay||(a=i.rawDisplay);var n=a.$a1377;n.matrix&&a.$setMatrix(i.globalTransformMatrix,!1),this.addChild(a)}this._batchEnabled=!1,this.$a1377.a1300=null,this.$a1377=null,this.armature.invalidUpdate(null,!0)}},Object.defineProperty(a.prototype,"armature",{get:function(){return this._armature
},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"animation",{get:function(){return this._armature&&this._armature.animation},enumerable:!0,configurable:!0}),a.prototype.$measureContentBounds=function(e){if(this._batchEnabled&&this._armature){if(this._childDirty){this._childDirty=!1;for(var a=!0,n=new egret.Rectangle,r=0,s=this._armature.a1806();r<s.length;r++){var o=s[r],l=o.display;if(l&&l.$a1377&&l.$a1377.image){var h=l.$a1377.matrix;if(l===o.meshDisplay){var p=l.$a1377.vertices;if(!(p&&p.length>0))continue;n.setTo(999999,999999,-999999,-999999);for(var u=0,c=p.length;c>u;u+=2){var d=p[u],g=p[u+1];n.x>d&&(n.x=d),n.width<d&&(n.width=d),n.y>g&&(n.y=g),n.height<g&&(n.height=g)}n.width-=n.x,n.height-=n.y}else{var f=o.displayData;if(!(f&&f instanceof t.ImageDisplayData&&f.texture))continue;var m=f.texture.parent.scale;n.x=0,n.y=0,n.width=f.texture.region.width*m,n.height=f.texture.region.height*m}h.$transformBounds(n);var v=n.x,y=n.y,b=n.x+n.width,_=n.y+n.height;a?(a=!1,e.x=v,e.y=y,e.width=b,e.height=_):(v<e.x&&(e.x=v),y<e.y&&(e.y=y),b>e.width&&(e.width=b),_>e.height&&(e.height=_))}}e.width-=e.x,e.height-=e.y,t.isV5&&(null===this._bounds&&(this._bounds=new egret.Rectangle),this._bounds.copyFrom(e))}else t.isV5&&(null===this._bounds&&(this._bounds=new egret.Rectangle),e.copyFrom(this._bounds));return e}return i.prototype.$measureContentBounds.call(this,e)},a.prototype.hasEvent=function(t){return this.a1840(t)},a.prototype.a1412=function(t,e,i){this.a1841(t,e,i)},a.prototype.a1413=function(t,e,i){this.removeDBEventListener(t,e,i)},a.prototype.a1844=function(e){e?this._armature.clock=t.EgretFactory.factory.clock:this._armature.clock=null},a}(egret.DisplayObjectContainer);t.EgretArmatureDisplay=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.Event=a;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.ArmatureEvent=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.AnimationEvent=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.FrameEvent=s;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.SoundEvent=o;var l=function(e){function i(i,a,n){void 0===n&&(n=1);var r=e.call(this)||this;return console.warn("已废弃"),r._onClear(),t.ObjectDataParser.getInstance().parseTextureAtlasData(a,r,n),r.renderTexture=i,r}return __extends(i,e),i.toString=function(){return"[class dragonBones.EgretTextureAtlas]"},i}(t.EgretTextureAtlasData);t.EgretTextureAtlas=l;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(l);t.EgretSheetAtlas=h;var p=function(){function e(){}return e.getInstance=function(){return console.warn("已废弃"),t.EgretFactory.factory.soundEventManager},e}();t.SoundEventManager=p;var u=function(){function t(){console.warn("已废弃")}return t}();t.AnimationCacheManager=u}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.transformUpdateEnabled=!1,t._armatureDisplay=null,t._renderDisplay=null,t._colorFilter=null,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.EgretSlot]"},i.prototype.init=function(i,a,n,r){e.prototype.init.call(this,i,a,n,r),t.isV5?this._updateTransform=this._updateTransformV5:this._updateTransform=this._updateTransformV4},i.prototype._onClear=function(){e.prototype._onClear.call(this),this._armatureDisplay=null,this._renderDisplay=null,this._colorFilter=null},i.prototype._initDisplay=function(t,e){},i.prototype._disposeDisplay=function(t,e){},i.prototype._onUpdateDisplay=function(){if(this._armatureDisplay=this._armature.display,this._renderDisplay=null!==this._display?this._display:this._rawDisplay,t.isV5&&this._armatureDisplay._batchEnabled&&(this._renderDisplay!==this._rawDisplay||this._renderDisplay.$a1377 instanceof egret.sys.BitmapNode||(this._renderDisplay.$a1377=new egret.sys.BitmapNode)),this._armatureDisplay._batchEnabled)if(this._renderDisplay!==this._rawDisplay&&this._renderDisplay!==this._meshDisplay)this._armatureDisplay.disableBatch();else{var e=this._renderDisplay.$a1377;e.matrix||(e.matrix=new egret.Matrix)}},i.prototype._addDisplay=function(){this._armatureDisplay._batchEnabled?this._armatureDisplay.$a1377.a1368(this._renderDisplay.$a1377):this._armatureDisplay.addChild(this._renderDisplay)},i.prototype._replaceDisplay=function(t){var e=t;if(this._armatureDisplay._batchEnabled){var i=this._armatureDisplay.$a1377.drawData;i[i.indexOf(e.$a1377)]=this._renderDisplay.$a1377}else this._armatureDisplay.addChild(this._renderDisplay),this._armatureDisplay.swapChildren(this._renderDisplay,e),this._armatureDisplay.removeChild(e)},i.prototype._removeDisplay=function(){if(this._armatureDisplay._batchEnabled){var t=this._armatureDisplay.$a1377.drawData;t.splice(t.indexOf(this._renderDisplay.$a1377),1)}else this._renderDisplay.parent.removeChild(this._renderDisplay)},i.prototype._updateZOrder=function(){if(this._armatureDisplay._batchEnabled){var t=this._armatureDisplay.$a1377.drawData;t[this._zOrder]=this._renderDisplay.$a1377}else{var e=this._armatureDisplay.getChildIndex(this._renderDisplay);if(e===this._zOrder)return;this._armatureDisplay.addChildAt(this._renderDisplay,this._zOrder)}},i.prototype._updateVisible=function(){var t=this._parent.visible&&this._visible;if(this._armatureDisplay._batchEnabled){var e=this._renderDisplay.$a1377;e.alpha=t?1:0}else this._renderDisplay.visible=t},i.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=egret.BlendMode.NORMAL;break;case 1:this._renderDisplay.blendMode=egret.BlendMode.ADD;break;case 5:this._renderDisplay.blendMode=egret.BlendMode.ERASE}if(this._armatureDisplay._batchEnabled){var t=this._renderDisplay.$a1377;t.blendMode=egret.sys.blendModeToNumber(this._renderDisplay.blendMode)}},i.prototype._updateColor=function(){if(1!==this._colorTransform.redMultiplier||1!==this._colorTransform.greenMultiplier||1!==this._colorTransform.blueMultiplier||0!==this._colorTransform.redOffset||0!==this._colorTransform.greenOffset||0!==this._colorTransform.blueOffset||0!==this._colorTransform.alphaOffset){if(-1!=this._armature.name.indexOf("long")||"shouyibaoxiang"==this._armature.name)return;null===this._colorFilter&&(this._colorFilter=new egret.ColorMatrixFilter);var t=this._colorFilter.matrix;if(t[0]=this._colorTransform.redMultiplier,t[6]=this._colorTransform.greenMultiplier,t[12]=this._colorTransform.blueMultiplier,t[18]=this._colorTransform.alphaMultiplier,t[4]=this._colorTransform.redOffset,t[9]=this._colorTransform.greenOffset,t[14]=this._colorTransform.blueOffset,t[19]=this._colorTransform.alphaOffset,this._colorFilter.matrix=t,this._armatureDisplay._batchEnabled){var e=this._renderDisplay.$a1377;e.filter=this._colorFilter,e.alpha=1}var i=this._renderDisplay.filters;i||(i=[]),i.indexOf(this._colorFilter)<0&&i.push(this._colorFilter),this._renderDisplay.filters=i,this._renderDisplay.alpha=1}else{if(this._armatureDisplay._batchEnabled){var e=this._renderDisplay.$a1377;e.filter=null,e.alpha=this._colorTransform.alphaMultiplier}this._renderDisplay.filters=null,this._renderDisplay.alpha=this._colorTransform.alphaMultiplier}},i.prototype._updateFrame=function(){var e=null!==this._deformVertices&&this._display===this._meshDisplay?this._deformVertices.verticesData:null,i=this._textureData;if(this._displayIndex>=0&&null!==this._display&&null!==i){if(null!==this._armature.replacedTexture&&null!==this._rawDisplayDatas&&this._rawDisplayDatas.indexOf(this._displayData)>=0){var a=i.parent;null===this._armature._replaceTextureAtlasData?(a=t.BaseObject.borrowObject(t.EgretTextureAtlasData),a.copyFrom(i.parent),a.renderTexture=this._armature.replacedTexture,this._armature._replaceTextureAtlasData=a):a=this._armature._replaceTextureAtlasData,i=a.a1297(i.name)}if(null!==i.renderTexture){if(null!==e){var n=e.data,r=n.intArray,s=n.floatArray,o=r[e.offset+0],l=r[e.offset+1],h=r[e.offset+2];0>h&&(h+=65536);var p=h+2*o,u=this._armature._armatureData.scale,c=this._renderDisplay,d=c.$a1377;d.uvs.length=2*o,d.vertices.length=2*o,d.indices.length=3*l;for(var g=0,f=2*o;f>g;++g)d.vertices[g]=s[h+g]*u,d.uvs[g]=s[p+g];for(var g=0;3*l>g;++g)d.indices[g]=r[e.offset+4+g];if(this._armatureDisplay._batchEnabled){var m=i.renderTexture,v=this._renderDisplay.$a1377;if(egret.sys.RenderNode.prototype.a1300.call(v),v.image=m.bitmapData,t.isV5)v.drawMesh(m.$bitmapX,m.$bitmapY,m.$bitmapWidth,m.$bitmapHeight,m.$offsetX,m.$offsetY,m.textureWidth,m.textureHeight),v.imageWidth=m.$sourceWidth,v.imageHeight=m.$sourceHeight;else{var y=m;v.drawMesh(y._bitmapX,y._bitmapY,y._bitmapWidth,y._bitmapHeight,y._offsetX,y._offsetY,y.textureWidth,y.textureHeight),v.imageWidth=y._sourceWidth,v.imageHeight=y._sourceHeight}this._blendModeDirty=!0,this._colorDirty=!0}c.texture=i.renderTexture,c.anchorOffsetX=this._pivotX,c.anchorOffsetY=this._pivotY,c.$updateVertices(),t.isV5||c.$invalidateTransform();var b=null!==e.weight,_=0!==this._parent._boneData.type;(b||_)&&this._identityTransform()}else{var u=i.parent.scale*this._armature._armatureData.scale,A=(i.rotated?i.region.height:i.region.width)*u,T=(i.rotated?i.region.width:i.region.height)*u,C=this._renderDisplay,m=i.renderTexture;if(C.texture=m,this._armatureDisplay._batchEnabled){var v=this._renderDisplay.$a1377;if(egret.sys.RenderNode.prototype.a1300.call(v),v.image=m.bitmapData,t.isV5)v.drawImage(m.$bitmapX,m.$bitmapY,m.$bitmapWidth,m.$bitmapHeight,m.$offsetX,m.$offsetY,A,T),v.imageWidth=m.$sourceWidth,v.imageHeight=m.$sourceHeight;else{var y=m;v.drawImage(y._bitmapX,y._bitmapY,y._bitmapWidth,y._bitmapHeight,y._offsetX,y._offsetY,A,T),v.imageWidth=y._sourceWidth,v.imageHeight=y._sourceHeight}this._blendModeDirty=!0,this._colorDirty=!0}else C.width=A,C.height=T;C.anchorOffsetX=this._pivotX,C.anchorOffsetY=this._pivotY}return void(this._visibleDirty=!0)}}this._armatureDisplay._batchEnabled&&(this._renderDisplay.$a1377.image=null);var w=this._renderDisplay;w.texture=null,w.x=0,w.y=0,w.visible=!1},i.prototype._updateMesh=function(){var e=this._armature&&this._armature._armatureData&&this._armature._armatureData.scale||1,i=this._deformVertices.vertices,a=this._deformVertices.bones,n=this._deformVertices.verticesData,r=n.weight,s=i.length>0&&n.inheritDeform,o=this._renderDisplay,l=o.$a1377;if(null!==r){var h=n.data,p=h.intArray,u=h.floatArray,c=p[n.offset+0],d=p[r.offset+1];0>d&&(d+=65536);for(var g=0,f=0,m=r.offset+2+a.length,v=d,y=0;c>g;++g){for(var b=p[m++],_=0,A=0,T=0;b>T;++T){var C=p[m++],w=a[C];if(null!==w){var x=w.globalTransformMatrix,I=u[v++],D=u[v++]*e,E=u[v++]*e;s&&(D+=i[y++],E+=i[y++]),_+=(x.a*D+x.c*E+x.tx)*I,A+=(x.b*D+x.d*E+x.ty)*I}}l.vertices[f++]=_,l.vertices[f++]=A}o.$updateVertices(),t.isV5||o.$invalidateTransform()}else if(s){var S=0!==this._parent._boneData.type,h=n.data,p=h.intArray,u=h.floatArray,c=p[n.offset+0],G=p[n.offset+2];0>G&&(G+=65536);for(var g=0,P=2*c;P>g;g+=2){var k=u[G+g]*e+i[g],M=u[G+g+1]*e+i[g+1];if(S){var x=this._parent._getGlobalTransformMatrix(k,M);l.vertices[g]=x.a*k+x.c*M+x.tx,l.vertices[g+1]=x.b*k+x.d*M+x.ty}else l.vertices[g]=k,l.vertices[g+1]=M}o.$updateVertices(),t.isV5||o.$invalidateTransform()}this._armatureDisplay._batchEnabled&&(this._armatureDisplay._childDirty=!0)},i.prototype._updateGlueMesh=function(){},i.prototype._updateTransform=function(){throw new Error},i.prototype._identityTransform=function(){if(this._armatureDisplay._batchEnabled){this._armatureDisplay._childDirty=!0;var t=this._renderDisplay.$a1377.matrix;t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0}else egret.$TempMatrix.identity(),this._renderDisplay.$setMatrix(egret.$TempMatrix,this.transformUpdateEnabled)},i.prototype._updateTransformV4=function(){var t=this.globalTransformMatrix;if(this._armatureDisplay._batchEnabled){this._armatureDisplay._childDirty=!0;var e=this._renderDisplay.$a1377.matrix;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),e.ty=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY)}else if(this.transformUpdateEnabled)this._renderDisplay.$setMatrix(t,!0);else{var i=this._renderDisplay.$DisplayObject,e=i[6];e.a=this.globalTransformMatrix.a,e.b=this.globalTransformMatrix.b,e.c=this.globalTransformMatrix.c,e.d=this.globalTransformMatrix.d,e.tx=this.globalTransformMatrix.tx,e.ty=this.globalTransformMatrix.ty,this._renderDisplay.$removeFlags(8),this._renderDisplay.$invalidatePosition()}},i.prototype._updateTransformV5=function(){var t=this.globalTransformMatrix;if(this._armatureDisplay._batchEnabled){this._armatureDisplay._childDirty=!0;var e=this._renderDisplay.$a1377.matrix;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),e.ty=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY)}else this._renderDisplay.$setMatrix(t,this.transformUpdateEnabled)},i}(t.Slot);t.EgretSlot=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){t.isV5=Number(egret.Capabilities.engineVersion.substr(0,3))>=5.1;var e=function(e){function i(a){void 0===a&&(a=null);var n=e.call(this,a)||this;if(null===i._dragonBonesInstance){var r=new t.EgretArmatureDisplay;i._dragonBonesInstance=new t.DragonBones(r),i._time=.001*egret.getTimer(),egret.startTick(i._clockHandler,i)}return n._dragonBones=i._dragonBonesInstance,n}return __extends(i,e),i._clockHandler=function(t){t*=.001;var e=t-this._time;return i._dragonBonesInstance.advanceTime(e),this._time=t,!1},Object.defineProperty(i,"factory",{get:function(){return null===i._factory&&(i._factory=new i),i._factory},enumerable:!0,configurable:!0}),i.prototype._isSupportMesh=function(){return"webgl"===egret.Capabilities.renderMode||egret.Capabilities.runtimeType===egret.RuntimeType.NATIVE?!0:(console.warn("Canvas can not support mesh, please change renderMode to webgl."),!1)},i.prototype._buildTextureAtlasData=function(e,i){if(null!==e)if(i instanceof egret.Texture)e.renderTexture=i;else{var a=new egret.Texture;a.bitmapData=new egret.BitmapData(i),e.disposeEnabled=!0,e.renderTexture=a}else e=t.BaseObject.borrowObject(t.EgretTextureAtlasData);return e},i.prototype._buildArmature=function(e){var i=t.BaseObject.borrowObject(t.Armature),a=new t.EgretArmatureDisplay;return i.init(e.armature,a,a,this._dragonBones),i},i.prototype._buildSlot=function(e,i,a){var n=t.BaseObject.borrowObject(t.EgretSlot);return n.init(i,a,new egret.Bitmap,new egret.Mesh),n},i.prototype.buildArmatureDisplay=function(t,e,i,a){void 0===e&&(e=""),void 0===i&&(i=""),void 0===a&&(a="");var n=this.a1830(t,e||"",i||"",a||"");return null!==n?(this._dragonBones.clock.add(n),n.display):null},i.prototype.a1845=function(t,e){void 0===e&&(e=null);var i=this._getTextureData(null!==e?e:"",t);if(null!==i&&null!==i.renderTexture){var a=i.renderTexture,n=new egret.Bitmap(a);return n.width=a.textureWidth*i.parent.scale,n.height=a.textureHeight*i.parent.scale,n}return null},Object.defineProperty(i.prototype,"soundEventManager",{get:function(){return this._dragonBones.eventManager},enumerable:!0,configurable:!0}),Object.defineProperty(i,"clock",{get:function(){return i.factory.clock},enumerable:!0,configurable:!0}),i.prototype.a1846=function(t,e){void 0===e&&(e=null),console.warn("已废弃"),this.a1826(t,e)},i.prototype.a1847=function(t){return console.warn("已废弃"),this.a1825(t)},i.prototype.a1848=function(t){console.warn("已废弃"),this.removeDragonBonesData(t)},i.prototype.a1849=function(t,e){void 0===e&&(e=null),console.warn("已废弃"),this.a1828(t,e)},i.prototype.a1850=function(t){return console.warn("已废弃"),this.a1827(t)},i.prototype.a1851=function(t){console.warn("已废弃"),this.removeTextureAtlasData(t)},i.prototype.a1852=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=""),console.warn("已废弃"),this.a1830(t,e||"",i||"")},i.prototype.dispose=function(){console.warn("已废弃"),this.clear()},i._time=0,i._dragonBonesInstance=null,i._factory=null,i}(t.BaseFactory);t.EgretFactory=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){function e(t,e){for(var i=0,a=t.length;a>i;++i){var n=t[i];if(n.name===e)return n}return null}function i(t){if(t.groupName){var i=u[t.groupName];if(i){var a=e(i.movie||i.animation,t.movieName);if(a)return t.groupConfig=i,t.movieConfig=a,!0}}if(!t.groupName)for(var n in u){var i=u[n];if(!t.groupName){var a=e(i.movie||i.animation,t.movieName);if(a)return t.groupName=n,t.groupConfig=i,t.movieConfig=a,!0}}return!1}function a(t){return t in u}function n(t,e,i){if(void 0===i&&(i=null),!t)throw new Error;var a=new egret.ByteArray(t);a.endian=egret.Endian.LITTLE_ENDIAN,a.position=8;var n=JSON.parse(a.readUTF());n.offset=a.position,n.arrayBuffer=t,n.textures=[];var r=n.offset%4;r&&(n.offset+=4-r);for(var s=0,o=n.position.length;o>s;s+=3)switch(s/3){case 1:n.displayFrameArray=new Int16Array(n.arrayBuffer,n.offset+n.position[s],n.position[s+1]/n.position[s+2]);break;case 2:n.rectangleArray=new Float32Array(n.arrayBuffer,n.offset+n.position[s],n.position[s+1]/n.position[s+2]);break;case 3:n.transformArray=new Float32Array(n.arrayBuffer,n.offset+n.position[s],n.position[s+1]/n.position[s+2]);break;case 4:n.colorArray=new Int16Array(n.arrayBuffer,n.offset+n.position[s],n.position[s+1]/n.position[s+2])}if(i=i||n.name,u[i]&&console.warn("Replace group: "+i),u[i]=n,e instanceof Array)for(var s=0,o=e.length;o>s;++s){var l=e[s];n.textures.push(l)}else n.textures.push(e)}function r(t){var e=u[t];e&&delete u[t]}function s(){for(var t in u)delete u[t]}function o(e,a){void 0===a&&(a=null);var n={movieName:e,groupName:a};if(i(n)){var r=new g(n);return r.clock=t.EgretFactory.factory.clock,r}return console.warn("No movie named: "+e),null}function l(t){var e=u[t];if(e){for(var i=[],a=e.movie||e.animation,n=0,r=a.length;r>n;++n)i.push(a[n].name);return i}return console.warn("No group named: "+t),null}var h=new egret.Rectangle,p=new egret.Matrix,u={};t.hasMovieGroup=a,t.addMovieGroup=n,t.removeMovieGroup=r,t.removeAllMovieGroup=s,t.buildMovie=o,t.getMovieNames=l;var c=function(t){function e(e){var i=t.call(this,e)||this;return i.name="",i.slotName="",i.clipName="",i}return __extends(e,t),Object.defineProperty(e.prototype,"armature",{get:function(){return this.movie},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bone",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationState",{get:function(){return{name:this.clipName}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameLabel",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"movementID",{get:function(){return this.clipName},enumerable:!0,configurable:!0}),e.START="start",e.LOOP_COMPLETE="loopComplete",e.COMPLETE="complete",e.FRAME_EVENT="frameEvent",e.SOUND_EVENT="soundEvent",e}(egret.Event);t.MovieEvent=c;var d=function(t){function e(e){var i=t.call(this)||this;return i.displayIndex=-1,i.colorIndex=-1,i.transformIndex=-1,i.rawDisplay=new egret.Bitmap,i.childMovies={},i.displayConfig=null,i.childMovie=null,i.colorFilter=null,i.display=i.rawDisplay,i.config=e,i.rawDisplay.name=i.config.name,i.config.blendMode||(i.config.blendMode=0),i}return __extends(e,t),e.prototype.dispose=function(){this.rawDisplay=null,this.childMovies=null,this.config=null,this.displayConfig=null,this.display=null,this.childMovie=null,this.colorFilter=null},e}(egret.HashObject),g=function(e){function i(t){var a=e.call(this)||this;a.timeScale=1,a.clipTimeScale=1,a._batchEnabled=!0,a._isLockDispose=!1,a._isDelayDispose=!1,a._isStarted=!1,a._isPlaying=!1,a._isReversing=!1,a._isCompleted=!1,a._playTimes=0,a._time=0,a._currentTime=0,a._currentPlayTimes=0,a._cacheFrameIndex=0,a._frameSize=0,a._cacheRectangle=null,a._clock=null,a._currentFrameConfig=null,a._clipNames=[],a._slots=[],a._childMovies=[],a._groupConfig=t.groupConfig,a._config=t.movieConfig,a._batchEnabled=!(a._config.isNested||a._config.hasChildAnimation),a._batchEnabled&&(a.$a1377=new egret.sys.GroupNode,a.$a1377.a1300=i._cleanBeforeRender),a._clipNames.length=0;for(var n=0,r=a._config.clip.length;r>n;++n)a._clipNames.push(a._config.clip[n].name);for(var n=0,r=a._config.slot.length;r>n;++n){var s=new d(a._config.slot[n]);a._updateSlotBlendMode(s),a._slots.push(s),a._batchEnabled?a.$a1377.a1368(s.rawDisplay.$a1377):a.addChild(s.rawDisplay)}return a._frameSize=2*a._slots.length,a.name=a._config.name,a.play(),a.advanceTime(1e-6),a.stop(),a}return __extends(i,e),i._cleanBeforeRender=function(){},i.prototype._configToEvent=function(t,e){e.movie=this,e.clipName=this._clipConfig.name,e.name=t.name,e.slotName=t.slot||""},i.prototype._onCrossFrame=function(e){for(var i=0,a=e.actionAndEvent.length;a>i;++i){var n=e.actionAndEvent[i];if(n)switch(n.type){case 11:if(t.EgretFactory.factory.soundEventManager.a1256(c.SOUND_EVENT)){var r=egret.Event.create(c,c.SOUND_EVENT);this._configToEvent(n,r),t.EgretFactory.factory.soundEventManager.a1258(r),egret.Event.release(r)}break;case 10:if(this.a1256(c.FRAME_EVENT)){var s=egret.Event.create(c,c.FRAME_EVENT);this._configToEvent(n,s),this.a1258(s),egret.Event.release(s)}break;case 0:if(n.slot){var o=this._getSlot(n.slot);o&&o.childMovie&&o.childMovie.play(n.name)}else this.play(n.name)}}},i.prototype._updateSlotBlendMode=function(t){var e="";switch(t.config.blendMode){case 0:e=egret.BlendMode.NORMAL;break;case 1:e=egret.BlendMode.ADD;break;case 5:e=egret.BlendMode.ERASE}e&&(this._batchEnabled?t.display.$a1377.blendMode=egret.sys.blendModeToNumber(e):t.display.blendMode=e)},i.prototype._updateSlotColor=function(t,e,i,a,n,r,s,o,l){if(1!==i||1!==a||1!==n||0!==s||0!==o||0!==l||0!==r){t.colorFilter||(t.colorFilter=new egret.ColorMatrixFilter);var h=t.colorFilter.matrix;if(h[0]=i,h[6]=a,h[12]=n,h[18]=e,h[4]=s,h[9]=o,h[14]=l,h[19]=r,t.colorFilter.matrix=h,this._batchEnabled)t.display.$a1377.filter=t.colorFilter,t.display.$a1377.alpha=1;else{var p=t.display.filters;p||(p=[]),p.indexOf(t.colorFilter)<0&&p.push(t.colorFilter),t.display.filters=p,t.display.$setAlpha(1)}}else t.colorFilter&&(t.colorFilter=null),this._batchEnabled?(t.display.$a1377.filter=null,t.display.$a1377.alpha=e):(t.display.filters=null,t.display.$setAlpha(e))},i.prototype._updateSlotDisplay=function(e){var i=e.display||e.rawDisplay,a=e.childMovie;if(e.displayIndex>=0)if(e.displayConfig=this._groupConfig.display[e.displayIndex],1===e.displayConfig.type){var n=e.displayConfig.name in e.childMovies?e.childMovies[e.displayConfig.name]:null;n||(n=o(e.displayConfig.name,this._groupConfig.name),n&&(e.childMovies[e.displayConfig.name]=n)),n?(e.display=n,e.childMovie=n):(e.display=e.rawDisplay,e.childMovie=null)}else e.display=e.rawDisplay,e.childMovie=null;else e.displayConfig=null,e.display=e.rawDisplay,e.childMovie=null;if(e.display!==i&&(i&&(this.addChild(e.display),this.swapChildren(e.display,i),this.removeChild(i)),this._updateSlotBlendMode(e)),e.display===e.rawDisplay)if(e.displayConfig&&null!==e.displayConfig.regionIndex&&void 0!==e.displayConfig.regionIndex){if(!e.displayConfig.texture){var r=this._groupConfig.textures[e.displayConfig.textureIndex||0],s=4*e.displayConfig.regionIndex,l=this._groupConfig.rectangleArray[s],h=this._groupConfig.rectangleArray[s+1],p=this._groupConfig.rectangleArray[s+2],u=this._groupConfig.rectangleArray[s+3];e.displayConfig.texture=new egret.Texture,e.displayConfig.texture.bitmapData=r.bitmapData,e.displayConfig.texture.$initData(l,h,Math.min(p,r.textureWidth-l),Math.min(u,r.textureHeight-h),0,0,Math.min(p,r.textureWidth-l),Math.min(u,r.textureHeight-h),r.textureWidth,r.textureHeight)}if(this._batchEnabled){var c=e.displayConfig.texture,d=e.rawDisplay.$a1377;if(egret.sys.RenderNode.prototype.a1300.call(e.rawDisplay.$a1377),d.image=c.bitmapData,t.isV5)d.drawImage(c.$bitmapX,c.$bitmapY,c.$bitmapWidth,c.$bitmapHeight,c.$offsetX,c.$offsetY,c.textureWidth,c.textureHeight),d.imageWidth=c._sourceWidth,d.imageHeight=c._sourceHeight;else{var g=c;d.drawImage(g._bitmapX,g._bitmapY,g._bitmapWidth,g._bitmapHeight,g._offsetX,g._offsetY,c.textureWidth,c.textureHeight),d.imageWidth=g._sourceWidth,d.imageHeight=g._sourceHeight}}else e.rawDisplay.visible=!0,e.rawDisplay.$setBitmapData(e.displayConfig.texture)}else this._batchEnabled?e.rawDisplay.$a1377.image=null:(e.rawDisplay.visible=!1,e.rawDisplay.$setBitmapData(null));e.childMovie!==a&&(a&&(a.stop(),this._childMovies.slice(this._childMovies.indexOf(a),1)),e.childMovie&&(this._childMovies.indexOf(e.childMovie)<0&&this._childMovies.push(e.childMovie),e.config.action?e.childMovie.play(e.config.action):e.childMovie.play(e.childMovie._config.action)))},i.prototype._getSlot=function(t){for(var e=0,i=this._slots.length;i>e;++e){var a=this._slots[e];if(a.config.name===t)return a}return null},i.prototype.$render=function(){this._batchEnabled||e.prototype.$render.call(this)},i.prototype.$updateRenderNode=function(){this._batchEnabled||e.prototype.$updateRenderNode.call(this)},i.prototype.$measureContentBounds=function(t){this._batchEnabled&&this._cacheRectangle?t.setTo(this._cacheRectangle.x,this._cacheRectangle.y,this._cacheRectangle.width-this._cacheRectangle.x,this._cacheRectangle.height-this._cacheRectangle.y):e.prototype.$measureContentBounds.call(this,t)},i.prototype.$doAddChild=function(t,i,a){return this._batchEnabled?(console.warn("Can not add child."),null):e.prototype.$doAddChild.call(this,t,i,a)},i.prototype.$doRemoveChild=function(t,i){return this._batchEnabled?(console.warn("Can not remove child."),null):e.prototype.$doRemoveChild.call(this,t,i)},i.prototype.dispose=function(){if(this._isLockDispose)this._isDelayDispose=!0;else{if(this._clock&&this._clock.remove(this),this._slots)for(var t=0,e=this._slots.length;e>t;++t)this._slots[t].dispose();this._isPlaying=!1,this._cacheRectangle=null,this._clock=null,this._groupConfig=null,this._config=null,this._clipConfig=null,this._currentFrameConfig=null,this._clipArray=null,this._clipNames=null,this._slots=null,this._childMovies=null}},i.prototype.advanceTime=function(e){if(this._isPlaying){this._isLockDispose=!0,0>e&&(e=-e),e*=this.timeScale,this._time+=e*this.clipTimeScale;var i=this._clipConfig.duration,a=i*this._playTimes,n=this._time,r=this._currentPlayTimes;if(this._playTimes>0&&(n>=a||-a>=n)?(this._isCompleted=!0,r=this._playTimes,n=0>n?0:i):(this._isCompleted=!1,0>n?(r=Math.floor(-n/i),n=i- -n%i):(r=Math.floor(n/i),n%=i),this._playTimes>0&&r>this._playTimes&&(r=this._playTimes)),this._currentTime===n)return;var s=Math.floor(n*this._clipConfig.cacheTimeToFrameScale);if(this._cacheFrameIndex!==s){this._cacheFrameIndex=s;var o=this._groupConfig.displayFrameArray,l=this._groupConfig.transformArray,u=this._groupConfig.colorArray,d=!0,g=!1,f=!1,m=this._cacheRectangle;this._cacheRectangle=this._clipConfig.cacheRectangles[this._cacheFrameIndex],this._batchEnabled&&!this._cacheRectangle&&(f=!0,this._cacheRectangle=new egret.Rectangle,this._clipConfig.cacheRectangles[this._cacheFrameIndex]=this._cacheRectangle);for(var v=0,y=this._slots.length;y>v;++v){var b=this._slots[v],_=this._frameSize*this._cacheFrameIndex+2*v;_>=this._clipArray.length&&(_=this._frameSize*(this._cacheFrameIndex-1)+2*v);var A=2*this._clipArray[_];if(A>=0){var T=o[A],C=8*o[A+1],w=6*this._clipArray[_+1],x=!1;if(b.displayIndex!==T&&(b.displayIndex=T,x=!0,this._updateSlotDisplay(b)),(b.colorIndex!==C||x)&&(b.colorIndex=C,b.colorIndex>=0?this._updateSlotColor(b,.01*u[C],.01*u[C+1],.01*u[C+2],.01*u[C+3],u[C+4],u[C+5],u[C+6],u[C+7]):this._updateSlotColor(b,1,1,1,1,0,0,0,0)),g=!0,b.transformIndex!==w)if(b.transformIndex=w,this._batchEnabled){var I=b.display.$a1377.matrix;I||(I=b.display.$a1377.matrix=new egret.Matrix),I.a=l[w],I.b=l[w+1],I.c=l[w+2],I.d=l[w+3],I.tx=l[w+4],I.ty=l[w+5]}else p.a=l[w],p.b=l[w+1],p.c=l[w+2],p.d=l[w+3],p.tx=l[w+4],p.ty=l[w+5],b.display.$setMatrix(p);if(this._batchEnabled&&f&&b.displayConfig){var I=b.display.$a1377.matrix;h.x=0,h.y=0,h.width=b.displayConfig.texture.textureWidth,h.height=b.displayConfig.texture.textureHeight,I.$transformBounds(h),d?(d=!1,this._cacheRectangle.x=h.x,this._cacheRectangle.width=h.x+h.width,this._cacheRectangle.y=h.y,this._cacheRectangle.height=h.y+h.height):(this._cacheRectangle.x=Math.min(this._cacheRectangle.x,h.x),this._cacheRectangle.width=Math.max(this._cacheRectangle.width,h.x+h.width),this._cacheRectangle.y=Math.min(this._cacheRectangle.y,h.y),this._cacheRectangle.height=Math.max(this._cacheRectangle.height,h.y+h.height))}}else-1!==b.displayIndex&&(b.displayIndex=-1,this._updateSlotDisplay(b))}this._cacheRectangle&&(g&&f&&d&&m&&(this._cacheRectangle.x=m.x,this._cacheRectangle.y=m.y,this._cacheRectangle.width=m.width,this._cacheRectangle.height=m.height),t.isV5||this.$invalidateContentBounds())}if(this._isCompleted&&(this._isPlaying=!1),!this._isStarted&&(this._isStarted=!0,this.a1256(c.START))){var D=egret.Event.create(c,c.START);D.movie=this,D.clipName=this._clipConfig.name,D.name="",D.slotName="",this.a1258(D)}this._isReversing=this._currentTime>n&&this._currentPlayTimes===r,this._currentTime=n;var E=this._clipConfig.frame?this._clipConfig.frame.length:0;if(E>0){var S=Math.floor(this._currentTime*this._config.frameRate),G=this._groupConfig.frame[this._clipConfig.frame[S]];if(this._currentFrameConfig!==G)if(E>1){var P=this._currentFrameConfig;if(this._currentFrameConfig=G,!P){var k=Math.floor(this._currentTime*this._config.frameRate);P=this._groupConfig.frame[this._clipConfig.frame[k]],this._isReversing||(this._currentTime<=P.position||this._currentPlayTimes!==r)&&(P=this._groupConfig.frame[P.prev])}if(this._isReversing)for(;P!==G;)this._onCrossFrame(P),P=this._groupConfig.frame[P.prev];else for(;P!==G;)P=this._groupConfig.frame[P.next],this._onCrossFrame(P)}else this._currentFrameConfig=G,this._currentFrameConfig&&this._onCrossFrame(this._currentFrameConfig)}if(this._currentPlayTimes!==r){if(this._currentPlayTimes=r,this.a1256(c.LOOP_COMPLETE)){var M=egret.Event.create(c,c.LOOP_COMPLETE);M.movie=this,M.clipName=this._clipConfig.name,M.name="",M.slotName="",this.a1258(M),egret.Event.release(M)}if(this._isCompleted&&this.a1256(c.COMPLETE)){var L=egret.Event.create(c,c.COMPLETE);L.movie=this,L.clipName=this._clipConfig.name,L.name="",L.slotName="",this.a1258(L),egret.Event.release(L)}}}this._isLockDispose=!1,this._isDelayDispose&&this.dispose()},i.prototype.play=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=-1),t){for(var i=null,a=0,n=this._config.clip.length;n>a;++a){var r=this._config.clip[a];r.name===t&&(i=r)}i?(this._clipConfig=i,this._clipArray=new Int16Array(this._groupConfig.arrayBuffer,this._groupConfig.offset+this._groupConfig.position[0]+this._clipConfig.p,this._clipConfig.s/this._groupConfig.position[2]),this._clipConfig.cacheRectangles||(this._clipConfig.cacheRectangles=[]),this._isPlaying=!0,this._isStarted=!1,this._isCompleted=!1,0>e||e!==e?this._playTimes=this._clipConfig.playTimes:this._playTimes=e,this._time=0,this._currentTime=0,this._currentPlayTimes=0,this._cacheFrameIndex=-1,this._currentFrameConfig=null,this._cacheRectangle=null,this.clipTimeScale=1/this._clipConfig.scale):console.warn("No clip in movie.",this._config.name,t)
}else this._clipConfig?this._isPlaying||this._isCompleted?this.play(this._clipConfig.name,this._playTimes):this._isPlaying=!0:this._config.action&&this.play(this._config.action,e)},i.prototype.stop=function(){this._isPlaying=!1},i.prototype.a1484=function(t,e,i){void 0===t&&(t=null),void 0===i&&(i=-1),e%=this._clipConfig.duration,0>e&&(e+=this._clipConfig.duration),this.play(t,i),this._time=e,this._currentTime=e},i.prototype.a1485=function(t,e){void 0===t&&(t=null),e%=this._clipConfig.duration,0>e&&(e+=this._clipConfig.duration),this.play(t,1),this._time=e,this._currentTime=e,this.advanceTime(.001),this.stop()},i.prototype.hasClip=function(t){for(var e=0,i=this._config.clip.length;i>e;++e){var a=this._config.clip[e];if(a.name===t)return!0}return!1},Object.defineProperty(i.prototype,"a1713",{get:function(){return this._isPlaying&&!this._isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isComplete",{get:function(){return this._isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){return this._currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalTime",{get:function(){return this._clipConfig?this._clipConfig.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlayTimes",{get:function(){return this._currentPlayTimes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playTimes",{get:function(){return this._playTimes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"groupName",{get:function(){return this._groupConfig.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clipName",{get:function(){return this._clipConfig?this._clipConfig.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clipNames",{get:function(){return this._clipNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clock",{get:function(){return this._clock},set:function(t){if(this._clock!==t){var e=this._clock;e&&e.remove(this),this._clock=t,this._clock&&this._clock.add(this)}},enumerable:!0,configurable:!0}),i.prototype.a1844=function(e){e?this.clock=t.EgretFactory.clock:this.clock=null},Object.defineProperty(i.prototype,"display",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animation",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"armature",{get:function(){return this},enumerable:!0,configurable:!0}),i.prototype.getAnimation=function(){return this},i.prototype.a1768=function(){return this},i.prototype.a1786=function(){return this},i.prototype.a1819=function(t){return this.hasClip(t)},i.prototype.invalidUpdate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Object.defineProperty(i.prototype,"lastAnimationName",{get:function(){return this.clipName},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationNames",{get:function(){return this.clipNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationList",{get:function(){return this.clipNames},enumerable:!0,configurable:!0}),i}(egret.DisplayObjectContainer);t.Movie=g}(dragonBones||(dragonBones={})),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function i(t){X=t}function a(t){Y=t}function n(){return function(){return process.nextTick(h)}}function r(){return"undefined"!=typeof z?function(){z(h)}:l()}function s(){var t=0,e=new K(h),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function o(){var t=new MessageChannel;return t.port1.onmessage=h,function(){return t.port2.postMessage(0)}}function l(){var t=setTimeout;return function(){return t(h,1)}}function h(){for(var t=0;H>t;t+=2){var e=Q[t],i=Q[t+1];e(i),Q[t]=void 0,Q[t+1]=void 0}H=0}function p(){try{var t=require,e=t("vertx");return z=e.runOnLoop||e.runOnContext,r()}catch(i){return l()}}function u(t,e){var i=arguments,a=this,n=new this.constructor(d);void 0===n[ee]&&k(n);var r=a._state;return r?!function(){var t=i[r-1];Y(function(){return S(r,n,t,a._result)})}():x(a,n,t,e),n}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(d);return A(i,t),i}function d(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return re.error=e,re}}function v(t,e,i,a){try{t.call(e,i,a)}catch(n){return n}}function y(t,e,i){Y(function(t){var a=!1,n=v(i,e,function(i){a||(a=!0,e!==i?A(t,i):C(t,i))},function(e){a||(a=!0,w(t,e))},"Settle: "+(t._label||" unknown promise"));!a&&n&&(a=!0,w(t,n))},t)}function b(t,e){e._state===ae?C(t,e._result):e._state===ne?w(t,e._result):x(e,void 0,function(e){return A(t,e)},function(e){return w(t,e)})}function _(t,i,a){i.constructor===t.constructor&&a===u&&i.constructor.resolve===c?b(t,i):a===re?w(t,re.error):void 0===a?C(t,i):e(a)?y(t,i,a):C(t,i)}function A(e,i){e===i?w(e,g()):t(i)?_(e,i,m(i)):C(e,i)}function T(t){t._onerror&&t._onerror(t._result),I(t)}function C(t,e){t._state===ie&&(t._result=e,t._state=ae,0!==t._subscribers.length&&Y(I,t))}function w(t,e){t._state===ie&&(t._state=ne,t._result=e,Y(T,t))}function x(t,e,i,a){var n=t._subscribers,r=n.length;t._onerror=null,n[r]=e,n[r+ae]=i,n[r+ne]=a,0===r&&t._state&&Y(I,t)}function I(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var a=void 0,n=void 0,r=t._result,s=0;s<e.length;s+=3)a=e[s],n=e[s+i],a?S(i,a,n,r):n(r);t._subscribers.length=0}}function D(){this.error=null}function E(t,e){try{return t(e)}catch(i){return se.error=i,se}}function S(t,i,a,n){var r=e(a),s=void 0,o=void 0,l=void 0,h=void 0;if(r){if(s=E(a,n),s===se?(h=!0,o=s.error,s=null):l=!0,i===s)return void w(i,f())}else s=n,l=!0;i._state!==ie||(r&&l?A(i,s):h?w(i,o):t===ae?C(i,s):t===ne&&w(i,s))}function G(t,e){try{e(function(e){A(t,e)},function(e){w(t,e)})}catch(i){w(t,i)}}function P(){return oe++}function k(t){t[ee]=oe++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[ee]||k(this.promise),j(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):w(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function O(t){return new M(this,t).promise}function B(t){var e=this;return new e(j(t)?function(i,a){for(var n=t.length,r=0;n>r;r++)e.resolve(t[r]).then(i,a)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function R(t){var e=this,i=new e(d);return w(i,t),i}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(t){this[ee]=P(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&U(),this instanceof V?G(this,t):F())}function $(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=t.Promise;if("undefined"!=typeof egret_native&&egret_native.capability&&!egret_native.capability("Promise")&&(i=void 0),i){var a=null;try{a=Object.prototype.toString.call(i.resolve())}catch(e){}if("[object Promise]"===a&&!i.cast)return}t.Promise=V}var N=void 0;N=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var j=N,H=0,z=void 0,X=void 0,Y=function(t,e){Q[H]=t,Q[H+1]=e,H+=2,2===H&&(X?X(h):te())},W="undefined"!=typeof window?window:void 0,q=W||{},K=q.MutationObserver||q.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),te=void 0;te=Z?n():K?s():J?o():void 0===W&&"function"==typeof require?p():l();var ee=Math.random().toString(36).substring(16),ie=void 0,ae=1,ne=2,re=new D,se=new D,oe=0;return M.prototype._enumerate=function(){for(var t=this.length,e=this._input,i=0;this._state===ie&&t>i;i++)this._eachEntry(e[i],i)},M.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,a=i.resolve;if(a===c){var n=m(t);if(n===u&&t._state!==ie)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(i===V){var r=new i(d);_(r,t,n),this._willSettleAt(r,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(a(t),e)},M.prototype._settledAt=function(t,e,i){var a=this.promise;a._state===ie&&(this._remaining--,t===ne?w(a,i):this._result[e]=i),0===this._remaining&&C(a,this._result)},M.prototype._willSettleAt=function(t,e){var i=this;x(t,void 0,function(t){return i._settledAt(ae,e,t)},function(t){return i._settledAt(ne,e,t)})},V.all=O,V.race=B,V.resolve=c,V.reject=R,V._setScheduler=i,V._setAsap=a,V._asap=Y,V.prototype={constructor:V,then:u,"catch":function(t){return this.then(null,t)}},V.polyfill=$,V.Promise=V,V}),ES6Promise.polyfill();var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,a){return new(i||(i=Promise))(function(n,r){function s(t){try{l(a.next(t))}catch(e){r(e)}}function o(t){try{l(a["throw"](t))}catch(e){r(e)}}function l(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(s,o)}l((a=a.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(s=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){l.label=i[1];break}if(6===i[0]&&l.label<s[1]){l.label=s[1],s=i;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(i);break}s[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(a){i=[6,a],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,r,s,o,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},BaseProxy=function(){function t(){}return t.prototype.a1854=function(t,e,i){},t.prototype.receiveServerMsgOnce=function(t,e,i){var a=function(n){this.a1855(t,a,this),e.apply(i,n)};this.a1854(t,a,this)},t.prototype.receiveServerHttpUpdateMsg=function(t,e,i){this.a1854(t+"_HttpUpdate",e,i)},t.prototype.receiveServerHttpUpdateMsgOnce=function(t,e,i){this.receiveServerMsgOnce(t+"_HttpUpdate",e,i)},t.prototype.a1855=function(t,e,i){},t.prototype.removeServerHttpUpdateMsg=function(t,e,i){this.a1855(t+"_HttpUpdate",e,i)},t.prototype.a1856=function(t,e){var i=t.split("."),a={};a.mod=i[0],a["do"]=i[1],null!=e&&(a.p=e);var n=JSON.stringify(a),r=new egret.URLVariables("data="+n+"&h="+a1228.ProxyUserFlag);return r},t}();__reflect(BaseProxy.prototype,"BaseProxy");var Dictionary=function(){function t(){this._objKeys=[],this._objDatum=[]}return t.prototype.add=function(t,e){var i=this._objKeys.lastIndexOf(t);-1===i?(this._objKeys.push(t),this._objDatum.push(e)):this._objDatum[i]=e},t.prototype.del=function(t){var e=this._objKeys.lastIndexOf(t);-1!==e&&(this._objKeys.splice(e,1),this._objDatum.splice(e,1))},t.prototype.get=function(t){var e=this._objKeys.lastIndexOf(t);return-1!==e?this._objDatum[e]:null},t.prototype.has=function(t){var e=this._objKeys.lastIndexOf(t);return-1!==e?!0:!1},t.prototype.forEach=function(t,e){for(var i=this._objKeys.length-1;i>=0;i--)t(this._objDatum[i],this._objKeys[i])},Object.defineProperty(t.prototype,"keys",{get:function(){for(var t=[],e=this._objKeys.length,i=0;e>i;i++)t.push(this._objKeys[i]);return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datum",{get:function(){for(var t=[],e=this._objKeys.length,i=0;e>i;i++)t.push(this._objDatum[i]);return t},enumerable:!0,configurable:!0}),t.prototype.dump=function(){for(var t=this._objKeys.length,e=0;t>e;e++)console.log("key:",typeof this._objKeys[e]," ---> data:",this._objDatum[e])},t}();__reflect(Dictionary.prototype,"Dictionary");var actor;!function(t){var e=function(){function t(e,i,a,n){this.tempSpeed=0,this.hp=100,this.maxhp=100,this.exp=1,this.maxExp=1,this.hpFlag=!1,this.width=200,this.height=200,this.hitCount=0,this.isDie=!1,this.level=0,this.lastLv=0,this.index=0,this.info=null,this.hitAddDef=0,this.hitAddDefCount=0,this.hitAddAtk=0,this.hitAddAtkCount=0,this.finallyDamageAdd=0,this.finallyDamageCount=0,this.commomAtkCount=0,this.addexp=!1,this.subhpBuff=null,this.mayAddAtk=0,this.notDodgeCount=2,this.critCount=0,this.fangyuCount=0,this.lastTarget=null,this.afterCritCount=99,this.afterDodgeCount=99,this._id=e||t.idIdx,t.idIdx+=1,this._follower=[],this.actorMgr=i,this.actorType=a,this.stateMachine=new state.StateMachine(this),this._walking=!1,this._name=""}return t.prototype.init=function(e,i,a,n){this.tempSpeed=0,this.isDie=!1,this._shadowPanel&&(this._hpbImg&&egret.Tween.removeTweens(this._hpbImg),this._hpImg&&egret.Tween.removeTweens(this._hpImg),this._expImg&&egret.Tween.removeTweens(this._expImg),this._shadowPanel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865,this),this._shadowPanel.parent&&this._shadowPanel.parent.removeChild(this._shadowPanel),1==this.actorType?t.playerShadowPanels.push(this._shadowPanel):t.monsterShadowPanels.push(this._shadowPanel),this._shadowPanel=null),this.displayObj&&(this.displayObj.removeEventListener(dragonBones.EventObject.COMPLETE,this.a1866,this),this.displayObj.removeEventListener(dragonBones.EventObject.FRAME_EVENT,this.a1867,this),egret.Tween.removeTweens(this.displayObj),this.displayObj.parent&&(this.displayObj.parent.removeChild(this.displayObj),a1228.a1245.a2611(this.displayObj)),this.displayObj=null),this.data=a||this.data,this.hp=this.data.hp,this.maxhp=this.data.hp,this.aniName=n||this.data.shape;var r=(this.data.index,a1228.g_ModelSize[this.aniName]);1==this.actorType||3==a1228.a1229.a2547()?this.a1859():(this.displayObj=new egret.Sprite,this.actorMgr.a2493().addChild(this.displayObj)),this.data.isboss?(this.width=r.width*Math.abs(r.bossScale),this.height=r.height*Math.abs(r.bossScale)):(this.width=r.width,this.height=r.height),this.data.skills&&this.a1858(this.data.skills),this.a1906(),this.setPos(e,i),this.setHp(this.a1909()),this.setShadowPanelVisible(!1)},t.prototype.a1857=function(e,i,a){this._shadowPanel&&(this._hpbImg&&egret.Tween.removeTweens(this._hpbImg),this._hpImg&&egret.Tween.removeTweens(this._hpImg),this._expImg&&egret.Tween.removeTweens(this._expImg),this._shadowPanel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865,this),this._shadowPanel.parent&&this._shadowPanel.parent.removeChild(this._shadowPanel),1==this.actorType?t.playerShadowPanels.push(this._shadowPanel):t.monsterShadowPanels.push(this._shadowPanel),this._shadowPanel=null),this.displayObj&&(this.displayObj.removeEventListener(dragonBones.EventObject.COMPLETE,this.a1866,this),this.displayObj.removeEventListener(dragonBones.EventObject.FRAME_EVENT,this.a1867,this),egret.Tween.removeTweens(this.displayObj),this.displayObj.parent&&(this.displayObj.parent.removeChild(this.displayObj),a1228.a1245.a2611(this.displayObj)),this.displayObj=null),this.aniName=a||this.data.shape;var n=a1228.g_ModelSize[this.aniName];1==this.actorType?this.a1859():(this.displayObj=new egret.Sprite,this.actorMgr.a2493().addChild(this.displayObj)),this.data.isboss?(this.width=n.width*Math.abs(n.bossScale),this.height=n.height*Math.abs(n.bossScale)):(this.width=n.width,this.height=n.height),this.a1906(),this.setPos(e,i),this.setShadowPanelVisible(!1)},t.prototype.a1858=function(t){t&&t.length>0?(this.skills=t,-1==t.indexOf(15)&&-1==t.indexOf(115)&&(this.hitAddDef=0,this.hitAddDefCount=0),-1==t.indexOf(18)&&-1==t.indexOf(118)&&(this.hitAddAtk=0,this.hitAddAtkCount=0),-1==t.indexOf(19)&&-1==t.indexOf(119)&&(this.finallyDamageAdd=0,this.finallyDamageCount=0)):(this.skills=null,this.hitAddDef=0,this.hitAddDefCount=0,this.hitAddAtk=0,this.hitAddAtkCount=0,this.finallyDamageAdd=0,this.finallyDamageCount=0),1==a1232.curLevel&&1==this.actorType&&this.skills.push(21)},t.prototype.a1859=function(){var t=a1228.g_ModelSize[this.aniName];this.displayObj=a1228.a1245.a2610(this.aniName),this.displayObj.scaleX=1==this.actorType&&-1||1,this.displayObj.scaleY=1,this.data.isboss&&(this.displayObj.scaleX=this.displayObj.scaleX*t.bossScale,this.displayObj.scaleY=this.displayObj.scaleY*t.bossScale),this.displayObj.scaleX2=this.displayObj.scaleX,this.displayObj.scaleY2=this.displayObj.scaleY,this.displayObj.addEventListener(dragonBones.EventObject.COMPLETE,this.a1866,this),this.displayObj.addEventListener(dragonBones.EventObject.FRAME_EVENT,this.a1867,this),this.actorMgr.a2493().addChild(this.displayObj),this.a1891(0)},t.prototype.a1860=function(t){this.playerID=t},t.prototype.a1861=function(){return this.playerID},t.prototype.a1862=function(t,e){void 0===e&&(e=0),this.level=t.level,this.exp=t.exp,this.maxExp=e,this.info=t,this.isDie=!1,this.setName(this._name),this.hpFlag?this.a1882():(this.hpFlag=!0,this.hp=this.a1909(),this.setShadowPanelVisible(!1)),this.maxhp=this.a1909(),this.setHp(this.hp)},t.prototype.setIndex=function(t){this.index=t},t.prototype.a1864=function(){return this.level},t.prototype.a1865=function(){if(1==this.actorType||this.a1874()){var t=this.info;if(this.a1874()){var e=0,i=0,a=0;for(var n in a1228.g_PlayerData){var r=a1228.g_PlayerData[n],s=[r.shape,r.upstar[0][1],r.upstar[1][1]];s=s.concat(r.jinhua);for(var o=0;o<s.length;++o)if(this.data.shape==s[o]){e=Number(n),1==o||2==o?(a=r.upstar[o-1][0],i=1):o>=3&&(i=o-2);break}if(e)break}t=new a1231(null,[e||1]),t.sex=0,t.jinhua=i,t.star=a,t.extdata={atk:this.data.atk,def:this.data.def,hp:this.data.hp,crit:this.data.crit,dodge:this.data.dodge,atktime:this.data.atktime,skills:this.data.skills,showGrow:!1,showProduce:!1}}a1228.a1225.applyFunc(10004,5099,t)}},t.prototype.a1866=function(){var t=this;"siwang"==this.curAction?(egret.Tween.get(this.a1871()).wait(100).call(function(){t.isDie=!0}).wait(500).to({alpha:0},600).call(function(){t.actorMgr.a2499(t)}),this.setShadowPanelVisible(!1)):this.a1868("daiji"),this.hitObj=null},t.prototype.a1867=function(t){if("frameEvent"==t.type&&-1!=t.frameLabel.indexOf("gongji")){var e=a1228.g_ModelSize[this.aniName];if(e[this.curAction]&&e[this.curAction][this.hitCount]){var i=a1228.a1226.a2525(101),a=a1228.a1226.a2525(160);i||a||a1228.a1238.playEffect("attack_mp3");var n="gongji2"==this.curAction;this.a1874()&&n?this.a1879(this.hitObj,2,e["boss"+this.curAction][this.hitCount]):this.a1879(this.hitObj,n&&2||1,e[this.curAction][this.hitCount]),this.hitCount+=1}}},t.prototype.a1868=function(t,e,i){if(void 0===i&&(i=0),this.curAction!=t){if(this.curAction=t,"siwang"==this.curAction){var a=a1228.a1226.a2525(101),n=a1228.a1226.a2525(160);a||n||a1228.a1238.playEffect("dead_mp3"),egret.Tween.removeTweens(this),i=1}return this.displayObj&&this.displayObj.animation&&this.displayObj.animation.play(t,i),!0}},t.prototype.a1869=function(){return this.curAction},t.prototype.a1870=function(){return{x:this.displayObj.x,y:this.displayObj.y}},t.prototype.a1871=function(){return this.displayObj},t.prototype.a1872=function(){return this.width},t.prototype.a1873=function(){return this.height},t.prototype.a1874=function(){return this.data.isboss&&!0||!1},t.prototype.setPos=function(t,e){this.displayObj.x=Math.floor(t),this.displayObj.y=Math.floor(e),this._shadowPanel&&(this._shadowPanel.x=Math.floor(t),this._shadowPanel.y=Math.floor(e));var i=this.actorMgr.a2495();if(i&&this.displayObj){var a=i.a1870();3!=a1228.a1229.a2547()&&(this.displayObj.visible=this.displayObj.x<a.x+a1228.a1122.a1872()/2+300),this.displayObj.visible&&!this.displayObj.animation&&(this.displayObj.parent&&(this.displayObj.parent.removeChild(this.displayObj),a1228.a1245.a2611(this.displayObj)),this.a1859(),this.displayObj.x=Math.floor(t),this.displayObj.y=Math.floor(e))}},t.prototype.a1876=function(){return this._shadowPanel},t.prototype.a1877=function(){return this.hp>0&&"beiji"!=this.curAction&&"gongji"!=this.curAction&&"gongji2"!=this.curAction},t.prototype.attack=function(t){var e=this.a1910(),i=1e3*Math.random()<=e&&this.critCount<3;if(this.hitCount=0,this.mayAddAtk=0,this.skills&&-1!=this.skills.indexOf(21)){var a=Number(a1228.g_Skil[21].mustCrit);this.commomAtkCount>=a&&(i=!0,this.commomAtkCount=0)}else if(this.skills&&-1!=this.skills.indexOf(121)){var a=Number(a1228.g_Skil[121].mustCrit);this.commomAtkCount>=a&&(i=!0,this.commomAtkCount=0)}if(this.skills&&-1!=this.skills.indexOf(19)){var n=Number(a1228.g_Skil[19].subhpAddAtk[0]),r=Number(a1228.g_Skil[19].subhpAddAtk[1]),s=this.a1909()*n/100;this.hp>s?(this.finallyDamageCount<1&&(this.finallyDamageCount+=1,this.finallyDamageAdd+=r/100),this.a1881(s,1)):1==this.finallyDamageCount&&(this.finallyDamageAdd-=r/100)}else if(this.skills&&-1!=this.skills.indexOf(119)){var n=Number(a1228.g_Skil[119].subhpAddAtk[0]),r=Number(a1228.g_Skil[119].subhpAddAtk[1]),s=this.a1909()*n/100;this.hp>s?(this.finallyDamageCount<1&&(this.finallyDamageCount+=1,this.finallyDamageAdd+=r/100),this.a1881(s,1)):1==this.finallyDamageCount&&(this.finallyDamageAdd-=r/100)}if(this.skills&&-1!=this.skills.indexOf(22)){var n=Number(a1228.g_Skil[22].mayAddAtk[0]),r=Number(a1228.g_Skil[22].mayAddAtk[1]),o=100*Math.random()<=n;o&&(this.mayAddAtk=r/100)}else if(this.skills&&-1!=this.skills.indexOf(122)){var n=Number(a1228.g_Skil[122].mayAddAtk[0]),r=Number(a1228.g_Skil[122].mayAddAtk[1]),o=100*Math.random()<=n;o&&(this.mayAddAtk=r/100)}if(i){this.critCount+=1,this.a1868("gongji2",0,1),this.hitObj=t,this.lasttime+=1500;var n=Number(a1228.g_Skil[28].critDamageAdd[0]),r=Number(a1228.g_Skil[128].critDamageAdd[0]);this.skills&&-1!=this.skills.indexOf(28)&&this.afterCritCount<=n?this.afterCritCount=0:this.skills&&-1!=this.skills.indexOf(128)&&this.afterCritCount<=r?this.afterCritCount=0:this.afterCritCount=-1}else this.critCount=0,this.a1868("gongji",0,1),this.commomAtkCount+=1,this.hitObj=t,this.afterCritCount+=1},t.prototype.a1879=function(t,e,i){if(!(t.a1886()<=0)){var a=0,n=this.a1907(),r=t.a1908(),s=t.a1912(),o=1e3*Math.random()<=s,l=!1;if(this.skills&&-1!=this.skills.indexOf(23)){var h=Number(a1228.g_Skil[23].triggerRate);1e3*Math.random()<=10*h&&(l=!0)}else if(this.skills&&-1!=this.skills.indexOf(123)){var h=Number(a1228.g_Skil[123].triggerRate);1e3*Math.random()<=10*h&&(l=!0)}var p=0;if(t.skills&&-1!=t.skills.indexOf(24)){var h=Number(a1228.g_Skil[24].triggerRate);1e3*Math.random()<=10*h&&(p=a1228.g_Skil[24].def/100)}else if(t.skills&&-1!=t.skills.indexOf(124)){var h=Number(a1228.g_Skil[124].triggerRate);1e3*Math.random()<=10*h&&(p=a1228.g_Skil[124].def/100)}if(p&&t.fangyuCount<2?(t.fangyuCount+=1,r+=r*p):(p=0,t.fangyuCount=0),o&&(t.notDodgeCount<2||l)&&(o=!1),o){t.notDodgeCount=0,e=1;var u=Number(a1228.g_Skil[29].dodgeDamageSub[0]),c=Number(a1228.g_Skil[129].dodgeDamageSub[0]);t.skills&&-1!=t.skills.indexOf(29)&&t.afterDodgeCount<=u?t.afterDodgeCount=0:t.skills&&-1!=t.skills.indexOf(129)&&t.afterDodgeCount<=c?t.afterDodgeCount=0:t.afterDodgeCount=-1}else{var d=.2*Math.random()-.1+1;if(this.skills&&-1!=this.skills.indexOf(13)){var g=Number(a1228.g_Skil[13].FluctuateHit[0]),h=Number(a1228.g_Skil[13].FluctuateHit[1]);d*=a1228.a1245.random_num(g,h)/100}else if(this.skills&&-1!=this.skills.indexOf(113)){var g=Number(a1228.g_Skil[113].FluctuateHit[0]),h=Number(a1228.g_Skil[113].FluctuateHit[1]);d*=a1228.a1245.random_num(g,h)/100}if(a=2==e?Math.max(Math.floor((n-r)*i*d*this.a1911()*(1+this.finallyDamageAdd)),1):Math.max(Math.floor((n-r)*i*d*(1+this.finallyDamageAdd)),1),!l&&t.skills&&-1!=t.skills.indexOf(20)){var g=Number(a1228.g_Skil[20].bounceHit),f=Math.ceil(a*(g/100));f=t.checkFinalyDamage(t,this,f),this.a1881(f,1)}else if(!l&&t.skills&&-1!=t.skills.indexOf(120)){var g=Number(a1228.g_Skil[120].bounceHit),f=Math.ceil(a*(g/100));f=t.checkFinalyDamage(t,this,f),this.a1881(f,1)}if(this.skills&&!t.subhpBuff&&-1!=this.skills.indexOf(5)){var g=Number(a1228.g_Skil[5].persistHit),m=0,v=a1228.g_ModelSize[this.aniName],y=1;if(v[this.curAction]){y=0;for(var b=0;b<v[this.curAction].length;++b)y+=v[this.curAction][b]}m=2==e?Math.max(Math.floor((n-r)*y*d*this.a1911()*(1+this.finallyDamageAdd)),1):Math.max(Math.floor((n-r)*y*d*(1+this.finallyDamageAdd)),1),t.subhpBuff={deduct:Math.floor(m*(g/100)),atkid:this._id,lasttime:egret.getTimer(),times:2}}else if(this.skills&&!t.subhpBuff&&-1!=this.skills.indexOf(105)){var g=Number(a1228.g_Skil[105].persistHit),m=0,v=a1228.g_ModelSize[this.aniName],y=1;if(v[this.curAction]){y=0;for(var b=0;b<v[this.curAction].length;++b)y+=v[this.curAction][b]}m=2==e?Math.max(Math.floor((n-r)*y*this.a1911()*(1+this.finallyDamageAdd)),1):Math.max(Math.floor((n-r)*y*(1+this.finallyDamageAdd)),1),t.subhpBuff={deduct:Math.floor(m*(g/100)),atkid:this._id,lasttime:egret.getTimer(),times:2}}t.notDodgeCount+=1,t.afterDodgeCount+=1}if(a=this.checkFinalyDamage(this,t,a),t.a1881(a,e),t.a1880(),t.skills&&t.a1886()<=0&&-1!=t.skills.indexOf(10)){var g=Number(a1228.g_Skil[10].dieHit),_=t.a1907(),f=Math.floor(_*(g/100));f=t.checkFinalyDamage(t,this,f),this.a1881(f,2)}else if(t.skills&&t.a1886()<=0&&-1!=t.skills.indexOf(110)){var g=Number(a1228.g_Skil[110].dieHit),_=t.a1907(),f=Math.floor(_*(g/100));f=t.checkFinalyDamage(t,this,f),this.a1881(f,2)}if(this.skills&&-1!=this.skills.indexOf(18)&&this.hitAddAtkCount<5){var g=Number(a1228.g_Skil[18].hitAtk);this.hitAddAtkCount+=1,this.hitAddAtk+=g/100}else if(this.skills&&-1!=this.skills.indexOf(118)&&this.hitAddAtkCount<5){var g=Number(a1228.g_Skil[118].hitAtk);this.hitAddAtkCount+=1,this.hitAddAtk+=g/100}if(t.skills&&-1!=t.skills.indexOf(15)&&t.hitAddDefCount<5){var g=Number(a1228.g_Skil[15].hitDef);t.hitAddDefCount+=1,t.hitAddDef+=g/100}else if(t.skills&&-1!=t.skills.indexOf(115)&&t.hitAddDefCount<5){var g=Number(a1228.g_Skil[115].hitDef);t.hitAddDefCount+=1,t.hitAddDef+=g/100}if(this.skills&&-1!=this.skills.indexOf(17)){var h=Number(a1228.g_Skil[17].ContAtk);a1228.a1245.random_num(1,100)<=h&&(this.lasttime=0)}else if(this.skills&&-1!=this.skills.indexOf(117)){var h=Number(a1228.g_Skil[117].ContAtk);a1228.a1245.random_num(1,100)<=h&&(this.lasttime=0)}}},t.prototype.a1880=function(){if(this.a1871()){var t=this.a1871().a1263(0,0),e=a1228.a1245.CreateAniSpriteByPool("shouji",1,2,30,!0,"shouji");e.x=t.x+Math.floor(10*Math.random())-70-60*this.a1871().scaleX,e.y=t.y+Math.floor(10*Math.random())-this.height+30,a1220.UI_Main_Down2.addChild(e),"daiji"==this.curAction&&this.a1868("beiji",0,1)}},t.prototype.a1881=function(t,e){t=Math.floor(t),this.setHp(this.hp-t),this.a1890(t,e),this.a1882()},t.prototype.a1882=function(){this.setShadowPanelVisible(!0),this.timeSID&&egret.clearTimeout(this.timeSID),this.timeSID=egret.setTimeout(function(){this._shadowPanel&&this.setShadowPanelVisible(!1)},this,2e3)},t.prototype.setShadowPanelVisible=function(t){if(this._shadowPanel)for(var e=this._shadowPanel.$children,i=0;i<e.length;++i)e[i].visible=t},t.prototype.a1883=function(){this.hitAddDef=0,this.hitAddDefCount=0,this.hitAddAtk=0,this.hitAddAtkCount=0,this.finallyDamageAdd=0,this.finallyDamageCount=0,this.fangyuCount=0,this.critCount=0,this.commomAtkCount=0,this.subhpBuff=null,this.isDie=!1,this.notDodgeCount=2,this.afterCritCount=99,this.afterDodgeCount=99,this._hpbImg&&egret.Tween.removeTweens(this._hpbImg),this._hpImg&&egret.Tween.removeTweens(this._hpImg),this._expImg&&egret.Tween.removeTweens(this._expImg),this.displayObj&&egret.Tween.removeTweens(this.displayObj),this.setHp(this.a1909()),this.lastTarget=null,this.displayObj&&(this.displayObj.filters=null)},t.prototype.a1884=function(t){this.maxhp=t,this.setHp(t)},t.prototype.setHp=function(t){var e=this,i=this.hp;if(this.hp=Math.max(Math.min(t,this.maxhp),0),1==this.actorType){this._hpImg,this._expImg;if(this._hpImg.maxWidth=99,this.maxExp){var a=Math.min(Math.floor(this.exp/this.maxExp*91),91);this.addexp&&this.lastLv?(this._expImg&&egret.Tween.removeTweens(this._expImg),this.addexp=!1,this.level==this.lastLv?egret.Tween.get(this._expImg).to({width:a},500,egret.Ease.cubicInOut).call(function(){e._expImg.width=a}):egret.Tween.get(this._expImg).to({width:91},500,egret.Ease.cubicInOut).to({width:0},0).to({width:a},500,egret.Ease.cubicInOut).call(function(){e._expImg.width=a})):this._expImg.width=a}else this._expImg.width=91}var n=this.hp-i;if(0>n){egret.Tween.removeTweens(this._hpImg),egret.Tween.removeTweens(this._hpbImg);var r=Math.min(Math.floor(this.hp/this.maxhp*this._hpImg.maxWidth),this._hpImg.maxWidth);this.hp<=0?(egret.Tween.get(this._hpImg).to({width:r},500,egret.Ease.cubicInOut),egret.Tween.get(this._hpbImg).wait(100).to({width:r},500,egret.Ease.cubicInOut).wait(50).call(function(){e.setShadowPanelVisible(!1)})):(egret.Tween.get(this._hpImg).to({width:r},150,egret.Ease.cubicInOut),egret.Tween.get(this._hpbImg).wait(150).to({width:r},920,egret.Ease.cubicInOut))}else this._hpImg.width=Math.min(Math.floor(this.hp/this.maxhp*this._hpImg.maxWidth),this._hpImg.maxWidth)},t.prototype.a1886=function(){return this.hp},t.prototype.a1887=function(){var t=this.data.atktime;if(this.skills&&-1!=this.skills.indexOf(3)){var e=Number(a1228.g_Skil[3].gongsu/100);t/=1+e}else if(this.skills&&-1!=this.skills.indexOf(103)){var e=Number(a1228.g_Skil[103].gongsu/100);t/=1+e}return t},t.prototype.a1888=function(){return this.data.dis},t.prototype.moveTo=function(t,e){var i=(this.a1893().a2496(),this.a1870()),a={x:t,y:e};this.a1891(1,[i,a])},t.prototype.a1889=function(){this.a1891(0,0),this.a1904();for(var t=null,e=this,i=0,a=e._follower;i<a.length;i++){var n=a[i];t=this.a1899(n),t&&t.a1889()}},t.prototype.a1890=function(e,i){if(this.a1871()){var a=this.a1871().a1263(0,0),n=CBitmapText.create("subhp_fnt");if(n.x=a.x+Math.floor(30*Math.random())-50,n.y=a.y+Math.floor(30*Math.random())-this.height+50,n.setSpace(-14),a1220.UI_Main_Down.addChild(n),2==i)n.setString("yw"+e),n.scaleX=1.1,n.scaleY=1.1,egret.Tween.get(n).wait(10).call(function(){n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2
}).to({scaleX:2.3,scaleY:2.3},100).to({scaleX:1.5,scaleY:1.5},100).to({scaleX:1.65,scaleY:1.65},50).to({scaleX:1.1,scaleY:1.1},50).wait(300).to({y:n.y-30,alpha:0},50).call(function(){CBitmapText.remove(n)});else{if(3==i)n.setString("xw"+e);else if(0==e)n.setString("m");else{for(var r=""+e,s="",o=0;o<r.length;++o)s+=t.subhpX[r[o]];n.setString("z"+s)}n.scaleX=1,n.scaleY=1,egret.Tween.get(n).wait(10).call(function(){n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2}).wait(50).to({y:n.y-80},400).to({y:n.y-100,alpha:0},100).call(function(){CBitmapText.remove(n)})}}},t.prototype.a1891=function(t,e){this._curStateKey=t,this.stateMachine.a1891(t,e)},t.prototype.getMachine=function(){return this.stateMachine},t.prototype.a1818=function(t){return this.stateMachine.a2518(t)},t.prototype.a1893=function(){return this.actorMgr},t.prototype.getID=function(){return this._id},t.prototype.getType=function(){return this.actorType},t.prototype.a1896=function(t,e,i){},t.prototype.a1897=function(t,e){void 0===e&&(e=!0);var i=this._follower.indexOf(t);-1!=i&&(e&&this.a1893().a2500(t,1),this._follower.splice(i,1))},t.prototype.a1898=function(){for(var t=this._follower.length-1;t>=0;--t)this.a1897(this._follower[t])},t.prototype.a1899=function(t){return-1!=this._follower.indexOf(t)?this.a1893().a2501(t,1):null},t.prototype.a1900=function(t){return 0>t||t>=this._follower.length?null:this.a1893().a2501(this._follower[t],1)},t.prototype.a1901=function(){return this._follower.length},t.prototype.a1902=function(){return this._walking},t.prototype.a1903=function(t){this._walking=t},t.prototype.a1904=function(){this._walking=!1},t.prototype.update=function(){var t=this.stateMachine.a2518(this._curStateKey);if(null!=t&&void 0!=t){if(this.subhpBuff){var e=egret.getTimer(),i=this.subhpBuff.lasttime||0,a=this.subhpBuff.atkid||0,n=this.subhpBuff.deduct||0,r=this.subhpBuff.times||0,s=1;1==this.actorType&&(s=2);var o=this.actorMgr.a2501(a,s);if(!o||o.a1886()<=0||0>=r)return void(this.subhpBuff=null);e-i>1e3&&this.hp>0&&(n=this.checkFinalyDamage(o,this,n),this.a1881(n,3),this.subhpBuff.lasttime=e,this.subhpBuff.times-=1)}if(this.skills){var l=-1!=this.skills.indexOf(25),h=-1!=this.skills.indexOf(125),p=void 0;if(l?p=a1228.g_Skil[25]:h&&(p=a1228.g_Skil[125]),p){var e=egret.getTimer();if(this.huixueTime||(this.huixueTime=e),e-this.huixueTime>1e3&&this.hp>0){var u=this.hp+this.maxhp*p.h/100;u>this.maxhp&&(u=this.maxhp),this.setHp(u),this.huixueTime=e}}}t.update()}},t.prototype.checkFinalyDamage=function(t,e,i){if(0>=i)return 0;var a=1;if(t.skills){-1!=t.skills.indexOf(26)?a+=a1228.g_Skil[26].damageAdd/100:-1!=t.skills.indexOf(126)&&(a+=a1228.g_Skil[126].damageAdd/100);var n=a1228.g_Skil[28].critDamageAdd,r=a1228.g_Skil[128].critDamageAdd;t.afterCritCount>=0&&t.afterCritCount<=n[0]&&-1!=t.skills.indexOf(28)?a+=n[1]/100:t.afterCritCount>=0&&t.afterCritCount<=r[0]&&-1!=t.skills.indexOf(128)&&(a+=r[1]/100)}if(e.skills){-1!=e.skills.indexOf(27)?a-=a1228.g_Skil[27].damageSub/100:-1!=e.skills.indexOf(127)&&(a-=a1228.g_Skil[127].damageSub/100);var n=a1228.g_Skil[29].dodgeDamageSub,r=a1228.g_Skil[129].dodgeDamageSub;e.afterDodgeCount>=0&&e.afterDodgeCount<=n[0]&&-1!=e.skills.indexOf(29)?a-=n[1]/100:e.afterDodgeCount>=0&&e.afterDodgeCount<=r[0]&&-1!=e.skills.indexOf(129)&&(a-=r[1]/100)}return Math.max(Math.floor(i*a),1)},t.prototype.pause=function(){for(var t=null,e=0,i=this._follower;e<i.length;e++){var a=i[e];t=this.a1899(a),t&&t.pause()}var n=this.stateMachine.a2518(this._curStateKey);null!=n&&void 0!=n&&n.pause()},t.prototype.resume=function(){for(var t=null,e=0,i=this._follower;e<i.length;e++){var a=i[e];t=this.a1899(a),t&&t.resume()}var n=this.stateMachine.a2518(this._curStateKey);null!=n&&void 0!=n&&n.resume()},t.prototype.setName=function(t){return},t.prototype.a1906=function(){if(this._shadowPanel?(this._shadowPanel.anchorOffsetX=this.width/2,this._shadowPanel.anchorOffsetY=this.height,this._shadowPanel.width=this.width,this._shadowPanel.height=this.height):(1==this.actorType&&t.playerShadowPanels.length>0?this._shadowPanel=t.playerShadowPanels.shift():2==this.actorType&&t.monsterShadowPanels.length>0?this._shadowPanel=t.monsterShadowPanels.shift():this._shadowPanel=new eui.Group,(1==this.actorType||this.a1874())&&this._shadowPanel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865,this),this._shadowPanel.anchorOffsetX=this.width/2,this._shadowPanel.anchorOffsetY=this.height,this._shadowPanel.width=this.width,this._shadowPanel.height=this.height,this.actorMgr.a2493().parent.addChild(this._shadowPanel)),1==this.actorType){if(!this._hpImg)if(this._shadowPanel.hpImg)this._hpBgImg=this._shadowPanel.hpbg,this._hpbImg=this._shadowPanel._hpbImg,this._hpImg=this._shadowPanel.hpImg,this._expImg=this._shadowPanel.expImg,this._expBg=this._shadowPanel.expbg;else{var e=new eui.Image;e.source="wfxt_png",this._shadowPanel.addChild(e),this._shadowPanel.hpbg=e,this._hpBgImg=e,this._hpbImg=new eui.Image,this._hpbImg.source="drxt_3_png",this._shadowPanel.addChild(this._hpbImg),this._shadowPanel._hpbImg=this._hpbImg;var i=new eui.Image;i.source="drxt_2_png",this._shadowPanel.addChild(i),this._shadowPanel.hpImg=i,this._hpImg=i;var a=new eui.Image;a.source="wfxt2_png",this._expBg=a,this._shadowPanel.addChild(a),this._shadowPanel.expbg=a;var n=new eui.Image;n.source="wfxt_3_png",this._shadowPanel.addChild(n),this._shadowPanel.expImg=n,this._expImg=n}}else{var i=this._hpImg;if(!i)if(this._shadowPanel.hpImg)this._hpBgImg=this._shadowPanel.hpbg,this._hpbImg=this._shadowPanel._hpbImg,this._hpImg=this._shadowPanel.hpImg;else{var e=new eui.Image;e.source="wfxt_png",this._shadowPanel.addChild(e),this._shadowPanel.hpbg=e,this._hpbImg=new eui.Image,this._hpbImg.source="drxt_3_png",this._shadowPanel.addChild(this._hpbImg),this._shadowPanel._hpbImg=this._hpbImg,this._hpBgImg=e,i=new eui.Image,i.source="drxt_4_png",this._shadowPanel.addChild(i),this._shadowPanel.hpImg=i,this._hpImg=i}}if(1==this.actorType?(this._hpBgImg.x=this.width/2-55,this._hpBgImg.y=-10,this._hpbImg.x=this.width/2-51.5,this._hpbImg.y=-7,this._hpImg.x=this.width/2-51.5,this._hpImg.y=-7,this._expBg.x=this.width/2-49,this._expBg.y=8,this._expImg.x=this.width/2-48,this._expImg.y=10):(this._hpImg.maxWidth=99,this._hpBgImg.x=this.width/2-70,this._hpBgImg.y=-3,this._hpbImg.x=this.width/2-66,this._hpbImg.y=0,this._hpImg.x=this.width/2-66,this._hpImg.y=0),this._shadowPanel.expImg){var a=this._shadowPanel.expbg;this._expImg=this._shadowPanel.expImg}this.displayObj&&(this._shadowPanel.x=Math.floor(this.displayObj.x),this._shadowPanel.y=Math.floor(this.displayObj.y))},t.prototype.a1907=function(){var t=this.data.atk;if(this.level){this.data.index||this.index;t=a1232.getAttack(this.info,this.skills),this.data.extProps&&this.data.extProps.atk&&(t+=this.data.extProps.atk)}if(this.skills&&-1!=this.skills.indexOf(12)){var e=this.a1909()*Number(a1228.g_Skil[12].HpTallAtk[0]/100);if(this.hp>=e){var i=Number(a1228.g_Skil[12].HpTallAtk[1]/100);t+=t*i}}else if(this.skills&&-1!=this.skills.indexOf(112)){var e=this.a1909()*Number(a1228.g_Skil[112].HpTallAtk[0]/100);if(this.hp>=e){var i=Number(a1228.g_Skil[112].HpTallAtk[1]/100);t+=t*i}}if(this.skills&&-1!=this.skills.indexOf(7)){var e=this.a1909()*Number(a1228.g_Skil[7].FallHpAtk[0]/100);if(this.hp<e){var i=Number(a1228.g_Skil[7].FallHpAtk[1]/100);t+=t*i}}else if(this.skills&&-1!=this.skills.indexOf(107)){var e=this.a1909()*Number(a1228.g_Skil[107].FallHpAtk[0]/100);if(this.hp<e){var i=Number(a1228.g_Skil[107].FallHpAtk[1]/100);t+=t*i}}return t=Math.floor(t+t*this.hitAddAtk+t*this.mayAddAtk)},t.prototype.a1908=function(){var t=this.data.def;if(this.level){this.data.index||this.index;t=a1232.getDefence(this.info,this.skills)}return this.data.extProps&&this.data.extProps.def&&(t+=this.data.extProps.def),t=Math.floor(t+t*this.hitAddDef)},t.prototype.a1909=function(){var t=this.data.hp;if(this.level){this.data.index||this.index;t=a1232.a1886(this.info,this.skills)}return this.data.extProps&&this.data.extProps.hp&&(t+=this.data.extProps.hp),t},t.prototype.a1910=function(){var t=this.data.crit;if(this.skills&&-1!=this.skills.indexOf(4)){var e=Number(10*a1228.g_Skil[4].crit);t+=e}else if(this.skills&&-1!=this.skills.indexOf(104)){var e=Number(10*a1228.g_Skil[104].crit);t+=e}return t},t.prototype.a1911=function(){var t=1;if(this.skills&&-1!=this.skills.indexOf(1)){var e=Number(a1228.g_Skil[1].critHit/100);t+=t*e}else if(this.skills&&-1!=this.skills.indexOf(101)){var e=Number(a1228.g_Skil[101].critHit/100);t+=t*e}return t},t.prototype.a1912=function(){var t=this.data.dodge;if(this.skills&&-1!=this.skills.indexOf(6)){var e=Number(10*a1228.g_Skil[6].dodge);t+=e}else if(this.skills&&-1!=this.skills.indexOf(106)){var e=Number(10*a1228.g_Skil[106].dodge);t+=e}return t},t.prototype.release=function(){this.getMachine().clear(),this._shadowPanel&&(this._hpbImg&&egret.Tween.removeTweens(this._hpbImg),this._hpImg&&egret.Tween.removeTweens(this._hpImg),this._expImg&&egret.Tween.removeTweens(this._expImg),this._shadowPanel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865,this),this._shadowPanel.parent&&this._shadowPanel.parent.removeChild(this._shadowPanel),1==this.actorType?t.playerShadowPanels.push(this._shadowPanel):t.monsterShadowPanels.push(this._shadowPanel),this._shadowPanel=null),this.displayObj&&(this.displayObj.removeEventListener(dragonBones.EventObject.COMPLETE,this.a1866,this),this.displayObj.removeEventListener(dragonBones.EventObject.FRAME_EVENT,this.a1867,this),egret.Tween.removeTweens(this.displayObj),this.displayObj.alpha=1,this.displayObj.parent&&this.displayObj.parent.removeChild(this.displayObj),a1228.a1245.a2611(this.displayObj),this.displayObj=null)},t.idIdx=100,t.SPEED=190,t.playerShadowPanels=[],t.monsterShadowPanels=[],t.subhpX=["a","b","c","d","e","f","g","h","i","j"],t}();t.Actor=e,__reflect(e.prototype,"actor.Actor")}(actor||(actor={}));var state;!function(t){var e=function(){function t(t){this.owner=t}return t.prototype.onEnter=function(t,e){},t.prototype.update=function(){},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.a1914=function(){},t.prototype.a1915=function(t){},t}();t.ActorBaseState=e,__reflect(e.prototype,"state.ActorBaseState")}(state||(state={}));var a1113=function(){function t(){this._messages={}}return t.prototype.a1916=function(t,e,i){var a=""+t;this._messages.hasOwnProperty(a)||(this._messages[a]=[]),this._messages[a].push([e,i])},t.prototype.a1917=function(t,e,i){var a=""+t,n=this._messages[a];if(n)for(var r=null,s=0;s<n.length;++s)if(r=n[s],r&&i==r[1]&&e==r[0]){n[s]=null;break}},t.prototype.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=""+t,n=this._messages[a];if(n){for(var r=null,s=0,o=!1;s<n.length;)r=n[s],r?r[0].apply(r[1],e):o=!0,s+=1;if(o)for(var l=n.length-1;l>=0;l--)null==n[l]&&n.splice(l,1)}else console.warn("消息"+t+"不存在侦听")},t.prototype.a1919=function(t,e){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return a1228.a1225.applyFunc.apply(a1228.a1225,arguments)},t.prototype.a1920=function(t){this._model=t},t.prototype.a1921=function(){return this._model},t.prototype.setProxy=function(t){this._proxy=t},t.prototype.getProxy=function(){return this._proxy},t.prototype.a1924=function(t){return a1228.a1225.a1924(t)},t.prototype.a1925=function(t){return a1228.a1225.a1925(t)},t}();__reflect(a1113.prototype,"a1113");var a1114=function(){function t(t){this._controller=t,this._controller.a1920(this)}return t}();__reflect(a1114.prototype,"a1114");var a1115=function(){function t(){}return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this;if(!i._instance){var a=t.length;0===a?i._instance=new i:1===a?i._instance=new i(t[0]):2===a?i._instance=new i(t[0],t[1]):3===a?i._instance=new i(t[0],t[1],t[2]):4===a?i._instance=new i(t[0],t[1],t[2],t[3]):5===a&&(i._instance=new i(t[0],t[1],t[2],t[3],t[4]))}return i._instance},t}();__reflect(a1115.prototype,"a1115");var a1116=function(t){function e(e,i,a){void 0===a&&(a=null);var n=t.call(this)||this;return n._skin=null,n._controller=e,n._behaviour=a,n._myParent=i,n._isInit=!1,n.percentHeight=100,n.percentWidth=100,a1228.a1252.doTimer(50,1,function(){n.closeBtn&&(n.closeBtn.touchEnabled=!1,n.closeBtn.touchChildren&&(n.closeBtn.touchChildren=!1))},n),a1228.a1252.doTimer(800,1,function(){n.closeBtn&&(n.closeBtn.touchEnabled=!0,n.closeBtn.touchChildren&&(n.closeBtn.touchChildren=!0))},n),a1228.a1252.doTimer(50,1,function(){n.closeGroup&&(n.closeGroup.touchEnabled=!1,n.closeGroup.touchChildren=!1)},n),a1228.a1252.doTimer(800,1,function(){n.closeGroup&&(n.closeGroup.touchEnabled=!0,n.closeGroup.touchChildren=!0)},n),n}return __extends(e,t),e.prototype.a1926=function(){},Object.defineProperty(e.prototype,"myParent",{get:function(){return this._myParent},enumerable:!0,configurable:!0}),e.prototype.isInit=function(){return this._isInit},e.prototype.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._controller.applyFunc.apply(this._controller,arguments)},e.prototype.a1919=function(t,e){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return this._controller.a1919.apply(this._controller,arguments)},e.prototype.isShow=function(){return null!=this.stage&&this.visible},e.prototype.a1929=function(){this._myParent&&this._myParent.addChild(this)},e.prototype.a1930=function(){this._myParent.setChildIndex(this,999)},e.prototype.a1931=function(){a1228.a1244.a1931(this)},e.prototype.initUI=function(){this._isInit=!0},e.prototype.a1933=function(){return this._skinLoaded},e.prototype.initData=function(){},e.prototype.destroy=function(){this._controller=null,this._myParent=null,this.methodObj=null},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.parent&&this.parent.removeChild(this)},e.prototype.loadExml=function(t,e){return null==this._skin?void this.a1515(t,e):void EXML.load(this._skin,this.a1935.bind(this,t,e),this,!0)},e.prototype.a1935=function(t,e,i){i&&(this.skinName=i,this.a1515(t,e))},e.prototype.a1515=function(t,e){t(),e(),this._isInit=!0},e.prototype.setVisible=function(t){this.visible=t},e.prototype.a1782=function(){return this._skin},e}(eui.Component);__reflect(a1116.prototype,"a1116",["IBaseView"]);var a1117=function(t){function e(){var e=t.call(this)||this;return e.percentWidth=100,e.percentHeight=100,e.touchEnabled=!1,e}return __extends(e,t),e}(eui.Group);__reflect(a1117.prototype,"a1117");var a1118=function(){function t(){this._layers=new Array}return t.prototype.onEnter=function(){},t.prototype.onExit=function(){a1228.a1226.a2527(),this.a1943()},t.prototype.addLayer=function(t){t instanceof a1119?(a1228.a1122.a1957().addChildAt(t,0),this._layers.push(t)):t instanceof a1117&&(a1228.a1122.getUIStage().addChild(t),this._layers.push(t))},t.prototype.a1939=function(t){t instanceof a1119?(a1228.a1122.a1957().addChild(t),this._layers.push(t)):t instanceof a1117&&(a1228.a1122.getUIStage().addChild(t),this._layers.push(t))},t.prototype.a1940=function(t,e){t instanceof a1119?(a1228.a1122.a1957().addChildAt(t,e),this._layers.push(t)):t instanceof a1117&&(a1228.a1122.getUIStage().addChildAt(t,e),this._layers.push(t))},t.prototype.a1941=function(t){t instanceof a1119?(a1228.a1122.a1957().removeChild(t),this._layers.splice(this._layers.indexOf(t),1)):t instanceof a1117&&(a1228.a1122.getUIStage().removeChild(t),this._layers.splice(this._layers.indexOf(t),1))},t.prototype.layerRemoveAllChild=function(t){t instanceof a1119?t.removeChildren():t instanceof a1117&&t.removeChildren()},t.prototype.a1943=function(){for(;this._layers.length;){var t=this._layers[0];this.layerRemoveAllChild(t),this.a1941(t)}},t.prototype.a1944=function(){},t.prototype.a1945=function(){},t}();__reflect(a1118.prototype,"a1118");var a1119=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(a1119.prototype,"a1119");var a1120=function(){function t(){this._cache={},this._loadingCache=new Array}return t.prototype.a1946=function(){for(var t,e=egret.getTimer(),i=Object.keys(this._cache),a=0,n=i.length;n>a;a++)t=i[a],this.a1949(t)&&e-this._cache[t]>=a1238.CLEAR_TIME&&(delete this._cache[t],RES.a1530(t))},t.prototype.a1947=function(t){var e=RES.getRes(t);if(e)this._cache[t]&&(this._cache[t]=egret.getTimer());else{if(-1!==this._loadingCache.indexOf(t))return null;this._loadingCache.push(t),RES.a1528(t,this.onResourceLoadComplete,this)}return e},t.prototype.onResourceLoadComplete=function(t,e){if(t){var i=this._loadingCache.indexOf(e);-1!==i&&(this._loadingCache.splice(i,1),this._cache[e]=egret.getTimer(),this.loadedPlay(e))}},t.prototype.loadedPlay=function(t){},t.prototype.a1949=function(t){return!0},t}();__reflect(a1120.prototype,"a1120");var NewPlayerActivityView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.NewPlayerActivitySkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),a1228.a1252.doTimer(1e3,0,this.updateTime,this),this.onlineGroup.visible=!1,this.fudanGroup.visible=!0,this.selectImg1.visible=!0,this.selectImg2.visible=!1,this.redImg1.visible=!1,this.redImg2.visible=!1,this.redImg3.visible=!1,this.redImg4.visible=!1,this.switchBtn1.visible=a1232.isOpenNewPlayerActA,this.switchBtn2.visible=a1232.isOpenNewPlayerActS,e.leftTime2||(e.leftTime2=a1232.getServerTime()+600),e.leftTime1||(e.leftTime1=a1232.getServerTime()+600);for(var t=NewPlayerActivityType.begin+1;t<NewPlayerActivityType.end;++t){var i=a1232.newPlayerActivity[t];i[0]>=NewPlayerActivityData[t]&&0==i[1]&&(t==NewPlayerActivityType.online?(this.redImg2.visible=!0,this.redImg4.visible=!0):t==NewPlayerActivityType.fuhua&&(this.redImg1.visible=!0,this.redImg3.visible=!0))}this.redImg1.visible?(this.fudanGroup.visible=!0,this.onlineGroup.visible=!1,this.selectImg1.visible=!0,this.selectImg2.visible=!1):this.redImg2.visible&&(this.onlineGroup.visible=!0,this.fudanGroup.visible=!1,this.selectImg1.visible=!1,this.selectImg2.visible=!0),this.updateTime(),this.a2090(),!this.switchBtn1.visible&&this.switchBtn2.visible?(this.switchBtn2.x=this.switchBtn1.x,this.a2355()):this.switchBtn1.visible&&!this.switchBtn2.visible&&this.a2354()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.switchBtn1,egret.TouchEvent.TOUCH_TAP,this.a2354),a1251.a1412(this,this.switchBtn2,egret.TouchEvent.TOUCH_TAP,this.a2355),a1251.a1412(this,this.getBtn1,egret.TouchEvent.TOUCH_TAP,this.a2356),a1251.a1412(this,this.getBtn2,egret.TouchEvent.TOUCH_TAP,this.a2357)},e.prototype.updateTime=function(){var t=a1232.getServerTime(),i=!0;this.countLabel.text=langue.fudan+Math.min(a1232.newPlayerActivity[NewPlayerActivityType.fuhua][0],NewPlayerActivityData[NewPlayerActivityType.fuhua]);for(var a=NewPlayerActivityType.begin+1;a<NewPlayerActivityType.end;++a){var n=a1232.newPlayerActivity[a];n[0]>=NewPlayerActivityData[a]?0==n[1]?a==NewPlayerActivityType.online&&a1232.isOpenNewPlayerActS?(this.redImg2.visible=!0,this.redImg4.visible=!0,this.getbgImg1.filters=null,this.getImg2.source="qdlqjl_png",this.getbgImg2.source="ButBG1_png",i=!1):a==NewPlayerActivityType.fuhua&&a1232.isOpenNewPlayerActA&&(this.redImg1.visible=!0,this.redImg3.visible=!0,this.getbgImg1.filters=null,this.getImg1.source="qdlqjl_png",this.getbgImg1.source="ButBG1_png",i=!1):a==NewPlayerActivityType.online&&a1232.isOpenNewPlayerActS?(this.redImg2.visible=!1,this.redImg4.visible=!1,this.getImg2.source="ylq_png",this.getbgImg2.source="DoubleDark_png"):a==NewPlayerActivityType.fuhua&&a1232.isOpenNewPlayerActA&&(this.redImg1.visible=!1,this.redImg3.visible=!1,this.getImg1.source="ylq_png",this.getbgImg1.source="DoubleDark_png"):a==NewPlayerActivityType.online&&a1232.isOpenNewPlayerActS?(this.redImg2.visible=!1,this.redImg4.visible=!1,this.getImg2.source="qdlqjl_png",this.getbgImg2.source="DoubleDark_png",i=!1):a==NewPlayerActivityType.fuhua&&a1232.isOpenNewPlayerActA&&(this.redImg1.visible=!1,this.redImg3.visible=!1,this.getImg1.source="qdlqjl_png",this.getbgImg1.source="DoubleDark_png",i=!1)}if(e.leftTime1){for(var r=e.leftTime1-t;0>r;)e.leftTime1+=600,r+=600;this.leftTimeLabel1.text=langue.shengyutime+a1228.a1240.a2597(r,1)}else this.redImg1.visible=!1,this.redImg3.visible=!1,this.leftTimeLabel1.text=langue.shengyutime;if(e.leftTime2){for(var r=e.leftTime2-t;0>r;)e.leftTime2+=600,r+=600;this.leftTimeLabel2.text=langue.shengyutime+a1228.a1240.a2597(r,1)}else this.redImg2.visible=!1,this.redImg4.visible=!1,this.leftTimeLabel2.text=langue.shengyutime;i&&(a1228.a1252.removeAll(this),this.a2095())},e.prototype.a2354=function(){this.onlineGroup.visible=!1,this.fudanGroup.visible=!0,this.selectImg1.visible=!0,this.selectImg2.visible=!1},e.prototype.a2355=function(){this.onlineGroup.visible=!0,this.fudanGroup.visible=!1,this.selectImg1.visible=!1,this.selectImg2.visible=!0},e.prototype.a2356=function(){var t={ad:!0,konglong:a1228.g_SignData[2].konglong};this.a2358(NewPlayerActivityType.fuhua,t)},e.prototype.a2357=function(){var t={ad:!0,konglong:a1228.g_SignData[7].konglong};this.a2358(NewPlayerActivityType.online,t)},e.prototype.a2358=function(t,e){var i=this;return a1232.newPlayerActivity[t][0]<NewPlayerActivityData[t]?void a1228.a1245.a2612(langue.taskweicom):1==a1232.newPlayerActivity[t][1]?void a1228.a1245.a2612(langue.awardhasget):void a1228.a1225.applyFunc(10004,5139,1,e.konglong,function(a){if(e.ad){var n=a1228.a1230.a2548();a1228.a1230.a2549(function(){i.handleFunc(a,t)},n,["150","迎新活动"])}else i.handleFunc(a,t)},e.ad)},e.prototype.handleFunc=function(t,i){var a=a1232.addNewDinosaur(t);a1232.newPlayerActivity[i][1]=1,i==NewPlayerActivityType.fuhua?e.leftTime1=0:i==NewPlayerActivityType.online&&(e.leftTime2=0),a1228.a1225.applyFunc(10004,5058,a.id,!1,1),a1228.a1225.applyFunc(10004,5140),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5042)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5165)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this),a1232.releaseNewActRes(!0)},e}(a1116);__reflect(NewPlayerActivityView.prototype,"NewPlayerActivityView");var NewPlayerActivityType;!function(t){t[t.begin=0]="begin",t[t.fuhua=1]="fuhua",t[t.online=2]="online",t[t.end=3]="end"}(NewPlayerActivityType||(NewPlayerActivityType={}));var NewPlayerActivityData={1:1,2:8},a1243=function(){function t(){}return Object.defineProperty(t,"LoginSkin",{get:function(){return t.resourcePrefix+"LoginSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"gameView",{get:function(){return t.resourcePrefix+"gameView.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"settingView",{get:function(){return t.resourcePrefix+"SettingSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MoreSkin",{get:function(){return t.resourcePrefix+"MoreSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kefuSkin",{get:function(){return t.resourcePrefix+"KefuSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ShoucangSkin",{get:function(){return t.resourcePrefix+"ShoucangSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"paiHangBangView",{get:function(){return t.resourcePrefix+"PaiHangBangSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"paiHangBangItemSkin",{get:function(){return t.resourcePrefix+"PaiHangBangItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenView",{get:function(){return t.resourcePrefix+"fubenSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shopView",{get:function(){return t.resourcePrefix+"ShopSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"chooseDoctorSkin",{get:function(){return t.resourcePrefix+"chooseDoctorSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenItemView",{get:function(){return t.resourcePrefix+"fubenItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getCoinSkin",{get:function(){return t.resourcePrefix+"getCoinSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"mailSkin",{get:function(){return t.resourcePrefix+"mailSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"mailItemSkin",{get:function(){return t.resourcePrefix+"mailItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"mailInfoSkin",{get:function(){return t.resourcePrefix+"mailInfoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"mailAwardSkin",{get:function(){return t.resourcePrefix+"mailAwardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ReceiveAwardSkin",{get:function(){return t.resourcePrefix+"ReceiveAwardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ClearingSkin",{get:function(){return t.resourcePrefix+"ClearingSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"chooseDoctorItemView",{get:function(){return t.resourcePrefix+"ChooseDoctorItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"foodItemView",{get:function(){return t.resourcePrefix+"FoodItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursMapView",{get:function(){return t.resourcePrefix+"DinosaursMapSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursPosView",{get:function(){return t.resourcePrefix+"DinosaursPosSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursMapItemView",{get:function(){return t.resourcePrefix+"DinosaursMapItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursPosItemView",{get:function(){return t.resourcePrefix+"DinosaursPosItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursDetailsView",{get:function(){return t.resourcePrefix+"DinosaursDetailsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"changeNameView",{get:function(){return t.resourcePrefix+"ChangeNameSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"hintUpgradeView",{get:function(){return t.resourcePrefix+"HintUpgradeSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"taskSkin",{get:function(){return t.resourcePrefix+"taskSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"taskItemSkin",{get:function(){return t.resourcePrefix+"taskItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"choukaSkin",{get:function(){return t.resourcePrefix+"choukaSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"rareDinoView",{get:function(){return t.resourcePrefix+"RareDinoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"turnTableSkin",{get:function(){return t.resourcePrefix+"TurnTableSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"awardPrizeSkin",{get:function(){return t.resourcePrefix+"AwardPrizeSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"tipsPanelSkin",{get:function(){return t.resourcePrefix+"TipsPanelSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"unlockNewFoodSkin",{get:function(){return t.resourcePrefix+"UnlockNewFoodSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"keepFoodSkin",{get:function(){return t.resourcePrefix+"KeepFoodSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"freeUpFoodSkin",{get:function(){return t.resourcePrefix+"FreeUpFoodSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"unlockDinosaurSkin",{get:function(){return t.resourcePrefix+"UnlockDinosaurSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"addSpeedSkin",{get:function(){return t.resourcePrefix+"AddSpeedSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"giftBoxSkin",{get:function(){return t.resourcePrefix+"GiftBoxSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1168",{get:function(){return t.resourcePrefix+"KunShouSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1164",{get:function(){return t.resourcePrefix+"KunShouRankSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"KunShouRankItemSkin",{get:function(){return t.resourcePrefix+"KunShouRankItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1165",{get:function(){return t.resourcePrefix+"KunShouRecordSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"worldoFwarSkin",{get:function(){return t.resourcePrefix+"WorldoFwarSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"newFunctionTipsSkin",{get:function(){return t.resourcePrefix+"NewFunctionTipsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"RecordView",{get:function(){return t.resourcePrefix+"RecordSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kunShouMsgSkin",{get:function(){return t.resourcePrefix+"KunShouMsgSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kunShouMsgItemSkin",{get:function(){return t.resourcePrefix+"KunShouMsgItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kunShouRivalView",{get:function(){return t.resourcePrefix+"KunShouRivalSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kunShouResultView",{get:function(){return t.resourcePrefix+"KunShouResultSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1163",{get:function(){return t.resourcePrefix+"kunShouFightSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"worldMapSkinView",{get:function(){return t.resourcePrefix+"WorldMapSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"topAwardView",{get:function(){return t.resourcePrefix+"TopAwardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"topAwardDetailsView",{get:function(){return t.resourcePrefix+"TopAwardDetailsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"topRankingInfoView",{get:function(){return t.resourcePrefix+"TopRankingInfoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"bossAwardItemView",{get:function(){return t.resourcePrefix+"BossAwardItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursEvolutionSkin",{get:function(){return t.resourcePrefix+"DinosaursEvolutionSkin.exml"
},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shengTangSkin",{get:function(){return t.resourcePrefix+"ShengTangSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpSkin",{get:function(){return t.resourcePrefix+"StarUpSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StarUpKeyItemSkin",{get:function(){return t.resourcePrefix+"StarUpKeyItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpKeySkin",{get:function(){return t.resourcePrefix+"StarUpKeySkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpKeySuccessSkin",{get:function(){return t.resourcePrefix+"StarUpKeySuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpDetailsSkin",{get:function(){return t.resourcePrefix+"StarUpDetailsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpSuccessSkin",{get:function(){return t.resourcePrefix+"StarUpSuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"debrisSkin",{get:function(){return t.resourcePrefix+"DebrisSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"debrisItemSkin",{get:function(){return t.resourcePrefix+"DebrisItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenChipItemSkin",{get:function(){return t.resourcePrefix+"FubenChipItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenFightSkin",{get:function(){return t.resourcePrefix+"FubenFightSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenSuccessSkin",{get:function(){return t.resourcePrefix+"FubenSuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fubenFailSkin",{get:function(){return t.resourcePrefix+"FubenFailSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpItemSkin",{get:function(){return t.resourcePrefix+"StarUpItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"selectAreaSkin",{get:function(){return t.resourcePrefix+"SelectAreaSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"selectMyAreaItemSkin",{get:function(){return t.resourcePrefix+"SelectMyAreaItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"selectAreaLeftItemSkin",{get:function(){return t.resourcePrefix+"SelectAreaLeftItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"selectAreaRightItemSkin",{get:function(){return t.resourcePrefix+"SelectAreaRightItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverSkin",{get:function(){return t.resourcePrefix+"RecoverSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CommonDialog",{get:function(){return t.resourcePrefix+"CommonDialog.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"testView",{get:function(){return t.resourcePrefix+"testSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"adTaskSkin",{get:function(){return t.resourcePrefix+"adTaskSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"adTaskItemSkin",{get:function(){return t.resourcePrefix+"adTaskItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"adSDKTaskSkin",{get:function(){return t.resourcePrefix+"adSDKTaskSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"adSDKTaskItemSkin",{get:function(){return t.resourcePrefix+"adSDKTaskItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"adSDKTipSkin",{get:function(){return t.resourcePrefix+"AdTipSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverDetailsSkin",{get:function(){return t.resourcePrefix+"RecoverDetailsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverSuccessSkin",{get:function(){return t.resourcePrefix+"RecoverSuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"breakEggSkin",{get:function(){return t.resourcePrefix+"BreakEggSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"activitySkin",{get:function(){return t.resourcePrefix+"ActivitySkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"daysAwardSkin",{get:function(){return t.resourcePrefix+"DaysAwardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"friendHelpSkin",{get:function(){return t.resourcePrefix+"FriendHelpSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"friendHelpItemSkin",{get:function(){return t.resourcePrefix+"FriendHelpItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverOneKeySkin",{get:function(){return t.resourcePrefix+"RecoverOneKeySkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverOneKeyItemSkin",{get:function(){return t.resourcePrefix+"RecoverOneKeyItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"recoverOneKeySuccessSkin",{get:function(){return t.resourcePrefix+"RecoverOneKeySuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursCheerSkin",{get:function(){return t.resourcePrefix+"DinosaursCheerSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursCheerItemSkin",{get:function(){return t.resourcePrefix+"DinosaursCheerItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpModelSkin",{get:function(){return t.resourcePrefix+"StarUpModelSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursCheerInfoItemSkin",{get:function(){return t.resourcePrefix+"DinosaursCheerInfoItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ChooseDinosaursItem",{get:function(){return t.resourcePrefix+"ChooseDinosaursItem.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ChooseDinosaurs",{get:function(){return t.resourcePrefix+"ChooseDinosaurs.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lineupSkin",{get:function(){return t.resourcePrefix+"LineupSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"extraAwardSkin",{get:function(){return t.resourcePrefix+"ExtraAwardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"limitTimeGiftSkin",{get:function(){return t.resourcePrefix+"LimitTimeGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"limitGiftGetSkin",{get:function(){return t.resourcePrefix+"LimitGiftGetSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"limitFanPaiSkin",{get:function(){return t.resourcePrefix+"LimitFanPaiSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"awardChipSkin",{get:function(){return t.resourcePrefix+"AwardChipSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursMapKindItemSkin",{get:function(){return t.resourcePrefix+"DinosaursMapKindItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"exchangeCodeSkin",{get:function(){return t.resourcePrefix+"ExchangeCodeSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursGrowSkin",{get:function(){return t.resourcePrefix+"dinosaursGrowSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DinosaursGrowSuccessSkin",{get:function(){return t.resourcePrefix+"DinosaursGrowSuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DinosaursGrowSuccessItemSkin",{get:function(){return t.resourcePrefix+"DinosaursGrowSuccessItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"gongGaoSkin",{get:function(){return t.resourcePrefix+"GongGaoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"produceSkin",{get:function(){return t.resourcePrefix+"ProduceSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fosterSkin",{get:function(){return t.resourcePrefix+"fosterSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaSkin",{get:function(){return t.resourcePrefix+"zhengbaSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ZhengbaFightSkin",{get:function(){return t.resourcePrefix+"ZhengbaFightSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ZhengbaPosSkin",{get:function(){return t.resourcePrefix+"ZhengbaPosSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaItemSkin",{get:function(){return t.resourcePrefix+"zhengbaItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ZhengbaCheerSkin",{get:function(){return t.resourcePrefix+"ZhengbaCheerSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"produceItemSkin",{get:function(){return t.resourcePrefix+"ProduceItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"buyMaxLevelFoodSkin",{get:function(){return t.resourcePrefix+"BuyMaxLevelFoodSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"NewPlayerActivitySkin",{get:function(){return t.resourcePrefix+"NewPlayerActivitySkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"produceSuccessSkin",{get:function(){return t.resourcePrefix+"ProduceSuccessSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaResultSkin",{get:function(){return t.resourcePrefix+"ZhengbaResultSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRewardSkin",{get:function(){return t.resourcePrefix+"ZhengbaRewardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRewardRuleSkin",{get:function(){return t.resourcePrefix+"ZhengbaRewardRuleSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRankSkin",{get:function(){return t.resourcePrefix+"ZhengbaRankSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaPosOtherSkin",{get:function(){return t.resourcePrefix+"ZhengbaPosOtherSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRankItemSkin",{get:function(){return t.resourcePrefix+"ZhengbaRankItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRewardRuleItemSkin",{get:function(){return t.resourcePrefix+"ZhengbaRewardRuleItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRecordSkin",{get:function(){return t.resourcePrefix+"ZhengbaRecordSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRecordItemSkin",{get:function(){return t.resourcePrefix+"ZhengbaRecordItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRewardItemSkin",{get:function(){return t.resourcePrefix+"ZhengbaRewardItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaChuJiangSkin",{get:function(){return t.resourcePrefix+"ZhengbaChuJiangSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaRuleSkin",{get:function(){return t.resourcePrefix+"ZhengbaRuleSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaSkin2",{get:function(){return t.resourcePrefix+"zhengbaSkin2.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhengbaScoreItemSkin",{get:function(){return t.resourcePrefix+"zhengbaScoreItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"produceInfoItemSkin",{get:function(){return t.resourcePrefix+"ProduceInfoItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestSkin",{get:function(){return t.resourcePrefix+"NestSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestRankSkin",{get:function(){return t.resourcePrefix+"NestRankSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestInfoSkin",{get:function(){return t.resourcePrefix+"NestInfoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestCaveInfoSkin",{get:function(){return t.resourcePrefix+"NestCaveInfoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestProfitSkin",{get:function(){return t.resourcePrefix+"NestProfitSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestBreakSkin",{get:function(){return t.resourcePrefix+"NestBreakSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestGetStoneWaySkin",{get:function(){return t.resourcePrefix+"NestGetStoneWaySkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestFightResultSkin",{get:function(){return t.resourcePrefix+"NestFightResultSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"nestBuZhenSkin",{get:function(){return t.resourcePrefix+"NestBuZhenSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"newPlayerBossSkin",{get:function(){return t.resourcePrefix+"NewPlayerBossSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"newPlayerBossItemSkin",{get:function(){return t.resourcePrefix+"NewPlayerBossItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"systemAdvanceSkin",{get:function(){return t.resourcePrefix+"SystemAdvanceSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"systemAdvanceItemSkin",{get:function(){return t.resourcePrefix+"SystemAdvanceItemSKin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"yuanDanSkin",{get:function(){return t.resourcePrefix+"YuanDanSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"yuanDanItemSkin",{get:function(){return t.resourcePrefix+"YuanDanItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"yuanDanksSkin",{get:function(){return t.resourcePrefix+"YuanDanksSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"yuanDanItemksSkin",{get:function(){return t.resourcePrefix+"YuanDanItemksSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"yuanDanRuleSkin",{get:function(){return t.resourcePrefix+"YuanDanRuleSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"clearRoleDateSkin",{get:function(){return t.resourcePrefix+"ClearRoleDateSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"chouKaJiFenSkin",{get:function(){return t.resourcePrefix+"ChouKaJiFenSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"chouKaJiFenItemSkin",{get:function(){return t.resourcePrefix+"ChouKaJiFenItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"jiBanSkin",{get:function(){return t.resourcePrefix+"JiBanSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"jiBanItemSkin",{get:function(){return t.resourcePrefix+"JiBanItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"jiBanActiveSkin",{get:function(){return t.resourcePrefix+"JiBanActiveSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"starUpLockSkin",{get:function(){return t.resourcePrefix+"StarUpLockSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhuangbeiSkin",{get:function(){return t.resourcePrefix+"ZhuangbeiSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhuangbeiItemSkin",{get:function(){return t.resourcePrefix+"ZhuangbeiItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"kaChiSkin",{get:function(){return t.resourcePrefix+"KaChiSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"skyGiftSkin",{get:function(){return t.resourcePrefix+"SkyGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"hongBaoSkin",{get:function(){return t.resourcePrefix+"HongBaoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"zhuangDetailsSkin",{get:function(){return t.resourcePrefix+"ZhuangDetailsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterResultSkin",{get:function(){return t.resourcePrefix+"CharacterResultSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterItemSkin",{get:function(){return t.resourcePrefix+"CharacterItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterSkin",{get:function(){return t.resourcePrefix+"CharacterSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterRuleSkin",{get:function(){return t.resourcePrefix+"CharacterRuleSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterRuleItemSkin",{get:function(){return t.resourcePrefix+"CharacterRuleItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dinosaursGrowTipSkin",{get:function(){return t.resourcePrefix+"DinosaursGrowTipSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"characterAddInfoSkin",{get:function(){return t.resourcePrefix+"CharacterAddInfoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onLineGiftSkin",{get:function(){return t.resourcePrefix+"OnLineGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"giftActiveSkin",{get:function(){return t.resourcePrefix+"GiftActiveSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onLineGiftItemSkin",{get:function(){return t.resourcePrefix+"OnLineGiftItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"advGiftSkin",{get:function(){return t.resourcePrefix+"AdvGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"advGiftItemSkin",{get:function(){return t.resourcePrefix+"AdvGiftItemSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dayGiftSkin",{get:function(){return t.resourcePrefix+"DayGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"buffGiftSkin",{get:function(){return t.resourcePrefix+"BuffGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"signGiftSkin",{get:function(){return t.resourcePrefix+"SignGiftSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"tongYongRewardSkin",{get:function(){return t.resourcePrefix+"TongYongRewardSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"taskItemKsSkin",{get:function(){return t.resourcePrefix+"TaskItemKsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ksHongBaoSkin",{get:function(){return t.resourcePrefix+"KsHongBaoSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"taskSelectKsSkin",{get:function(){return t.resourcePrefix+"TaskSelectKsSkin.exml"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"videoSureSkin",{get:function(){return t.resourcePrefix+"VideoSureSkin.exml"},enumerable:!0,configurable:!0}),t.resourcePrefix="resource/eui_skins/",t}();__reflect(a1243.prototype,"a1243");var a1122=function(t){function e(){var i=t.call(this)||this;return null==e._uiStage&&(e._uiStage=new eui.UILayer,e._uiStage.percentHeight=100,e._uiStage.percentWidth=100,e._uiStage.touchEnabled=!1,i.a1957().addChild(e._uiStage)),i}return __extends(e,t),e.prototype.a1873=function(){return this.a1957().stageHeight},e.prototype.a1872=function(){return this.a1957().stageWidth},e.prototype.setTouchChildren=function(t){this.a1957().touchChildren=t},e.prototype.a1954=function(t){this.a1957().maxTouches=t},e.prototype.a1955=function(t){this.a1957().frameRate=t},e.prototype.a1956=function(t){this.a1957().scaleMode=t},e.prototype.a1957=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e.prototype.startFullscreenAdaptation=function(t,e,i){this.designWidth=t,this.designHeight=e,this.resizeCallback=i,this.a1959(),this.a1957().addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1961,this),this.a1957().addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1960,this)},e.prototype.a1959=function(){this.a1957().removeEventListener(egret.Event.RESIZE,this.a1959,this);var t=this.designWidth,e=this.designHeight;this.a1957().a1312(t,e),this.resizeCallback&&this.resizeCallback(),this.a1957().addEventListener(egret.Event.RESIZE,this.a1959,this)},e.prototype.a1960=function(){if(!this.initMusic){var t=a1228.a1226.a2525(101);if(t){var e=t.isInit();e&&(a1228.a1238.a2583(),this.a1957().removeEventListener(egret.TouchEvent.TOUCH_TAP,this.a1960,this),this.initMusic=!0)}}},e.prototype.a1961=function(){a1228.a1252.remove(this.cleanSleep,this),a1228.a1252.doTimer(7e3,0,this.cleanSleep,this),this.sleepStatus=!1},e.prototype.cleanSleep=function(){this.sleepStatus||(this.sleepStatus=!0)},e}(a1115);__reflect(a1122.prototype,"a1122");var a1123=function(t){function e(){var e=t.call(this)||this;e.lastCurLevel=0,e.lastCurLevel2=0,e.lasttime=0,e.serverPropdata={},e.loginDataTID=0,e.notCommit=!1,e.shouquanFlag=!1,e.shouquanTime=0,e.lastReqTime=0,e._conInit=!1,e.autoLogin=!0;var i=new a1124(e);return e.a1920(i),e.setProxy(new a1125(i)),e.a1916(5006,e.a1963,e),e.a1916(5e3,e.a2037,e),e.a1916(5001,e.a2038,e),e.a1916(5014,e.a2065,e),e.a1916(5015,e.a2066,e),e.a1916(5016,e.a2057,e),e.a1916(5017,e.a2058,e),e.a1916(5028,e.a2059,e),e.a1916(5029,e.a2060,e),e.a1916(5018,e.a2061,e),e.a1916(5019,e.a2062,e),e.a1916(5020,e.a2063,e),e.a1916(5021,e.a2064,e),e.a1916(5022,e.a2056,e),e.a1916(5023,e.closePaiHangBangView,e),e.a1916(5024,e.a2054,e),e.a1916(5025,e.a2055,e),e.a1916(5054,e.a2047,e),e.a1916(5055,e.a2048,e),e.a1916(5056,e.a2049,e),e.a1916(5057,e.a2050,e),e.a1916(5105,e.a2073,e),e.a1916(5106,e.a2074,e),e.a1916(5058,e.a2051,e),e.a1916(5059,e.closeNewDinosaurView,e),e.a1916(5033,e.a2052,e),e.a1916(5034,e.a2053,e),e.a1916(5064,e.a2039,e),e.a1916(5065,e.a2040,e),e.a1916(5119,e.a2067,e),e.a1916(5120,e.a2068,e),e.a1916(5121,e.a2069,e),e.a1916(5122,e.closeKunShouRankView,e),e.a1916(5123,e.openKunShouRecordView,e),e.a1916(5124,e.closeKunShouRecordView,e),e.a1916(5125,e.openKunShouFightView,e),e.a1916(5126,e.closeKunShouFightView,e),e.a1916(5135,e.a2070,e),e.a1916(5136,e.a2071,e),e.a1916(5089,e.a2043,e),e.a1916(5090,e.a2044,e),e.a1916(5081,e.a2041,e),e.a1916(5082,e.a2042,e),e.a1916(5083,e.openReceiveAwardView,e),e.a1916(5084,e.closeReceiveAwardView,e),e.a1916(5085,e.a2045,e),e.a1916(5088,e.a2046,e),e.a1916(5097,e.openDinosaursMapView,e),e.a1916(5098,e.closeDinosaursMapView,e),e.a1916(5060,e.openDinosaursPosView,e),e.a1916(5061,e.closeDinosaursPosView,e),e.a1916(5101,e.a2036,e),e.a1916(5102,e.closeHintUpgradeView,e),e.a1916(5099,e.openDinosaursDetailsView,e),e.a1916(5100,e.closeDinosaursDetailsView,e),e.a1916(5103,e.a2034,e),e.a1916(5104,e.a2035,e),e.a1916(5107,e.a2032,e),e.a1916(5108,e.a2033,e),e.a1916(5109,e.a2030,e),e.a1916(5110,e.a2031,e),e.a1916(5111,e.openUnlockNewFoodView,e),e.a1916(5112,e.closeUnlockNewFoodView,e),e.a1916(5070,e.a2027,e),e.a1916(5071,e.a2028,e),e.a1916(5113,e.a2025,e),e.a1916(5114,e.a2026,e),e.a1916(5115,e.a2023,e),e.a1916(5116,e.a2024,e),e.a1916(5117,e.a2021,e),e.a1916(5118,e.a2022,e),e.a1916(5127,e.a2019,e),e.a1916(5128,e.a2020,e),e.a1916(5129,e.openNewFunctionTipsView,e),e.a1916(5130,e.closeNewFunctionTipsView,e),e.a1916(5131,e.a2017,e),e.a1916(5132,e.a2018,e),e.a1916(5133,e.openKunShouResultView,e),e.a1916(5134,e.closeKunShouResultView,e),e.a1916(5066,e.a2013,e),e.a1916(5067,e.a2014,e),e.a1916(5068,e.a2015,e),e.a1916(5069,e.a2016,e),e.a1916(5137,e.openDinosaursEvolutionView,e),e.a1916(5138,e.closeDinosaursEvolutionView,e),e.a1916(5141,e.a2009,e),e.a1916(5142,e.a2010,e),e.a1916(5154,e.a2011,e),e.a1916(5155,e.a2012,e),e.a1916(5143,e.a2007,e),e.a1916(5144,e.a2008,e),e.a1916(5145,e.a2005,e),e.a1916(5146,e.a2006,e),e.a1916(5148,e.openStarUpKeySuccessView,e),e.a1916(5149,e.closeStarUpKeySuccessView,e),e.a1916(5150,e.openStarUpDetailsView,e),e.a1916(5151,e.closeStarUpDetailsView,e),e.a1916(5152,e.openStarUpSuccessView,e),e.a1916(5153,e.closeStarUpSuccessView,e),e.a1916(5282,e.openStarUpLockView,e),e.a1916(5283,e.closeStarUpLockView,e),e.a1916(5156,e.a2003,e),e.a1916(5157,e.a2004,e),e.a1916(5158,e.openFubenSuccessView,e),e.a1916(5159,e.closeFubenSuccessView,e),e.a1916(5160,e.a2001,e),e.a1916(5161,e.a2002,e),e.a1916(5170,e.openCommonDialogView,e),e.a1916(5171,e.closeCommonDialogView,e),e.a1916(5162,e.a1995,e),e.a1916(5163,e.a1996,e),e.a1916(5166,e.a1993,e),e.a1916(5167,e.a1994,e),e.a1916(5168,e.openDinosaursRecoverView,e),e.a1916(5169,e.closeDinosaursRecoverView,e),e.a1916(5172,e.openRecoverDetailsView,e),e.a1916(5173,e.closeRecoverDetailsView,e),e.a1916(5174,e.openRecoverSuccessView,e),e.a1916(5175,e.closeRecoverSuccessView,e),e.a1916(5176,e.a1985,e),e.a1916(5183,e.a1986,e),e.a1916(5164,e.openNewPlayerActivityView,e),e.a1916(5165,e.closeNewPlayerActivityView,e),e.a1916(5178,e.a1987,e),e.a1916(5177,e.a1988,e),e.a1916(5180,e.a1989,e),e.a1916(5179,e.a1990,e),e.a1916(5182,e.a1991,e),e.a1916(5181,e.a1992,e),e.a1916(5184,e.openRecoverOneKeyView,e),e.a1916(5185,e.closeRecoverOneKeyView,e),e.a1916(5186,e.openRecoverOneKeySuccessView,e),e.a1916(5187,e.closeRecoverOneKeySuccessView,e),e.a1916(5188,e.a1983,e),e.a1916(5189,e.a1984,e),e.a1916(5139,e.openChooseDinosaurView,e),e.a1916(5140,e.closeChooseDinosaurView,e),e.a1916(5190,e.a1982,e),e.a1916(5191,e.closeStarUpModelView,e),e.a1916(5192,e.a1980,e),e.a1916(5193,e.a1981,e),e.a1916(5194,e.a1978,e),e.a1916(5195,e.a1979,e),e.a1916(5196,e.openLimitTimeGiftView,e),e.a1916(5197,e.closeLimitTimeGiftView,e),e.a1916(5198,e.openLimitGiftGetView,e),e.a1916(5199,e.closeLimitGiftGetView,e),e.a1916(5200,e.a1976,e),e.a1916(5201,e.a1977,e),e.a1916(5206,e.a1974,e),e.a1916(5207,e.a1975,e),e.a1916(5208,e.openExchangeCodeView,e),e.a1916(5209,e.closeExchangeCodeView,e),e.a1916(5202,e.openDinosaursFosterView,e),e.a1916(5203,e.closeDinosaursFosterView,e),e.a1916(5224,e.openProduceSuccessView,e),e.a1916(5225,e.closeProduceSuccessView,e),e.a1916(5204,e.openDinosaursGrowSuccessView,e),e.a1916(5205,e.closeDinosaursGrowSuccessView,e),e.a1916(5302,e.openDinosaursGrowTipView,e),e.a1916(5303,e.closeDinosaursGrowTipView,e),e.a1916(5210,e.a1968,e),e.a1916(5211,e.a1969,e),e.a1916(5213,e.openChangeNameView,e),e.a1916(5214,e.closeChangeNameView,e),e.a1916(5212,e.a1970,e),e.a1916(5215,e.a1971,e),e.a1916(5216,e.a1972,e),e.a1916(5217,e.a1973,e),e.a1916(5218,e.openZhengbaCheerView,e),e.a1916(5219,e.closeZhengbaCheerView,e),e.a1916(5220,e.openZhengbaFightView,e),e.a1916(5221,e.closeZhengbaFightView,e),e.a1916(5226,e.openZhengbaResultView,e),e.a1916(5227,e.closeZhengbaResultView,e),e.a1916(5228,e.openZhengbaRewardView,e),e.a1916(5229,e.closeZhengbaRewardView,e),e.a1916(5230,e.openZhengbaOtherPosView,e),e.a1916(5231,e.closeZhengbaOtherPosView,e),e.a1916(5232,e.a1965,e),e.a1916(5233,e.closeZhengbaRuleView,e),e.a1916(5234,e.a1964,e),e.a1916(5235,e.closeZhengbaRankView,e),e.a1916(5236,e.openZhengbaRecordView,e),e.a1916(5237,e.closeZhengbaRecordView,e),e.a1916(5238,e.openZhengbaChuJiangView,e),e.a1916(5239,e.closeZhengbaChuJiangView,e),e.a1916(5240,e.openZhengbaGameRuleView,e),e.a1916(5241,e.closeZhengbaGameRuleView,e),e.a1916(5242,e.openNestView,e),e.a1916(5243,e.closeNestView,e),e.a1916(5244,e.openNestRankView,e),e.a1916(5245,e.closeNestRankView,e),e.a1916(5246,e.openNestInfoView,e),e.a1916(5247,e.closeNestInfoView,e),e.a1916(5248,e.openCaveInfoView,e),e.a1916(5249,e.closeCaveInfoView,e),e.a1916(5250,e.openNestProfitView,e),e.a1916(5251,e.closeNestProfitView,e),e.a1916(5252,e.openNestBreakView,e),e.a1916(5253,e.closeNestBreakView,e),e.a1916(5254,e.openStoneWayView,e),e.a1916(5255,e.closeStoneWayView,e),e.a1916(5256,e.openNestResultView,e),e.a1916(5257,e.closeNestResultView,e),e.a1916(5258,e.openNestBuZhenView,e),e.a1916(5259,e.closeNestBuZhenView,e),e.a1916(5260,e.openNewPlayerBossView,e),e.a1916(5261,e.closeNewPlayerBossView,e),e.a1916(5262,e.openNewPlayerBossFightView,e),e.a1916(5263,e.closeNewPlayerBossFightView,e),e.a1916(5264,e.openNewPlayerBossSuccessView,e),e.a1916(5265,e.closeNewPlayerBossSuccessView,e),e.a1916(5266,e.openNewPlayerBossFailView,e),e.a1916(5267,e.closeNewPlayerBossFailView,e),e.a1916(5270,e.openYuanDanView,e),e.a1916(5271,e.closeYuanDanView,e),e.a1916(5272,e.openYuanDanRuleView,e),e.a1916(5273,e.closeYuanDanRuleView,e),e.a1916(5286,e.openKaChiView,e),e.a1916(5287,e.closeKaChiView,e),e.a1916(5288,e.openSkyGiftView,e),e.a1916(5289,e.closeSkyGiftView,e),e.a1916(5315,e.openYuanDanksView,e),e.a1916(5316,e.closeYuanDanksView,e),e.a1916(5290,e.openHongBaoView,e),e.a1916(5291,e.closeHongBaoView,e),e.a1916(5268,e.openSystemAdvanceView,e),e.a1916(5269,e.closeSystemAdvanceView,e),e.a1916(5222,e.a1966,e),e.a1916(5223,e.a1967,e),e.a1916(5274,e.openClearRoleDateView,e),e.a1916(5275,e.closeClearRoleDateView,e),e.a1916(5276,e.openChouKaJiFenView,e),e.a1916(5277,e.closeChouKaJiFenView,e),e.a1916(5278,e.openJiBanView,e),e.a1916(5279,e.closeJiBanView,e),e.a1916(5280,e.openJiBanActiveView,e),e.a1916(5281,e.closeJiBanActiveView,e),e.a1916(5284,e.openZhuangbeiView,e),e.a1916(5285,e.closeZhuangbeiView,e),e.a1916(5292,e.openZhuangbeiDetailsView,e),e.a1916(5293,e.closeZhuangbeiDetailsView,e),e.a1916(5294,e.openHongBaoQQView,e),e.a1916(5295,e.closeHongBaoQQView,e),e.a1916(5296,e.openCharacterResultView,e),e.a1916(5297,e.closeCharacterResultView,e),e.a1916(5298,e.openCharacterView,e),e.a1916(5299,e.closeCharacterView,e),e.a1916(5300,e.openCharacterRuleView,e),e.a1916(5301,e.closeCharacterRuleView,e),e.a1916(5304,e.openCharacterAddInfoView,e),e.a1916(5305,e.closeCharacterAddInfoView,e),e.a1916(5307,e.openGiftActiveView,e),e.a1916(5308,e.closeGiftActiveView,e),e.a1916(5309,e.openTongYongRewardView,e),e.a1916(5310,e.closeTongYongRewardView,e),e.a1916(5311,e.openKsHongBaoView,e),e.a1916(5312,e.closeKsHongBaoView,e),e.a1916(5313,e.openSelectKsView,e),e.a1916(5314,e.closeSelectKsView,e),e.a1916(5317,e.openVideoSureView,e),e.a1916(5318,e.closeVideoSureView,e),e.a1916(5046,e.addyuandanTaskTimes,e),e.a1916(5047,e.addyuandanTaskTimes_ks,e),e.a1916(5044,e.a2078,e),e.a1916(5045,e.addTaskTimes1,e),e.a1916(5043,e.a2079,e),e.a1916(5035,e.a2081,e),e.a1916(5036,e.debris_amend,e),e.a1916(5037,e.wandebris_amend,e),e.a1916(5038,e.buyProps,e),e.a1916(5041,e.a2084,e),e.a1916(5042,e.postConfigData3,e),e.a1916(5051,e.a2088,e),e.a1916(5052,e.a2082,e),e.a1916(5053,e.a2089,e),e.a1916(5094,e.a2076,e),e.a1916(5322,e.a2029,e),e.a1916(5323,e.a1997,e),e.a1916(5324,e.a1998,e),e.a1916(5325,e.a1999,e),e.a1916(5326,e.a2000,e),e.a1916(5327,e.reqDataConfig,e),e
}return __extends(e,t),e.prototype.openKsHongBaoView=function(t){a1228.a1226.destroy(251,new KsHongBaoView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(251)},e.prototype.closeKsHongBaoView=function(){a1228.a1226.destroy(251)},e.prototype.openSelectKsView=function(t){},e.prototype.closeSelectKsView=function(){a1228.a1226.destroy(252)},e.prototype.openVideoSureView=function(t){a1228.a1226.destroy(254,new VideoSureView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(254)},e.prototype.closeVideoSureView=function(){a1228.a1226.destroy(254)},e.prototype.openTongYongRewardView=function(t){a1228.a1226.destroy(250,new TongYongRewardView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(250)},e.prototype.closeTongYongRewardView=function(){a1228.a1226.destroy(250)},e.prototype.openGiftActiveView=function(){a1228.a1226.destroy(245,new GiftActiveView(this,a1220.UI_Main_UP)),a1228.a1226.open(245)},e.prototype.closeGiftActiveView=function(){a1228.a1226.destroy(245)},e.prototype.openCharacterResultView=function(t){a1228.a1226.destroy(239,new CharacterResultView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(239)},e.prototype.closeCharacterResultView=function(){a1228.a1226.destroy(239)},e.prototype.openCharacterView=function(){a1228.a1226.destroy(240,new CharacterView(this,a1220.UI_Main_UP)),a1228.a1226.open(240)},e.prototype.closeCharacterView=function(){a1228.a1226.destroy(240)},e.prototype.openCharacterRuleView=function(){a1228.a1226.destroy(241,new CharacterRuleView(this,a1220.UI_Main_UP)),a1228.a1226.open(241)},e.prototype.closeCharacterRuleView=function(){a1228.a1226.destroy(241)},e.prototype.openCharacterAddInfoView=function(t,e){a1228.a1226.destroy(243,new CharacterAddInfoView(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(243)},e.prototype.closeCharacterAddInfoView=function(){a1228.a1226.destroy(243)},e.prototype.openHongBaoQQView=function(){a1228.a1226.destroy(238,new HongbaoQQView(this,a1220.UI_Main_UP)),a1228.a1226.open(238)},e.prototype.closeHongBaoQQView=function(){a1228.a1226.destroy(238)},e.prototype.openHongBaoView=function(t){a1228.a1226.destroy(236,new HongBaoView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(236)},e.prototype.closeHongBaoView=function(){a1228.a1226.destroy(236)},e.prototype.openZhuangbeiView=function(){},e.prototype.closeZhuangbeiView=function(){a1228.a1226.destroy(233)},e.prototype.openZhuangbeiDetailsView=function(t){},e.prototype.closeZhuangbeiDetailsView=function(){a1228.a1226.destroy(237)},e.prototype.openStarUpLockView=function(){a1228.a1226.destroy(232,new StarUpLockView(this,a1220.UI_Main_UP)),a1228.a1226.open(232)},e.prototype.closeStarUpLockView=function(){a1228.a1226.destroy(232)},e.prototype.openJiBanView=function(t){a1228.a1226.destroy(229,new JiBanView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(229)},e.prototype.closeJiBanView=function(){a1228.a1226.destroy(229)},e.prototype.openJiBanActiveView=function(t){a1228.a1226.destroy(230,new JiBanActiveView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(230)},e.prototype.closeJiBanActiveView=function(){a1228.a1226.destroy(230)},e.prototype.openChouKaJiFenView=function(t){a1228.a1226.destroy(228,new ChouKaJiFenView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(228)},e.prototype.closeChouKaJiFenView=function(){a1228.a1226.destroy(228)},e.prototype.a1963=function(){a1228.a1226.destroy(100,new a1184(this,a1220.UI_Main)),a1228.a1226.open(100)},e.prototype.openDinosaursFosterView=function(){a1228.a1226.destroy(121,new DinosaursFosterView(this,a1220.UI_Main_UP)),a1228.a1226.open(121)},e.prototype.closeDinosaursFosterView=function(){a1228.a1226.destroy(121)},e.prototype.openClearRoleDateView=function(t){a1228.a1226.destroy(227,new ClearRoleDateView(this,a1220.UI_Tips,t)),a1228.a1226.open(227)},e.prototype.closeClearRoleDateView=function(){a1228.a1226.destroy(227)},e.prototype.openYuanDanView=function(){a1227.getPoint("43","打开元旦活动界面",5),a1228.a1226.destroy(225,new YuanDanView(this,a1220.UI_Main_UP)),a1228.a1226.open(225)},e.prototype.closeYuanDanView=function(){a1228.a1226.destroy(225)},e.prototype.openYuanDanksView=function(){a1228.a1226.destroy(253,new YuanDanksView(this,a1220.UI_Main_UP)),a1228.a1226.open(253)},e.prototype.closeYuanDanksView=function(){a1228.a1226.destroy(253)},e.prototype.openYuanDanRuleView=function(t){a1228.a1226.destroy(226,new YuanDanRuleView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(226)},e.prototype.closeYuanDanRuleView=function(){a1228.a1226.destroy(226)},e.prototype.openKaChiView=function(){a1228.a1226.destroy(234,new KaChiView(this,a1220.UI_Main_UP)),a1228.a1226.open(234)},e.prototype.closeKaChiView=function(){a1228.a1226.destroy(234)},e.prototype.openSkyGiftView=function(){a1228.a1226.destroy(235,new SkyGiftView(this,a1220.UI_Main_UP)),a1228.a1226.open(235)},e.prototype.closeSkyGiftView=function(){a1228.a1226.destroy(235)},e.prototype.openSystemAdvanceView=function(){a1228.a1226.destroy(224,new SystemAdvanceView(this,a1220.UI_Main_UP)),a1228.a1226.open(224)},e.prototype.closeSystemAdvanceView=function(){a1228.a1226.destroy(224)},e.prototype.openNewPlayerBossView=function(){a1227.getPoint("42","打开新手boss界面",5),a1228.a1226.destroy(220,new NewPlayerBossView(this,a1220.UI_Main_UP)),a1228.a1226.open(220)},e.prototype.closeNewPlayerBossView=function(){a1228.a1226.destroy(220)},e.prototype.openNewPlayerBossFightView=function(t){a1228.a1226.destroy(221,new NewPlayerBossFightView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(221)},e.prototype.closeNewPlayerBossFightView=function(){a1228.a1226.destroy(221)},e.prototype.openNewPlayerBossSuccessView=function(t){a1228.a1226.destroy(222,new NewPlayerBossSuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(222)},e.prototype.closeNewPlayerBossSuccessView=function(){a1228.a1226.destroy(222)},e.prototype.openNewPlayerBossFailView=function(){a1228.a1226.destroy(223,new NewPlayerBossFailView(this,a1220.UI_Main_UP)),a1228.a1226.open(223)},e.prototype.closeNewPlayerBossFailView=function(){a1228.a1226.destroy(223)},e.prototype.openNestBuZhenView=function(){a1228.a1226.destroy(219,new NestBuZhenView(this,a1220.UI_Main_UP)),a1228.a1226.open(219)},e.prototype.closeNestBuZhenView=function(){a1228.a1226.destroy(219)},e.prototype.openNestResultView=function(){a1228.a1226.destroy(218,new NestFightResultView(this,a1220.UI_Main_UP)),a1228.a1226.open(218)},e.prototype.closeNestResultView=function(){a1228.a1226.destroy(218)},e.prototype.openStoneWayView=function(){a1228.a1226.destroy(217,new NestGetStoneWayView(this,a1220.UI_Main_UP)),a1228.a1226.open(217)},e.prototype.closeStoneWayView=function(){a1228.a1226.destroy(217)},e.prototype.openNestView=function(){a1228.a1226.destroy(211,new NestView(this,a1220.UI_Main_UP)),a1228.a1226.open(211)},e.prototype.closeNestView=function(){a1228.a1226.destroy(211)},e.prototype.openNestRankView=function(){a1228.a1226.destroy(212,new NestRankView(this,a1220.UI_Main_UP)),a1228.a1226.open(212)},e.prototype.closeNestRankView=function(){a1228.a1226.destroy(212)},e.prototype.openNestInfoView=function(){a1228.a1226.destroy(213,new NestInfoView(this,a1220.UI_Main_UP)),a1228.a1226.open(213)},e.prototype.closeNestInfoView=function(){a1228.a1226.destroy(213)},e.prototype.openCaveInfoView=function(){a1228.a1226.destroy(214,new NestCaveInfoView(this,a1220.UI_Main_UP)),a1228.a1226.open(214)},e.prototype.closeCaveInfoView=function(){a1228.a1226.destroy(214)},e.prototype.openNestProfitView=function(){a1228.a1226.destroy(215,new NestProfitView(this,a1220.UI_Main_UP)),a1228.a1226.open(215)},e.prototype.closeNestProfitView=function(){a1228.a1226.destroy(215)},e.prototype.openNestBreakView=function(){a1228.a1226.destroy(216,new NestBreakView(this,a1220.UI_Main_UP)),a1228.a1226.open(216)},e.prototype.closeNestBreakView=function(){a1228.a1226.destroy(216)},e.prototype.openZhengbaGameRuleView=function(t){a1228.a1226.destroy(208,new a1218(this,a1220.UI_Main_UP,t)),a1228.a1226.open(208)},e.prototype.closeZhengbaGameRuleView=function(){a1228.a1226.destroy(208)},e.prototype.openZhengbaChuJiangView=function(t){a1228.a1226.destroy(207,new ZhengbaChuJiangView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(207)},e.prototype.closeZhengbaChuJiangView=function(){a1228.a1226.destroy(207)},e.prototype.openZhengbaRecordView=function(t){a1228.a1226.destroy(206,new a1215(this,a1220.UI_Main_UP,t)),a1228.a1226.open(206)},e.prototype.closeZhengbaRecordView=function(){a1228.a1226.destroy(206)},e.prototype.a1964=function(t){a1228.a1226.destroy(205,new a1214(this,a1220.UI_Main_UP,t)),a1228.a1226.open(205)},e.prototype.closeZhengbaRankView=function(){a1228.a1226.destroy(205)},e.prototype.a1965=function(t){a1228.a1226.destroy(204,new ZhengbaRewardRuleView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(204)},e.prototype.closeZhengbaRuleView=function(){a1228.a1226.destroy(204)},e.prototype.openZhengbaRewardView=function(t,e){a1228.a1226.destroy(203,new a1217(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(203)},e.prototype.closeZhengbaRewardView=function(){a1228.a1226.destroy(203)},e.prototype.openZhengbaResultView=function(t,e,i){a1228.a1226.destroy(202,new a1216(this,a1220.UI_Main_UP,t,e,i)),a1228.a1226.open(202)},e.prototype.closeZhengbaResultView=function(){a1228.a1226.destroy(202)},e.prototype.openDinosaursGrowSuccessView=function(t){a1228.a1226.destroy(123,new DinosaursGrowSuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(123)},e.prototype.closeDinosaursGrowSuccessView=function(){a1228.a1226.destroy(123)},e.prototype.openDinosaursGrowTipView=function(){a1228.a1226.destroy(242,new DinosaursGrowTipView(this,a1220.UI_Main_UP)),a1228.a1226.open(242)},e.prototype.closeDinosaursGrowTipView=function(){a1228.a1226.destroy(242)},e.prototype.openProduceSuccessView=function(t){a1228.a1226.destroy(201,new ProduceSuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(201)},e.prototype.closeProduceSuccessView=function(){a1228.a1226.destroy(201)},e.prototype.a1966=function(){a1228.a1226.destroy(200,new BuyMaxLevelFoodView(this,a1220.UI_Main_UP)),a1228.a1226.open(200)},e.prototype.a1967=function(){a1228.a1226.destroy(200)},e.prototype.openChangeNameView=function(t,e,i){a1228.a1226.destroy(231,new ChangeNameView(this,a1220.UI_Main_UP,t,e,i)),a1228.a1226.open(231)},e.prototype.closeChangeNameView=function(){a1228.a1226.destroy(231)},e.prototype.a1968=function(){a1228.a1226.destroy(198,new a1159(this,a1220.UI_Main_UP)),a1228.a1226.open(198)},e.prototype.a1969=function(){a1228.a1226.destroy(198)},e.prototype.a1970=function(t){1!=a1232.subscribe[4]&&platform.requestSubscribeMessage("zhengba",function(t){t&&(a1232.subscribe[4]=1,a1228.a1225.applyFunc(10004,5053,4,1))}),a1228.a1226.destroy(191,new a1219(this,a1220.UI_Main_UP,t)),a1228.a1226.open(191)},e.prototype.a1971=function(){a1228.a1226.destroy(191)},e.prototype.a1972=function(){a1228.a1226.destroy(192,new a1213(this,a1220.UI_Main_UP)),a1228.a1226.open(192)},e.prototype.a1973=function(){a1228.a1226.destroy(192)},e.prototype.openZhengbaOtherPosView=function(t){a1228.a1226.destroy(195,new ZhengbaOtherPosView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(195)},e.prototype.closeZhengbaOtherPosView=function(){a1228.a1226.destroy(195)},e.prototype.openZhengbaCheerView=function(){a1228.a1226.destroy(193,new a1210(this,a1220.UI_Main_UP)),a1228.a1226.open(193)},e.prototype.closeZhengbaCheerView=function(){a1228.a1226.destroy(193)},e.prototype.openZhengbaFightView=function(t){a1228.a1226.destroy(194,new a1211(this,a1220.UI_Main_UP,t)),a1228.a1226.open(194)},e.prototype.closeZhengbaFightView=function(){a1228.a1226.destroy(194)},e.prototype.openExchangeCodeView=function(){a1228.a1226.destroy(197,new a1146(this,a1220.UI_Main_UP)),a1228.a1226.open(197)},e.prototype.closeExchangeCodeView=function(){a1228.a1226.destroy(197)},e.prototype.a1974=function(t){a1228.a1226.destroy(196,new a1133(this,a1220.UI_Main_UP,t)),a1228.a1226.open(196)},e.prototype.a1975=function(){a1228.a1226.destroy(196)},e.prototype.a1976=function(){a1228.a1226.destroy(190,new a1169(this,a1220.UI_Main_UP)),a1228.a1226.open(190)},e.prototype.a1977=function(){a1228.a1226.destroy(190)},e.prototype.openLimitGiftGetView=function(t,e){a1228.a1226.destroy(189,new a1170(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(189)},e.prototype.closeLimitGiftGetView=function(){a1228.a1226.destroy(189)},e.prototype.openLimitTimeGiftView=function(){a1228.a1226.destroy(188,new a1171(this,a1220.UI_Main_UP)),a1228.a1226.open(188)},e.prototype.closeLimitTimeGiftView=function(){a1228.a1226.destroy(188)},e.prototype.a1978=function(){a1228.a1226.destroy(187,new a1147(this,a1220.UI_Main_UP)),a1228.a1226.open(187)},e.prototype.a1979=function(){a1228.a1226.destroy(187)},e.prototype.a1980=function(t){a1228.a1226.destroy(186,new a1173(this,a1220.UI_Main_UP,t)),a1228.a1226.open(186)},e.prototype.a1981=function(){a1228.a1226.destroy(186)},e.prototype.a1982=function(t){a1228.a1226.destroy(185,new a1199(this,a1220.UI_Main_UP,t)),a1228.a1226.open(185)},e.prototype.closeStarUpModelView=function(){a1228.a1226.destroy(185)},e.prototype.a1983=function(){a1228.a1226.destroy(184,new DinosaursCheerView(this,a1220.UI_Main_UP)),a1228.a1226.open(184)},e.prototype.a1984=function(){a1228.a1226.destroy(184)},e.prototype.openChooseDinosaurView=function(t,e,i,a){a1228.a1226.destroy(129,new ChooseDinosaurView(this,a1220.UI_Main_UP,t,e,i,a)),a1228.a1226.open(129)},e.prototype.closeChooseDinosaurView=function(){a1228.a1226.destroy(129)},e.prototype.openRecoverOneKeySuccessView=function(t){a1228.a1226.destroy(183,new RecoverOneKeySuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(183)},e.prototype.closeRecoverOneKeySuccessView=function(t){a1228.a1226.destroy(183)},e.prototype.openRecoverOneKeyView=function(t){a1228.a1226.destroy(182,new a1187(this,a1220.UI_Main_UP,t)),a1228.a1226.open(182)},e.prototype.closeRecoverOneKeyView=function(){a1228.a1226.destroy(182)},e.prototype.a1985=function(){a1232.breakEggState||platform.requestSubscribeMessage("zhadan",function(t){t&&(a1232.breakEggState=1,a1228.a1225.applyFunc(10004,5041))}),a1227.getPoint("41","打开砸蛋界面",5),a1228.a1226.destroy(180,new a1136(this,a1220.UI_Main_UP)),a1228.a1226.open(180)},e.prototype.a1986=function(){a1228.a1226.destroy(180)},e.prototype.openNewPlayerActivityView=function(t){if(void 0===t&&(t=!1),a1232.isOpenNewPlayerActA||a1232.isOpenNewPlayerActS){if(!t)for(var e=NewPlayerActivityType.begin+1;e<NewPlayerActivityType.end;++e){var i=a1232.newPlayerActivity[e];if((e==NewPlayerActivityType.fuhua&&a1232.isOpenNewPlayerActA||e==NewPlayerActivityType.online&&a1232.isOpenNewPlayerActS)&&i[0]>=NewPlayerActivityData[e]&&0==i[1]&&a1232.curLevel<20){t=!0;break}}return t?(a1227.getPoint("40","打开迎新活动界面",5),a1228.a1226.destroy(181,new NewPlayerActivityView(this,a1220.UI_Main_UP)),a1228.a1226.open(181),!0):!1}},e.prototype.closeNewPlayerActivityView=function(){a1228.a1226.destroy(181)},e.prototype.a1987=function(){a1228.a1226.destroy(173,new a1126(this,a1220.UI_Main_UP)),a1228.a1226.open(173)},e.prototype.a1988=function(){a1228.a1226.destroy(173)},e.prototype.a1989=function(){a1228.a1226.destroy(174,new a1149(this,a1220.UI_Main_UP)),a1228.a1226.open(174)},e.prototype.a1990=function(){a1228.a1226.destroy(174)},e.prototype.a1991=function(){a1228.a1226.destroy(175,new a1140(this,a1220.UI_Main_UP)),a1228.a1226.open(175)},e.prototype.a1992=function(){a1228.a1226.destroy(175)},e.prototype.openRecoverSuccessView=function(t){a1228.a1226.destroy(179,new RecoverSuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(179)},e.prototype.closeRecoverSuccessView=function(){a1228.a1226.destroy(179)},e.prototype.openRecoverDetailsView=function(t){},e.prototype.closeRecoverDetailsView=function(){a1228.a1226.destroy(178)},e.prototype.openDinosaursRecoverView=function(){a1228.a1226.destroy(177,new a1188(this,a1220.UI_Main_UP)),a1228.a1226.open(177)},e.prototype.closeDinosaursRecoverView=function(){a1228.a1226.destroy(177)},e.prototype.a1993=function(t){a1228.a1226.destroy(176,new a1189(this,a1220.UI_Main_UP,t)),a1228.a1226.open(176)},e.prototype.a1994=function(){a1228.a1226.destroy(176)},e.prototype.a1995=function(){a1228.a1226.destroy(172,new a1130(this,a1220.UI_Main_UP)),a1228.a1226.open(172)},e.prototype.a1996=function(){a1228.a1226.destroy(172)},e.prototype.a1997=function(){a1228.a1226.destroy(209,new AdSDKTaskView(this,a1220.UI_Main_UP)),a1228.a1226.open(209)},e.prototype.a1998=function(){a1228.a1226.destroy(209)},e.prototype.a1999=function(t){a1228.a1226.destroy(210,new a1131(this,a1220.UI_Main_UP,{tip:t})),a1228.a1226.open(210,{tip:t})},e.prototype.a2000=function(){a1228.a1226.destroy(210)},e.prototype.a2001=function(){a1228.a1226.destroy(170,new a1151(this,a1220.UI_Main_UP)),a1228.a1226.open(170)},e.prototype.a2002=function(){a1228.a1226.destroy(170)},e.prototype.openCommonDialogView=function(t){a1228.a1226.destroy(171,new a1139(this,a1220.UI_Tips,t)),a1228.a1226.open(171)},e.prototype.closeCommonDialogView=function(){a1228.a1226.destroy(171)},e.prototype.openFubenSuccessView=function(t){var e=a1228.a1226.a2525(101);e?a1228.a1226.destroy(169,new a1154(this,a1220.UI_Main,t)):a1228.a1226.destroy(169,new a1154(this,a1220.UI_Main_UP,t)),a1228.a1226.open(169)},e.prototype.closeFubenSuccessView=function(){a1228.a1226.destroy(169)},e.prototype.a2003=function(t){a1228.a1226.destroy(168,new a1152(this,a1220.UI_Main,t)),a1228.a1226.open(168)},e.prototype.a2004=function(){a1228.a1226.destroy(168)},e.prototype.openStarUpSuccessView=function(t){a1228.a1226.destroy(166,new a1200(this,a1220.UI_Main_UP,t)),a1228.a1226.open(166)},e.prototype.closeStarUpSuccessView=function(){a1228.a1226.destroy(166)},e.prototype.openStarUpDetailsView=function(t,e){a1228.a1226.destroy(165,new a1195(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(165)},e.prototype.closeStarUpDetailsView=function(){a1228.a1226.destroy(165)},e.prototype.openStarUpKeySuccessView=function(t){a1228.a1226.destroy(164,new StarUpKeySuccessView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(164)},e.prototype.closeStarUpKeySuccessView=function(){a1228.a1226.destroy(164)},e.prototype.a2005=function(t){a1228.a1226.destroy(163,new a1198(this,a1220.UI_Main_UP,t)),a1228.a1226.open(163)},e.prototype.a2006=function(){a1228.a1226.destroy(163)},e.prototype.a2007=function(){a1228.a1226.destroy(162,new a1201(this,a1220.UI_Main_UP)),a1228.a1226.open(162)},e.prototype.a2008=function(){a1228.a1226.destroy(162)},e.prototype.a2009=function(){a1228.a1226.destroy(161,new a1191(this,a1220.UI_Main_UP)),a1228.a1226.open(161)},e.prototype.a2010=function(){a1228.a1226.destroy(161)},e.prototype.a2011=function(){a1228.a1226.destroy(167,new a1142(this,a1220.UI_Main_UP)),a1228.a1226.open(167)},e.prototype.a2012=function(){a1228.a1226.destroy(167)},e.prototype.openDinosaursEvolutionView=function(t,e){a1228.a1226.destroy(160,new DinosaursEvolutionView(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(160)},e.prototype.closeDinosaursEvolutionView=function(){a1228.a1226.destroy(160)},e.prototype.openKunShouResultView=function(t,e){var i=a1228.a1226.a2525(101);i?a1228.a1226.destroy(155,new a1166(this,a1220.UI_Main,t,e)):a1228.a1226.destroy(155,new a1166(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(155)},e.prototype.closeKunShouResultView=function(){a1228.a1226.destroy(155)},e.prototype.a2013=function(t){a1228.a1226.destroy(158,new a1205(this,a1220.UI_Main_UP,t)),a1228.a1226.open(158)},e.prototype.a2014=function(){a1228.a1226.destroy(158)},e.prototype.a2015=function(t){a1228.a1226.destroy(159,new TopAwardDetailsView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(159)},e.prototype.a2016=function(){a1228.a1226.destroy(159)},e.prototype.a2017=function(t){},e.prototype.a2018=function(){a1228.a1226.destroy(154)},e.prototype.openNewFunctionTipsView=function(t){a1228.a1226.destroy(153,new NewFunctionTipsView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(153)},e.prototype.closeNewFunctionTipsView=function(){a1228.a1226.destroy(153)},e.prototype.a2019=function(t){a1228.a1226.destroy(147,new a1158(this,a1220.UI_Main_UP,t)),a1228.a1226.open(147)},e.prototype.a2020=function(){a1228.a1226.destroy(147)},e.prototype.a2021=function(t){a1227.getPoint("311","打开加速界面",5),a1228.a1226.destroy(146,new a1127(this,a1220.UI_Main_UP,t)),a1228.a1226.open(146),"android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null)},e.prototype.a2022=function(){a1228.a1226.destroy(146)},e.prototype.a2023=function(t,e){a1228.a1226.destroy(145,new a1148(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(145)},e.prototype.a2024=function(){a1228.a1226.destroy(145)},e.prototype.a2025=function(t){a1228.a1226.destroy(144,new a1161(this,a1220.UI_Main_UP,t)),a1228.a1226.open(144)},e.prototype.a2026=function(){a1228.a1226.destroy(144)},e.prototype.openUnlockNewFoodView=function(t,e){a1228.a1226.destroy(143,new a1207(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(143)},e.prototype.closeUnlockNewFoodView=function(){a1228.a1226.destroy(143)},e.prototype.a2027=function(){a1228.a1226.destroy(157,new a1208(this,a1220.UI_Main_UP)),a1228.a1226.open(157)},e.prototype.a2028=function(){a1228.a1226.destroy(157)},e.prototype.a2029=function(t){var e=this;void 0===t&&(t=0);var i=a1228.a1226.a2525(102);if(i&&(this.guajiID&&(egret.clearTimeout(this.guajiID),this.guajiID=null),!(a1232.guideStep<=8))){var a=a1232.guajiTime,n=a1232.getServerTime();if(a)if(0==t){Number(a);this.a2030(2)}else this.guajiID=egret.setTimeout(function(){Number(a);e.a2030(2),e.guajiID=null},this,t);else a1232.guajiTime=n,a1232.lastGuajiTime=n}},e.prototype.a2030=function(t){if(2==t){if(a1232.isGuide)return;var e=a1228.a1226.a2525(101),i=a1228.a1226.a2525(142);if(i&&2==i.type)return;e?a1228.a1226.destroy(142,new a1204(this,a1220.UI_Main,t)):a1228.a1226.destroy(142,new a1204(this,a1220.UI_Main_UP,t))}else a1228.a1226.destroy(142,new a1204(this,a1220.UI_Main_UP,t));a1228.a1226.open(142)},e.prototype.a2031=function(){a1228.a1226.destroy(142)},e.prototype.a2032=function(t,e){a1228.a1226.destroy(141,new a1134(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(141)},e.prototype.a2033=function(){a1228.a1226.destroy(141)},e.prototype.a2034=function(t){a1228.a1226.destroy(140,new a1206(this,a1220.UI_Main_UP,t)),a1228.a1226.open(140)},e.prototype.a2035=function(){a1228.a1226.destroy(140)},e.prototype.openDinosaursDetailsView=function(t,e){void 0===e&&(e=!1),a1228.a1226.destroy(139,new DinosaursDetailsView(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(139)},e.prototype.closeDinosaursDetailsView=function(){a1228.a1226.destroy(139)},e.prototype.openDinosaursMapView=function(){a1228.a1226.destroy(138,new a1144(this,a1220.UI_Main_UP)),a1228.a1226.open(138)},e.prototype.closeDinosaursMapView=function(){a1228.a1226.destroy(138)},e.prototype.openDinosaursPosView=function(){a1227.getPoint("310","打开布阵界面",5),a1228.a1226.destroy(137,new a1145(this,a1220.UI_Main_UP)),a1228.a1226.open(137)},e.prototype.closeDinosaursPosView=function(){a1228.a1226.destroy(137)},e.prototype.a2036=function(t,e,i){a1228.a1226.destroy(152,new a1160(this,a1220.UI_Main_UP,t,e,i)),a1228.a1226.open(152)},e.prototype.closeHintUpgradeView=function(){a1228.a1226.destroy(152)},e.prototype.a2037=function(){a1227.getPoint("31","打开巢穴界面",5),a1228.a1226.destroy(101,new a1174(this,a1220.UI_Main_UP)),a1228.a1226.open(101)},e.prototype.a2038=function(){a1228.a1226.destroy(101)},e.prototype.a2039=function(t){a1228.a1226.destroy(133,new a1178(this,a1220.UI_Main_UP,t)),a1228.a1226.open(133)},e.prototype.a2040=function(){a1228.a1226.destroy(133)},e.prototype.a2041=function(t){a1228.a1226.destroy(134,new a1176(this,a1220.UI_Main_UP,t)),a1228.a1226.open(134)},e.prototype.a2042=function(){a1228.a1226.destroy(134)},e.prototype.a2043=function(t){a1228.a1226.destroy(151,new a1209(this,a1220.UI_Main_UP)),a1228.a1226.open(151)},e.prototype.a2044=function(){a1228.a1226.destroy(151)},e.prototype.openReceiveAwardView=function(t,e){a1228.a1226.destroy(135,new a1185(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(135)},e.prototype.closeReceiveAwardView=function(){a1228.a1226.destroy(135)},e.prototype.a2045=function(t,e){var i=a1228.a1226.a2525(101);i?a1228.a1226.destroy(136,new a1138(this,a1220.UI_Main,t,e)):a1228.a1226.destroy(136,new a1138(this,a1220.UI_Main_UP,t,e)),a1228.a1226.open(136)},e.prototype.a2046=function(){a1228.a1226.destroy(136)},e.prototype.a2047=function(t){a1228.a1226.destroy(131,new a1155(this,a1220.UI_Main_UP,t)),a1228.a1226.open(131)},e.prototype.a2048=function(){a1228.a1226.destroy(131)},e.prototype.a2049=function(t){void 0===t&&(t=!1),a1227.getPoint("39","打开抽卡界面",5),a1228.a1226.destroy(128,new a1137(this,a1220.UI_Main_UP,t)),a1228.a1226.open(128)},e.prototype.a2050=function(){a1228.a1226.destroy(128)},e.prototype.a2051=function(t,e,i){a1228.a1226.destroy(130,new a1180(this,a1220.UI_Main_UP,t,e,i)),a1228.a1226.open(130),a1228.a1230.showFullVideo()},e.prototype.closeNewDinosaurView=function(){a1228.a1226.destroy(130)},e.prototype.a2052=function(t){1==t?a1227.getPoint("32","打开获取钻石界面",5):a1227.getPoint("33","打开获取龙骨界面",5),a1228.a1226.destroy(132,new a1157(this,a1220.UI_Main_UP,t)),a1228.a1226.open(132)},e.prototype.a2053=function(){a1228.a1226.destroy(132)},e.prototype.a2054=function(t){a1227.getPoint("34","打开食谱界面",5),a1228.a1226.destroy(127,new a1193(this,a1220.UI_Main_UP,t)),a1228.a1226.open(127)},e.prototype.a2055=function(){a1228.a1226.destroy(127)},e.prototype.a2056=function(t){if(!platform.isLocal()&&!a1232.userInfo&&platform.hasFriendList()){var e=a1228.a1122.a1872(),i=a1228.a1122.a1873();return void platform.getSetting(e,i,0,0,function(t){a1228.a1225.applyFunc(10004,5051,t)})}platform.addRecentColorSign&&platform.addRecentColorSign(),a1227.getPoint("36","打开排行榜面板",5),platform.getOpenDataContext()?a1228.a1226.destroy(126,new a1181(this,a1220.UI_Main_UP,t)):a1228.a1226.destroy(126,new PaiHangBangView2(this,a1220.UI_Main_UP,t)),a1228.a1226.open(126)},e.prototype.closePaiHangBangView=function(){a1228.a1226.destroy(126)},e.prototype.a2057=function(t){a1228.a1226.destroy(109,new a1190(this,a1220.UI_Main_UP,t)),a1228.a1226.open(109)},e.prototype.a2058=function(){a1228.a1226.destroy(109)},e.prototype.a2059=function(t){a1228.a1226.destroy(110,new a1179(this,a1220.UI_Main_UP)),a1228.a1226.open(110)},e.prototype.a2060=function(){a1228.a1226.destroy(110)},e.prototype.a2061=function(t){a1228.a1226.destroy(111,new a1162(this,a1220.UI_Main_UP)),a1228.a1226.open(111)},e.prototype.a2062=function(){a1228.a1226.destroy(111)},e.prototype.a2063=function(){a1228.a1226.destroy(112,new a1194(this,a1220.UI_Main_UP)),a1228.a1226.open(112)},e.prototype.a2064=function(){a1228.a1226.destroy(112)},e.prototype.a2065=function(){if("android"==platform.name||a1228.a1230.initAds(),a1228.g_PropsData){if(!a1232.dinosaurZip||!platform.isLocal()&&!RES.getRes("mini_png"))return void a1228.Main.a2479();a1232.toBackTime=a1232.comeBackTime=a1232.getServerTime(),console.log("--------open game",JSON.stringify(a1232.userInfo));var t=Object.keys(a1228.g_playerName).length;a1232.userInfo=a1232.userInfo||{};var e=a1232.userInfo.nickName&&a1232.userInfo.avatarUrl;if(!a1232.userInfo.nickName){for(var i=Math.floor(Math.random()*t)+1,a=Math.floor(Math.random()*t)+1;!a1228.g_playerName[i].name1;)i=Math.floor(Math.random()*t)+1;for(;!a1228.g_playerName[a].name2;)a=Math.floor(Math.random()*t)+1;a1232.userInfo.nickName=a1228.g_playerName[i].name1+a1228.g_playerName[a].name2}if(!a1232.userInfo.avatarUrl||a1232.userInfo.avatarUrl.length>1e3){for(var n=Math.floor(Math.random()*t)+1;!a1228.g_playerName[n].avatar;)n=Math.floor(Math.random()*t)+1;a1232.userInfo.avatarUrl=a1228.g_playerName[n].avatar}if(!e){console.log("随机玩家信息",JSON.stringify(a1232.userInfo)),a1232.unionid=a1232.unionid||""+a1232.openid;var r={gameId:a1232.gameID,trackId:a1232.trackId,unionid:a1232.unionid,phoneNum:"",nickname:a1232.userInfo.nickName,avatarUrl:a1232.userInfo.avatarUrl,gender:"",country:"",province:"",city:""};
a1228.a1247.a2623(a1232.URL_USER_INFO,egret.URLRequestMethod.POST,r,null,null)}a1228.Main.destroyDinosaursPngs(),a1228.a1226.a2527(),a1232.releaseFoodRes();var s=new a1156(this,a1220.UI_Main);a1228.a1226.destroy(102,s),a1228.a1226.open(102),s&&s.parent&&s.parent.setChildIndex(s,0),a1227.getPoint("37","打开游戏面板进入关卡",5),this.closeCommonDialogView(),a1232.curLevel>9&&!a1232.hasDaySign&&a1232.signDay<=7&&this.a1991()}},e.prototype.a2066=function(){a1228.a1226.destroy(102)},e.prototype.a2067=function(t){a1227.getPoint("35","打开困兽场界面",5),a1228.a1226.destroy(148,new a1168(this,a1220.UI_Main_UP,t)),a1228.a1226.open(148)},e.prototype.a2068=function(){a1228.a1226.destroy(148)},e.prototype.a2069=function(){a1228.a1226.destroy(149,new a1164(this,a1220.UI_Main_UP)),a1228.a1226.open(149)},e.prototype.closeKunShouRankView=function(){a1228.a1226.destroy(149)},e.prototype.openKunShouRecordView=function(){a1228.a1226.destroy(150,new a1165(this,a1220.UI_Main_UP)),a1228.a1226.open(150)},e.prototype.closeKunShouRecordView=function(){a1228.a1226.destroy(150)},e.prototype.openKunShouFightView=function(t){a1228.a1226.destroy(156,new a1163(this,a1220.UI_Main,t)),a1228.a1226.open(156)},e.prototype.closeKunShouFightView=function(){a1228.a1226.destroy(156)},e.prototype.a2070=function(t){var e=this,i=a1228.a1226.a2525(102);if(!i)return void setTimeout(function(){e.a2070(t)},1e3);var a=a1228.a1226.a2525(124);a?a.pushData(t):(a1228.a1226.destroy(124,new NoticeView(this,a1220.UI_Main_UP,t)),a1228.a1226.open(124))},e.prototype.a2071=function(){a1228.a1226.destroy(124)},e.prototype.initModule=function(){this._conInit||(this._conInit=!0)},e.prototype.a2073=function(){a1227.getPoint("38","打开任务界面",5),a1228.a1226.destroy(120,new a1203(this,a1220.UI_Main_UP)),a1228.a1226.open(120)},e.prototype.a2074=function(){a1228.a1226.destroy(120)},e.prototype.reqDataConfig=function(){},e.prototype.a2076=function(t){var e=this;this.loginData=t,this.loginDataTID&&(clearTimeout(this.loginDataTID),this.loginDataTID=0),this.reqDataConfig(),console.log("--------init  success2",!!a1228.g_PropsData);var i=a1228.g_Monster?Object.keys(a1228.g_Monster).length-1:1,a=Math.min(i-a1232.curLevel,9);if(!a1228.g_PropsData||!(a1228.g_BossData&&a1228.g_BossData[a1232.curLevel]&&a1228.g_BossData[a1232.curLevel+a]))return void(this.loginDataTID=setTimeout(function(){e.loginDataTID=0,e.reqDataConfig(),e.a2076(t)},500));if(a1232.baseY=a1228.a1122.a1873()-1330+a1232.baseY2,!a1232.adListData){var n=localStorage.getItem("adListData");n&&(a1232.adListData=JSON.parse(n)),n||(a1232.adListData={},localStorage.setItem("adListData",JSON.stringify(a1232.adListData)))}try{var r=localStorage.getItem("musicState");"0"!=r?(a1232.musicState=!0,localStorage.setItem("musicState","1")):a1232.musicState=!1,r=localStorage.getItem("effectState"),"0"!=r?(localStorage.setItem("effectState","1"),a1232.effectState=!0):a1232.effectState=!1}catch(s){}a1228.a1238.a2586(a1232.musicState,!1),a1228.a1238.a2585(a1232.musicState);var o="8"+a1232.wxVersion;a1227.getPoint(o.replace(/\./g,""),"version:"+a1232.wxVersion,7);var l=t.data.playerConf;0==t.data.news;a1232.gameAreaId2=0,a1232.registerTime=t.data.playerGame.registerTime,a1232.gold=0,a1232.diamond=280,a1232.curLevel=1,a1232.guideStep=0,a1232.curPlayers=[1,0,0],a1232.playerIDs={},a1232.Debris={},a1232.wanDebris={},a1232.props={101:2,102:1},a1232.giftCounts=[0,0,0],a1232.friendHelpDiamond=0,this.notCommit=!1;var h=t.data.propsList;if(console.log("-----props"),a1232.isTrial||a1232.isDebug)for(var p in h)h[p].num>0&&console.log("-----",h[p].propsId,h[p].num,h[p].id);if(a1232.pgid=l.pgid,t.data.configTypes&&t.data.configTypes.configDatas)try{for(var u=0,c=t.data.configTypes.configDatas;u<c.length;u++){var d=c[u];if(d&&d.typeCode)for(var g=d.remark,f=g.split(","),p=0;p<f.length;p++){var m=Number(f[p]);m>=100&&200>m?a1232.advChangeList.push([1,m-100]):m>=200&&300>m&&a1232.advChangeList.push([2,m-200])}}}catch(v){a1232.advChangeList=[[1,5],[1,5]]}else a1232.advChangeList=[[1,5],[1,5]];if(t.data.configTypes)for(var y=0,b=t.data.configTypes;y<b.length;y++){var d=b[y];if(d&&d.typeCode&&"game.biz.app"==d.typeCode&&d.configDatas&&d.configDatas.length>0)for(var _=0,A=d.configDatas;_<A.length;_++){var T=A[_];if("game.biz.ad.sdk"==T.dataKey){a1232.isShowSDKAd=""+T.dataVal=="1"?!0:!1;var C=JSON.parse(T.extend);a1232.sdkAdAward=Number(C.award)}else if("game.biz.area"==T.dataKey){var w=t.data.id+"";if(T.extend){var x=T.extend.split(",");a1232.serverchange=-1!=x.indexOf(w)&&!0||!1}}else"game.biz.fullvideo"==T.dataKey?a1232.fullVideoLimit=Number(T.dataVal):"game.biz.newFullvideo"==T.dataKey?a1232.fullVideoLimit2=Number(T.dataVal):"game.biz.fullVideoPassLimit"==T.dataKey?a1232.fullVideoPassLimit=Number(T.dataVal):"game.biz.fullVideoDayPassLimit"==T.dataKey?a1232.fullVideoDayPassLimit=Number(T.dataVal):"game.biz.rewardAdCD"==T.dataKey&&(a1232.rewardAdCD=Number(T.dataVal));if("game.biz.zhengba"==T.dataKey&&T.extend){var C=JSON.parse(T.extend);a1232.zhengbaStartTime=Math.floor(new Date(C.start).getTime()/1e3)||0,a1232.zhengbaEndTime=Math.floor(new Date(C.end).getTime()/1e3)||0,a1232.zhengbaResultTime=Math.floor(new Date(C.result).getTime()/1e3)||0}if("game.biz.active"==T.dataKey&&T.extend){var C=JSON.parse(T.extend);a1232.openYuanTime=C.startTime,a1232.closeYuanTime=C.endTime,a1232.yuandanActive=C["switch"],a1232.openYuanTime&&a1232.closeYuanTime||(a1232.openYuanTime="2019/1/1 00:00:00",a1232.closeYuanTime="2019/1/2 00:00:00")}if("game.biz.adv"==T.dataKey&&T.extend){var C=JSON.parse(T.extend);C&&"boolean"==typeof C.videoSwitch?platform.videoSwitch=C.videoSwitch:platform.videoSwitch=!0,C&&"boolean"==typeof C.bannerSwitch?platform.bannerSwitch=C.bannerSwitch:platform.bannerSwitch=!0,C&&"boolean"==typeof C.inter1Switch?platform.inter1Switch=C.inter1Switch:platform.inter1Switch=!0,C&&"boolean"==typeof C.inter2Switch?platform.inter2Switch=C.inter2Switch:platform.inter2Switch=!0}}}a1232.notAdCD&&(a1232.fullVideoLimit=0,a1232.fullVideoLimit2=0,a1232.fullVideoPassLimit=1e3);var I,D,E,S,G,P,k,M,L,O,B,R,U,F,V,$,N,j,H,z,X,Y,W,q,K,Z,J,Q,te,ee,ie,ae,ne,re,se,oe,le,he,pe,ue,ce,de,ge,fe,me,ve,ye,be,_e,Ae,Te,Ce,we,xe,Ie,De,Ee,Se,Ge,Pe,ke,Me,Le,Oe,Be,Re,Ue,Fe,Ve,$e,Ne,je,He,ze,Xe,Ye,We,qe,Ke,Ze,Je,Qe,ti,ei,ii,ai,ni,ri,si,oi,li,hi=1,pi="",ui=0;if(l&&null!=l.historyScore?a1232.curLevel=l.historyScore||1:a1232.curLevel=1,this.lastCurLevel=a1232.curLevel,this.lastCurLevel2=a1232.curLevel,l&&l.extInfo)try{var ci=JSON.parse(l.extInfo);ci&&(I=Number(ci.guajiTime||0),D=ci.curPlayers,E=ci.playerIDs,Fe=ci.Debris,Ve=ci.wanDebris,hi=Number(ci.maxLevelFood||"1"),j=ci.lastsptime,z=ci.addsptimes,Z=ci.giftTime,pi=ci.guideStep||"0",re=ci.kunshouTimes,se=ci.kunshouVedioTimes,oe=ci.fubenTimes,he=ci.refleshtimes,xe=ci.HangAward,be=ci.fubenVideos,H=ci.lastpantime,Ae=ci.pantimes,Te=ci.taskData,Ce=ci.seevideotimes,we=ci.videotimes,Le=ci.lasttime,Oe=ci.Reserve,Be=ci.Upgrade,Re=ci.giftCounts,$e=ci.adTaskData,ui=Number(ci.giftID||"0"),ve=ci.breakeggTimes,ye=ci.breakeggAS,le=ci.eggprogress,Ne=ci.tujianIDs,He=ci.cheerIDs,je=ci.limitGift,ze=ci.cheerLock,S=ci.hasDaySign,G=ci.collectState,P=ci.signDay,Ie=ci.ewPass,De=ci.ewtimes,_e=ci.ratetimes,X=ci.maxfoodtime,J=ci.growIDs,Y=ci.produce,W=ci.producetime,q=ci.hatchtime,Xe=ci.zhengbaPos,Ye=ci.zhengbaCheer2,K=ci.produceSpeedtimes,pe=ci.newPlayerActivity,ue=ci.zhengbatimes,ce=ci.zhengbavideotimes,de=ci.zhengbaRefleshtimes,We=ci.zhengbatimes2,qe=ci.zhengbavideotimes2,Ke=ci.zhengbaRefleshtimes2,Ee=ci.mustStimes,Se=ci.shouquanTime,k=ci.newBossPass,L=ci.newBossRdPass,M=ci.sysReward,Ue=ci.breakEggState,O=ci.yuandantask4,B=ci.yuandantask_ks,F=ci.yuandanEnterDay4,$=ci.yuanhasget4,N=ci.yuanhasget_ks,Q=ci.choukaScore,te=ci.choukabx,R=ci.jiBanData,Ge=ci.adCount,Pe=ci.changeNameNum,U=ci.starUpLockID,ee=ci.kachikaiqi,ie=ci.skygiftCount,ae=ci.skygiftgetCount,ge=ci.offlinecuotime,fe=ci.offlinetimes,ke=ci.dayPassCount,me=ci.onlinetimes,Me=ci.washcardNum,Ze=ci.onlineAct,Je=ci.videoAct,ti=ci.dayTaskTimes,ei=ci.signActDay,ii=ci.signActFlag,ai=ci.signEwActFlag,ni=ci.longguActTime,ri=ci.seeAdvTimes,si=ci.ksOnlineTime,oi=ci.ksHongBao,Qe=ci.seeAdvTimesArr,V=ci.yuandanEnterDay_ks,li=ci.lgtimes)}catch(s){}else if(a1232.curLevel>1)return void a1228.Main.a2479();if(a1232.giftID=ui,a1232.giftTime=Z||0,a1232.guajiTime=I||a1232.getServerTime(),a1232.lastGuajiTime=a1232.getServerTime(),this.lasttime=Le||a1232.getServerTime(),null!=Ce&&""!==Ce?a1232.seevideotimes=Ce:a1232.seevideotimes=10,null!=ri&&""!==ri?a1232.seeAdvTimes=ri:a1232.seeAdvTimes=0,null!=we&&""!==we?(a1232.spvideotimes=we,a1232.spvideotimes>29&&(a1232.spvideotimes=29)):a1232.spvideotimes=29,null!=Ae&&""!==Ae?a1232.pantimes=Ae:a1232.pantimes=2,j&&j<a1232.getServerTime()+10800?a1232.lastsptime=j:a1232.lastsptime=a1232.getServerTime(),H&&H<a1232.getServerTime()+10800?a1232.lastpantime=H:a1232.lastpantime=a1232.getServerTime(),null!=z&&""!==z?a1232.addsptimes=z:a1232.addsptimes=1,null!=X&&""!==X?a1232.maxfoodtime=X:a1232.maxfoodtime=0,null!=Ge&&""!==Ge?a1232.adCount=Ge:a1232.adCount=0,null!=Pe&&""!==Pe?a1232.changeNameNum=Pe:a1232.changeNameNum=0,null!=Y&&""!==Y?a1232.produce=Y:a1232.produce=[0,0,0,0,0,0],null!=W&&""!==W?("number"==typeof W&&(W=[W,0]),a1232.producetime=W):a1232.producetime=[0,0,0],null!=oi&&""!==oi?a1232.ksHongBao=oi:a1232.ksHongBao=[],null!=q&&""!==q?("number"==typeof q&&(q=[q,0]),a1232.hatchtime=q):a1232.hatchtime=[0,0,0],null!=K&&""!==K?("number"==typeof K&&(K=[K,0]),a1232.produceSpeedtimes=K):a1232.produceSpeedtimes=[0,0],null!=ue&&""!==ue?a1232.zhengbatimes=ue:a1232.zhengbatimes=25,null!=ce&&""!==ce?a1232.zhengbavideotimes=ce:a1232.zhengbavideotimes=0,null!=de&&""!==de?a1232.zhengbaRefleshtimes=de:a1232.zhengbaRefleshtimes=5,null!=We&&""!==We?a1232.zhengbatimes2=We:a1232.zhengbatimes2=25,null!=qe&&""!==qe?a1232.zhengbavideotimes2=qe:a1232.zhengbavideotimes2=0,null!=Ke&&""!==Ke?a1232.zhengbaRefleshtimes2=Ke:a1232.zhengbaRefleshtimes2=5,null!=k&&""!==k?a1232.newBossPass=k:a1232.newBossPass=0,null!=M&&""!==M?a1232.sysReward=M:a1232.sysReward=[],null!=Q&&""!==Q?a1232.choukaScore=Q:a1232.choukaScore=0,null!=te&&""!==te?a1232.choukabx=te:a1232.choukabx=[],null!=Ue&&(a1232.breakEggState=Ue),null!=L&&""!==L?a1232.newBossRdPass=L:a1232.newBossRdPass=[],a1232.yuandanActive)if(null!=O&&""!==O&&Object.keys(O).length>0)a1232.yuandantask4=O;else for(var p in a1228.g_yuandanData){a1232.yuandantask4[p]=[];for(var di=0;di<a1228.g_yuandanData[p].task.length;di++){var gi=[a1228.g_yuandanData[p].task[di],0,0];a1232.yuandantask4[p].push(gi)}}if(null!=B&&""!==B&&Object.keys(B).length>0)a1232.yuandantask_ks=B;else for(var p in a1228.g_yuandanDataks){a1232.yuandantask_ks[p]=[];for(var di=0;di<a1228.g_yuandanDataks[p].task.length;di++){var gi=[a1228.g_yuandanDataks[p].task[di],0,0];a1232.yuandantask_ks[p].push(gi)}}if(F&&null!=F&&""!==F?a1232.yuandanEnterDay4=Number(F):a1232.yuandanEnterDay4=0,V&&null!=V&&""!==V?a1232.yuandanEnterDay_ks=Number(V):a1232.yuandanEnterDay_ks=0,null!=$&&""!==$?a1232.yuanhasget4=$:a1232.yuanhasget4=[],null!=N&&""!==N?a1232.yuanhasget_ks=N:a1232.yuanhasget_ks=[],null!=ee&&""!==ee?a1232.kachikaiqi=ee:a1232.kachikaiqi=!1,null!=ie&&""!==ie?a1232.skygiftCount=ie:a1232.skygiftCount=0,null!=ae&&""!==ae?a1232.skygiftgetCount=ae:a1232.skygiftgetCount=0,null!=ge&&""!==ge?a1232.offlinecuotime=ge:a1232.offlinecuotime=0,null!=fe&&""!==fe?a1232.offlinetimes=fe:a1232.offlinetimes=0,null!=me&&""!==me?a1232.onlinetimes=me:a1232.onlinetimes=0,null!=ke&&""!==ke?a1232.dayPassCount=ke:a1232.dayPassCount=0,null!=R&&""!==R&&Object.keys(R).length>0?a1232.jiBanData=R:a1232.jiBanData={},null!=U&&""!==U&&Object.keys(U).length>0?a1232.starUpLockID=U:a1232.starUpLockID={},null!=Oe&&""!==Oe?a1232.Reserve=Number(Oe):a1232.Reserve=90,null!=Be&&""!==Be?a1232.Upgrade=Number(Be):a1232.Upgrade=85,null!=S?a1232.hasDaySign=Boolean(S):a1232.hasDaySign=!1,null!=P?a1232.signDay=P:a1232.signDay=1,null!=G?a1232.collectState=Boolean(G):a1232.collectState=!1,a1232.subscribe={},t.data.subscribe)for(var p=0;p<t.data.subscribe.length;++p){var fi=t.data.subscribe[p].type,n=t.data.subscribe[p].state;a1232.subscribe[fi]=n}if(Te)try{"string"==typeof Te?a1232.taskData=JSON.parse(Te):a1232.taskData=Te;for(var p=1;11>p;++p)a1232.taskData[p]||(a1232.taskData[p]=[0,0,0])}catch(s){this.a2086()}else this.a2086(),platform.isLocal()&&localStorage.setItem("taskData",JSON.stringify(a1232.taskData));if(pe){a1232.newPlayerActivity=pe;for(var p=NewPlayerActivityType.begin+1;p<NewPlayerActivityType.end;++p)a1232.newPlayerActivity[p]=a1232.newPlayerActivity[p]||[0,0]}else for(var p=NewPlayerActivityType.begin+1;p<NewPlayerActivityType.end;++p)a1232.newPlayerActivity[p]=[0,0];if(a1232.taskData[2]&&(a1232.taskData[2][0]=1),a1232.foodData={},ne)try{a1232.foodData=JSON.parse(ne)}catch(s){}if(a1232.growIDs=[-1,-1,-1,-1],J)try{a1232.growIDs=J}catch(s){}if(a1232.giftCounts=[0,0,0],Re)try{"string"==typeof Re?a1232.giftCounts=JSON.parse(Re):a1232.giftCounts=Re}catch(s){}if(null!=re&&""!==re?a1232.kunshouTimes=Number(re):a1232.kunshouTimes=5,null!=se&&""!==se?a1232.kunshouVedioTimes=Number(se):a1232.kunshouVedioTimes=0,null!=oe&&""!==oe?(a1232.fubenTimes=Number(oe),a1232.fubenTimes>2&&(a1232.fubenTimes=2)):a1232.fubenTimes=2,null!=Ie&&""!==Ie?(a1232.ewPass=Number(Ie),a1232.ewPass>a1232.curLevel&&(a1232.ewPass=a1232.curLevel)):a1232.ewPass=a1232.curLevel,null!=De&&""!==De?a1232.ewtimes=Number(De):a1232.ewtimes=0,null!=Ee&&""!==Ee?a1232.mustStimes=Number(Ee):a1232.mustStimes=0,null==Ee||isNaN(Se)?this.shouquanTime=a1232.getServerTime():this.shouquanTime=Number(Se),null!=Me&&""!==Me?a1232.washcardNum=Number(Me):a1232.washcardNum=0,null!=si&&""!==si?a1232.ksOnlineTime=Number(si):a1232.ksOnlineTime=0,null!=li&&""!==li?a1232.lgtimes=Number(li):a1232.lgtimes=0,null!=Ze)a1232.onlineAct=Ze;else{a1232.onlineAct={};for(var p in a1228.g_onlineGiftData)a1232.onlineAct[p]=0}if(null!=Je&&Object.keys(Je).length>0){a1232.videoAct=Je;for(var p in a1228.g_advGiftData)a1232.videoAct.hasOwnProperty(p)||(a1232.videoAct[p]=0)}else{a1232.videoAct={};for(var p in a1228.g_advGiftData)a1232.videoAct[p]=0}if(null!=Qe&&Object.keys(Qe).length>0){a1232.seeAdvTimesArr=Qe;for(var p in a1228.g_advGiftData)a1232.seeAdvTimesArr.hasOwnProperty(p)||(a1232.seeAdvTimesArr[p]=0)}else{a1232.seeAdvTimesArr={};for(var p in a1228.g_advGiftData)a1232.seeAdvTimesArr[p]=0}if(null!=ti?a1232.dayTaskTimes=ti:a1232.dayTaskTimes=3,null!=ei?a1232.signActDay=ei:a1232.signActDay=1,null!=ii?a1232.signActFlag=ii:a1232.signActFlag=0,null!=ai?a1232.signEwActFlag=ai:a1232.signEwActFlag=0,null!=ni?a1232.longguActTime=ni:a1232.longguActTime=0,null!=he&&""!==he?(a1232.refleshtimes=Number(he),a1232.refleshtimes>3&&(a1232.refleshtimes=3)):a1232.refleshtimes=3,null!=ve&&""!==ve?a1232.breakeggTimes=Number(ve):a1232.breakeggTimes=0,null!=ye&&""!==ye?a1232.breakeggAS=Number(ye):a1232.breakeggAS=0,null!=le&&""!==le?a1232.eggprogress=Number(le):a1232.eggprogress=0,null!=xe&&""!==xe?(a1232.HangAward=Number(xe),a1232.HangAward>10&&(a1232.HangAward=0)):a1232.HangAward=0,null!=be&&""!==be?a1232.fubenVideos=Number(be):a1232.fubenVideos=1,null!=_e&&""!==_e?a1232.ratetimes=Number(_e):a1232.ratetimes=0,a1232.maxLevelFood=hi,a1232.guideStep=Number(pi||0),D)try{"string"==typeof D?a1232.curPlayers=JSON.parse(D):a1232.curPlayers=D}catch(s){}else a1232.curPlayers=[1,0,0];if(a1232.maildata={},l&&l.extAttr)try{var mi=JSON.parse(l.extAttr),vi=mi.maildata;if(vi)try{"string"==typeof vi?a1232.maildata=JSON.parse(vi):a1232.maildata=vi;var yi=1;for(var p in a1232.maildata)if(Number(p)+1>yi&&(yi=Number(p)+1),1==a1232.maildata[p].type)for(var di=0;di<a1232.maildata[p].reward.length;++di)a1232.maildata[p].reward[di][0]>100&&a1232.maildata[p].reward[di][0]<200&&a1232.maildata[p].reward[di][1]>10&&(a1232.maildata[p].reward[di][1]=10);a1232.maildata[0]&&(a1232.maildata[yi]=a1232.maildata[0],delete a1232.maildata[0])}catch(s){}mi.playerIDs&&(E=mi.playerIDs)}catch(s){}if(a1232.playerIDs={},E)try{var bi=E;"string"==typeof E&&(bi=JSON.parse(E));for(var p in bi){var _i=bi[p];a1232.playerIDs[p]=new a1231(Number(p),_i)}}catch(s){}else{var Ai=new a1231(1,[1]),_i=a1228.g_PlayerData[Ai.index];Ai.produceNum=0,Ai.growAdd=[_i.atkAdd,_i.defAdd,_i.hpAdd],a1232.playerIDs={1:Ai}}var Ti=Object.keys(a1232.playerIDs);if(0==Ti.length){var Ai=new a1231(1,[1]),_i=a1228.g_PlayerData[Ai.index];Ai.produceNum=0,Ai.growAdd=[_i.atkAdd,_i.defAdd,_i.hpAdd],a1232.playerIDs={1:Ai}}1==Ti.length&&1==a1232.playerIDs[Ti[0]].level&&a1232.curLevel>=5&&!platform.isLocal()&&(this.notCommit=!0,a1227.getPoint("9999","数据异常",8));for(var p=0;p<a1232.curPlayers.length;++p)a1232.playerIDs[a1232.curPlayers[p]]||(a1232.curPlayers[p]=0);if(0==a1232.curPlayers[0]&&0==a1232.curPlayers[1]&&0==a1232.curPlayers[2]){var Ci=Object.keys(a1232.playerIDs);a1232.curPlayers[0]=Number(Ci[0])}if(Fe)try{"string"==typeof Fe?a1232.Debris=JSON.parse(Fe):a1232.Debris=Fe}catch(s){}else a1232.Debris={};if(Ve)try{"string"==typeof Ve?a1232.wanDebris=JSON.parse(Ve):a1232.wanDebris=Ve}catch(s){}else a1232.wanDebris={};if(Ne)try{"string"==typeof Ne?a1232.tujianIDs=JSON.parse(Ne):a1232.tujianIDs=Ne}catch(s){}else a1232.tujianIDs=[];if(He)try{"string"==typeof He?a1232.cheerIDs=JSON.parse(He):a1232.cheerIDs=He}catch(s){}else a1232.cheerIDs=[[0,0],[0,0]];if(ze)try{"string"==typeof ze?a1232.cheerLock=JSON.parse(ze):a1232.cheerLock=ze}catch(s){}else a1232.cheerLock=[[1,0],[0,0]];if(Xe?a1232.zhengbaPos=Xe:a1232.zhengbaPos=[0,0,0,0,0],Ye){a1232.zhengbaCheer=Ye;for(var p=0;p<a1232.zhengbaCheer.length;p++)a1232.zhengbaCheer[p][0],a1232.zhengbaCheer[p][0]<0&&(a1232.zhengbaCheer[p][0]=0),a1232.zhengbaCheer[p][1]<0&&(a1232.zhengbaCheer[p][1]=0)}else a1232.zhengbaCheer=[[0,0],[0,0],[0,0],[0,0],[0,0]];if(je)try{"string"==typeof je?a1232.limitGift=JSON.parse(je):a1232.limitGift=je}catch(s){}else a1232.limitGift=[0,0,0];if(this.a2077(),$e)try{"string"==typeof $e?a1232.adTaskData=JSON.parse($e):a1232.adTaskData=$e}catch(s){}else a1232.adTaskData={};if(a1232.props={},a1232.curLevel<=1){a1232.props={101:2,102:1};try{localStorage.setItem("foodPos","")}catch(s){}}a1232.diamond=0,a1232.gold=0;var wi={};for(var p in a1228.g_PropsData)Number(p)>=101&&Number(p)<200&&a1232.zuidaLevelFood<a1228.g_PropsData[p].level&&(a1232.zuidaLevelFood=a1228.g_PropsData[p].level);a1228.g_PropsData[1].serverID=2;for(var p in a1228.g_PropsData){var xi=a1228.g_PropsData[p].serverID;wi[xi]=a1228.g_PropsData[p]}if(h&&h.length>0)for(var p=0;p<h.length;++p){var w=h[p].propsId;if(wi[w]&&h[p].num>0){var Ii=wi[w].index;1==Ii?a1232.diamond=Number(h[p].num):2==Ii?a1232.gold=Number(h[p].num):Ii>100&&200>Ii&&(a1232.props[Ii]=h[p].num),this.serverPropdata[Ii]=h[p].id}}if(a1232.guideStep<=8&&a1232.curLevel>2?a1232.guideStep=9:a1232.guideStep<=3&&a1232.curLevel>1&&(a1232.guideStep=4),a1232.guideStep<3&&(a1232.props={101:2,102:1},a1232.guideStep=0),a1232.guideStep<=4){var Di=280;a1232.guideStep>3&&(Di=300),a1232.diamond<Di&&(a1228.a1225.applyFunc(10004,5035,1,Di-a1232.diamond),a1232.diamond=Di)}a1232.initdata=!0,this.a2087("first");var Ei=a1228.a1234.a2574(),Si=a1228.a1226.a2525(100);1==Ei&&Si&&Si.a2391()?(console.log("--------a2573 init"),a1228.a1234.a2573(0)):0==Ei&&(console.log("--------a2573 game"),this.a2038(),this.a2058(),this.a2065()),a1228.a1225.applyFunc(10004,5171);var Gi={gameId:a1232.gameID,trackId:a1232.trackId};if(!platform.isLocal()&&a1232.isShowAd){var Pi={gameAreaId:a1232.gameAreaId,token:a1232.trackId,gameId:a1232.gameID,appid:a1232.appid};a1228.a1247.a2623(a1232.URL_AD_BASE+a1232.URL_AD,egret.URLRequestMethod.POST,Pi,function(t){if(t&&t.data){for(var e=t.data.length,i=0;e>i;++i){var a=t.data[i].position;a1232.thirdAdSlot[a]=t.data[i].id,a1232.adList[a]=t.data[i].apps||[];for(var n=0;n<a1232.adList[a].length;++n)a1232.adList[a][n].pos=a}var r=(a1228.a1226.a2525(102),a1228.a1226.a2525(172));r&&r.a2107()}},null)}setTimeout(function(){a1228.a1247.a2623(a1232.URL_PK_REWARD,egret.URLRequestMethod.POST,Gi,function(t){if(t&&t.data){for(var e=[],i=t.data,a=0;a<t.data.length;++a)t.data[a]&&0==t.data[a].state&&e.push(t.data[a].id);if(e.length>0){var n={ids:e,gameId:a1232.gameID,trackId:a1232.trackId};a1228.a1247.a2623(a1232.URL_PK_GET_REWARD,egret.URLRequestMethod.POST,n,function(t){if(t&&0==t.status)for(var a=0;a<i.length;++a)if(i[a]&&0==i[a].state){e.push(i[a].id);var n=[];if(i[a].awardInfo)for(var r=JSON.parse(i[a].awardInfo),s=0;s<r.length;++s)n.push([r[s].props,r[s].num]);a1228.a1245.a2616(2,n,"",i[a].createTime)}},null)}}},null)},3e3),a1228.a1247.a2623(a1232.URL_NOTICE,egret.URLRequestMethod.POST,Gi,function(t){if(t&&t.data){var i=[],a={};for(var n in a1228.g_PropsData){var r=a1228.g_PropsData[n].serverID;a[r]=a1228.g_PropsData[n]}for(var n=0;n<t.data.length;++n)if(2!=t.data[n].type){var s=t.data[n].annexInfo,o=[];if(s){s=JSON.parse(s);for(var l=0;l<s.length;++l){var h=s[l].propsId;if(a[h]){var p=a[h].index;o.push([p,s[l].num])}}}i.push({id:t.data[n].id,title:langue.systemNotice,content:t.data[n].content,Time:a1232.getServerTime(),reward:o})}i.length>0&&e.a2070(i)}},null),"qqgame"==platform.name&&setTimeout(function(){e.reqGiftList()},500)},e.prototype.reqGiftList=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId};a1228.a1247.a2623(a1232.URL_GIFT_LIST,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=[],a={};for(var n in a1228.g_PropsData){var r=a1228.g_PropsData[n].serverID;a[r]=a1228.g_PropsData[n]}for(var n=0;n<e.data.length;++n)if(2!=e.data[n].type){var s=e.data[n].annex,o=[];if(s){s=JSON.parse(s);for(var l=0;l<s.jp.length;++l){var h=s.jp[l].propsId;if(a[h]){var p=a[h].index;o.push([p,s.jp[l].num])}}i.push({type:"gift",id:e.data[n].id,title:langue.systemGift,content:s.title,Time:a1232.getServerTime(),reward:o})}}i.length>0&&t.a2070(i)}},null)},e.prototype.a2077=function(){for(var t={},e=0;e<a1232.tujianIDs.length;++e)t[a1232.tujianIDs[e]]=1;a1232.jiBanData||(a1232.jiBanData={});for(var e in a1228.g_jibanData)for(var i in a1228.g_jibanData[e])a1232.jiBanData[e]||(a1232.jiBanData[e]={1:0,2:0,3:0,4:0}),a1232.jiBanData[e][i]||(a1232.jiBanData[e][i]=[0,0]);for(var e in a1228.g_PlayerData)a1232.jiBanData[e]||(a1232.jiBanData[e]={1:0,2:0,3:0,4:0});for(var e in a1232.playerIDs){for(var a=a1232.playerIDs[e],n=a.index,r=a.jinhua,s=a.star,o=a.bianyi,i=1;r+1>=i;++i)t[10*n+i]=1;s>=4?t[10*n+5]=1:s>=2&&(t[10*n+4]=1),o&&(0==r?t[10*n+7]=1:t[10*n+6]=1),o?s>a1232.jiBanData[n][2]&&(a1232.jiBanData[n][2]=s):s>a1232.jiBanData[n][1]&&(a1232.jiBanData[n][1]=s),o?a1232.jiBanData[n][3]=o:a1232.jiBanData[n][4]=1}a1232.tujianIDs=[];for(var e in t)a1232.tujianIDs.push(Number(e))},e.prototype.a2078=function(t){if(a1232.taskData[t][0]+=1,a1232.isOpenNewPlayerActS&&8==t){var e=a1232.newPlayerActivity[NewPlayerActivityType.online];e[0]<1e4&&(e[0]+=1)}a1232.isOpenNewPlayerActA&&3==t&&a1232.newPlayerActivity[NewPlayerActivityType.fuhua][0]<1e3&&(a1232.newPlayerActivity[NewPlayerActivityType.fuhua][0]+=1),a1228.a1225.applyFunc(10004,5048),a1228.a1225.applyFunc(10004,5041)},e.prototype.addTaskTimes1=function(t){},e.prototype.addyuandanTaskTimes=function(t){var e=a1228.a1230.getYaunActiveDay();if(e>=1&&3>=e)for(var i=0;i<a1232.yuandantask4[e].length;i++)if(a1232.yuandantask4[e][i][0]==t){a1232.yuandantask4[e][i][1]+=1;break}a1228.a1225.applyFunc(10004,5042)},e.prototype.addyuandanTaskTimes_ks=function(t){var e=a1228.a1230.getYaunActiveDay_ks();if(e>=1&&3>=e)for(var i=0;i<a1232.yuandantask_ks[e].length;i++)if(a1232.yuandantask_ks[e][i][0]==t){a1232.yuandantask_ks[e][i][1]+=1;break}a1228.a1225.applyFunc(10004,5042)},e.prototype.a2079=function(t,e,i){void 0===i&&(i=!0);var a=a1232.playerIDs[t];if(a){var n=a.level,r=a1228.g_LvExpData[n];a.exp+=e,a1228.a1245.a2612(langue.chengzhangchi+"+"+a1232.priceFormat(e,!0));var s=a1228.a1226.a2525(102);if(s){var o=s.actorMgr.a2501(t,1);if(o){o.lastLv=n,o.addexp=!0;var l=o.a1871();l.scaleX=l.scaleX2,l.scaleY=l.scaleY2,egret.Tween.get(l).to({scaleX:1.2*l.scaleX2,scaleY:1.2*l.scaleY2},100).to({scaleX:l.scaleX2,scaleY:l.scaleY2},100).call(function(){s.a2235(o)})}if(r&&r.exp){for(var h=!1;a.exp>=r.exp&&(a.level+=1,a.exp-=r.exp,r=a1228.g_LvExpData[a.level],h=!0,r.exp););var p=a.level-n;h&&(a1228.a1225.applyFunc(10004,5052,[t]),a1232.taskData[7][0]+=p-1,a1228.a1225.applyFunc(10004,5044,7),i&&(a1228.a1252.doTimer(300,1,function(){a1228.a1238.playEffect("DinoUpgrade_mp3")},this),a1228.a1252.doTimer(400,1,function(){a1228.a1225.applyFunc(10004,5101,a,n,1)},this)))}}var u=a1228.a1226.a2525(102);if(u){var c=u.actorMgr.a2501(t,1);c&&c.a1862(a,r.exp)}a1228.a1225.applyFunc(10004,5041)}},e.prototype.a2080=function(t,e,i,a,n,r,s){if(void 0===i&&(i=113),void 0===a&&(a=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===s&&(s=""),1==t?a1232.diamond+=e:2==t&&(a1232.gold+=e),a1228.a1225.applyFunc(10004,5078),a){var o=a1228.a1226.a2525(101);o&&o.a2245();var l=a1228.a1226.a2525(102);l&&l.a2245()}if(r&&this.a2083(t,Math.abs(e),e>0,i,s),n){var o=a1228.a1226.a2525(101),h=a1228.a1226.a2525(102);e>0&&(o?1==t?o.a2260(a1220.UI_Main_UP):2==t&&(113==i||100==i||o.BoneAnim(a1220.UI_Main_UP)):1==t?h&&h.a2260(a1220.UI_Main_UP):2==t&&(113==i||100==i||h&&h.BoneAnim(a1220.UI_Main_UP)))}},e.prototype.a2081=function(t,e,i,a,n,r,s,o){if(void 0===i&&(i=0),void 0===a&&(a=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=""),1==t||2==t)this.a2080(t,e,i,n,r,s,o);else if(t>100&&200>t){e>10&&(e=10),a1232.props[t]||(a1232.props[t]=0);var l=a1232.getFoodNum();if(l+e>15&&e>0){if(15>l){this.a2081(t,15-l,i,a,n,r,s);var h=[[t,e-(15-l)]];return void a1228.a1245.a2616(1,h)}var p=[[t,e]];a1228.a1245.a2616(1,p)}else a1232.props[t]+=e,a1232.props[t]<0&&(a1232.props[t]=0),s&&this.a2083(t,Math.abs(e),e>0,i),platform.isLocal()&&localStorage.setItem("props",""+JSON.stringify(a1232.props)),a&&a1228.a1225.applyFunc(10004,5039,t,e)}else if(t>200&&300>t)this.debris_amend(t,e);else if(t>300&&400>t)this.wandebris_amend(t,e);else if(401==t){a1232.washcardNum+=e,a1228.a1225.applyFunc(10004,5041);var u={trackId:a1232.trackId,gameId:a1232.gameID,property:""+t,type:134,num:Math.abs(e),water:0>e?1:0};a1228.a1247.a2623(a1232.URL_DINO_LOG,egret.URLRequestMethod.POST,u,null,null)}if(n){var c=(a1228.a1226.a2525(127),a1228.a1226.a2525(102));c&&c.a2245();var d=a1228.a1226.a2525(101);d&&d.a2245()}},e.prototype.a2082=function(t){for(var e={},i=0;i<t.length;++i){var a=t[i];a1232.playerIDs[a]?e[a]=a1232.playerIDs[a].a2564():(e[a]=0,a1232.starUpLockID[a]&&delete a1232.starUpLockID[a])}var n={trackId:a1232.trackId,gameId:a1232.gameID,property:JSON.stringify(e)};a1228.a1225.applyFunc(10004,5041),a1228.a1247.a2623(a1232.URL_DINO_LOG,egret.URLRequestMethod.POST,n,null,null)},e.prototype.wandebris_amend=function(t,e){null==a1232.wanDebris[t]&&(a1232.wanDebris[t]=0),a1232.wanDebris[t]+=e,a1232.wanDebris[t]<=0&&delete a1232.wanDebris[t];var i={trackId:a1232.trackId,gameId:a1232.gameID,property:""+t,type:14,num:Math.abs(e),water:0>e?1:0};a1228.a1247.a2623(a1232.URL_DINO_LOG,egret.URLRequestMethod.POST,i,null,null),platform.isLocal()&&localStorage.setItem("wanDebris",""+JSON.stringify(a1232.wanDebris)),a1228.a1225.applyFunc(10004,5041)},e.prototype.debris_amend=function(t,e){null==a1232.Debris[t]&&(a1232.Debris[t]=0),a1232.Debris[t]+=e,a1232.Debris[t]<=0&&delete a1232.Debris[t];var i={trackId:a1232.trackId,gameId:a1232.gameID,property:""+t,type:14,num:Math.abs(e),water:0>e?1:0};a1228.a1247.a2623(a1232.URL_DINO_LOG,egret.URLRequestMethod.POST,i,null,null),platform.isLocal()&&localStorage.setItem("Debris",""+JSON.stringify(a1232.Debris)),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2083=function(t,e,i,a,n){var r=this;if(void 0===n&&(n=""),!(0>=e||isNaN(e))&&a1228.g_PropsData&&!(t>100&&200>t&&a1232.guideStep<=3)){var s={trackId:a1232.trackId,gameId:a1232.gameID,id:this.serverPropdata[t],propsId:a1228.g_PropsData[t].serverID,num:a1228.a1230.a2563(e),water:!i&&1||0,news:1,type:a||0};""!=n&&(s.appId=n),a1228.a1247.a2623(a1232.URL_USE_PROPS,egret.URLRequestMethod.POST,s,function(e){e&&0==e.status&&!isNaN(e.data)&&(r.serverPropdata[t]=e.data)},null)}},e.prototype.buyProps=function(t,e,i,a,n,r){var s=this;if(void 0===n&&(n=!0),void 0===r&&(r=null),1==i)a1232.diamond-=a*e;else if(2==i)a1232.gold-=a*e;else{if(!(i>100&&200>i&&a1232.props[i]>=a*e))return r&&r(!1),void console.warn("---buyProps id错误");if(a1232.props[i]-=a*e,a1232.guideStep<=3)return r&&r(!1),a1232.props[t]||(a1232.props[t]=0),a1232.props[t]+=e,void(n&&a1228.a1225.applyFunc(10004,5039,t,e))}if(1==t)a1232.diamond+=e;else if(2==t)a1232.gold+=e;else{if(!(t>100&&200>t))return r&&r(!1),void console.warn("---buyProps id错误");a1232.props[t]||(a1232.props[t]=0),a1232.props[t]+=e,n&&a1228.a1225.applyFunc(10004,5039,t,e)}if(platform.isLocal()&&localStorage.setItem("props",""+JSON.stringify(a1232.props)),this.serverPropdata[i]){var o={trackId:a1232.trackId,gameId:a1232.gameID,propsId:a1228.g_PropsData[t].serverID,num:a1228.a1230.a2563(e),payNum:a,ppid:this.serverPropdata[i],news:1};a1228.a1247.a2623(a1232.URL_BUY_PROPS,egret.URLRequestMethod.POST,o,function(e){e&&0==e.status&&!isNaN(e.data)?(s.serverPropdata[t]=e.data,r&&r(!0)):r&&r(!1)},function(){r&&r(!1)});var l=(a1228.a1226.a2525(127),a1228.a1226.a2525(102));l&&l.a2245();var h=a1228.a1226.a2525(101);h&&h.a2245()}},e.prototype.a2084=function(t){var e=this;if(this.postConfigDataID){egret.clearTimeout(this.postConfigDataID),this.postConfigDataID=null;var i=a1232.getServerTime();this.postConfigDataTime||(this.postConfigDataTime=i),i-this.postConfigDataTime>=2&&(this.postConfigDataTime=i,this.a2087())}this.postConfigDataID=egret.setTimeout(function(){e.postConfigDataID=null,e.postConfigDataTime=a1232.getServerTime(),e.a2087(t)},this,500)},e.prototype.a2085=function(){var t=a1232.getServerTime(),e=new Date(1e3*t),i=new Date(1e3*this.lasttime),a=this.lasttime,n=e.getDay(),r=i.getDay();if(r>n&&(n+=7),n!=r||t-a>86400){a1232.kunshouTimes=5,a1232.kunshouVedioTimes=0,a1232.fubenTimes=2,a1232.refleshtimes=3,a1232.HangAward=0,a1232.fubenVideos=1,a1232.seevideotimes=10,a1232.spvideotimes=34,a1232.addsptimes=1,a1232.breakeggTimes=0,a1232.breakeggAS=0,t-this.lasttime>432e3&&(a1232.zhengbatimes=25,a1232.zhengbatimes2=25),a1232.zhengbavideotimes=0,a1232.zhengbaRefleshtimes=5,this.lasttime=t,a1232.hasDaySign&&(a1232.signDay+=1),a1232.hasDaySign=!1,a1232.limitGift=[0,0,0],a1232.giftCounts=[0,0,0],a1232.dayPassCount=0,this.a2086(),a1232.ksOnlineTime=0,a1232.ksHongBao=[],a1232.onlineAct={};
for(var s in a1228.g_onlineGiftData)a1232.onlineAct[s]=0;return a1232.dayTaskTimes=3,!a1232.signActFlag||n-r>=2||t-a>172800?(a1232.signActDay=1,a1232.signEwActFlag=0):a1232.signActDay<7?a1232.signActDay+=1:7==a1232.signActDay&&a1232.signEwActFlag&&(a1232.signActDay=1,a1232.signEwActFlag=0),a1232.signActFlag=0,a1232.adListData={},localStorage.setItem("adListData",JSON.stringify(a1232.adListData)),a1232.adTaskData={},a1232.adCount=0,!0}return!1},e.prototype.a2086=function(){a1232.taskData={};for(var t=1;11>t;++t)a1232.taskData[t]=[0,0,0];for(var e=5,t=0;e>t;++t){for(var i=Math.floor(10*Math.random())+1,a=0;(a1232.taskData[i][2]||!a1228.g_TaskData[i].limit)&&(i=Math.floor(10*Math.random())+1,a++,!(a>100)););a1232.taskData[i][2]=1}},e.prototype.a1387=function(){var t={curPlayers:a1232.curPlayers,guajiTime:30*Math.floor(a1232.guajiTime/30),maxLevelFood:a1232.maxLevelFood,giftID:a1232.giftID,giftTime:a1232.giftTime,guideStep:a1232.guideStep,kunshouTimes:a1232.kunshouTimes,kunshouVedioTimes:a1232.kunshouVedioTimes,fubenTimes:a1232.fubenTimes,refleshtimes:a1232.refleshtimes,HangAward:a1232.HangAward,fubenVideos:a1232.fubenVideos,addsptimes:a1232.addsptimes,pantimes:a1232.pantimes,lastpantime:a1232.lastpantime,seevideotimes:a1232.seevideotimes,videotimes:a1232.spvideotimes,lasttime:30*Math.floor(a1232.getServerTime()/30),taskData:a1232.taskData,Upgrade:a1232.Upgrade,Reserve:a1232.Reserve,giftCounts:a1232.giftCounts,Debris:a1232.Debris,wanDebris:a1232.wanDebris,tujianIDs:a1232.tujianIDs,cheerIDs:a1232.cheerIDs,limitGift:a1232.limitGift,cheerLock:a1232.cheerLock,adTaskData:a1232.adTaskData,breakeggTimes:a1232.breakeggTimes,breakeggAS:a1232.breakeggAS,eggprogress:a1232.eggprogress,hasDaySign:a1232.hasDaySign&&"1"||"",collectState:a1232.collectState&&"1"||"",signDay:a1232.signDay,ewPass:a1232.ewPass,ewtimes:a1232.ewtimes,ratetimes:a1232.ratetimes,maxfoodtime:a1232.maxfoodtime,zhengbaPos:a1232.zhengbaPos,zhengbaCheer2:a1232.zhengbaCheer,growIDs:a1232.growIDs,produce:a1232.produce,producetime:a1232.producetime,hatchtime:a1232.hatchtime,produceSpeedtimes:a1232.produceSpeedtimes,newPlayerActivity:a1232.newPlayerActivity,zhengbatimes:a1232.zhengbatimes,zhengbavideotimes:a1232.zhengbavideotimes,zhengbaRefleshtimes:a1232.zhengbaRefleshtimes,zhengbatimes2:a1232.zhengbatimes2,zhengbavideotimes2:a1232.zhengbavideotimes2,zhengbaRefleshtimes2:a1232.zhengbaRefleshtimes2,mustStimes:a1232.mustStimes,shouquanTime:this.shouquanTime,newBossPass:a1232.newBossPass,newBossRdPass:a1232.newBossRdPass,sysReward:a1232.sysReward,breakEggState:a1232.breakEggState,yuandantask4:a1232.yuandantask4,yuandantask_ks:a1232.yuandantask_ks,yuandanEnterDay4:a1232.yuandanEnterDay4,yuanhasget4:a1232.yuanhasget4,yuanhasget_ks:a1232.yuanhasget_ks,choukaScore:a1232.choukaScore,choukabx:a1232.choukabx,jiBanData:a1232.jiBanData,adCount:a1232.adCount,changeNameNum:a1232.changeNameNum,starUpLockID:a1232.starUpLockID,kachikaiqi:a1232.kachikaiqi,skygiftCount:a1232.skygiftCount,skygiftgetCount:a1232.skygiftgetCount,offlinecuotime:a1232.offlinecuotime,offlinetimes:a1232.offlinetimes,dayPassCount:a1232.dayPassCount,onlinetimes:a1232.onlinetimes,washcardNum:a1232.washcardNum,onlineAct:a1232.onlineAct,videoAct:a1232.videoAct,dayTaskTimes:a1232.dayTaskTimes,signActDay:a1232.signActDay,signActFlag:a1232.signActFlag,signEwActFlag:a1232.signEwActFlag,longguActTime:a1232.longguActTime,seeAdvTimes:a1232.seeAdvTimes,ksOnlineTime:a1232.ksOnlineTime,ksHongBao:a1232.ksHongBao,seeAdvTimesArr:a1232.seeAdvTimesArr,yuandanEnterDay_ks:a1232.yuandanEnterDay_ks,lgtimes:a1232.lgtimes},e={};for(var i in a1232.playerIDs)e[i]=a1232.playerIDs[i].a2564();var a={maildata:a1232.maildata,playerIDs:e};return{extAttr:a,extInfo:t}},e.prototype.postConfigData3=function(t){var e=this;this.postConfigDataID2&&(egret.clearTimeout(this.postConfigDataID2),this.postConfigDataID2=null),this.postConfigDataID2=egret.setTimeout(function(){e.postConfigDataID2=null,e.a2087(t)},this,20)},e.prototype.a2087=function(t){var e=this;if(void 0===t&&(t=""),!(!a1232.initdata||a1232.curLevel<=1||this.notCommit)){var i=this.a2085();if("first"!=t||i){for(var a,n=0,r=Object.keys(a1232.playerIDs),s=0;s<r.length;++s){var o=a1232.playerIDs[r[s]].level;o||(o=1),o>n&&(n=o)}var l=this.a1387(),h=l.extAttr.playerIDs,p=JSON.stringify(h),u=p!=this.playerIDStr;if(u){var c=a1228.a1226.a2525(102);c&&(c.dinosaurChange=!0),this.a2077(),l=this.a1387(),h=l.extAttr.playerIDs,p=JSON.stringify(h)}this.playerIDStr=p;var d=JSON.stringify(l.extInfo);if(a={pgid:a1232.pgid,gameId:a1232.gameID,trackId:a1232.trackId,historyScore:a1232.curLevel,historyPass:n,extInfo:d},a.extAttr=JSON.stringify(l.extAttr),(!this.lastPostData||this.lastPostData.historyScore!=a.historyScore||this.lastPostData.extInfo!=a.extInfo||this.lastPostData.extAttr!=a.extAttr)&&0!=Object.keys(h).length){for(var s=0;s<a1232.curPlayers.length;++s){var g=a1232.curPlayers[s];if(g&&!h[g])return}if(a.s=a1248.md5(a1232.openid+a.extAttr+a.extInfo),this.lastPostData=a,a1232.curLevel>=this.lastCurLevel2||a1232.isDebug){var f=a1232.curLevel;a1228.a1247.a2623(a1232.URL_UPDATE_CONFIG,egret.URLRequestMethod.POST,a,function(t){e.lastCurLevel2=f,a1232.commitDinosaurIDs={};for(var i in h)a1232.commitDinosaurIDs[i]=1},null)}if(!platform.isLocal()&&this.lastCurLevel<a1232.curLevel){this.lastCurLevel=a1232.curLevel;try{platform.setUserCloudStorage([{key:"score",value:a1232.curLevel+""}])}catch(m){}}else platform.isLocal()}}}},e.prototype.a2088=function(t){var e=t.userInfo;a1232.userInfo=e},e.prototype.a2089=function(t,e){var i={gameId:a1232.gameID,trackId:a1232.trackId,type:t,state:e};a1228.a1247.a2623(a1232.URL_SUBSCRIBE,egret.URLRequestMethod.POST,i,function(t){},null)},e}(a1113);__reflect(a1123.prototype,"a1123");var a1124=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(a1114);__reflect(a1124.prototype,"a1124");var a1125=function(t){function e(e){var i=t.call(this)||this;return i.isCreateActor=!1,i.loginModel=e,i._repeat=10,i}return __extends(e,t),e}(BaseProxy);__reflect(a1125.prototype,"a1125");var a1126=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.zbisGo=!1,a.zbisGo2=!1,a._skin=a1243.activitySkin,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.dinosaurMatchBtn2.scaleY=0,this.event(),this.a2096(),this.reflshUI(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),a1228.a1230.a2557(!0,this.group),this.a2090(),setTimeout(function(){t.a2097()},300),this.eggLabels.text=a1228.a1230.formatEnglish(langue.skin_s2,this.eggLabels),this.daysLabel.text=a1228.a1230.formatEnglish(langue.skin_s3,this.daysLabel)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.breakEggBtn,egret.TouchEvent.TOUCH_TAP,this.a2093,!1),a1251.a1412(this,this.DaysAwardBtn,egret.TouchEvent.TOUCH_TAP,this.a2094,!1),a1251.a1412(this,this.dinosaurMatchBtn,egret.TouchEvent.TOUCH_TAP,this.a2091,!1),a1251.a1412(this,this.dinosaurMatchBtn2,egret.TouchEvent.TOUCH_TAP,this.onDinosaurMatch2,!1),this._controller.a1916(5181,this.a2096,this),this._controller.a1916(5183,this.a2096,this),this._controller.a1916(5179,this.a2096,this),this._controller.a1916(5215,this.a2096,this),this._controller.a1916(5229,this.a2096,this)},e.prototype.onClickGiftActive=function(){a1228.a1225.applyFunc(10004,5307)},e.prototype.reflshUI=function(){a1232.zhengbaStartTime&&a1232.zhengbaEndTime&&(this.zhengbaTimeLabel.text="开启时间:"+a1228.a1240.a2604(a1232.zhengbaStartTime),this.zhengbaTimeLabel.size=20),a1232.zhengbaStartTime2&&a1232.zhengbaEndTime2?(this.zhengbaTimeLabel2.text="开启时间:"+a1228.a1240.a2604(a1232.zhengbaStartTime2),this.zhengbaTimeLabel2.size=20):this.zhengbaTimeLabel2.text="暂未开启",this.reflshTimes(),a1232.zhengbaFitOpen2?this.dinosaurMatchBtn2.scaleY=1:this.dinosaurMatchBtn2.scaleY=0},e.prototype.reflshTimes=function(){},e.prototype.onClickSongLong=function(){a1228.a1225.applyFunc(10004,5270)},e.prototype.onClickSongLong1=function(){a1228.a1225.applyFunc(10004,5315)},e.prototype.onClickSkyGift=function(){a1228.a1225.applyFunc(10004,5288)},e.prototype.onClickKaChi=function(){a1228.a1225.applyFunc(10004,5286)},e.prototype.a2091=function(){return a1232.curLevel<=a1232.zhengbaOpenLevel?void a1228.a1245.a2612(langueOfvalue(langue.passOpen2,a1228.g_Monster[a1232.zhengbaOpenLevel].passName)):void a1228.a1225.applyFunc(10004,5212)},e.prototype.onDinosaurMatch2=function(){return a1232.curLevel<=a1232.zhengbaOpenLevel2?void a1228.a1245.a2612(langueOfvalue(langue.passOpen2,a1228.g_Monster[a1232.zhengbaOpenLevel2].passName)):void a1228.a1225.applyFunc(10004,5212,!0)},e.prototype.a2092=function(){a1228.a1225.applyFunc(10004,5180)},e.prototype.a2093=function(){a1232.curLevel>9?a1228.a1225.applyFunc(10004,5176):a1228.a1245.a2612(langueOfvalue(langue.passOpen,9))},e.prototype.a2094=function(){a1228.a1225.applyFunc(10004,5182)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5050),a1228.a1230.a2557(!1,this.group,5177)},e.prototype.a2096=function(){a1232.curLevel>9?(a1232.breakeggTimes>=0&&!a1232.breakeggAS?this.eggredImg.visible=!0:this.eggredImg.visible=!1,this.breakEggBtn.visible=!0,this.breakEggBtn.height=217):(this.breakEggBtn.visible=!1,this.breakEggBtn.height=0),a1232.curLevel>9?(a1232.hasDaySign?this.SingHint_Image.visible=!1:this.SingHint_Image.visible=!0,a1232.signDay>7||7==a1232.signDay&&a1232.hasDaySign?(this.DaysAwardBtn.visible=!1,this.DaysAwardBtn.height=0):(this.DaysAwardBtn.visible=!0,this.DaysAwardBtn.height=217)):(this.DaysAwardBtn.visible=!1,this.DaysAwardBtn.height=0,this.SingHint_Image.visible=!1);var t=a1228.a1226.a2525(102);t&&(t.a2269(this.matchredImg),t.isGet9(this.matchredImg2))},e.prototype.a2097=function(){var t=this;if(14==a1232.guideStep&&a1232.curLevel>9){var e=this.breakEggBtn.a1263(0,0),i=e.x-this.x,a=e.y-this.y;a1228.a1233.a2572(this,584,217,i,a,function(){t.a2093(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1152","结束砸蛋引导",7)}),a1228.a1233.a2565(this,i+270,a+100)}},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),a1228.a1245.closeBanner(),this._controller.a1917(5181,this.a2096,this),this._controller.a1917(5183,this.a2096,this),this._controller.a1917(5179,this.a2096,this),this._controller.a1917(5215,this.a2096,this),this._controller.a1917(5229,this.a2096,this),t.prototype.close.call(this)},e}(a1116);__reflect(a1126.prototype,"a1126");var a1127=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.beishu=100,n.isGame=!1,n._skin=a1243.addSpeedSkin,n.isGame=a,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),a1228.a1252.removeAll(this),this.a2090(),a1228.a1230.a2557(!0,this.tipsGroup),this.beishu=a1228.g_Monster[a1232.curLevel].addspnum,this.a2098(),this.shouyiGroup.visible=!1,this.tipsGroup.visible=!0;var e=this.a2102();if(this.beiLabel.text=langueOfvalue(langue.addSpeed,a1232.priceFormat(e,!0)),a1232.addsptimes>0?(this.advGroup1.visible=!1,this.advGroup2.visible=!0):(this.advGroup1.visible=!0,this.advGroup2.visible=!1),setTimeout(function(){if(6==a1232.guideStep){var e=t.getBtn.a1263(0,0),i=e.x-(t.x-t.anchorOffsetX),a=e.y-(t.y-t.anchorOffsetY);a1228.a1233.a2572(t,200,76,i,a,function(){a1228.a1233.a2570(),t.a2100(),a1227.getPoint("1019","引导点击加速",7)}),a1228.a1233.a2565(t,i+80,a+35)}},500),"ios"==platform.name||"android_qudao"==platform.name){var i=a1232.addsptimes+a1232.spvideotimes;0>i&&(i=0),this.timesLabel.text="剩余"+i+"次",this.closeBtn.visible=!1,this.closeBtn2.visible=!1,setTimeout(function(){t.closeBtn2.visible=!0},500)}else this.closeBtn.visible=!0,this.closeBtn2.visible=!1,this.timesLabel.text="";platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[101])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?this.isGame||a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2098=function(){var t=a1228.a1226.a2525(102);t&&(a1232.addsptimes>0?t.speed_Image.visible=!0:t.speed_Image.visible=!1)},e.prototype.a2099=function(){var t=this;this.shouyiGroup.visible=!0,this.tipsGroup.visible=!1;for(var e=egret.Tween.get(this.boLabel),i=30,a=function(a){e=e.wait(50).call(function(){t.boLabel.text=Math.floor(t.beishu/i*(i+1-a))+""})},n=i;n>=1;n--)a(n);var r=egret.Tween.get(this.coinLabel),s=this.a2102();i>s&&(i=s);for(var o=function(e){r=r.wait(50).call(function(){t.coinLabel.text=Math.floor(s/i*(i+1-e))+"",1==e&&(t.coinLabel.text=a1232.priceFormat(s,!0))})},n=i;n>=1;n--)o(n);setTimeout(function(){if(6==a1232.guideStep){var e=t.zjgetBtn.a1263(0,0),i=e.x-(t.x-t.anchorOffsetX),a=e.y-(t.y-t.anchorOffsetY);a1228.a1233.a2572(t,200,76,i,a,function(){t.onGet1(),a1227.getPoint("1020","引导加速直接领取",7)}),a1228.a1233.a2565(t,i+75,a+40)}},100),this.showBtn_X2()},e.prototype.showBtn_X2=function(){if(6==a1232.guideStep)this.ebgetBtn.scaleX=0,this.ebgetBtn.visible=!1;else{var t=100*Math.random();t>=0&&19>=t?(this.ebgetBtn.scaleX=1,this.ebgetBtn.visible=!0):(this.ebgetBtn.scaleX=0,this.ebgetBtn.visible=!1)}},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.closeBtn2,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.zjgetBtn,egret.TouchEvent.TOUCH_TAP,this.onGet1),a1251.a1412(this,this.ebgetBtn,egret.TouchEvent.TOUCH_TAP,this.onGet2),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2100,!1)},e.prototype.a2100=function(){var t=this;if(a1232.addsptimes>0)this.a2099();else if(a1232.spvideotimes>0)if(6!=a1232.guideStep){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["101","加速看视频"])}else this.handleFunc();else a1228.a1245.a2612(langue.addSpeedMax)},e.prototype.handleFunc=function(){this.a2099(),a1232.spvideotimes>0&&(a1232.spvideotimes-=1),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2102=function(){a1232.curLevel<=0&&(a1232.curLevel=1);var t=a1232.curLevel,e=a1228.g_Monster[t].reward[0][1]*this.beishu;return e},e.prototype.onGet1=function(){this.handleFunc1(1)},e.prototype.onGet2=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc1(2)},e,["144","加速双倍领取"])},e.prototype.handleFunc1=function(t){a1232.addsptimes>0&&6!=a1232.guideStep&&(a1232.addsptimes-=1),6==a1232.guideStep&&a1228.a1233.a2571(a1232.guideStep);var e=this.a2102()*t;a1228.a1245.a2612(langue.addspsuccess+a1232.priceFormat(e,!0)),a1228.a1225.applyFunc(10004,5035,2,e,101),a1228.a1225.applyFunc(10004,5044,5),a1228.a1225.applyFunc(10004,5045,3),a1228.a1225.applyFunc(10004,5118),a1228.a1225.applyFunc(10004,5046,1),a1228.a1225.applyFunc(10004,5047,2),a1228.a1225.applyFunc(10004,5042),this.a2098(),a1228.a1238.playEffect("addSpeed_mp3")},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.tipsGroup,5118)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1127.prototype,"a1127");var a1128=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t=this;if(this.width=100,this.height=146,1!=this.data.pos||this.adName||(this.adName=new eui.Label,this.adName.horizontalCenter=0,this.adName.size=22,this.adName.y=130,this.adName.cacheAsBitmap=!0,this.addChild(this.adName)),this.initFlag||(this.initFlag=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a2104,this)),this.data.AppName&&this.adName&&(this.adName.text=this.data.AppName),1==this.data.pos&&this.data.label?(this.tipImg||(this.tipImg=new eui.Image,this.tipImg.x=55,this.tipImg.y=0,this.addChildAt(this.tipImg,0)),1==this.data.label?(this.tipImg.visible=!0,this.tipImg.source="adxp_png"):2==this.data.label?(this.tipImg.visible=!0,this.tipImg.source="adbq_png"):this.tipImg.visible=!1):this.tipImg&&(this.tipImg.visible=!1),this.lastIcon!=this.data.icon){this.lastIcon=this.data.icon;var e=new egret.ImageLoader;egret.ImageLoader.crossOrigin="anonymous",e.addEventListener(egret.Event.COMPLETE,function(i){if(e.data){var a=new egret.Texture;if(a._setBitmapData(e.data),t.headIcons)t.addChildAt(t.headIcons,0),t.headIcons.texture=a;else{var n=new egret.Bitmap(a);n.width=100,n.height=100,n.x=0,n.y=18,t.headIcons=n,t.addChildAt(n,0)}}},this),e.load(this.data.icon)}},e.prototype.a2104=function(){var t=this;if(a1232.isShowSDKAd){var e=this.data.to_channel;platform.setadvert({to_channel:e,penetrate:"klcebian"},function(t){})}else if(4==this.data.pos)platform.navigateToMiniProgram(this.data,function(){a1227.getPoint(a1232.thirdAdSlot[4],"挑战失败跳转其他游戏",6,t.data.id,t.data.appid)});else{var i=a1228.a1122.a1957();platform.navigateToMiniProgram(this.data,function(){a1227.getPoint(a1232.thirdAdSlot[1],"游戏中侧边跳转其他游戏",6,t.data.id,t.data.appid)},function(){platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},i)})}var a=a1228.a1226.a2525(136),n=a1228.a1226.a2525(171);a&&a.adSlide(),n&&n.adSlide()},e}(eui.ItemRenderer);__reflect(a1128.prototype,"a1128");var AdSDKTaskItemView=function(t){function e(e,i,a){var n=t.call(this)||this;return n.time=0,n.skinName=a1243.adSDKTaskItemSkin,n.event(),n}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getGroup,egret.TouchEvent.TOUCH_TAP,this.a2106),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.setData=function(t){this.data=t},e.prototype.a2106=function(){var t=this;if(!(egret.getTimer()-this.time<1500))if(this.time=egret.getTimer(),this.data)if(4==a1232.adListData["channel"+this.data.channelId])a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,1,a1232.sdkAdAward,102,!0,!0,!0,!0,this.data.channelId),a1232.adListData["channel"+this.data.channelId]=-1,localStorage.setItem("adListData",JSON.stringify(a1232.adListData)),this.refresh();else{-1==a1232.adListData["channel"+this.data.channelId]&&(this.getBtnText.text=langue.quwan,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!1);var e=this.data.to_channel;platform.setadvert({to_channel:e,penetrate:"qmykl"},function(e){t.refresh()})}else a1228.a1245.a2612(langue.myjlorlq)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.data&&(this.TaskDesc.text=this.data.channel_describe,this.TaskName.text=this.data.channel_title,this.iconImg.source=this.data.channel_logo),this.data?(this.numLabel.text="x"+a1232.sdkAdAward,4==a1232.adListData["channel"+this.data.channelId]?(this.getBtnText.text=langue.lingqu,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!0):-1==a1232.adListData["channel"+this.data.channelId]?(this.getBtnText.text=langue.quwan,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!1):(this.getBtnText.text=langue.shilian,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!0)):(this.getBtnText.text=langue.shilian,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!0)},e}(eui.ItemRenderer);__reflect(AdSDKTaskItemView.prototype,"AdSDKTaskItemView");var AdSDKTaskView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.adSDKTaskSkin,a}return __extends(e,t),e.prototype.initUI=function(){platform.bChangeList=!1,this.event(),a1228.a1245.openBanner(),this.requestData(),a1228.a1230.a2557(!0,this.group)},e.prototype.requestData=function(){var t=this;platform.getAdvert("advert_list",function(e){e&&"ok"==e.retCode&&"success"==e.retMsg&&(a1228.g_adListData=e.body.list),t.getGameList()})},e.prototype.getGameList=function(){var t=this,e={trackId:a1232.trackId,gameId:a1232.gameID};a1228.a1247.a2623(a1232.URL_SDKAD_LOG,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&(a1232.finishAdList=e.data),t.initListData()},null)},e.prototype.checkFinish=function(t){for(var e in a1232.finishAdList)if(a1232.finishAdList[e].appId==t)return!0;return!1},e.prototype.initListData=function(){if(this.parent){var t=[],e="",i=localStorage.getItem("adListData");i&&(a1232.adListData=JSON.parse(i));for(var a in a1228.g_adListData)t.push(a1228.g_adListData[a]),e="channel"+a1228.g_adListData[a].channelId,this.checkFinish(""+a1228.g_adListData[a].channelId)&&(a1232.adListData[e]=-1),a1232.adListData[e]||(a1232.adListData[e]=0);t.sort(function(t,e){return t.sort<e.sort&&1||-1}),t.sort(function(t,e){return a1232.adListData["channel"+t.channelId]<a1232.adListData["channel"+e.channelId]&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=AdSDKTaskItemView}},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1228.a1252.doTimer(500,0,this.updateList,this)},e.prototype.updateList=function(){if(platform&&platform.bChangeList)if(platform.bChangeList=!1,platform.taskState){for(var t in a1232.adListData)if(t=="channel"+platform.adChannelId){-1!=a1232.adListData[t]&&(a1232.adListData[t]=4),platform.adChannelId=0,localStorage.setItem("adListData",JSON.stringify(a1232.adListData)),this.initListData();break}}else if(4==a1232.adListData["channel"+platform.taskInfo.to_channel]||-1==a1232.adListData["channel"+platform.taskInfo.to_channel]);else{var e="<font>"+langue.youzai+"[</font><font color=0x95fa6d size=28 strokecolor=0x42682d stroke=2>"+platform.taskInfo.channel_title+"</font><font >]"+langue.youzai1+"</font>";a1228.a1225.applyFunc(10004,5325,e)}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5324)},e.prototype.close=function(){a1228.a1252.remove(this.updateList,this),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(AdSDKTaskView.prototype,"AdSDKTaskView");var a1129=function(t){function e(e,i,a){var n=t.call(this)||this;return n.rewardNum=30,n.skinName=a1243.adTaskItemSkin,n.event(),n}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getGroup,egret.TouchEvent.TOUCH_TAP,this.a2106),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.setData=function(t){this.data=t},e.prototype.a2106=function(){var t=this;if(0==this.data[1])platform.navigateToMiniProgram(this.data[0],function(){a1232.adTaskID=t.data[0].id,a1227.getPoint(a1232.thirdAdSlot[3],"体验跳转其他游戏",6,t.data[0].id,t.data[0].appid)});else if(1==this.data[1]){this.data[1]=2,a1232.adTaskData[this.data[0].id]=2,a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,1,this.rewardNum,102),this.refresh();var e=a1228.a1226.a2525(172);e&&e.a2107()}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=this;if(this.numLabel.text="X"+this.rewardNum,this.TaskName.text=this.data[0].AppName,this.lastIcon!=this.data[0].icon){this.lastIcon=this.data[0].icon;var e=new egret.ImageLoader;egret.ImageLoader.crossOrigin="anonymous",e.addEventListener(egret.Event.COMPLETE,function(i){if(e.data){var a=new egret.Texture;a._setBitmapData(e.data),t.iconImg.source=a}},this),e.load(this.data[0].icon)}2==this.data[1]?(this.getBtnText.text=langue.yishilian,this.getBtnBG.source="an_2_png",this.tipImg.visible=!1):1==this.data[1]?(this.getBtnText.text=langue.lingqu,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!0):(this.getBtnText.text=langue.shilian,this.getBtnBG.source="TiaoZhanLabel_png",this.tipImg.visible=!0)},e}(eui.ItemRenderer);__reflect(a1129.prototype,"a1129");var a1130=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.adTaskSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.a2107(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2107=function(){var t=[];for(var e in a1232.adList[3]){var i=a1232.adList[3][e];t.push([i,a1232.adTaskData[i.id]||0])}t.sort(function(t,e){var i=1==t[1]&&-10||t[1],a=1==e[1]&&-10||e[1];if(i==a){var n=t[0].ord||0,r=e[0].ord||0;return r>n&&1||-1}return i>a&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1129},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5163)},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1130.prototype,"a1130");var a1131=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.tips="",n.skinName=a1243.adSDKTipSkin,n.tips=a.tip,n}return __extends(e,t),e.prototype.initUI=function(){this.event();var t=new egret.TextField;t.textColor=16777215,t.strokeColor=9735043,t.stroke=1,t.width=440,t.height=210,t.size=28,t.lineSpacing=40,t.textFlow=(new egret.HtmlTextParser).parser(this.tips),this.contentGroup.addChild(t),t.x=15,t.y=78},e.prototype.event=function(){a1251.a1412(this,this.sureGroup,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5326)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1131.prototype,"a1131");var AdvGiftItemView=function(t){function e(e,i){var a=t.call(this)||this;return a.skinName=a1243.advGiftItemSkin,a.event(),a}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2111=function(){var t=this,e=a1228.g_advGiftData[this.data.index];if(a1232.seeAdvTimesArr[this.data.index]<e.count)return void a1228.a1245.a2612("未完成");if(a1232.seeAdvTimesArr[this.data.index]>=e.count){var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},i,["402","视频礼包"])}},e.prototype.handleFunc=function(){var t=a1228.g_advGiftData[this.data.index];if(a1232.seeAdvTimesArr[this.data.index]-=t.count,1==t.id||t.id>300&&t.id<400){var e="";1==t.id?e="panzs_png":t.id>300&&t.id<400&&(e=a1228.g_PropsData[t.id].icon);var i=[{id:t.id,num:t.num,icon:e}];a1228.a1225.applyFunc(10004,5309,i),a1228.a1225.applyFunc(10004,5035,t.id,t.num,132)}else if(t.id<0){var a=this.randomSLong(),n=void 0;n=t.bianyi?a1232.addNewDinosaur(a,100):a1232.addNewDinosaur(a),a1228.a1225.applyFunc(10004,5058,n.id,!1,1)}a1228.a1225.applyFunc(10004,5042);var r=a1228.a1226.a2525(246);r&&r.reflshUI()},e.prototype.randomSLong=function(){var t=[];for(var e in a1228.g_PlayerData)4==a1228.g_PlayerData[e].xiyou&&t.push(a1228.g_PlayerData[e].index);var i=Math.floor(Math.random()*t.length);return t[i]},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=a1228.g_advGiftData[this.data.index];this.timesLabel.text="观看视频"+t.count+"次",this.progressLabel.text=""+a1232.seeAdvTimesArr[this.data.index]+"/"+t.count,1==t.id?(this.iconImg1.scaleX=1,this.iconImg2.source="panzs1_png",this.iconImg1.source="panzs1_png",this.iconImg.source="",this.numLabel.text="x"+t.num,this.whImg.visible=!1):t.id>300&&t.id<400?(this.iconImg1.scaleX=1,this.iconImg2.source=a1228.g_PropsData[t.id].icon,this.iconImg1.source=a1228.g_PropsData[t.id].icon,this.iconImg.source="",this.numLabel.text="x"+t.num,this.whImg.visible=!1):-1==t.id&&(this.iconImg1.scaleX=0,this.iconImg2.source="",this.whImg.visible=!0,t.bianyi?(this.numLabel.text="随机变异S恐龙",this.iconImg.source="bymanlongtouxiang4_png"):(this.numLabel.text="随机S恐龙",this.iconImg.source="bawanglongtouxiang4_png")),a1232.videoAct[this.data.index]?(this.advImg.scaleX=0,this.getwzLabel.text="已领取",this.statedbImg.source="an_2_png"):a1232.seeAdvTimesArr[this.data.index]>=t.count?(this.advImg.scaleX=1,this.getwzLabel.text="领取",this.statedbImg.source="TiaoZhanLabel_png"):(this.advImg.scaleX=0,this.getwzLabel.text="未完成",this.statedbImg.source="an_2_png")},e}(eui.ItemRenderer);__reflect(AdvGiftItemView.prototype,"AdvGiftItemView");var AdvGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.advGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.dataFit(),this.initList(),this.event()},e.prototype.event=function(){},e.prototype.initList=function(){var t=[];for(var e in a1228.g_advGiftData)t.push({index:a1228.g_advGiftData[e].index});this.scrollerList.dataProvider=new eui.ArrayCollection(t),this.scrollerList.itemRenderer=AdvGiftItemView},e.prototype.reflshUI=function(){for(var t=0;t<this.scrollerList.numChildren;t++){var e=this.scrollerList.getChildAt(t);e&&e.refresh()}},e.prototype.dataFit=function(){if(a1232.seeAdvTimes>0){for(var t in a1232.videoAct){var e=a1228.g_advGiftData[t].count;a1232.seeAdvTimesArr[t]=a1232.seeAdvTimes,1==a1232.videoAct[t]&&(a1232.seeAdvTimesArr[t]-=e,a1232.seeAdvTimesArr[t]<0&&(a1232.seeAdvTimesArr[t]=0))}a1232.seeAdvTimes=0,a1232.videoAct={},a1228.a1225.applyFunc(10004,5042)}},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(AdvGiftView.prototype,"AdvGiftView");var a1132=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.ChooseDinosaursItem,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2108,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2108=function(){var t=a1228.a1226.a2525(196);t&&t.a2110(this)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.dinosaurImg.source=a1228.g_PropsData[this.data.id].icon,this.nameLabel.text=a1228.g_PropsData[this.data.id].name,this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data.id-200].xiyou+"_png",this.selectImg.source="qdltbg_png";
var t=this.parent;this.selectImg.visible=t.selectedIndex==this.itemIndex,this.nameLabel.textColor=t.selectedIndex==this.itemIndex&&16567086||16777215},e}(eui.ItemRenderer);__reflect(a1132.prototype,"a1132");var a1133=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.data=[],n.chipnum=0,n._skin=a1243.awardChipSkin,n.prizeId=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){if(this.giftInfoGroup.visible=!1,0==this.prizeId)for(var t=0,e=a1228.g_TurnTable[2].itemid;t<e.length;t++){var i=e[t],a={id:i,num:a1228.g_TurnTable[2].num,isSelect:!1};this.data.push(a)}else if(1==this.prizeId)for(var n=0,r=a1228.g_TurnTable[3].itemid;n<r.length;n++){var i=r[n],a={id:i,num:a1228.g_TurnTable[3].num,isSelect:!1};this.data.push(a)}this.itemList.dataProvider=new eui.ArrayCollection(this.data),this.itemList.itemRenderer=a1132},e.prototype.a2110=function(t){this.chipnum=t.data.num,this.chipId=t.data.id,this.itemList.selectedIndex=t.itemIndex;for(var e=0;e<this.itemList.$children.length;e++){var i=this.itemList.$children[e];i.data.isSelect=i.itemIndex==t.itemIndex,i.refresh()}this.chipId&&this.chipnum>0?(this.giftInfoGroup.visible=!0,this.iconImg.source=a1228.g_PropsData[this.chipId].icon,this.giftName.text=a1228.g_PropsData[this.chipId].name+"x"+this.chipnum):this.giftInfoGroup.visible=!1},e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){this.chipnum>0&&this.chipId?(a1228.a1225.applyFunc(10004,5036,this.chipId,this.chipnum),a1228.a1225.applyFunc(10004,5083,[[this.chipId,this.chipnum]]),a1228.a1225.applyFunc(10004,5207),a1228.a1225.applyFunc(10004,5041)):a1228.a1245.a2612(langue.chooseClip)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1133.prototype,"a1133");var a1134=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r._skin=a1243.awardPrizeSkin,r.prizeId=a,r}return __extends(e,t),e.prototype.initUI=function(){this.showInfo(),this.event(),this.a2115(),a1228.a1238.playEffect("new_mp3")},e.prototype.showInfo=function(){var t="",e="";switch(this.prizeId){case 0:this.num=a1228.g_TurnTable[1].num,this.id=304,t=e=a1228.g_PropsData[this.id].icon;break;case 1:this.num=a1228.g_TurnTable[2].num,this.id=303,t=e=a1228.g_PropsData[this.id].icon;break;case 2:this.num=a1228.g_TurnTable[5].num,this.id=401,t=e=a1228.g_PropsData[this.id].icon,this.prizeImg.width=192,this.prizeImg.height=139,this.icoinImg.width=70,this.icoinImg.height=50,this.prizeImg.anchorOffsetX=this.prizeImg.width/2,this.prizeImg.anchorOffsetY=this.prizeImg.height/2;break;case 3:this.num=a1228.g_TurnTable[3].num,this.id=304,t=e=a1228.g_PropsData[this.id].icon;break;case 4:this.num=a1228.g_TurnTable[4].num,this.id=303,t=e=a1228.g_PropsData[this.id].icon;break;case 5:t="panlg10_png",e="";break;case 6:this.num=a1228.g_TurnTable[7].num,this.id=1,t="panzs1_png",e="ICON_zs_png";break;case 7:a1232.maxLevelFood>=4?this.num=5*a1228.g_PropsData[100+(a1232.maxLevelFood-3)].price[1]*a1232.curbeishu:this.num=5*a1228.g_PropsData[101].price[1]*a1232.curbeishu,this.id=2,t="panlg1_png",e="ICON_longgu_png"}5!=this.prizeId?(this.danGroup.visible=!1,this.duoGroup.visible=!0,this.getBtn.visible=!0,this.surevideoGroup.visible=!1,this.returnBtn.visible=!1,7!=this.prizeId?this.numLabel.text="x"+this.num:this.numLabel.text="+"+a1232.priceFormat(this.num,!0),a1228.a1225.applyFunc(10004,5035,this.id,this.num,3)):(this.beiLabel.text=langueOfvalue(langue.shibei,"10"),this.danGroup.visible=!0,this.duoGroup.visible=!1,this.getBtn.visible=!1,this.surevideoGroup.visible=!0,this.returnBtn.visible=!0,platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[103])),this.prizeImg.source=t,this.icoinImg.source=e,a1232.curbeishu=1},e.prototype.event=function(){a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.a2114),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){5==this.prizeId?this.a2113():a1228.a1230.a2557(!1,this.group,5108)},e.prototype.a2113=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["103","下次转盘10倍"])},e.prototype.handleFunc=function(){var t=10;a1232.curbeishu=t,a1228.a1245.a2612(langueOfvalue(langue.xiachirate,t)),a1228.a1225.applyFunc(10004,5108),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2114=function(){a1228.a1230.a2557(!1,this.group,5108)},e.prototype.a2115=function(){egret.Tween.get(this.prizeImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700,i=1900;egret.Tween.get(this.duoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.danGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.sureBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.returnBtn).to({scaleX:0,scaleY:0},0).wait(i).to({scaleX:1,scaleY:1},200);var a=10,n=300;egret.Tween.get(this.duoGroup).wait(t).to({y:this.duoGroup.y-a},n),egret.Tween.get(this.danGroup).wait(t).to({y:this.duoGroup.y-a},n),egret.Tween.get(this.sureBtn).wait(e).to({y:this.sureBtn.y-a},n),egret.Tween.get(this.returnBtn).wait(i).to({y:this.returnBtn.y-a},n),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=250,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1134.prototype,"a1134");var a1135=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.bossAwardItemView,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.setData=function(t){this.data=t,this.refresh()},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.numLabel.text="x"+a1232.priceFormat(this.data.Count,!1),1==this.data.ID?this.iconImg.source="zs_png":2==this.data.ID?this.iconImg.source="lg_png":3==this.data.ID?this.iconImg.source="WXZ_png":this.data.ID>200&&this.data.ID<300?this.iconImg.source=a1228.g_PropsData[this.data.ID].icon:this.data.ID>300&&this.data.ID<400?this.iconImg.source=a1228.g_PropsData[this.data.ID].icon:this.iconImg.source=a1228.g_PropsData[this.data.ID].icon},e}(eui.ItemRenderer);__reflect(a1135.prototype,"a1135");var a1136=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.rateArr=[],a.index=1,a._skin=a1243.breakEggSkin,a}return __extends(e,t),e.prototype.initUI=function(){if(!this.breakBtn)return void a1228.Main.a2479();for(var t in a1228.g_choukaData){var e={index:a1228.g_choukaData[t].index,rate:a1228.g_choukaData[t].rate1};this.rateArr.push(e)}this.event(),this.showInfo(),this.a2090(),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[104])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.showInfo=function(){0!=a1232.breakeggTimes||a1232.breakeggAS?a1232.breakeggTimes>0&&!a1232.breakeggAS?(this.advImg.scaleX=1,this.wzImg.source="zdzlycc_png",this.aubgImg.source="ButBG_png"):a1232.breakeggTimes>0&&a1232.breakeggAS&&(this.advImg.scaleX=0,this.wzImg.source="csyw_png",this.aubgImg.source="DoubleDark_png"):(this.advImg.scaleX=1,this.wzImg.source="zdcs_png",this.aubgImg.source="ButBG_png"),this.progressLabel.text=a1232.eggprogress+"/100",this.progressImage.width=Math.floor(a1232.eggprogress/100*this.huiImg.width)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.breakBtn,egret.TouchEvent.TOUCH_TAP,this.a2117)},e.prototype.a2117=function(){var t=this;if(a1232.breakeggTimes>=0&&!a1232.breakeggAS){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["104","砸蛋看"])}else if(a1232.breakeggTimes>0&&a1232.breakeggAS)return void a1228.a1245.a2612(langue.notBreekEggTimes)},e.prototype.handleFunc=function(){var t=this;this.breakBtn.visible=!1,a1232.breakeggTimes+=1;var e=this.a2118();if(a1232.eggprogress>=100){for(;3!=a1228.g_PlayerData[e].xiyou&&4!=a1228.g_PlayerData[e].xiyou;)e=this.a2118();a1232.eggprogress=0}else 3!=a1228.g_PlayerData[e].xiyou&&4!=a1228.g_PlayerData[e].xiyou&&(a1232.eggprogress=Math.min(a1232.eggprogress+34,100));(3==a1228.g_PlayerData[e].xiyou||4==a1228.g_PlayerData[e].xiyou)&&(a1232.breakeggAS=1);var i=a1232.addNewDinosaur(e);a1228.a1225.applyFunc(10004,5044,3),a1228.a1225.applyFunc(10004,5045,5),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5046,8),a1228.a1225.applyFunc(10004,5047,3),a1228.a1225.applyFunc(10004,5042),this.aniGroup.removeChildren();var a=ObjectPool.pop("a1239");a.initData("zadan",1,1,20,!0,"zadan"),a.x=-930,a.y=-1180,a.scaleX=2,a.scaleY=2,this.aniGroup.addChild(a),this.closeBtn.touchEnabled=!1,this.eggImg.visible=!1;var n=function(e){t.breakBtn.visible=!0,t.maskBai.visible=!0,egret.Tween.get(t.maskBai).to({alpha:1},200).call(function(){t.closeBtn.touchEnabled=!0,t.maskBai.visible=!1,t.eggImg.visible=!0,t.showInfo(),a1228.a1225.applyFunc(10004,5058,i.id,!1,1)})};a.a2594(n)},e.prototype.a2118=function(){for(var t=0,e=0;e<this.rateArr.length;e++)t+=this.rateArr[e].rate;for(var i=a1228.a1245.random_num(0,t),a=[],e=0;e<this.rateArr.length;e++)if(a[e]=[],this.rateArr[e].rate<=0)a[e][0]=0,a[e][1]=0;else{for(var n=0,r=0;e>r;r++)n+=this.rateArr[r].rate;a[e][0]=n,a[e][1]=n+this.rateArr[e].rate}for(var s=3,e=0;e<a.length;e++)if(i>=a[e][0]&&i<=a[e][1]){s=e+1;break}return this.rateArr[s-1].index},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5183)},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1136.prototype,"a1136");var BuffGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.bufftime=43200,a._skin=a1243.buffGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.reflshUI(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[403])},e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t=this;if(!(a1232.getServerTime()>a1232.longguActTime))return void a1228.a1245.a2612("已领取");var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["403","龙骨buff礼包"]),this.reflshUI()},e.prototype.handleFunc=function(){a1232.longguActTime=a1232.getServerTime()+this.bufftime,a1228.a1225.applyFunc(10004,5041),this.reflshUI()},e.prototype.reflshUI=function(){var t=a1232.longguActTime-a1232.getServerTime();t>0?(this.progressGroup.visible=!0,this.timesLabel.text=""+a1228.a1240.a2597(t,1),this.progressImage.width=t/this.bufftime*this.huiImg.width,this.advImg.scaleX=0,this.getwzLabel.text="已领取",this.statedbImg.source="an_2_png"):(this.progressGroup.visible=!1,this.advImg.scaleX=1,this.getwzLabel.text="领取",this.statedbImg.source="TiaoZhanLabel_png")},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(BuffGiftView.prototype,"BuffGiftView");var BuyMaxLevelFoodView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.buyMaxLevelFoodSkin,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group),setTimeout(function(){t.a2097()},300),17==a1232.guideStep&&a1232.curLevel>13&&(this.advImg.visible=!1,this.kaiqiImg.x=62),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[130])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.videoBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["130","限时最高级食物"])},e.prototype.handleFunc=function(){a1228.a1225.applyFunc(10004,5223),a1232.maxfoodtime||(a1232.maxfoodtime=a1232.getServerTime())},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5223)},e.prototype.a2097=function(){var t=this;if(17==a1232.guideStep&&a1232.curLevel>13){var e=this.videoBtn.a1263(0,0),i=e.x-this.x,a=e.y-this.y;a1228.a1233.a2572(this,201,85,i,a,function(){t.handleFunc(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1181","限时购买高级食物",7)}),a1228.a1233.a2565(this,i+75,a+50)}},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(BuyMaxLevelFoodView.prototype,"BuyMaxLevelFoodView");var ChangeNameView=function(t){function e(e,i,a,n,r){var s=t.call(this,e,i,null)||this;return s._skin=a1243.changeNameView,s.type=a,s.callback=r,1==s.type?s.dinosaur=n:2==s.type&&(s.lastName=n),s}return __extends(e,t),e.prototype.initUI=function(){this.event(),1==this.type?(this.changeLabel.text=a1228.a1230.a2554(this.dinosaur),this.dinosaur.name?(this.sureImg.visible=!1,this.videoGroup.visible=!0):(this.sureImg.visible=!0,this.videoGroup.visible=!1),this.countLabel.text=""):2==this.type&&(this.sureImg.visible=!0,this.videoGroup.visible=!1,this.changeLabel.text=this.lastName,this.countLabel.text="剩余1次"),a1228.a1230.a2557(!0,this.group2)},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112),a1251.a1412(this,this.cancelBtn,egret.TouchEvent.TOUCH_TAP,this.a2133)},e.prototype.a2112=function(){var t=this,e=this.changeLabel.text;if(""==e)return void a1228.a1245.a2612(langue.plname);if(e.length>5)return void a1228.a1245.a2612(langue.plname1);var i=a1228.a1230.a2553(e);if(!i)return void a1228.a1245.a2612(langue.plname2);for(var a=0;a<e.length;++a)for(var n=e[a],r=a+1;r<e.length;++r)if(n+=e[r],a1228.g_BanWordData[n])return void a1228.a1245.a2612(langue.plname3);for(var a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=19968&&40869>=s)for(var n=e[a],r=a+1;r<e.length;++r){var o=e.charCodeAt(r);if(o>=19968&&40869>=o&&(n+=e[r],a1228.g_BanWordData[n]))return void a1228.a1245.a2612(langue.plname3)}}if(platform.msgCheck&&platform.msgCheck(e,function(e){if(e)if(1==t.type)if(t.dinosaur.name){var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2162()},i,["117","恐龙改名"])}else t.a2162();else 2==t.type&&t.a2162();else a1228.a1245.a2612(langue.plname3)}),1==this.type)if(this.dinosaur.name){var l=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2162()},l,["117","恐龙改名"])}else this.a2162();else 2==this.type&&this.a2162()},e.prototype.a2162=function(){this.group2.visible=!1,this.callback&&this.callback(this.changeLabel.text),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5214)},e.prototype.a2133=function(){a1228.a1225.applyFunc(10004,5214)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ChangeNameView.prototype,"ChangeNameView");var CharacterAddInfoView=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r._skin=a1243.characterAddInfoSkin,r.dinosaur1=a,r.dinosaur2=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.reflshUI(),a1228.a1230.a2557(!0,this.group)},e.prototype.reflshUI=function(){this.xinggeImg.source=a1228.g_characterData[this.dinosaur2.character].icon,this.a2289()},e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5305)},e.prototype.close=function(){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1251.a1413(this),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),t.prototype.close.call(this)},e.prototype.a2289=function(){this.a2146(this.dinosaur2);var t=this.dinosaur1,e=this.dinosaur2,i=[a1232.a1886(t),a1232.a1886(e)],a=[a1232.getDefence(t),a1232.getDefence(e)],n=[a1232.getAttack(t),a1232.getAttack(e)],r=[a1232.getGongsu(t),a1232.getGongsu(e)];this.Level1_Label.text=""+e.level,this.Level2_Label.text=""+e.level,this.HP1_Label.text=""+i[0],this.Defense1_Label.text=""+a[0],this.Attack1_Label.text=""+n[0],this.Atktime1_Label.text=""+r[0],this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.AddHP_Label.text=i[1]-i[0]>=0&&"+"+(i[1]-i[0])||""+(i[1]-i[0]),this.AddDefense_Label.text=a[1]-a[0]>=0&&"+"+(a[1]-a[0])||""+(a[1]-a[0]),this.AddAttack_Label.text=n[1]-n[0]>=0&&"+"+(n[1]-n[0])||""+(n[1]-n[0])},e.prototype.a2146=function(t){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.DinoAnim.addChild(i),i.x=180,i.y=260,i.scaleX=-1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=260,t.y=140,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(CharacterAddInfoView.prototype,"CharacterAddInfoView");var CharacterItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.characterItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2135,!1)},e.prototype.a2135=function(){var t=a1228.a1226.a2525(240);t&&t.a2345(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=this.data.index,e=a1232.playerIDs[this.data.id];this.levelLabel.text=""+this.data.level,this.xiyouImage.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e),this.selectImg.visible=this.data.isselect;var i="";this.data.fight?i="sztips_png":this.data.grow?i="yztips_png":this.data.cheer&&(i="zztips_png"),this.useImg.source=i,a1228.a1230.a2552(this,"starImg",this.data.star,!1),this.setStarPos()},e.prototype.setStarPos=function(){var t=this.data.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e}(eui.ItemRenderer);__reflect(CharacterItemView.prototype,"CharacterItemView");var CharacterResultView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.timeUseOut=!1,n.hassetImg=!1,n.stopRun=!1,n.ids=[],n._skin=a1243.characterResultSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.reflshUI(),a1228.a1252.doTimer(10,0,this.moveAnimation,this),setTimeout(function(){t.timeUseOut=!0},1e3),setTimeout(function(){t.returnLabel.visible=!0},2e3)},e.prototype.reflshUI=function(){this.returnLabel.visible=!1;for(var t=1;5>=t;t++)this["characterImg"+t].source=a1228.g_characterData[this.randomCharacter()].icon},e.prototype.moveAnimation=function(){if(!this.stopRun){for(var t=-66,e=350,i=1;5>=i;i++){var a=this["group"+i];if(a.y>=this.dirGroup.y+5&&a.y<=this.dirGroup.y+15)a.scaleX=1.2,a.scaleY=1.2;else if(a.y>=this.dirGroup.y-90&&a.y<=this.dirGroup.y+110){var n=.8+(100-Math.abs(a.y-this.dirGroup.y+10))/100*.4;a.scaleX=n,a.scaleY=n}else a.scaleX=.8,a.scaleY=.8;if(a.y>e){a.y=t;var r=this.randomCharacter();this["characterImg"+i].source=a1228.g_characterData[r].icon}a.y+=6}if(this.timeUseOut&&!this.hassetImg)for(var i=1;5>=i;i++){var a=this["group"+i];if(a.y<=t+30){var s=a1228.g_characterData[this.data.characterid].icon;this["characterImg"+i].source=s,this.hassetImg=!0;break}}if(this.timeUseOut&&this.hassetImg)for(var i=1;5>=i;i++){var a=this["group"+i];a.scaleX>=1.2&&a.scaleY>=1.2&&this["characterImg"+i].source==a1228.g_characterData[this.data.characterid].icon&&(this.stopRun=!0)}}},e.prototype.randomCharacter=function(){var t=[];for(var e in a1228.g_characterData)t.push(a1228.g_characterData[e].index);for(var i=Math.floor(Math.random()*t.length);this.data.characterid==t[i]||-1!=this.ids.indexOf(t[i]);)i=Math.floor(Math.random()*t.length);return this.ids.push(t[i]),this.ids.length>5&&this.ids.splice(0,1),t[i]},e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){if(this.returnLabel.visible){a1228.a1225.applyFunc(10004,5297);var t=a1232.playerIDs[this.data.id];t&&this.data.data1&&a1228.a1225.applyFunc(10004,5304,this.data.data1,t)}},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(CharacterResultView.prototype,"CharacterResultView");var CharacterRuleItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.characterRuleItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=a1228.g_characterData[this.data.index];this.iconImg.source=t.icon,this.setImgFuHao(t.hp,1),this.setImgFuHao(t.atk,2),this.setImgFuHao(t.def,3);var e=a1228.a1226.a2525(240);e&&(e.selectID&&a1232.playerIDs[e.selectID]&&a1228.g_characterData[this.data.index].index==a1232.playerIDs[e.selectID].character?this.bgImg.source="xggzwbk_png":this.bgImg.source="dksy_png")},e.prototype.setImgFuHao=function(t,e){var i=15280432,a=9826820;0==t?(this["fuhaoImg"+e+"_1"].source="xgfh_2_png",this["fuhaoImg"+e+"_2"].source="",this["preLabel"+e].text=""):1==t?(this["fuhaoImg"+e+"_1"].source="xgfh_3_png",this["fuhaoImg"+e+"_2"].source="",this["preLabel"+e].text="+10%",this["preLabel"+e].textColor=a):-1==t?(this["fuhaoImg"+e+"_1"].source="xgfh_1_png",this["fuhaoImg"+e+"_2"].source="",this["preLabel"+e].text="-10%",this["preLabel"+e].textColor=i):2==t?(this["fuhaoImg"+e+"_1"].source="xgfh_3_png",this["fuhaoImg"+e+"_2"].source="xgfh_3_png",this["preLabel"+e].text="+20%",this["preLabel"+e].textColor=a):-2==t&&(this["fuhaoImg"+e+"_1"].source="xgfh_1_png",this["fuhaoImg"+e+"_2"].source="xgfh_1_png",this["preLabel"+e].text="-20%",this["preLabel"+e].textColor=i)},e}(eui.ItemRenderer);__reflect(CharacterRuleItemView.prototype,"CharacterRuleItemView");var CharacterRuleView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.characterRuleSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.reflseUI(),a1228.a1230.a2557(!0,this.group)},e.prototype.reflseUI=function(){var t=[];for(var e in a1228.g_characterData)t.push({index:a1228.g_characterData[e].index});this.scrollerList.dataProvider=new eui.ArrayCollection(t),this.scrollerList.itemRenderer=CharacterRuleItemView},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5301)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(CharacterRuleView.prototype,"CharacterRuleView");var CharacterView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a.selectID=0,a.rateArr=[],a._skin=a1243.characterSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.refleshRateArr(),this.reflshUI(),this.a2138(1),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[151])},e.prototype.refleshRateArr=function(){for(var t in a1228.g_characterData){var e={rate:a1228.g_characterData[t].rate,index:a1228.g_characterData[t].index};this.rateArr.push(e)}},e.prototype.reflshUI=function(){if(this.selectID&&a1232.playerIDs[this.selectID]){var t=a1232.playerIDs[this.selectID];this.nameGroup.visible=!0,this.xinggeGroup.visible=!0,this.addImg.visible=!1,this.nameLabel.text=a1228.a1230.a2554(t),this.xinggeImg.source=a1228.g_characterData[t.character].icon,this.a2368(),this.group.setChildIndex(this.xinggeGroup,999)}else this.nameGroup.visible=!1,this.xinggeGroup.visible=!1,this.addImg.visible=!0,this.ani&&(a1251.a1413(this.ani),this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null);this.numLabel.text="1/"+a1232.washcardNum},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.xilianBtn,egret.TouchEvent.TOUCH_TAP,this.onClickWash),a1251.a1412(this,this.ruleBtn,egret.TouchEvent.TOUCH_TAP,this.a2465),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2465=function(){a1228.a1225.applyFunc(10004,5300)},e.prototype.onClickWash=function(){var t=this;if(!this.selectID||!a1232.playerIDs[this.selectID])return void a1228.a1245.a2612(langue.skin_s222);if(a1232.washcardNum>0){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["151","性格洗练"])}else a1228.a1245.a2612(langue.skin_s223)},e.prototype.handleFunc=function(){var t={data1:a1231.copyDinosaur(a1232.playerIDs[this.selectID]),id:this.selectID,characterid:0};t.characterid=this.randomCharacter(this.selectID),a1228.a1225.applyFunc(10004,5296,t)},e.prototype.randomCharacter=function(t){for(var e=0,i=a1232.playerIDs[t],a=a1232.charaRecords[t]||[-1,-1,i.character];!e||-1!=a.indexOf(e);)e=this.a2118();return a.splice(0,1),a.push(e),a1232.charaRecords[t]=a,a1232.washcardNum>0&&a1228.a1225.applyFunc(10004,5035,401,-1,134),i.character=e,this.reflshUI(),e},e.prototype.a2118=function(){for(var t=0,e=0;e<this.rateArr.length;e++)t+=this.rateArr[e].rate;for(var i=a1228.a1245.random_num(0,t),a=[],e=0;e<this.rateArr.length;e++)if(a[e]=[],this.rateArr[e].rate<=0)a[e][0]=0,a[e][1]=0;else{for(var n=0,r=0;e>r;r++)n+=this.rateArr[r].rate;a[e][0]=n,a[e][1]=n+this.rateArr[e].rate}for(var s=3,e=0;e<a.length;e++)if(i>=a[e][0]&&i<=a[e][1]){s=e+1;break}return this.rateArr[s-1].index},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5299)},e.prototype.a2345=function(t){if(t&&t.data.id==this.selectID)return t.data.isselect=!1,this.selectID=0,t.reflesh(),void this.reflshUI();for(var e in this.data)this.data[e].isselect=!1;for(var e=0;e<this.scrollerList.numChildren;e++){var i=this.scrollerList.getChildAt(e);i&&(i.itemIndex==t.itemIndex&&i.data.id==t.data.id&&(i.data.isselect=!0,this.selectID=t.data.id),i.reflesh())}this.reflshUI()},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scrollers.a1621(),this.a2107()},e.prototype.a2107=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=a1228.a1230.a2550(Number(e));t.push({id:Number(e),index:a,level:i.level,star:i.star,xiyou:a1228.g_PlayerData[a].xiyou,isselect:!1,fight:n[0],cheer:n[1],produce:n[2]})}}t.sort(function(t,e){return t.fight==e.fight?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.fight<e.fight&&1||-1}),this.data=t,this.scrollerList.dataProvider=new eui.ArrayCollection(this.data),this.scrollerList.itemRenderer=CharacterItemView},e.prototype.a2368=function(){var t=this;this.ani&&(a1251.a1413(this.ani),this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(a1232.playerIDs[this.selectID]),i=a1228.a1245.CreateFrameAnimation(e,e);this.group.addChild(i),i.x=370,i.y=430,i.scaleX=-.9,i.scaleY=.9,i.touchEnabled=!0,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i,a1251.a1412(this,this.ani,egret.TouchEvent.TOUCH_TAP,function(e){var i=a1232.playerIDs[t.selectID];a1228.a1225.applyFunc(10004,5099,i)},!1)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)
},e}(a1116);__reflect(CharacterView.prototype,"CharacterView");var ChooseDinosaurItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.ChooseDinosaursItem,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a1952,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a1952=function(){var t=this.parent,i=this.selectImg.visible;t&&(t.selectedIndex=this.itemIndex);var a=a1228.a1226.a2525(129);if(a&&a.itemList.selectedIndex>=0&&(a.giftInfoGroup.visible=!0,1==e.type?(a.iconImg.source=a1228.g_PlayerData[this.data].buzhen1,a.giftName.text=a1228.g_PlayerData[this.data].name+"x1"):2==e.type&&(a.iconImg.source=a1228.g_PropsData[this.data].icon,a1228.g_SignData[a1232.signDay].suipian&&(a.giftName.text=a1228.g_PropsData[this.data].name+"x"+a1228.g_SignData[a1232.signDay].suipian[0]))),i){var n=void 0;1==e.type?n=[this.data,1,0]:2==e.type&&(n=[this.data-200,1,0]);var r=new a1231(null,n);r.sex=0,a1228.a1225.applyFunc(10004,5099,r)}this.refresh()},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.selectImg.visible=!1,this.refresh()},e.prototype.refresh=function(){var t=this.parent;if(t)for(var i=0;i<t.$children.length;++i)t.selectedIndex==t.$children[i].itemIndex?(t.$children[i].selectImg.visible=!0,t.$children[i].nameLabel.textColor=16567086):(t.$children[i].selectImg.visible=!1,t.$children[i].nameLabel.textColor=16777215);1==e.type?(this.dinosaurImg.source=a1228.g_PlayerData[this.data].buzhen1,this.nameLabel.text=a1228.g_PlayerData[this.data].name,this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data].xiyou+"_png",this.selectImg.source="qdltbg_png"):2==e.type&&(this.dinosaurImg.source=a1228.g_PropsData[this.data].icon,this.nameLabel.text=a1228.g_PropsData[this.data].name,this.selectImg.source="qdltbg_png",this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data-200].xiyou+"_png")},e}(eui.ItemRenderer);__reflect(ChooseDinosaurItemView.prototype,"ChooseDinosaurItemView");var ChooseDinosaurView=function(t){function e(e,i,a,n,r,s){var o=t.call(this,e,i,null)||this;return o._skin=a1243.ChooseDinosaurs,o.type=a,o.lst=n,o.callback=r,o.showAd=s,o}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.refresh(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2121),a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2120)},e.prototype.a2120=function(){a1228.a1225.applyFunc(10004,5140)},e.prototype.refresh=function(){1==this.type?this.titleImg.source="rxyz_png":2==this.type&&(this.titleImg.source="rxyz_png"),this.showAd?(this.adImg.visible=!0,this.getImg.x=84):(this.adImg.visible=!1,this.getImg.x=62),this.giftInfoGroup.visible=!1,this.itemList.selectedIndex=-1,ChooseDinosaurItemView.type=this.type,this.itemList.dataProvider=new eui.ArrayCollection(this.lst),this.itemList.itemRenderer=ChooseDinosaurItemView,this.Container.width>620&&(this.Container.width=620)},e.prototype.a2121=function(){if(this.itemList.selectedIndex<0){if(1==this.type)return a1228.a1245.a2612(langue.chooseDinosaur);if(2==this.type)return a1228.a1245.a2612(langue.chooseClip)}this.callback&&this.callback(this.lst[this.itemList.selectedIndex])},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(ChooseDinosaurView.prototype,"ChooseDinosaurView");var ChouKaJiFenItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.chouKaJiFenItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2108,!1)},e.prototype.a2108=function(){var t=a1228.a1226.a2525(228);if(t){if(!t.canget)return void this.lookDinasaurdetails();t.reward=[this.data.id,this.data.num];for(var e=0;e<t.scrollerList.numChildren;e++){var i=t.scrollerList.getChildAt(e);i&&(i.itemIndex==this.itemIndex?i.data.select?this.lookDinasaurdetails():i.data.select=!0:i.data.select=!1,i.refresh())}}},e.prototype.lookDinasaurdetails=function(){var t=new a1231(null,[this.data.id,1,0,0,0]);a1228.a1225.applyFunc(10004,5099,t)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.selectImg.visible=this.data.select,this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data.id].xiyou+"_png",this.dinosaurImg.source=a1228.g_PlayerData[this.data.id].buzhen1,this.nameLabel.text=a1228.g_PlayerData[this.data.id].name},e}(eui.ItemRenderer);__reflect(ChouKaJiFenItemView.prototype,"ChouKaJiFenItemView");var ChouKaJiFenView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.data=[],n.bxid=0,n.canget=!1,n._skin=a1243.chouKaJiFenSkin,n.bxid=a,n}return __extends(e,t),e.prototype.initUI=function(){this.reflshUI(),this.initList(),this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.reflshUI=function(){var t=a1228.g_choukajifenData[this.bxid];t&&(-1!=a1232.choukabx.indexOf(this.bxid)||a1232.choukaScore<t.score?(this.canget=!1,this.titleImg.source="jfjlxz2_png"):(this.canget=!0,this.titleImg.source="jfjlxz_png"),this.getBtn.visible=this.canget)},e.prototype.a2111=function(){var t=this;if(a1228.a1245.a2619(this,this.getBtn,1e3)){if(!this.reward)return void a1228.a1245.a2612("请选择奖励");var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["160","抽卡积分领奖"])}},e.prototype.handleFunc=function(){var t=a1228.a1226.a2525(128);t&&t.onbxRewardGet(this.bxid,this.reward)},e.prototype.initList=function(){var t=a1228.g_choukajifenData[this.bxid];if(t&&t.reward){for(var e=0;e<t.reward.length;e++)this.data.push({id:t.reward[e][0],num:t.reward[e][1],select:!1});this.scrollerList.dataProvider=new eui.ArrayCollection(this.data),this.scrollerList.itemRenderer=ChouKaJiFenItemView,this.data.length<5&&(this.scrolle.x+=30*(5-this.data.length))}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5277)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ChouKaJiFenView.prototype,"ChouKaJiFenView");var a1137=function(t){function e(e,i,a){var n=t.call(this,e,i)||this;return n.w=a1228.a1122.a1872(),n.h=a1228.a1122.a1873(),n.rateArr=[],n.guideFlag=!1,n.freeBool=!1,n.rataTimes=2,n.isComplete=!0,n._skin=a1243.choukaSkin,a&&(n.freeBool=a),n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.showInfo(),this.reflshbaoxiang(),this.event(),this.a2122(!0),this.a2127(),a1228.a1230.a2557(!0,this.group),this.refleshRateArr(),setTimeout(function(){t.a2097()},500);a1228.a1226.a2525(102);this.freeBool?platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[331]):platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[121])},e.prototype.refleshRateArr=function(){this.rateArr=[];var t=0,e=a1228.a1230.getYaunActiveDay();a1232.kachikaiqi=!1,t=a1232.ratetimes>0?e>=1&&3>=e&&a1232.kachikaiqi?4:2:e>=1&&3>=e&&a1232.kachikaiqi?3:1;for(var i in a1228.g_choukaData){var a={rate:a1228.g_choukaData[i]["rate"+t],index:a1228.g_choukaData[i].index};this.rateArr.push(a)}},e.prototype.showInfo=function(){var t=this;if(this.ratescrLabel.text=langue.bianyisrc,this.Flicker.visible=!1,this.freeBool){this.getBtn.visible=!1,this.freeGetBtn.visible=!0,setTimeout(function(){t.refuseBtn.visible=!0},3e3),this.closeBtn.visible=!1,this.titleImg.source="mfld_png",this.rateBtn.visible=!1,this.rateImg.visible=!1;var e=a1228.a1226.a2525(102);e&&e.a2221(!0)}else this.getBtn.visible=!0,this.freeGetBtn.visible=!1,this.refuseBtn.visible=!1,this.closeBtn.visible=!0,this.titleImg.source="HatchLabel_png",a1232.ratetimes>0?(this.rateBtn.visible=!1,this.rateImg.visible=!0):(this.rateBtn.visible=!0,this.rateImg.visible=!1);4==a1232.guideStep?this.guideFlag||(this.rateBtn.visible=!1,this.rateImg.visible=!1):5==a1232.guideStep&&this.guideFlag&&(this.rateBtn.visible=!1,this.rateImg.visible=!1),this.HatchAnim&&this.DiZuoAnimGroup.removeChild(this.HatchAnim);var i=ObjectPool.pop("a1239");i.initData("dizuo",-1,2,0,!0,"dizuo"),i.x=-25,i.y=-435,this.DiZuoAnimGroup.addChild(i),this.HatchAnim=i},e.prototype.a2122=function(t){t?(egret.Tween.get(this.rateBtn,{loop:!0}).to({y:this.rateBtn.y+16,scaleX:.98,scaleY:.98},750).to({y:this.rateBtn.y-9,scaleX:1.02,scaleY:1.02},750).to({y:this.rateBtn.y,scaleX:1,scaleY:1},750),egret.Tween.get(this.ImageEgg,{loop:!0}).to({y:this.ImageEgg.y+16,scaleX:.98,scaleY:.98},750).to({y:this.ImageEgg.y-9,scaleX:1.02,scaleY:1.02},750).to({y:this.ImageEgg.y,scaleX:1,scaleY:1},750)):(egret.Tween.removeTweens(this.ImageEgg),egret.Tween.removeTweens(this.rateBtn),this.ImageEgg.x=0,this.ImageEgg.y=444,this.ImageEgg.scaleX=1,this.ImageEgg.scaleY=1,this.rateBtn.x=376,this.rateBtn.y=442,this.rateBtn.scaleX=1,this.rateBtn.scaleY=1)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2124),a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2125),a1251.a1412(this,this.freeGetBtn,egret.TouchEvent.TOUCH_TAP,this.a2124),a1251.a1412(this,this.refuseBtn,egret.TouchEvent.TOUCH_TAP,this.a2125),a1251.a1412(this,this.rateBtn,egret.TouchEvent.TOUCH_TAP,this.a2123),a1251.a1412(this,this.bxGroup1,egret.TouchEvent.TOUCH_TAP,function(){t.onClickbaoxiang(1)}),a1251.a1412(this,this.bxGroup2,egret.TouchEvent.TOUCH_TAP,function(){t.onClickbaoxiang(2)}),a1251.a1412(this,this.bxGroup3,egret.TouchEvent.TOUCH_TAP,function(){t.onClickbaoxiang(3)}),a1251.a1412(this,this.jifenBtn,egret.TouchEvent.TOUCH_TAP,this.onClickJiFenBtn)},e.prototype.a2123=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc_1()},e,["121","孵蛋概率翻倍"])},e.prototype.handleFunc_1=function(){a1232.ratetimes=this.rataTimes,this.rateBtn.visible=!1,this.rateImg.visible=!0,a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9),this.refleshRateArr()},e.prototype.a2124=function(t){var e=this;if(a1228.a1245.a2619(this,this.getBtn,1e3)&&a1228.a1245.a2619(this,this.freeGetBtn,1e3))if(this.freeBool){var i=this.a2118(),a=a1228.a1230.a2548();a1228.a1230.a2549(function(){e.handleFunc_2(i,t)},a,["331","宝箱抽卡"])}else if(a1232.diamond>=300){"android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null),a1228.a1230.interstitialAd(),a1232.ratetimes>0&&(a1232.ratetimes-=1),this.rateBtn.visible=!1;var n=0;if(4==a1232.guideStep)n=4;else if(n=this.a2118(),a1232.mustStimes>=9){for(;4!=a1228.g_PlayerData[n].xiyou;)n=this.a2118();a1232.mustStimes=0}else 4==a1228.g_PlayerData[n].xiyou?a1232.mustStimes=0:a1232.mustStimes+=1;a1228.a1225.applyFunc(10004,5035,1,-300,103),a1228.a1225.applyFunc(10004,5046,5);var r=a1232.addNewDinosaur(n);if(r.bianyi){var s=a1228.a1230.a1921(r);this.tempAni=a1228.a1245.CreateFrameAnimation(s,s)}a1228.a1225.applyFunc(10004,5044,3),a1228.a1225.applyFunc(10004,5045,5),a1228.a1225.applyFunc(10004,5047,3),a1228.a1225.applyFunc(10004,5042),this.a2126(r.id,t===!0),this.addBxScore()}else a1228.a1245.a2612(langue.nofuwen)},e.prototype.handleFunc_2=function(t,e){this.freeGetBtn.visible=!1,this.refuseBtn.visible=!1;var i=a1232.addNewDinosaur(t);if(i.bianyi){var a=a1228.a1230.a1921(i);this.tempAni=a1228.a1245.CreateFrameAnimation(a,a)}a1228.a1225.applyFunc(10004,5044,3),a1228.a1225.applyFunc(10004,5045,5),a1228.a1225.applyFunc(10004,5047,3),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9),this.a2126(i.id,e===!0),this.addBxScore()},e.prototype.a2118=function(){for(var t=0,e=0;e<this.rateArr.length;e++)t+=this.rateArr[e].rate;for(var i=a1228.a1245.random_num(0,t),a=[],e=0;e<this.rateArr.length;e++)if(a[e]=[],this.rateArr[e].rate<=0)a[e][0]=0,a[e][1]=0;else{for(var n=0,r=0;e>r;r++)n+=this.rateArr[r].rate;a[e][0]=n,a[e][1]=n+this.rateArr[e].rate}for(var s=3,e=0;e<a.length;e++)if(i>=a[e][0]&&i<=a[e][1]){s=e+1;break}return this.rateArr[s-1].index},e.prototype.a2125=function(){a1228.a1230.a2557(!1,this.group,5057)},e.prototype.a2126=function(t,e){var i=this;a1228.a1238.playEffect("egg_mp3"),this.a2122(!1),this.getBtn.visible=!1,this.closeBtn.touchEnabled=!1,this.isComplete=!1,a1228.a1252.doTimer(5e3,1,function(){i.isComplete||(i.isComplete=!0,i.Flicker.visible=!1,i.getBtn.visible=!0,i.closeBtn.touchEnabled=!0,i.a2122(!0),a1228.a1225.applyFunc(10004,5058,t,e,1),a1228.a1225.applyFunc(10004,5057))},this);var a=(a1228.a1122.a1872(),a1228.a1122.a1873(),ObjectPool.pop("a1239"));a.initData("danposui1",1,1,30,!0,"danposui1"),a.x=-385,a.y=-80,a.scaleX=2,a.scaleY=2,this.Anim_Group.addChild(a);var n=function(a){var n=ObjectPool.pop("a1239");n.initData("danposui2",1,1,30,!0,"danposui2"),n.x=-385,n.y=-80,n.scaleX=2,n.scaleY=2,i.Anim_Group.addChild(n);var r=function(a){i.Flicker&&(i.Flicker.visible=!0,i.Flicker.alpha=0,egret.Tween.get(i.Flicker).to({alpha:1},200).call(function(){i.closeBtn&&!i.isComplete&&(i.isComplete=!0,i.Flicker.visible=!1,i.getBtn.visible=!0,i.closeBtn.touchEnabled=!0,i.a2122(!0),a1228.a1225.applyFunc(10004,5058,t,e,1),a1228.a1225.applyFunc(10004,5057))}))};n.a2594(r)};a.a2594(n)},e.prototype.a2097=function(){var t=this;if(4==a1232.guideStep){if(!this.guideFlag){var e=this.group.x+this.getBtn.x-this.getBtn.anchorOffsetX-this.group.anchorOffsetX,i=this.group.y+this.getBtn.y-this.getBtn.anchorOffsetY-this.group.anchorOffsetY;a1228.a1233.a2570(),a1228.a1233.a2572(this,299,78,e,i,function(){t.a2124(!0),t.guideFlag=!0,a1228.a1233.a2571(a1232.guideStep),a1227.getPoint("1012","引导点击孵蛋",7)}),a1228.a1233.a2565(this,e+105,i+45)}}else if(5==a1232.guideStep&&this.guideFlag){var e=this.group.x+this.closeBtn.x-this.closeBtn.anchorOffsetX-this.group.anchorOffsetX,i=this.group.y+this.closeBtn.y-this.closeBtn.anchorOffsetY-this.group.anchorOffsetY;a1228.a1233.a2570(),a1228.a1233.a2572(this,72,68,e,i,function(){t.a2125(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+35,i+52)}},e.prototype.a2127=function(){this.Data=[];for(var t in a1228.g_xiyouData){var e={select:1,index:a1228.g_xiyouData[t].index,xiyoupic:a1228.g_xiyouData[t].headicon,name:a1228.g_xiyouData[t].name,xiyou:a1228.g_xiyouData[t].xiyou};this.Data.push(e)}this.PropsReward.dataProvider=new eui.ArrayCollection(this.Data),this.PropsReward.itemRenderer=a1121},e.prototype.onClickJiFenBtn=function(){this.jifendbImg.visible?(this.jifendbImg.visible=!1,this.jifenGroup.visible=!0):(this.jifendbImg.visible=!0,this.jifenGroup.visible=!1)},e.prototype.onClickbaoxiang=function(t){this.isComplete&&-1==a1232.choukabx.indexOf(t)&&a1228.a1225.applyFunc(10004,5276,t)},e.prototype.addBxScore=function(){a1232.choukaScore+=1,a1228.a1225.applyFunc(10004,5042)},e.prototype.onbxRewardGet=function(t,e){if(-1==a1232.choukabx.indexOf(t)){var i=0,a=0;for(var n in a1228.g_choukajifenData)i+=1,a=a1228.g_choukajifenData[n].score;var r=a1228.g_choukajifenData[t];if(r){var s=r.score;if(!(a1232.choukaScore>=s))return;a1232.choukabx.push(t),a1232.choukabx.length>=i&&(a1232.choukabx=[],a1232.choukaScore-=a,a1232.choukaScore<0&&(a1232.choukaScore=0)),this.reflshbaoxiang();var o=a1232.addNewDinosaur(e[0]);a1228.a1225.applyFunc(10004,5058,o.id,!1,1),a1228.a1225.applyFunc(10004,5277),a1228.a1225.applyFunc(10004,5042)}}},e.prototype.reflshbaoxiang=function(){var t=!1,e=0;this.allScoreLabel.text=""+a1232.choukaScore;for(var i in a1228.g_choukajifenData){var a=a1228.g_choukajifenData[i].index;e=a1228.g_choukajifenData[i].score;var n="";if(1==a?n="B":2==a?n="A":3==a&&(n="S"),this["needScoreLabel"+a].text=langue.jifen+a1228.g_choukajifenData[i].score,-1!=a1232.choukabx.indexOf(a))this["bxImg"+a].source="jfbx"+n+"2_png",this["jifendbImg"+a].source="jfddb1_png",this["needScoreLabel"+a].textColor=9254437,this["isgetImg"+a].visible=!0;else{var r=a1228.g_choukajifenData[i].score;a1232.choukaScore>=r?(this["bxImg"+a].source="jfbx"+n+"1_png",this["jifendbImg"+a].source="jfddb1_png",this["needScoreLabel"+a].textColor=9254437,t=!0):(this["bxImg"+a].source="jfbx"+n+"1_png",this["jifendbImg"+a].source="jfddb2_png",this["needScoreLabel"+a].textColor=2565927),this["isgetImg"+a].visible=!1}}this.jinfenredImg.visible=t,this.progrssshow(e)},e.prototype.progrssshow=function(t){if(a1232.choukaScore>=t)this.jfjinduImg.height=this.jfjinduhuiImg.height;else if(0==a1232.choukaScore)this.jfjinduImg.height=0;else{this.jfjinduImg.height=0;var e=4.5,i=15.5;a1232.choukaScore>=1&&a1232.choukaScore<8?this.jfjinduImg.height+=a1232.choukaScore*e:8==a1232.choukaScore?this.jfjinduImg.height+=a1232.choukaScore*i:a1232.choukaScore>8&&a1232.choukaScore<16?(this.jfjinduImg.height+=8*i,this.jfjinduImg.height+=(a1232.choukaScore-8)*e):16==a1232.choukaScore?this.jfjinduImg.height+=a1232.choukaScore*(i-.5):a1232.choukaScore>16&&a1232.choukaScore<24&&(this.jfjinduImg.height+=16*(i-.5),this.jfjinduImg.height+=(a1232.choukaScore-16)*e)}},e.prototype.close=function(){a1228.a1226.a2525(102);this.tempAni&&this.tempAni.dispose(),this.tempAni=null,egret.Tween.removeTweens(this.rateBtn),egret.Tween.removeTweens(this.ImageEgg),a1251.a1413(this),a1228.a1252.removeAll(this),t.prototype.close.call(this),a1232.releaseChoukaRes(!0)},e}(a1116);__reflect(a1137.prototype,"a1137");var a1138=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.guideFlag=!1,r.groups=[],r._skin=a1243.ClearingSkin,r.data=a,r.ID=n,1==n?a1232.bossResult=!0:3==n&&(a1232.bossResult=!1),r}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2127(),this.a2090(),this.a2115(),setTimeout(function(){t.a2097()},500);var e=a1228.a1226.a2525(137);e&&e.a2151(),setTimeout(function(){a1228.SceneMgr.sceneMap.a2515()},200),setTimeout(function(){t.extraReward()},800),"vivogame"!=platform.name&&"mzgame"!=platform.name||!platform.showNativeAd||platform.showNativeAd(this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[119])},e.prototype.extraReward=function(){if(1==this.ID){var t=!1,e=a1232.curLevel-a1232.ewPass;if(4==a1232.curLevel||2==a1232.curLevel||3==a1232.curLevel)t=!0;else if(e>=3&&5>e){var i=a1228.a1245.random_num(0,100);i>=0&&20>=i&&3!=a1232.guideStep&&(t=!0)}else e>=5&&3!=a1232.guideStep&&(t=!0);4==a1232.curLevel&&t?(this.chipSImg.visible=!1,this.ewGroup.visible=!0,this.zjgqImg.source="qrls_png",this.ewfwLable.text="300",this.ewId=2):2!=a1232.curLevel&&3!=a1232.curLevel||!t?t&&(this.chipSImg.visible=!0,this.ewGroup.visible=!1,this.zjgqImg.source="zjlq_png",this.ewId=1):(this.chipSImg.visible=!1,this.ewGroup.visible=!0,this.videoIcon.visible=!1,this.videoIcon.scaleX=0,this.ewwzImg.x=43,this.zjgqImg.source="qrls_png",this.ewfwLable.text="160",this.ewId=3),this.zjGetBtn.visible=t,this.ewGetBtn.visible=t,this.sureBtn.visible=!t}},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){if("vivogame"!=platform.name){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()}},e.prototype.event=function(){a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1),a1251.a1412(this,this.Convinced_Image,egret.TouchEvent.TOUCH_TAP,this.onConvinced),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1),a1251.a1412(this,this.zjGetBtn,egret.TouchEvent.TOUCH_TAP,this.a2128,!1),a1251.a1412(this,this.ewGetBtn,egret.TouchEvent.TOUCH_TAP,this.a2129,!1)},e.prototype.a2128=function(){this.a2095()},e.prototype.a2129=function(){var t=this;if(3==this.ewId)return void this.handleFunc();var e=[],i=a1228.a1230.a2548();1==this.ewId?e=["119","翻牌1"]:2==this.ewId&&(e=["135","关卡boss300符文"]),a1228.a1230.a2549(function(){t.handleFunc()},i,e)},e.prototype.handleFunc=function(){this.zjGetBtn.visible=!1,this.ewGetBtn.visible=!1,this.sureBtn.visible=!0,3==a1232.curLevel&&a1228.a1225.applyFunc(10004,5164),1==this.ewId?(a1228.a1225.applyFunc(10004,5194),a1228.a1225.applyFunc(10004,5044,9)):2==this.ewId?(a1228.a1225.applyFunc(10004,5035,1,270,111),a1228.a1225.applyFunc(10004,5083,[[1,300]],!0),a1228.a1225.applyFunc(10004,5044,9)):3==this.ewId&&(a1228.a1225.applyFunc(10004,5035,1,130,111),a1228.a1225.applyFunc(10004,5083,[[1,160]],!0)),(2==this.ewId||3==this.ewId)&&2!=a1232.curLevel&&3!=a1232.guideStep&&1==this.ID&&a1228.a1225.applyFunc(10004,5088,this.ID),this.guideFlag&&a1227.getPoint("1011","第一次挑战BOSS额外奖励",7)},e.prototype.a2127=function(){if(this.shibaiLabels.text=a1228.a1230.formatEnglish(langue.skin_s23,this.shibaiLabels),1==this.ID){this.sucessGroup.visible=!0,this.loseGroup.visible=!1,this.adScroll.visible=!1,this.Label_CurveQi.text=""+a1228.g_Monster[a1232.curLevel].passName,a1228.g_Monster[a1232.curLevel+1]&&a1228.g_Monster[a1232.curLevel+1].passName?this.Label_Space.text=""+a1228.g_Monster[a1232.curLevel+1].passName:this.Label_Space.text="？？？",this.Data=[];for(var t in this.data.reward){var e={ID:this.data.reward[t][0],Count:this.data.reward[t][1]};this.Data.push(e)}this.PropsReward.dataProvider=new eui.ArrayCollection(this.Data),this.PropsReward.itemRenderer=a1135,this.Bone_Count.text=a1232.priceFormat(a1228.g_Monster[a1232.curLevel].reward[0][1],!0),a1228.g_Monster[a1232.curLevel+1]&&a1228.g_Monster[a1232.curLevel+1].reward?this.Sweets_Count.text=a1232.priceFormat(a1228.g_Monster[a1232.curLevel+1].reward[0][1],!0):this.Sweets_Count.text="？？？"}else 3==this.ID&&(this.sucessGroup.visible=!1,this.loseGroup.visible=!0,a1232.isShowAd?(this.adScroll.visible=!0,this.adList.dataProvider=new eui.ArrayCollection(a1232.adList[4]),this.adList.itemRenderer=a1128):this.adGroup.visible=!1)},e.prototype.adSlide=function(){var t=this;this.timeid&&clearTimeout(this.timeid),egret.Tween.pauseTweens(this.adList),this.timeid=setTimeout(function(){t.tweenslid?egret.Tween.resumeTweens(t.adList):t.tweenslid=egret.Tween.get(t.adList,{loop:!0}).to({scrollH:t.adList.contentWidth-t.adList.width},3e3).to({scrollH:0},3e3)},1e3)},e.prototype.a2095=function(){var t=a1228.a1226.a2525(101),e=a1228.a1226.a2525(102);if(1==this.ID){e.a2212();for(var i in this.data.reward)1==this.data.reward[i][0]&&this.data.reward[i][1]>=1&&(t?(t.a2260(a1220.UI_Main_UP),t.a2245()):(e.a2260(a1220.UI_Main_UP),e.a2245())),2==this.data.reward[i][0]&&this.data.reward[i][1]>=1&&(t?(t.BoneAnim(a1220.UI_Main_UP),t.a2245()):(e.BoneAnim(a1220.UI_Main_UP),e.a2245()));var a=!0;for(var i in systemOpenPass)if(a1232.curLevel==systemOpenPass[i]){a=!1;break}a1232.curLevel<=systemOpenPass.breakegg&&(a=!1),0==a1232.breakeggTimes&&!a1232.breakeggAS&&a&&a1228.a1225.applyFunc(10004,5176)}else 3==this.ID&&a1228.a1225.applyFunc(10004,5164);a1228.a1230.a2557(!1,this.group,5088,this.ID)},e.prototype.onConvinced=function(){var t=a1228.a1226.a2525(102);t&&t.a2252(),a1228.a1230.a2557(!1,this.group,5088,this.ID)},e.prototype.a2097=function(){var t=this;if(3==a1232.guideStep&&2==a1232.curLevel&&3!=this.ID){var e=this.ewGetBtn.a1263(0,0),i=e.x-(this.x-this.anchorOffsetX)-this.ewGetBtn.anchorOffsetX,a=e.y-(this.y-this.anchorOffsetY)-this.ewGetBtn.anchorOffsetY;a1228.a1233.a2572(this,224,98,i,a,function(){t.a2129(),a1227.getPoint("1010","第一次挑战BOSS战斗胜利",7)}),a1228.a1233.a2565(this,i+80,a+50),a1228.a1233.a2566(),this.guideFlag=!0}else if(3==a1232.curLevel&&3!=this.ID){var e=this.ewGetBtn.a1263(0,0),i=e.x-(this.x-this.anchorOffsetX)-this.ewGetBtn.anchorOffsetX,a=e.y-(this.y-this.anchorOffsetY)-this.ewGetBtn.anchorOffsetY;a1228.a1233.a2572(this,224,98,i,a,function(){t.a2129(),t.ani&&t.ani.parent&&t.ani.parent.removeChild(t.ani);for(var e=0;e<t.groups.length;++e){var i=t.groups[e];i&&i.parent&&i.parent.removeChild(i)}t.ani=null,a1228.a1233.groups=[]}),a1228.a1233.a2565(this,i+80,a+50),a1228.a1233.a2566(),this.guideFlag=!0,this.ani=a1228.a1233.ani,this.groups=a1228.a1233.groups,a1228.a1233.ani=null,a1228.a1233.groups=[];for(var n=0;n<this.groups.length-1;n++)a1251.a1412(this,this.groups[n],egret.TouchEvent.TOUCH_TAP,function(){a1228.a1233.a2567()},!1)}},e.prototype.a2115=function(){var t=this,e="";if(1==this.ID){e="zhandoushengli";var i=a1228.a1245.CreateFrameAnimation(e,e);this.sucessGroup.addChild(i),i.x=360,i.y=155,i.scaleX=1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("newAnimation",1),this.ani1=i,egret.Tween.get(this.bgImg).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20),egret.Tween.get(this.infoGroup1).to({alpha:0},0).wait(740).to({alpha:1},50).call(function(){}),egret.Tween.get(this.scroll).wait(840).call(function(){for(var e=t.PropsReward.$children,i=0;i<e.length;i++){var a=e[i];a.group.scaleX=0,a.group.scaleY=0,egret.Tween.get(a.group).wait(50*a.itemIndex).to({scaleX:1,scaleY:1},200)}t.scroll.visible=!0}),this.scroll.visible=!1,this.sureBtn.visible=!1}else if(3==this.ID){e="zhandoushibai2";var i=a1228.a1245.CreateFrameAnimation(e,e);this.loseGroup.addChild(i),i.x=360,i.y=210,i.scaleX=1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("newAnimation",1),this.ani2=i,egret.Tween.get(this.infoGroup2).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20).call(function(){t.returnBtn.visible=!0,t.Convinced_Image.visible=!0}),this.returnBtn.visible=!1,this.Convinced_Image.visible=!1}},e.prototype.close=function(){a1228.a1245.closeBanner(),egret.Tween.removeTweens(this.adList),a1251.a1413(this),this.ani1&&(this.ani1.parent&&this.ani1.parent.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this.ani2&&(this.ani2.parent&&this.ani2.parent.removeChild(this.ani2),this.ani2.dispose(),this.ani2=null),t.prototype.close.call(this)},e}(a1116);__reflect(a1138.prototype,"a1138");var ClearRoleDateView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.clearRoleDateSkin,n.type=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),a1228.a1225.applyFunc(10004,5017)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){1==this.type?this.onsetting():2==this.type&&this.onfenghao()},e.prototype.onsetting=function(){if(a1228.a1245.a2619(this,this.sureBtn,2e3)){var t={gameId:a1232.gameID,trackId:a1232.trackId};a1228.a1247.a2623(a1232.URL_CLEAR,egret.URLRequestMethod.POST,t,function(t){if(t&&0==t.status&&a1232.areas.length>0){var e=a1232.areas[a1232.areas.length-1].id;a1232.gameAreaId=e,a1232.gameAreaId2=e,a1232.initdata=!1,a1228.Main.isLogining=!1,a1232.trackId="",a1228.a1225.applyFunc(10004,5017),a1228.a1225.applyFunc(10004,5275),a1228.Main.a2479()}},null)}},e.prototype.onfenghao=function(){a1232.trackId="1";var t={playerId:a1232.fenghaoID};a1228.a1247.a2623(a1232.URL_CLEARJIE,egret.URLRequestMethod.POST,t,function(t){t&&t.data&&(a1232.initdata=!1,a1228.Main.isLogining=!1,a1232.trackId="",a1228.a1225.applyFunc(10004,5017),a1228.a1225.applyFunc(10004,5275),a1228.Main.a2479())},null)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5275)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ClearRoleDateView.prototype,"ClearRoleDateView");var a1139=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.cCount=0,n._skin=a1243.CommonDialog,n.data=a||{},n}return __extends(e,t),e.prototype.initUI=function(){return this.contentLabel?(this.contentLabel.text=this.data.content||"",this.tipGroup2.visible=!1,this.adGroup.visible=!1,this.event(),this.a2134(),this.a2090(),void(this.data.type?2==this.data.type?(this.cancleBtn.visible=!0,this.cancleBtn.x=159,this.closeBtn.x=374):3==this.data.type?(this.tipRect.width=a1228.a1122.a1872(),this.tipRect.height=a1228.a1122.a1873(),this.cCount=0,a1228.a1252.doTimer(500,0,this.a2132,this)):4==this.data.type?(this.cancleBtn.visible=!1,this.closeBtn2.visible=!0):5==this.data.type?(this.videoGroup.visible=!0,this.cancleBtn.visible=!0,this.sureImg.visible=!1,this.cancleBtn.x=159,this.closeBtn.x=374):6==this.data.type&&this.data.playerID&&this.fenghaoHandle():this.cancleBtn.visible=!1)):void a1228.a1225.applyFunc(10004,5171)},e.prototype.fenghaoHandle=function(){var t=this;if(this.fenghaoGroup.visible=!0,this.contentLabel.visible=!1,this.contentLabel1.text=this.data.content||"",this.idLable.text="玩家ID："+this.data.playerID,a1232.fenghaoID=this.data.playerID,"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name||platform.isLocal()?(this.clearLabel.scaleX=1,this.spaceLabel.scaleX=1):(this.clearLabel.scaleX=0,this.spaceLabel.scaleX=0,this.clearLabel.visible=!1),a1251.a1412(this,this.copyLabel,egret.TouchEvent.TOUCH_TAP,function(){platform.copyText(t.data.playerID+"")},!1),a1251.a1412(this,this.clearLabel,egret.TouchEvent.TOUCH_TAP,function(){a1228.a1245.a2619(t,t.clearLabel,2e3)&&a1228.a1225.applyFunc(10004,5274,2)},!1),a1232.isShowAd&&"wxgame"==platform.name){var e={gameAreaId:this.data.gameAreaId,token:this.data.trackId,gameId:a1232.gameID,appid:a1232.appid};a1232.trackId=this.data.trackId,a1228.a1247.a2623(a1232.URL_AD_BASE+a1232.URL_AD,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){for(var i=e.data.length,a=0;i>a;++a){var n=e.data[a].position;a1232.thirdAdSlot[n]=e.data[a].id,a1232.adList[n]=e.data[a].apps||[];for(var r=0;r<a1232.adList[n].length;++r)a1232.adList[n][r].pos=n}a1232.adList[4].length>0?(t.adGroup.visible=!0,t.adScroll.visible=!0,t.adList.dataProvider=new eui.ArrayCollection(a1232.adList[4]),t.adList.itemRenderer=a1128,t.adSlide()):t.adGroup.visible=!1}},null)}else this.adGroup.visible=!1},e.prototype.adSlide=function(){var t=this;this.timeid&&clearTimeout(this.timeid),egret.Tween.pauseTweens(this.adList),this.timeid=setTimeout(function(){t.tweenslid?egret.Tween.resumeTweens(t.adList):t.tweenslid=egret.Tween.get(t.adList,{loop:!0}).to({scrollH:t.adList.contentWidth-t.adList.width},3e3).to({scrollH:0},3e3)
},1e3)},e.prototype.getType=function(){return this.data&&this.data.type},e.prototype.islogin=function(){return this.tipGroup2.visible},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2132=function(){this.cCount+=1,this.cCount>3&&(this.cCount=1),1==this.cCount?this.tipLabel.text=langue.connectting+".":2==this.cCount?this.tipLabel.text=langue.connectting+"..":3==this.cCount&&(this.tipLabel.text=langue.connectting+"...")},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.cancleBtn,egret.TouchEvent.TOUCH_TAP,this.a2133),a1251.a1412(this,this.closeBtn2,egret.TouchEvent.TOUCH_TAP,this.a2133)},e.prototype.a2133=function(){a1228.a1225.applyFunc(10004,5171)},e.prototype.a2095=function(){3==this.data.type&&(this.tipGroup2.visible=!0),this.data.callback&&this.data.callback()||a1228.a1225.applyFunc(10004,5171)},e.prototype.a2134=function(){var t=this;this.data.delayClose&&(this.closeBtn.visible=!1,a1228.a1252.doTimer(this.data.delayClose,1,function(){t.closeBtn.visible=!0},this))},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1139.prototype,"a1139");var DayGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.num=80,a._skin=a1243.dayGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.reflshUI(),this.event(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[402])},e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t=this;if(a1232.dayTaskTimes<=0)return void a1228.a1245.a2612("已领取");var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["402","每日礼包"])},e.prototype.handleFunc=function(){a1232.dayTaskTimes-=1,a1228.a1225.applyFunc(10004,5083,[[1,this.num]]),a1228.a1225.applyFunc(10004,5035,1,this.num,132),a1228.a1225.applyFunc(10004,5042),this.reflshUI()},e.prototype.reflshUI=function(){this.numLabel.text="x"+this.num,this.timesLabel.text=a1232.dayTaskTimes+"/3",this.progressImage.width=a1232.dayTaskTimes/3*this.huiImg.width,a1232.dayTaskTimes<=0?(this.advImg.scaleX=0,this.getwzLabel.text="已领取",this.statedbImg.source="an_2_png"):(this.advImg.scaleX=1,this.getwzLabel.text="领取",this.statedbImg.source="TiaoZhanLabel_png")},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(DayGiftView.prototype,"DayGiftView");var a1140=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.daysAwardSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.refresh(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095);for(var e=function(e){a1251.a1412(i,i["group"+e],egret.TouchEvent.TOUCH_TAP,function(){t.a2135(e)})},i=this,a=1;7>=a;++a)e(a)},e.prototype.refresh=function(){for(var t=1;7>=t;++t)this["iconImg"+t].source=t==a1232.signDay&&!a1232.hasDaySign&&"reds"+t+"_png"||"greens"+t+"_png",this["signImg"+t].visible=t<a1232.signDay||t==a1232.signDay&&a1232.hasDaySign},e.prototype.a2135=function(t){var e=this;if(a1232.signDay==t&&!a1232.hasDaySign){var i=a1228.g_SignData[t];i&&(i.coin?(a1232.hasDaySign=!0,this.refresh(),a1228.a1225.applyFunc(10004,5035,1,i.coin,2),a1228.a1225.applyFunc(10004,5042)):i.suipian?a1228.a1225.applyFunc(10004,5139,2,i.suipian[1],function(t){if(i.ad){var a=a1228.a1230.a2548();a1228.a1230.a2549(function(){e.handleFunc_1(t,i)},a,["120","签到奖励"])}else e.handleFunc_1(t,i)},i.ad):i.konglong&&a1228.a1225.applyFunc(10004,5139,1,i.konglong,function(t){if(i.ad){var a=a1228.a1230.a2548();a1228.a1230.a2549(function(){e.handleFunc_2(t)},a,["120","签到奖励"])}else e.handleFunc_2(t)},i.ad))}},e.prototype.handleFunc_1=function(t,e){a1232.hasDaySign=!0,this.refresh(),a1228.a1225.applyFunc(10004,5036,t,e.suipian[0]),a1228.a1225.applyFunc(10004,5083,[[t,e.suipian[0]]]),a1228.a1225.applyFunc(10004,5140),a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.handleFunc_2=function(t){a1232.hasDaySign=!0,this.refresh();var e=a1232.addNewDinosaur(t);a1228.a1225.applyFunc(10004,5058,e.id,!1,1),a1228.a1225.applyFunc(10004,5140),a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5181)},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),a1232.releaseSignRes(!0),t.prototype.close.call(this)},e}(a1116);__reflect(a1140.prototype,"a1140");var a1141=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.debrisItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2108,!1)},e.prototype.a2108=function(){var t=a1228.a1226.a2525(167);t&&t.a2140(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=this.data.id;this.debrisImg.source=a1228.g_PropsData[t].icon,this.countLabel.text=this.data.hasCount,this.selectImg.visible=this.data.select,this.data.select?(this.wanImg.visible=!1,this.redImg.visible=this.data.he1&&!0||!1):this.data.he1?(this.wanImg.visible=!1,this.redImg.visible=!0):this.data.he2?(this.wanImg.visible=!0,this.redImg.visible=!1):(this.wanImg.visible=!1,this.redImg.visible=!1),this.xiyouImg.source="chipxiyou_"+this.data.xiyou+"_png"},e}(eui.ItemRenderer);__reflect(a1141.prototype,"a1141");var a1142=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a.wanGouFlag=!1,a._skin=a1243.debrisSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2138(1),this.a2141(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.heBtn,egret.TouchEvent.TOUCH_TAP,this.a2139),a1251.a1412(this,this.wanBtn,egret.TouchEvent.TOUCH_TAP,this.a2137,!1),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2137=function(){this.selectData&&(this.wanGouImg.visible?this.wanGouFlag=!1:this.wanGouFlag=!0,this.a2141())},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scrollers.a1621(),this.initialize()},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5155)},e.prototype.a2139=function(){if(this.selectData&&this.selectData.id){var t=this.selectData.id,e=this.selectData.xiyou,i=this.selectData.hasCount,a=this.selectData.wanCount,n=a1228.g_PropsData[t].suipianNum,r=this.getStr_abcs(e);if(i>=n){var s=t%100,o=a1232.addNewDinosaur(s);return a1228.a1225.applyFunc(10004,5036,t,-n),a1228.a1225.applyFunc(10004,5058,o.id,!1,2),this.selectData=null,this.wanGouFlag=!1,this.a2138(this.saiXun),void this.a2141()}if(n>i+a)return void a1228.a1245.a2612(langue.chipbuzu);if(i+a>=n){if(this.wanGouFlag){var s=t%100,o=a1232.addNewDinosaur(s);return a1228.a1225.applyFunc(10004,5036,t,-i),a1228.a1225.applyFunc(10004,5037,300+e,-(n-i)),a1228.a1225.applyFunc(10004,5058,o.id,!1,2),this.selectData=null,this.wanGouFlag=!1,this.a2138(this.saiXun),void this.a2141()}if(n>i)return void a1228.a1245.a2612(langueOfvalue(langue.plwanneg,r))}}else a1228.a1245.a2612(langue.needchiphe)},e.prototype.initialize=function(){this.data=[];for(var t in a1228.g_PropsData)if(Number(t)>200&&Number(t)<300){var e=Number(t);if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[e-200].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[e-200].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[e-200].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[e-200].xiyou){var i=a1228.g_PlayerData[e-200].xiyou,a=a1232.wanDebris[300+i]||0,n=a1232.Debris[e]||0,r={id:e,hasCount:n,wanCount:a,xiyou:i,needCount:a1228.g_PropsData[e].suipianNum,he1:n>=a1228.g_PropsData[e].suipianNum&&1||0,he2:n+a>=a1228.g_PropsData[e].suipianNum&&1||0,select:!1};this.selectData&&this.selectData.id==r.id&&(r.select=!0,this.selectData=r),this.data.push(r)}}this.data.sort(function(t,e){return t.he1==e.he1?t.he2==e.he2?t.hasCount==e.hasCount&&t.xiyou==e.xiyou?t.xiyou<e.xiyou&&1||-1:t.hasCount<e.hasCount&&1||-1:t.he2<e.he2&&1||-1:t.he1<e.he1&&1||-1}),this.scrollerList.dataProvider=new eui.ArrayCollection(this.data),this.scrollerList.itemRenderer=a1141},e.prototype.a2140=function(t){this.wanGouFlag=!1,this.selectData&&this.selectData.id==t.data.id?(t.data.select=!1,this.selectData=null):(this.selectData?(t.data.select=!0,this.selectData.select=!1):t.data.select=!0,this.selectData=t.data);for(var e=0;e<t.parent.numChildren;e++){var i=t.parent.getChildAt(e);i.reflesh()}this.a2141()},e.prototype.a2141=function(){if(this.sWanNumLabel.text=""+(a1232.wanDebris[304]||0),this.aWanNumLabel.text=""+(a1232.wanDebris[303]||0),this.bWanNumLabel.text=""+(a1232.wanDebris[302]||0),this.cWanNumLabel.text=""+(a1232.wanDebris[301]||0),this.selectData&&this.selectData.id){this.addImg.visible=!1,this.chipuseImg.visible=!0,this.wantipLabel.visible=!1,this.numSrcLabel.visible=!0;var t=this.selectData.id;this.chipuseImg.source=a1228.g_PropsData[t].icon;var e=this.getStr_abcs(this.selectData.xiyou);this.nameLabel.text=a1228.g_PlayerData[t-200].name,this.selectData.he1?(this.wanBtn.visible=!1,this.wantipLabel.visible=!1,this.heImg.source="TiaoZhanLabel_png",this.numSrcLabel.textColor=14490909,this.numSrcLabel.text=this.selectData.hasCount+"/"+a1228.g_PropsData[t].suipianNum):this.selectData.he2?(this.wanBtn.visible=!0,this.wanGouFlag?(this.heImg.source="TiaoZhanLabel_png",this.wanGouImg.visible=!0,this.wanLabel.text=langueOfvalue(langue.usewanneng,e),this.numSrcLabel.textFlow=[{text:a1228.g_PropsData[t].suipianNum+"/"+a1228.g_PropsData[t].suipianNum,style:{textColor:14490909}},{text:"（+"+(a1228.g_PropsData[t].suipianNum-this.selectData.hasCount)+"）",style:{size:18,textColor:1941768}}]):(this.heImg.source="an_2_png",this.wanGouImg.visible=!1,this.wanLabel.text=langueOfvalue(langue.usewanneng1,e),this.numSrcLabel.textColor=6503466,this.numSrcLabel.text=this.selectData.hasCount+"/"+a1228.g_PropsData[t].suipianNum)):(this.heImg.source="an_2_png",this.wanBtn.visible=!1,this.wantipLabel.visible=!0,this.numSrcLabel.textColor=6503466,this.numSrcLabel.text=this.selectData.hasCount+"/"+a1228.g_PropsData[t].suipianNum,this.wantipLabel.text=langueOfvalue(langue.nowanneng,e))}else this.heImg.source="an_2_png",this.wanBtn.visible=!1,this.wantipLabel.visible=!1,this.numSrcLabel.visible=!1,this.addImg.visible=!0,this.chipuseImg.visible=!1,this.nameLabel.text=""},e.prototype.getStr_abcs=function(t){var e="";return 1==t?e="C":2==t?e="B":3==t?e="A":4==t&&(e="S"),e},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1142.prototype,"a1142");var DinosaursCheerInfoItemView=function(t){function e(){var e=t.call(this)||this;return e.beginTime=0,e.skinName=a1243.dinosaursCheerInfoItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){var t=this;a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.group1,egret.TouchEvent.TOUCH_BEGIN,function(e){t.a2143(0,e)},!1),a1251.a1412(this,this.group2,egret.TouchEvent.TOUCH_BEGIN,function(e){t.a2143(1,e)},!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this.suoImg1,egret.TouchEvent.TOUCH_TAP,this.a2142.bind(this,0),!1),a1251.a1412(this,this.suoImg2,egret.TouchEvent.TOUCH_TAP,this.a2142.bind(this,1),!1)},e.prototype.a2142=function(t){var e=this;if(!(a1232.cheerLock[this.itemIndex][t]>0)){if(a1232.curLevel<12&&0==t)return void a1228.a1245.a2612(langueOfvalue(langue.passOpen,11));if(a1232.curLevel<66&&1==t)return void a1228.a1245.a2612(langueOfvalue(langue.passOpen,65));var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){e.handleFunc(t)},i,["118","解锁助阵"])}},e.prototype.handleFunc=function(t){a1232.cheerLock[this.itemIndex][t]=1,this.reflesh2(),a1228.a1245.a2612(langue.cheerhasopen),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2143=function(t,e){var i=a1228.a1226.a2525(184);i&&(i.cheerid=a1232.cheerIDs[this.itemIndex][t],i.clickGroup=this["group"+(t+1)],i.cheerIndex=this.itemIndex,i.gridid=t,i.addImg=this["addImg"+(t+1)],i.srcGroup=this["srcGroup"+(t+1)],i.a2153(this,e),this.beginTime=egret.getTimer())},e.prototype.touchEnd=function(t){var e=a1228.a1226.a2525(184);if(e&&e.a2153(null,t),egret.getTimer()-this.beginTime<130){var i=a1232.cheerIDs[this.itemIndex][e.gridid];if(i&&i>0){var a=a1232.playerIDs[i];a&&a1228.a1225.applyFunc(10004,5099,a)}}},e.prototype.onclean=function(){a1251.a1413(this),this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){if(this.data.id>0&&a1232.playerIDs[this.data.id]){var t=a1232.playerIDs[this.data.id],e=t.level;this.a2146(t);var i=a1228.a1230.a1921(t);this.levelGroup.y=Math.max(-a1228.g_ModelSize[i].height+270,20),this.bitNameLabel.text="lv."+e+" "+a1228.a1230.a2554(t),this.bghImg.width=this.bitNameLabel.width+33}else this.levelGroup.visible=!1;this.reflesh2()},e.prototype.reflesh2=function(){this.videoImg1.touchEnabled=!1,this.videoImg2.touchEnabled=!1;var t=a1232.cheerIDs[this.itemIndex][0],e=a1232.cheerIDs[this.itemIndex][1],i=a1232.cheerLock[this.itemIndex][0],a=a1232.cheerLock[this.itemIndex][1];if(t>0&&i>0){var n=a1232.playerIDs[t],r=n.index;this.group1.visible=!0,this.srcGroup1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.addImg1.visible=!1,this.limitLabel1.visible=!1,this.levelLabel1.text=n.level+"",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[r].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[r].xiyou+"_png";var s=a1228.a1230.a2554(n);this.nameLabel1.text=s,this.dinosaurImg1.source=a1228.a1230.a2555(n);var o=a1228.g_PlayerData[n.skillIndex].skills[0];this.srcLabel1_1.text=langue.cheerskill+a1228.g_Skil[o].skilName,this.srcLabel1_2.text=langue.shuxing}if(i>0&&0>=t?(this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.limitLabel1.visible=!1):a1232.curLevel<12&&0>=i?(this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!1,this.suoImg1.visible=!0,this.videoImg1.visible=!1,this.limitLabel1.visible=!0,this.limitLabel1.text=langueOfvalue(langue.passOpen,24)):a1232.curLevel>=12&&0>=i&&(this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!1,this.suoImg1.visible=!0,this.videoImg1.visible=!0,this.limitLabel1.visible=!1),e>0&&a>0){var n=a1232.playerIDs[e],r=n.index;this.group2.visible=!0,this.srcGroup2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1,this.addImg2.visible=!1,this.limitLabel2.visible=!1,this.levelLabel2.text=n.level+"",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[r].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[r].xiyou+"_png";var l=a1228.a1230.a2554(n);this.nameLabel2.text=l,this.dinosaurImg2.source=a1228.a1230.a2555(n);var o=a1228.g_PlayerData[n.skillIndex].skills[0];this.srcLabel2_1.text=langue.cheerskill+a1228.g_Skil[o].skilName,this.srcLabel2_2.text=langue.shuxing}else a>0&&0>=e?(this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1,this.limitLabel2.visible=!1):a1232.curLevel<66&&0>=a?(this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!1,this.suoImg2.visible=!0,this.videoImg2.visible=!1,this.limitLabel2.visible=!0,this.limitLabel2.text=langueOfvalue(langue.passOpen,65)):a1232.curLevel>=66&&0>=a&&(this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!1,this.suoImg2.visible=!0,this.videoImg2.visible=!0,this.limitLabel2.visible=!1)},e.prototype.a2146=function(t){var e=this;this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var i=a1228.a1230.a1921(t),a=a1228.a1245.CreateFrameAnimation(i,i);this.dinosaurGroup.addChild(a),a.x=-180,a.y=80,a.scaleX=-.6,a.scaleY=.6,a.touchEnabled=!0,a.touchChildren=!1,a.animation&&a.animation.play("daiji",0),this.ani=a,a1251.a1412(this,this.ani,egret.TouchEvent.TOUCH_TAP,function(){a1228.a1225.applyFunc(10004,5099,a1232.playerIDs[e.data.id])},!1)},e}(eui.ItemRenderer);__reflect(DinosaursCheerInfoItemView.prototype,"DinosaursCheerInfoItemView");var DinosaursCheerItemView=function(t){function e(){var e=t.call(this)||this;return e.clickTime=0,e.skinName=a1243.dinosaursCheerItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_BEGIN,this.a2143,!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a2143=function(t){this.clickTime=egret.getTimer();var i=a1228.a1226.a2525(e.parentView);i&&i.a2153(this,t)},e.prototype.touchEnd=function(t){var i=a1228.a1226.a2525(e.parentView);i&&i.a2153(null,t);var a=egret.getTimer();if(a-this.clickTime<130){this.clickTime=0;var n=a1232.playerIDs[this.data.id];a1228.a1225.applyFunc(10004,5099,n)}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.setStarPos=function(){var t=this.data.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.refresh=function(){var t=this.data.index;this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(this.data.info),this.dinosaurImg.source=a1228.a1230.a2555(this.data.info);var e="";this.data.fight?e="sztips_png":this.data.cheer&&(e="zztips_png"),this.useImg.source=e,a1228.a1230.a2552(this,"starImg",this.data.star,!1),this.setStarPos()},e}(eui.ItemRenderer);__reflect(DinosaursCheerItemView.prototype,"DinosaursCheerItemView");var DinosaursCheerView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a._skin=a1243.dinosaursCheerSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2155(),this.a2138(1),this.a2090(),a1228.a1230.a2557(!0,this.group),this._controller.a1916(5100,this.a2154,this)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.scroll2,egret.Event.CHANGE,this.clearData,!1),a1251.a1412(this,this.scroll1,egret.Event.CHANGE,this.clearData,!1),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll2.a1621(),this.a2156()},e.prototype.clearData=function(){this.cheerData=null,this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5041),a1228.a1230.a2557(!1,this.group,5189)},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.ani&&(this.ani.x=this.ani.baseX+(t.stageX-this.beginPos[0]),this.ani.y=this.ani.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(t){if(this.cheerData&&this.ani){if(this.cheerData instanceof DinosaursCheerItemView){for(var e=[],i=0;i<this.scrollList1.numChildren;i++){var a=this.scrollList1.getChildAt(i),n=a.group1.a1263(0,0),r=a.group2.a1263(0,0);e.push([n,r,a.itemIndex])}for(var i=0;i<e.length;i++){var s=Math.sqrt(Math.pow(e[i][0].x-t.stageX,2)+Math.pow(e[i][0].y-t.stageY,2)),o=Math.sqrt(Math.pow(e[i][1].x-t.stageX,2)+Math.pow(e[i][1].y-t.stageY,2)),l=e[i][2];120>=s&&t.stageX>e[i][0].x&&t.stageY>e[i][0].y?a1232.cheerLock[l][0]>0?(a1232.cheerIDs[l][0]=this.cheerData.data.id,a1228.a1225.applyFunc(10004,5041),this.a2152()):0==a1232.cheerLock[l][0]&&a1228.a1245.a2612(langue.unlock):120>=o&&t.stageX>e[i][1].x&&t.stageY>e[i][1].y&&(a1232.cheerLock[l][1]>0?(a1232.cheerIDs[l][1]=this.cheerData.data.id,a1228.a1225.applyFunc(10004,5041),this.a2152()):0==a1232.cheerLock[l][1]&&a1228.a1245.a2612(langue.unlock))}this.scroll2.scrollPolicyV=eui.ScrollPolicy.ON}else if(this.cheerData instanceof DinosaursCheerInfoItemView){var h=this.clickGroup.a1263(0,0);t.stageX>=h.x&&t.stageX<=h.x+this.clickGroup.width&&t.stageY>=h.y&&t.stageY<=h.y+this.clickGroup.height?(this.clickGroup.visible=!0,this.srcGroup.visible=!0):(a1232.cheerIDs[this.cheerIndex][this.gridid]=0,a1228.a1225.applyFunc(10004,5041),this.a2152()),this.scroll1.scrollPolicyV=eui.ScrollPolicy.ON}this.clearData()}},e.prototype.a2152=function(){for(var t=0;t<this.scrollList1.$children.length;t++){var e=this.scrollList1.$children[t];e.reflesh2()}this.a2156();for(var t=0;t<this.scrollList2.$children.length;t++){var e=this.scrollList2.$children[t];e.refresh()}var i=a1228.a1226.a2525(102);i&&i.a2267()},e.prototype.a2153=function(t,e){var i=this;this.clearData(),t instanceof DinosaursCheerItemView?this.delayID=egret.setTimeout(function(){if(t.data.cheer)return void a1228.a1245.a2612(langue.cheerin);if(t.data.fight)return void a1228.a1245.a2612(langue.shangin);var a=a1228.a1230.a2550(t.data.id);if(a[2])return void a1228.a1245.a2612(langue.producein);i.cheerData=t,i.a2146(t.data.info);var n=(t.a1263(0,0),a1228.a1230.a1921(t.data.info)),r=i.dinosaurGroup.globalToLocal(e.stageX,e.stageY);i.ani.x=r.x,i.ani.y=r.y+a1228.g_ModelSize[n].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll2.scrollPolicyV=eui.ScrollPolicy.OFF},this,130):t instanceof DinosaursCheerInfoItemView&&(this.delayID=egret.setTimeout(function(){i.cheerData=t;var a=a1232.playerIDs[i.cheerid];i.a2146(a);var n=a1228.a1230.a1921(a),r=i.dinosaurGroup.globalToLocal(e.stageX,e.stageY);i.ani.x=r.x,i.ani.y=r.y+a1228.g_ModelSize[n].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll1.scrollPolicyV=eui.ScrollPolicy.OFF,i.clickGroup.visible=!1,i.addImg.visible=!0,i.srcGroup.visible=!1},this,130))},e.prototype.a2146=function(t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.dinosaurGroup.addChild(i),i.x=0,i.y=0,i.scaleX=-.9,i.scaleY=.9,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.a2154=function(){for(var t=0;t<this.scrollList1.$children.length;t++){var e=this.scrollList1.$children[t];e.reflesh()}for(var t=0;t<this.scrollList2.$children.length;t++){var e=this.scrollList2.$children[t];e.refresh()}},e.prototype.a2155=function(){this.data1=[];for(var t=0;2>t;t++){var e={id:a1232.curPlayers[t]};this.data1.push(e)}this.scrollList1.dataProvider=new eui.ArrayCollection(this.data1),this.scrollList1.itemRenderer=DinosaursCheerInfoItemView},e.prototype.a2156=function(){this.data2=[];for(var t in a1232.playerIDs){var e=a1232.playerIDs[t],i=e.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[i].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[i].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[i].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[i].xiyou){var a=a1228.a1230.a2550(Number(t)),n={id:Number(t),index:i,level:e.level,star:e.star,jinhua:e.jinhua,xiyou:a1228.g_PlayerData[i].xiyou,info:e,bianyi:e.bianyi&&1||0,fight:a[0],cheer:a[1],produce:a[2],grow:a[3]};this.data2.push(n)}}this.data2.sort(function(t,e){return t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1:t.fight<e.fight&&1||-1}),this.scrollList2.dataProvider=new eui.ArrayCollection(this.data2),this.scrollList2.itemRenderer=DinosaursCheerItemView,DinosaursCheerItemView.parentView=184},e.prototype.close=function(){a1228.a1245.closeBanner(),this._controller.a1917(5100,this.a2154,this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(DinosaursCheerView.prototype,"DinosaursCheerView");var DinosaursDetailsView=function(t){function e(e,i,a,n){void 0===n&&(n=!1);var r=t.call(this,e,i,null)||this;return r.id=0,r.isChangeName=!1,r.isZhengba=!1,r.charactTimes=0,r._skin=a1243.dinosaursDetailsView,r.dinosaur=a,r.id=a.id,r.propdata=a.extdata,r.isZhengba=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2090(),a1228.a1252.doTimer(1e3,0,this.showCharacterBtn,this),a1228.a1230.a2557(!0,this.group1)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.showInfo=function(){var t=this,i="",a=0,n=a1228.g_PlayerData[this.dinosaur.index].xiyou;if(1==n?i="C":2==n?i="B":3==n?i="A":4==n&&(i="S"),a=this.getColor(i),this.gradeLabel.textColor=a,this.gradeLabel.text=i,!this.propdata||this.propdata.showGrow){this.nameLabel.textFlow=[{text:a1228.a1230.a2554(this.dinosaur),style:{size:33,textColor:3409413}},{text:"    LV. "+this.dinosaur.level,style:{size:20,textColor:6309147}}];var r=a1228.g_PlayerData[this.dinosaur.skillIndex].skills[0],s=langue.bdjn+a1228.g_Skil[r].skilName+"\n";s+=langue.skin_s46+a1228.g_Skil[r].skillDesc+"\n",s+=langue.skin_s94+a1228.g_Skil[r+100].skillDesc+"\n",s+=a1228.g_PlayerData[this.dinosaur.index].scr,this.scrLabel.text=s}else if(this.nameLabel.textFlow=[{text:a1228.a1230.a2554(this.dinosaur),style:{size:33,textColor:3409413}}],this.propdata.skills&&this.propdata.skills.length>0){var r=this.propdata.skills[0];this.scrLabel.text=langue.bdjn+"\n"+a1228.g_Skil[r].skilName+":"+a1228.g_Skil[r].skillDesc+"\n"+a1228.g_PlayerData[this.dinosaur.index].scr}else this.scrLabel.text=a1228.g_PlayerData[this.dinosaur.index].scr;this.xiyouImg.visible=this.dinosaur.bianyi&&!0||!1,this.sexImg.source=1==this.dinosaur.sex&&"sex1_png"||2==this.dinosaur.sex&&"sex2_png"||"",this.tipGroup.visible=!1,this.tipLabel.lineSpacing=5;for(var o=this.dinosaur.produceNum,l=1;3>=l;l++)this.dinosaur.produceNum<l&&(this["leafImg"+l].filters=a1228.a1230.a2556());if(this.tipLabel.textFlow=[{text:langue.producesrc1,style:{size:22,textColor:16777215}},{text:o+"\n",style:{size:22,textColor:16769890}},{text:langue.producesrc2+"\n",style:{size:20,textColor:16777215}},{text:a1228.g_functionData[6].src,style:{size:20,textColor:12105912}}],this.dinosaur.level<3e3){var h=a1232.priceFormat(this.dinosaur.exp,!0),p=a1232.priceFormat(a1228.g_LvExpData[this.dinosaur.level].exp,!0);this.exLabel.text=h+"/"+p,this.exBarImg.width=Math.floor(this.dinosaur.exp/a1228.g_LvExpData[this.dinosaur.level].exp*202)}else this.exLabel.text=langue.fulllevel,this.exBarImg.width=202;a1228.a1230.a2552(this,"starImg",this.dinosaur.star,!1),this.setStarPos(),this.a2146(),this.dinosaur.isGuide||1==e.saixuan||this.propdata&&!this.propdata.showGrow?(e.saixuan=0,this.a2159()):(e.saixuan=0,this.a2160()),this.dinosaur.isGuide&&(this.dinosaur.isGuide=null,a1228.a1252.doTimer(500,1,function(){var e=t.growBtn.a1263(0,0),i=e.x-(t.x-t.anchorOffsetX),a=e.y-(t.y-t.anchorOffsetY);a1228.a1233.a2570(),a1228.a1233.a2572(t,115,50,i,a,function(){t.a2160(),a1228.a1233.a2570()}),a1228.a1233.a2565(t,i+40,a+25)},this)),this.dinosaur!=a1232.playerIDs[this.dinosaur.id]?(this.changeNameBtn.visible=!1,this.starLockBtn.visible=!1,this.treeGroup.visible=!1,this.sexImg.visible=!1,this.cheerBtn.visible=!1,this.exGroup.visible=!1):(this.treeGroup.visible=!0,!this.dinosaur.id||this.dinosaur.id!=a1232.curPlayers[0]&&this.dinosaur.id!=a1232.curPlayers[1]?this.cheerBtn.visible=!1:this.cheerBtn.visible=!0),this.dinosaur.character&&(this.xinggeImg.source=a1228.g_characterData[this.dinosaur.character].icon),this.propdata&&(this.propdata.showGrow||(this.growBtn.visible=!1,this.qualityBtn.visible=!1,this.growLabel1.visible=!1,this.qualityBg1.mask=new egret.Rectangle(0,0,this.qualityBg1.width/2-17,this.qualityBg1.height),this.starGroup.visible=!1,this.xinggeGroup.visible=!1),this.changeNameBtn.visible=!1,this.starLockBtn.visible=!1,this.sexImg.visible=!1,this.exGroup.visible=!1,this.propdata.showProduce?this.treeGroup.visible=!0:this.treeGroup.visible=!1),!this.propdata&&a1232.playerIDs[this.dinosaur.id]&&(a1232.starUpLockID[this.dinosaur.id]?this.starLockBtn.source="starsuo2_png":this.starLockBtn.source="starsuo1_png"),("kwaigame"==platform.name||"android"==platform.name)&&(this.changeNameBtn.visible=!1),"qqgame"==platform.name&&a1232.curLevel<9&&(this.changeNameBtn.visible=!1)
},e.prototype.getColor=function(t){var e=0;return"A"==t?e=12855515:"B"==t?e=2671326:"C"==t?e=4052133:"S"==t&&(e=14455336),e},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.changeNameBtn,egret.TouchEvent.TOUCH_TAP,this.a2163),a1251.a1412(this,this.starLockBtn,egret.TouchEvent.TOUCH_TAP,this.onClickStarLock),a1251.a1412(this,this.qualityBtn,egret.TouchEvent.TOUCH_TAP,this.a2159,!1),a1251.a1412(this,this.growBtn,egret.TouchEvent.TOUCH_TAP,this.a2160,!1),a1251.a1412(this,this.treeGroup,egret.TouchEvent.TOUCH_TAP,this.a2161,!1),a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158),a1251.a1412(this,this.xinggeGroup,egret.TouchEvent.TOUCH_TAP,this.onOpenCharacterRuleView)},e.prototype.onOpenCharacterRuleView=function(){a1228.a1225.applyFunc(10004,5298,!1)},e.prototype.showCharacterBtn=function(){var t=10,e=10;egret.Tween.removeTweens(this.xinggeGroup),0==this.charactTimes&&(this.charactTimes=e),this.charactTimes>=e&&this.charactTimes<=t+e?this.xinggeGroup.scaleX<.001&&egret.Tween.get(this.xinggeGroup).to({scaleX:1,scaleY:1},300):this.charactTimes>t+e&&(this.xinggeGroup.scaleX>.001&&egret.Tween.get(this.xinggeGroup).to({scaleX:0,scaleY:0},300),this.charactTimes=0),this.charactTimes+=1},e.prototype.onClickStarLock=function(){a1232.playerIDs[this.dinosaur.id]&&(a1232.starUpLockID[this.dinosaur.id]?(delete a1232.starUpLockID[this.dinosaur.id],this.starLockBtn.source="starsuo1_png",a1228.a1245.a2612(langue.yjs)):(a1232.starUpLockID[this.dinosaur.id]=1,this.starLockBtn.source="starsuo2_png",a1228.a1245.a2612(langue.ysd)),a1228.a1225.applyFunc(10004,5042))},e.prototype.a2158=function(){var t=0,e=0,i=[];if(this.dinosaur.id&&(a1232.curPlayers[0]&&a1232.curPlayers[0]==this.dinosaur.id?(t=a1232.cheerIDs[0][0],e=a1232.cheerIDs[0][1]):a1232.curPlayers[1]&&a1232.curPlayers[1]==this.dinosaur.id&&(t=a1232.cheerIDs[1][0],e=a1232.cheerIDs[1][1])),!t&&!e)return void a1228.a1245.a2612(langue.nocheer);this.cheershowGroup.visible?this.cheershowGroup.visible=!1:this.cheershowGroup.visible=!0,t&&i.push(t),e&&i.push(e);for(var a=1;2>=a;a++){var n=i[a-1];if(n){var r=a1232.playerIDs[n];if(r){var s=a1228.g_PlayerData[r.index].xiyou,o=a1228.g_PlayerData[r.skillIndex].skills[0]%100;this["cheerGroup"+a].visible=!0,this["raritycheerImg"+a].source="Level"+s+"_png",this["dinosaurcheerImg"+a].source=a1228.a1230.a2555(r),this["namecheerLabel"+a].text=a1228.a1230.a2554(r),this["levelcheerLabel"+a].text=langue.level+r.level,this["skillcheerNameLabel"+a].text=langue.cheerskill+a1228.g_Skil[o].skilName,this["skillcheerSrcLabel"+a].text="（"+a1228.g_Skil[o+100].skillDesc+"）",this["hpcheerLabel"+a].text=":+"+Math.floor(.05*a1232.a1886(r)),this["defcheerLabel"+a].text=":+"+Math.floor(.05*a1232.getDefence(r)),this["atkcheerLabel"+a].text=":+"+Math.floor(.05*a1232.getAttack(r)),this["specheerLabel"+a].text=":+0",this["baocheerLabel"+a].text=":+0%",this["sbcheerLabel"+a].text=":+0%",a1228.a1230.a2552(this,"starcheerImg"+a+"_",r.star,!1)}else this["cheerGroup"+a].visible=!1}else this["cheerGroup"+a].visible=!1}i.length<2&&(this.cheerScroller.scrollPolicyV=eui.ScrollPolicy.OFF)},e.prototype.a2159=function(){if(1!=e.saixuan){e.saixuan=1,this.qualityInfoGroup.visible=!0,this.growInfoGroup.visible=!1,this.qualityGroup.visible=!0,this.growGroup.visible=!1;this.propdata&&this.propdata.hp?this.hpLabel.text=langue.hp+" "+this.propdata.hp:this.hpLabel.text=langue.hp+" "+a1232.a1886(this.dinosaur,null,this.isZhengba),this.propdata&&this.propdata.def?this.defLabel.text=langue.def+" "+this.propdata.def:this.defLabel.text=langue.def+" "+a1232.getDefence(this.dinosaur,null,this.isZhengba),this.propdata&&this.propdata.atk?this.atkLabel.text=langue.atk+" "+this.propdata.atk:this.atkLabel.text=langue.atk+" "+a1232.getAttack(this.dinosaur,null,this.isZhengba),this.propdata&&this.propdata.atktime?this.speLabel.text=langue.spe+" "+(1e3/this.propdata.atktime).toFixed(2):this.speLabel.text=langue.spe+" "+a1232.getGongsu(this.dinosaur,null,this.isZhengba),this.propdata&&this.propdata.crit?this.critLabel.text=langue.crit+" "+this.propdata.crit/10+"%":this.critLabel.text=langue.crit+" "+a1232.getBaoji(this.dinosaur,null,this.isZhengba)+"%",this.propdata&&this.propdata.dodge?this.dodgeLabel.text=langue.dodge+" "+this.propdata.dodge/10+"%":this.dodgeLabel.text=langue.dodge+" "+a1232.getShanbi(this.dinosaur,null,this.isZhengba)+"%"}},e.prototype.a2160=function(){if(2!=e.saixuan){e.saixuan=2,this.qualityInfoGroup.visible=!1,this.growInfoGroup.visible=!0,this.qualityGroup.visible=!1,this.growGroup.visible=!0,egret.Tween.removeTweens(this.hpbarImg),egret.Tween.removeTweens(this.atkbarImg),egret.Tween.removeTweens(this.defbarImg);var t=0,i=0,a=0,n=245;this.dinosaur.growAdd?"object"==typeof this.dinosaur.growAdd?(t=this.dinosaur.growAdd[2],i=this.dinosaur.growAdd[0],a=this.dinosaur.growAdd[1]):(t=Math.floor(1.1*a1228.g_PlayerData[this.dinosaur.attrIndex].hpAdd),i=Math.floor(1.1*a1228.g_PlayerData[this.dinosaur.attrIndex].atkAdd),a=Math.floor(1.1*a1228.g_PlayerData[this.dinosaur.attrIndex].defAdd)):(t=a1228.g_PlayerData[this.dinosaur.attrIndex].hpAdd,i=a1228.g_PlayerData[this.dinosaur.attrIndex].atkAdd,a=a1228.g_PlayerData[this.dinosaur.attrIndex].defAdd),this.hpbarImg.width=Math.floor((t/100>=1&&1||t/100)*n),this.atkbarImg.width=Math.floor((i/100>=1&&1||i/100)*n),this.defbarImg.width=Math.floor((a/80>=1&&1||a/80)*n);var r="",s="",o="";r=t>=86?"S":t>=81&&85>=t?"A":t>=75&&80>=t?"B":"C",s=i>=85?"S":i>=73&&84>=i?"A":i>=62&&72>=i?"B":"C",o=a>=66?"S":a>=58&&65>=a?"A":a>=50&&57>=a?"B":"C",this.hpGrowLabel.textFlow=[{text:t+" ",style:{size:24,textColor:4994604}},{text:r,style:{size:26,textColor:this.getColor(r)}}],this.atkGrowLabel.textFlow=[{text:i+" ",style:{size:24,textColor:4994604}},{text:s,style:{size:26,textColor:this.getColor(s)}}],this.defGrowLabel.textFlow=[{text:a+" ",style:{size:24,textColor:4994604}},{text:o,style:{size:26,textColor:this.getColor(o)}}],egret.Tween.get(this.hpbarImg).to({width:0},0,egret.Ease.cubicInOut).to({width:this.hpbarImg.width},this.hpbarImg.width/n*300,egret.Ease.cubicInOut),egret.Tween.get(this.atkbarImg).to({width:0},0,egret.Ease.cubicInOut).to({width:this.atkbarImg.width},this.atkbarImg.width/n*300,egret.Ease.cubicInOut),egret.Tween.get(this.defbarImg).to({width:0},0,egret.Ease.cubicInOut).to({width:this.defbarImg.width},this.defbarImg.width/n*300,egret.Ease.cubicInOut)}},e.prototype.a2161=function(){this.tipGroup.visible?this.tipGroup.visible=!1:this.tipGroup.visible=!0},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group1,5100);var t=a1228.a1226.a2525(137);t&&this.isChangeName&&(t.a2177(1),t.a2177(2),t.a2107());var e=a1228.a1226.a2525(192);if(e&&this.isChangeName){for(var i=1;5>=i;i++)e.a2177(i);e.a2107()}},e.prototype.a2163=function(){var t=this;"kwaigame"!=platform.name&&a1228.a1225.applyFunc(10004,5213,1,this.dinosaur,function(e){t.dinosaur.name=e,t.nameLabel.text=e,t.isChangeName=!0})},e.prototype.a2146=function(){this.ani&&(this.dinosaursIGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var t=a1228.a1230.a1921(this.dinosaur),e=a1228.a1245.CreateFrameAnimation(t,t);this.dinosaursIGroup.addChild(e),e.x=220,e.y=220,e.scaleX=-1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),this.ani=e},e.prototype.setStarPos=function(){var t=this.dinosaur.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.close=function(){this.ani&&(this.dinosaursIGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.qualityBg1.mask=null,a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e.saixuan=1,e}(a1116);__reflect(DinosaursDetailsView.prototype,"DinosaursDetailsView");var DinosaursEvolutionView=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.isCancel=!1,r.lasttimes=0,r.playerName="",r._skin=a1243.dinosaursEvolutionSkin,r.id=a,r.times=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.show(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeGroup,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.quXiaoBtn,egret.TouchEvent.TOUCH_TAP,this.a2167)},e.prototype.show=function(){var t=this;this.group0.visible=!1,this.quXiaoBtn.visible=!0;var e=a1232.playerIDs[this.id],i=e.index;this.playerName=a1228.g_PlayerData[i].name,this.a2168();var a=a1228.a1230.a1921(e);this.a2146(a),this.label1.text=langue.jinhua1,this.label2.text=langueOfvalue(langue.jinhua2,this.playerName),this.label3.text="",a1228.a1238.playEffect("evolution_mp3"),a1228.a1252.doTimer(3500,1,function(){a1228.a1225.applyFunc(10004,5171),t.a2165()},this)},e.prototype.a2165=function(){var t=this;a1232.playerIDs[this.id].index;if(this.isCancel)0==a1232.playerIDs[this.id].jinhua?a1232.playerIDs[this.id].jinhua=-1:1==a1232.playerIDs[this.id].jinhua&&(a1232.playerIDs[this.id].jinhua=-2);else{this.quXiaoBtn.visible=!1;var e=a1232.playerIDs[this.id];if(this.lasttimes=e.jinhua,e.jinhua=this.times,this.label1.text=langueOfvalue(langue.jinhua3,this.playerName),this.label2.text="",this.label3.text="",this.a2169(),e.bianyi){var i=a1228.a1230.a1921(e);this.tempAni=a1228.a1245.CreateFrameAnimation(i,i)}a1228.a1225.applyFunc(10004,5041),a1228.a1252.doTimer(3500,1,function(){t.label1.text="",t.a2166();var i=a1228.a1230.a1921(e);t.a2146(i)},this),a1228.a1252.doTimer(5e3,1,function(){t.closeGroup.visible=!0},this)}},e.prototype.a2166=function(){this.group0.visible=!0;var t=a1232.playerIDs[this.id],e=a1231.copyDinosaur(t);e.jinhua=this.lasttimes;var i=[a1232.a1886(e),a1232.a1886(t)],a=[a1232.getDefence(e),a1232.getDefence(t)],n=[a1232.getAttack(e),a1232.getAttack(t)],r=[a1232.getGongsu(e),a1232.getGongsu(t)],s=[a1232.getBaoji(e),a1232.getBaoji(t)],o=[a1232.getShanbi(e),a1232.getShanbi(t)];this.HP1_Label.text=""+i[0],this.Defense1_Label.text=""+a[0],this.Attack1_Label.text=""+n[0],this.Atktime1_Label.text=""+r[0],this.baoji1_Label.text=""+s[0]+"%",this.shanbi1_Label.text=""+o[0]+"%",this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.baoji2_Label.text=""+s[1]+"%",this.shanbi2_Label.text=""+o[1]+"%",this.AddHP_Label.text="+"+(i[1]-i[0]),this.AddDefense_Label.text="+"+(a[1]-a[0]),this.AddAttack_Label.text="+"+(n[1]-n[0]),this.baoji_Label.text="+"+(s[1]-s[0])+"%",this.shanbi_Label.text="+"+(o[1]-o[0])+"%"},e.prototype.a2167=function(){var t=this;this.quXiaoBtn.visible=!1,this.label1.text=langue.jinhua5,this.label2.text=langueOfvalue(langue.jinhua4,this.playerName),this.label3.text="";var e={type:2,content:langue.jinhua6,callback:function(){t.a2112()}};a1228.a1225.applyFunc(10004,5170,e)},e.prototype.a2112=function(){a1228.a1252.removeAll(this),this.isCancel=!0,this.quXiaoBtn.visible=!1,this.closeGroup.visible=!0,this.renyiLabel.visible=!0,this.label1.text=langue.jinhua7,this.label2.text="",this.label3.text="",this.a2165()},e.prototype.a2146=function(t){if(""!=t&&null!=t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1245.CreateFrameAnimation(t,t);this.dinosaurGroup.addChild(e),e.x=0,e.y=0,e.scaleX=-1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),this.ani=e}},e.prototype.a2168=function(){this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null);var t="jinghuadengdai",e=a1228.a1245.CreateFrameAnimation(t,t);this.dinosaurGroup.addChild(e),e.x=0,e.y=-50,e.scaleX=1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("jinghuadengdai",0),this.effectAni3=e},e.prototype.a2169=function(){this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null),this.effectAni&&(this.removeChild(this.effectAni),this.effectAni.dispose(),this.effectAni=null),this.effectAni2&&(this.removeChild(this.effectAni2),this.effectAni2.dispose(),this.effectAni2=null);var t=a1228.a1122.a1872(),e=a1228.a1122.a1873(),i="jinghua",a=a1228.a1245.CreateFrameAnimation(i,i);this.addChild(a),a.x=t/2,a.y=e/2,a.scaleX=2,a.scaleY=2,a.touchEnabled=!1,a.touchChildren=!1,a.animation&&a.animation.play("jinghua",1),this.effectAni=a},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5138)},e.prototype.close=function(){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.effectAni&&(this.removeChild(this.effectAni),this.effectAni.dispose(),this.effectAni=null),this.effectAni2&&(this.removeChild(this.effectAni2),this.effectAni2.dispose(),this.effectAni2=null),this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null),this.tempAni&&(this.tempAni.dispose(),this.tempAni=null),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this),a1232.releaseJinhuaRes(!0),a1228.a1225.applyFunc(10004,5164),a1228.ActorMgr.a2489()},e}(a1116);__reflect(DinosaursEvolutionView.prototype,"DinosaursEvolutionView");var DinosaursFosterView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.fosterSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2170(),4==a1228.a1230.expFullCounts()?this.growredImg.visible=!0:this.growredImg.visible=!1,this._controller.a1916(5204,this.showGrowRed,this)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.produceBtn,egret.TouchEvent.TOUCH_TAP,this.a2170,!1),a1251.a1412(this,this.growBtn,egret.TouchEvent.TOUCH_TAP,this.a2171,!1)},e.prototype.showGrowRed=function(){this.growredImg.visible=!1},e.prototype.a2170=function(){this.produceView||(this.produceView=new a1183(this._controller,this.mainGroup),a1228.a1226.destroy(199,this.produceView),a1228.a1226.open(199)),this.produceView.visible=!0,this.growView&&(this.growView.visible=!1),this.dbImg.source="",this.a2172(1)},e.prototype.a2171=function(){return a1232.curLevel<62?void a1228.a1245.a2612(langueOfvalue(langue.switchpass1,62)):(this.growView||(this.growView=new a1143(this._controller,this.mainGroup),a1228.a1226.destroy(122,this.growView),a1228.a1226.open(122)),this.growView.visible=!0,this.produceView&&(this.produceView.visible=!1),this.dbImg.source="fzdd_png",this.growView&&"yztt2_png"==this.growImg.source&&4==a1228.a1230.expFullCounts()&&a1228.a1225.applyFunc(10004,5302),void this.a2172(2))},e.prototype.a2172=function(t){1==t?(this.group.setChildIndex(this.produceBtn,7),this.group.setChildIndex(this.growBtn,6),this.growImg.source="yztt2_png",this.growdbImg.source="fzqk2_png",this.produceImg.source="fztt1_png",this.producedbImg.source="fzqk1_png",this.growBtn.x=244,this.growBtn.y=189,this.produceBtn.x=85,this.produceBtn.y=178,this.growImg.x=69,this.growImg.y=14,this.growdbImg.x=0,this.growdbImg.y=0,this.produceImg.x=62,this.produceImg.y=22,this.producedbImg.x=0,this.producedbImg.y=0):2==t&&(this.group.setChildIndex(this.produceBtn,6),this.group.setChildIndex(this.growBtn,7),this.growImg.source="yztt1_png",this.growdbImg.source="fzqk1_png",this.produceImg.source="fztt2_png",this.producedbImg.source="fzqk2_png",this.growBtn.x=244,this.growBtn.y=178,this.produceBtn.x=83,this.produceBtn.y=187,this.growImg.x=63,this.growImg.y=25,this.growdbImg.x=0,this.growdbImg.y=0,this.produceImg.x=50,this.produceImg.y=15,this.producedbImg.x=0,this.producedbImg.y=0)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5203)},e.prototype.close=function(){this._controller.a1917(5204,this.showGrowRed,this),a1228.a1252.removeAll(this),a1228.a1226.close(199),a1228.a1226.close(122),this.produceView=null,this.growView=null,a1251.a1413(this),t.prototype.close.call(this),a1232.releaseFosterRes(!0)},e}(a1116);__reflect(DinosaursFosterView.prototype,"DinosaursFosterView");var DinosaursGrowSuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.data=null,n._skin=a1243.DinosaursGrowSuccessSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initialize(),this.a2115(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.initialize=function(){this.dinoList.dataProvider=new eui.ArrayCollection(this.data),this.dinoList.itemRenderer=DinosaursGrowSuccessItem},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5205)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.bgAnim&&this.aniGroup.removeChild(this.bgAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=250,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.bgAnim=t},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(DinosaursGrowSuccessView.prototype,"DinosaursGrowSuccessView");var DinosaursGrowSuccessItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.DinosaursGrowSuccessItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=this.data.dinosaur,e=this.data.preLevel,i=t.index;this.levelLabel2.text="lv."+t.level,this.levelLabel.text="lv."+e,this.Rarity_Image.source="Level"+a1228.g_PlayerData[i].xiyou+"_png",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[i].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(t),this.nameLabel2.text=this.nameLabel.text,this.dinosaurImg.source=a1228.a1230.a2555(t),this.dinosaurImg2.source=this.dinosaurImg.source},e}(eui.ItemRenderer);__reflect(DinosaursGrowSuccessItem.prototype,"DinosaursGrowSuccessItem");var DinosaursGrowTipView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.dinosaursGrowTipSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t=a1228.a1226.a2525(122);t&&(t.a2180(),a1228.a1225.applyFunc(10004,5303))},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5303)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(DinosaursGrowTipView.prototype,"DinosaursGrowTipView");var a1143=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a.saiSex=2,a.saiEat=2,a.anis={},a.clickTime=0,a.timer1=0,a.level=4,a.maxLevel=0,a._skin=a1243.dinosaursGrowSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.dbImg1.visible=!1,this.dbImg2.visible=!1,this.dbImg3.visible=!1,this.tipGroup.visible=!1;for(var t in a1232.playerIDs)a1232.playerIDs[t].level&&a1232.playerIDs[t].level>this.maxLevel&&(this.maxLevel=a1232.playerIDs[t].level);for(var t=0;t<a1232.growIDs.length;++t){var e=a1232.growIDs[t];0!=e&&-1!=e&&(a1232.playerIDs[e[0]]||(a1232.growIDs[t]=0))}this.event(),this.refreshAllItem(),this.a2138(1),a1228.a1252.doTimer(1e3,0,this.updateTime,this),this._controller.a1916(5205,this.refreshAllItem,this),this._controller.a1916(5040,this.refreshAllItem,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[123])},e.prototype.refreshAllItem=function(){for(var t=0;t<a1232.growIDs.length;++t){var e=a1232.growIDs[t];-1==e&&a1232.curLevel>=a1228.g_GrowData[t+1].lock&&(a1232.growIDs[t]=0)}this.instruction(),this.a2177(1),this.a2177(2),this.a2177(3),this.a2177(4)},e.prototype.instruction=function(){this.tipLabel.text=a1228.g_functionData[3].src},e.prototype.updateTime=function(){for(var t=1;4>=t;++t){var e=a1232.growIDs[t-1];if(0!=e&&-1!=e){var i=a1232.playerIDs[e[0]],a=a1232.getServerTime()-e[1],n=a1228.g_GrowData[this.level].obtain;a=Math.min(a,60*n[1]);var r=a1228.a1240.a2597(a,6);this["levelLabel"+t].text=i.level,this["timeLabel"+t].textFlow=[{text:langue.grow1,style:{size:16,textColor:9133386}},{text:r,style:{size:16,textColor:9133386}}],this["expLabel"+t].textFlow=[{text:langue.grow2,style:{size:16,textColor:9133386}},{text:a1232.priceFormat(this.a2176(a),!0),style:{size:16,textColor:16212005}}]}}},e.prototype.a2176=function(t){var e=a1228.g_GrowData[this.level].obtain,i=a1228.g_PropsData[100+a1232.maxLevelFood];return t=Math.min(t,60*e[1]),Math.floor(i.exp*Math.floor(t/60)*e[2]/1e3)},e.prototype.a2177=function(t){var e=a1232.growIDs[t-1];if(0!=e&&-1!=e){a1232.playerIDs[e[0]];this["itemAddImg"+t].visible=!1,this["levelGroup"+t].visible=!0,this.a2146(this["itemGroup"+t],t,e[0],.5),this.updateTime()}else 0==e?(this["itemAddImg"+t].visible=!0,this["itemAddImg"+t].source="WXZ_png",this["levelLabel"+t].text="",this["timeLabel"+t].text="",this["expLabel"+t].text="",this["levelGroup"+t].visible=!1,this.a2146(this["itemGroup"+t],t,0,.5)):(this["itemAddImg"+t].visible=!0,this["itemAddImg"+t].source="yzsuo_png",this["levelLabel"+t].text="",this["timeLabel"+t].text="",this["expLabel"+t].text="",this["levelGroup"+t].visible=!1,this.a2146(this["itemGroup"+t],t,0,.5))},e.prototype.a2146=function(t,e,i,a){var n=this;if(this.anis[e]&&(this.anis[e].parent.removeChild(this.anis[e]),this.anis[e].dispose(),this.anis[e]=null),i){var r=a1232.playerIDs[i],s=a1228.a1230.a1921(r),o=a1228.a1245.CreateFrameAnimation(s,s);t.addChild(o),o.x=75,o.y=120,a?(o.scaleX=-a,o.scaleY=a):(o.scaleX=-.7,o.scaleY=.7),o.touchEnabled=!1,o.touchChildren=!1,o.animation&&o.animation.play("daiji",0),o.baseX=o.x,o.baseY=o.y,o.id=i,o.index=e,t.id=i,t.ani=o,this.anis[e]=o}else t.id=i,t.ani=null;t.index=e,e&&!t.hasEvent&&(t.hasEvent=!0,a1251.a1412(this,t,egret.TouchEvent.TOUCH_BEGIN,function(){n.a2184(t)},!1),a1251.a1412(this,t,egret.TouchEvent.TOUCH_END,function(e){t.id&&n.a2185(t)},!1))},e.prototype.event=function(){var t=this;a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2180),a1251.a1412(this,this.tipGroup,egret.TouchEvent.TOUCH_TAP,this.a2179,!1),a1251.a1412(this,this.tipImg,egret.TouchEvent.TOUCH_TAP,this.onTip),a1251.a1412(this,this.sexGroup,egret.TouchEvent.TOUCH_TAP,this.a2182,!1),a1251.a1412(this,this.eatGroup,egret.TouchEvent.TOUCH_TAP,this.a2183,!1),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.onTip=function(){var t=this;this.tipGroup.visible=!this.tipGroup.visible,setTimeout(function(){t.timer1&&egret.clearTimeout(t.timer1)},10)},e.prototype.a2179=function(){this.timer1&&egret.clearTimeout(this.timer1),this.timer1=0},e.prototype.a2180=function(){for(var t=this,e=!1,i=0;i<a1232.growIDs.length;++i){var a=a1232.growIDs[i];if(0!=a&&-1!=a&&a1232.getServerTime()-a[1]>=60){e=!0;break}}if(!e)return void a1228.a1245.a2612(langue.grow3);var n=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2181()},n,["123","养殖看"])},e.prototype.a2181=function(){for(var t=[],e=0;e<a1232.growIDs.length;++e){var i=a1232.growIDs[e];if(0!=i&&-1!=i){var a=a1232.getServerTime()-i[1];if(a>=60){var n=a1232.playerIDs[i[0]],r=this.a2176(a),s=n.level;i[1]=a1232.getServerTime();var o=n.level,l=n.exp+r,h=-n.exp,p=a1228.g_LvExpData[o];if(p&&p.exp)for(;l>=p.exp&&o<this.maxLevel&&(o+=1,l-=p.exp,h+=p.exp,p=a1228.g_LvExpData[o],p.exp););h>0&&a1228.a1225.applyFunc(10004,5043,n.id,h,!1),t.push({dinosaur:n,preLevel:s}),this.updateTime()}}}for(var e in a1232.playerIDs)for(var u=Number(a1232.playerIDs[e].index),c=a1228.g_PlayerData[u].jinhuaLevel,d=0;d<c.length;++d)0==d&&a1232.playerIDs[e].level>=c[d]&&0==a1232.playerIDs[e].jinhua?a1232.playerIDs[e].jinhua=d+1:1==d&&a1232.playerIDs[e].level>=c[d]&&(0==a1232.playerIDs[e].jinhua||1==a1232.playerIDs[e].jinhua)&&(a1232.playerIDs[e].jinhua=d+1);for(var e in a1232.playerIDs)a1232.playerIDs[e].level&&a1232.playerIDs[e].level>this.maxLevel&&(this.maxLevel=a1232.playerIDs[e].level);for(var e=0;e<a1232.growIDs.length;++e){var i=a1232.growIDs[e];if(0!=i&&-1!=i&&a1232.playerIDs[i[0]]){var g=a1232.playerIDs[i[0]];g.level>=this.maxLevel&&(a1232.growIDs[e]=0)}}this.a2177(1),this.a2177(2),this.a2177(3),this.a2177(4),this.a2138(1),a1228.a1225.applyFunc(10004,5204,t),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5042)},e.prototype.a2182=function(){1==this.saiSex?this.saiSex=2:2==this.saiSex&&(this.saiSex=1),1==this.saiSex?(this.manImg.source="fzxb4_png",this.womanImg.source="fzxb1_png",this.mankImg.visible=!0,this.womankImg.visible=!1):2==this.saiSex&&(this.manImg.source="fzxb3_png",this.womanImg.source="fzxb2_png",this.mankImg.visible=!1,this.womankImg.visible=!0),this.a2107()},e.prototype.a2183=function(){1==this.saiEat?this.saiEat=2:2==this.saiEat&&(this.saiEat=1),1==this.saiEat?(this.meatImg.source="fzsx1_png",this.veganImg.source="fzsx4_png",this.meatkImg.visible=!0,this.vegankImg.visible=!1):2==this.saiEat&&(this.meatImg.source="fzsx2_png",this.veganImg.source="fzsx3_png",this.meatkImg.visible=!1,this.vegankImg.visible=!0),this.a2107()},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll.a1621(),this.a2107()},e.prototype.a2184=function(t){if(t.index&&-1==a1232.growIDs[t.index-1]){var e=a1228.g_GrowData[t.index].lock;return void a1228.a1245.a2612(langueOfvalue(langue.grow4,a1228.g_Monster[e].passName))}this.curItem||(this.curItem=t.ani,this.clickTime=egret.getTimer(),t.parent.setChildIndex(t,999))},e.prototype.a2185=function(t){for(var e=1;4>=e;e++)this.fightGroup.setChildIndex(this["itemGroup"+e],e);var i=t.id,a=a1228.a1226.a2525(137);a&&a.a2153(null);var n=egret.getTimer();if(n-this.clickTime<130){if(this.curItem&&Math.abs(this.curItem.x-this.curItem.baseX)>10)return;var r=a1232.playerIDs[i];this.clickTime=0,a1228.a1225.applyFunc(10004,5099,r)}},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.curItem&&(this.curItem.x=this.curItem.baseX+(t.stageX-this.beginPos[0]),this.curItem.y=this.curItem.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(){var t=this;if(this.timer1&&egret.clearTimeout(this.timer1),this.timer1=egret.setTimeout(function(){t.timer1=0,t.tipGroup.visible=!1},this,100),this.curItem&&this.curItem.parent){this.scroll.scrollPolicyV=eui.ScrollPolicy.ON;var e=this.curItem.index;if(e)this.curItem.parent.y+this.curItem.y>this.fightGroup.height+100&&(a1232.growIDs[e-1]&&a1232.getServerTime()-a1232.growIDs[e-1][1]>=300?a1228.a1245.a2612(langue.grow5):(a1232.growIDs[e-1]=0,a1228.a1225.applyFunc(10004,5041)),this.a2177(e),this.a2107()),this.curItem.x=this.curItem.baseX,this.curItem.y=this.curItem.baseY,this.curItem=null;else{for(var i=1;4>=i;++i){var a=this["itemGroup"+i],n=this.curItem.x,r=this.curItem.y;if(-1!=a1232.growIDs[i-1]&&n>a.x-20&&n<a.x+a.width+60&&r>a.y+20&&r<a.y+a.height+100){if(a1232.growIDs[i-1]&&a1232.getServerTime()-a1232.growIDs[i-1][1]>=300){a1228.a1245.a2612(langue.grow5);break}a1232.growIDs[i-1]=[this.curItem.id,a1232.getServerTime()],a1228.a1225.applyFunc(10004,5041),this.a2177(i),this.a2107();break}}this.curItem.parent.removeChild(this.curItem),this.curItem.dispose(),this.curItem=null,this.anis[0]=null}}},e.prototype.a2107=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;i.sex,a1228.g_PlayerData[i.index].eat;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=a1228.a1230.a2550(Number(e));t.push({id:Number(e),index:a,level:i.level,star:i.star,jinhua:i.jinhua,xiyou:a1228.g_PlayerData[a].xiyou,bianyi:i.bianyi&&1||0,parentView:122,fight:n[0],cheer:n[1],produce:n[2],grow:n[3]})}}t.sort(function(t,e){return t.grow==e.grow?t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1:t.fight<e.fight&&1||-1:t.grow<e.grow&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=DinosaursPosItemView},e.prototype.a2153=function(t){var e=this;if(this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null),t){this.beginScrollV=this.scrollList.scrollV;var i=130;this.delayID=egret.setTimeout(function(){if(t.data.fight)return void a1228.a1245.a2612(langue.shangin);if(t.data.grow)return void a1228.a1245.a2612(langue.producein);if(t.data.level>=e.maxLevel)return void a1228.a1245.a2612(langue.zgjibn);
if(!(Math.abs(e.beginScrollV-e.scrollList.scrollV)>10)){var i=t.a1263(0,0),a=e.fightGroup.a1263(0,0);e.a2146(e.fightGroup,0,t.data.id),e.curItem=e.anis[0],e.curItem.x=i.x-a.x+70,e.curItem.y=i.y-a.y+130,e.curItem.baseX=e.curItem.x,e.curItem.baseY=e.curItem.y,e.curItem.scaleX=-1,e.curItem.scaleY=1,e.curItem.index=0,e.scroll.scrollPolicyV=eui.ScrollPolicy.OFF}},this,i)}},e.prototype.close=function(){for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}this._controller.a1917(5205,this.refreshAllItem,this),this._controller.a1917(5040,this.refreshAllItem,this),a1228.a1252.removeAll(this),this.anis=null,this.curItem=null,a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1143.prototype,"a1143");var DinosaursMapItemView=function(t){function e(){var e=t.call(this)||this;return e.guideFlag=!1,e.skinName=a1243.dinosaursMapItemView,e.event(),setTimeout(function(){e.a2097()},500),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a1952,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.setData=function(t){this.data=t,this.refresh()},e.prototype.onclean=function(){a1251.a1413(this),this.dinosaurImg.filters=null},e.prototype.a1952=function(){if(this.dinosaurImg.filters)if(6==this.data.id){if(!this.data.isOwn){var t=a1228.a1226.a2525(138);if(t)for(var e=0;e<t.scrollList.numChildren;e++){var i=t.scrollList.getChildAt(e);if(i&&i.data)if(i.data.index==this.data.index){i.byGroup.visible=!i.byGroup.visible;var a=i.byGroup.a1263(0,0),n=this.a1263(0,0);i.byGroup.x=i.byGroup.x+(n.x-a.x)-60,i.byGroup.y=i.byGroup.y+(n.y-a.y)-135}else i.byGroup.visible=!1}}}else a1228.a1245.a2612(langueOfvalue(langue.skin_s119,a1228.g_PlayerData[this.data.index].name));else{var r=[this.data.index,1,0,this.data.jinhua,this.data.starNum,"",this.data.bianyi],s=new a1231(null,r);this.guideFlag&&(s.isGuide=!0),a1228.a1225.applyFunc(10004,5099,s)}},e.prototype.dataChanged=function(){null==this.baseX&&(this.baseX=this.x,this.baseY=this.y),this.refresh()},e.prototype.refresh=function(){this.byiconImg.visible=!1,1==this.data.id?this.data.isOwn?(this.nameLabel.text=a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian1,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian1,this.dinosaurImg.filters=a1228.a1230.a2556()):2==this.data.id?this.data.isOwn?(this.nameLabel.text=""+a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian2,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian2,this.dinosaurImg.filters=a1228.a1230.a2556()):3==this.data.id?this.data.isOwn?(this.nameLabel.text=""+a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian3,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian3,this.dinosaurImg.filters=a1228.a1230.a2556()):4==this.data.id?this.data.isOwn?(this.nameLabel.text=""+a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian4,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian4,this.dinosaurImg.filters=a1228.a1230.a2556()):5==this.data.id?this.data.isOwn?(this.nameLabel.text=""+a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian5,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian5,this.dinosaurImg.filters=a1228.a1230.a2556()):6==this.data.id&&(this.data.isOwn?(this.nameLabel.text=""+a1228.g_PlayerData[this.data.index].name,this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian2_by,this.dinosaurImg.filters=null):(this.nameLabel.text="？？？",this.dinosaurImg.source=a1228.g_PlayerData[this.data.index].tujian2_by,this.dinosaurImg.filters=a1228.a1230.a2556()),this.byiconImg.visible=!0)},e.prototype.a2097=function(){var t=this;if(13==a1232.guideStep&&0==this.itemIndex&&1==this.data.index&&this.a1263(0,0).y>100){var e=a1228.a1226.a2525(138);if(e){var i=this.a1263(0,0),a=i.x-(e.x-e.anchorOffsetX),n=i.y-(e.y-e.anchorOffsetY);a1228.a1233.a2570(),a1228.a1233.a2572(e,190,200,a,n,function(){t.guideFlag=!0,t.a1952(),t.guideFlag=!1,a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1142","结束图鉴引导",7)}),a1228.a1233.a2565(e,a+70,n+100)}}},e}(eui.ItemRenderer);__reflect(DinosaursMapItemView.prototype,"DinosaursMapItemView");var DinosaursMapKindItemView=function(t){function e(){var e=t.call(this)||this;return e.timerID=0,e.skinName=a1243.dinosaursMapKindItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.jibanBtn,egret.TouchEvent.TOUCH_TAP,this.onClickJiBan,!1)},e.prototype.onClickJiBan=function(){var t={index:this.data.index};a1228.a1225.applyFunc(10004,5278,t)},e.prototype.onclean=function(){a1251.a1413(this),this.timerID&&egret.clearTimeout(this.timerID)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=this;this.jibanBtn.visible=a1228.g_jibanData[this.data.index],this.srcLabel1.textFlow=[{text:langue.skin_s104,style:{textColor:12105912}}],this.srcLabel2.textFlow=[{text:langue.skin_s105,style:{textColor:12105912}}],this.timerID&&egret.clearTimeout(this.timerID),13==a1232.guideStep?this.timerID=egret.setTimeout(function(){t.timerID=0,t.nameLabel.text=t.data.name,t.scrollList.dataProvider=new eui.ArrayCollection(t.data.datas),t.scrollList.itemRenderer=DinosaursMapItemView},this,100):(this.timerID=0,this.nameLabel.text=this.data.name,this.scrollList.dataProvider=new eui.ArrayCollection(this.data.datas),this.scrollList.itemRenderer=DinosaursMapItemView),this.byGroup.visible=!1,this.redImg.visible=this.showRed()},e.prototype.showRed=function(){var t=!1,e=this.data.index;for(var i in a1228.g_jibanData)if(Number(this.data.index)==Number(i))for(var a in a1228.g_jibanData[i]){var n=a1228.g_jibanData[i][a].fuId,r=a,s=a1228.a1230.getRewardState(e,n,r),o=a1228.a1230.getJiBanUp(e,n,r),l=a1228.a1230.getJiBanState(e,n,r);if(2==s[1]||1==o||2==l)return t=!0}},e}(eui.ItemRenderer);__reflect(DinosaursMapKindItemView.prototype,"DinosaursMapKindItemView");var a1144=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a._skin=a1243.dinosaursMapView,a}return __extends(e,t),e.prototype.initUI=function(){this.initList(),this.showInfo(),this.event(),this.a2090(),"kwaigame"!=platform.name&&a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.showInfo=function(){this.a2138(1);var t=0;for(var e in a1228.g_PlayerData)t+=2,t+=a1228.g_PlayerData[e].jinhua.length,t+=a1228.g_PlayerData[e].upstar.length;this.activateLabel.textFlow=[{text:langue.yijihuo,style:{size:40,textColor:16777215}},{text:a1232.tujianIDs.length+"",style:{size:40,textColor:16768343}},{text:"/",style:{size:40,textColor:16777215}},{text:t+"",style:{size:40,textColor:16777215}}]},e.prototype.initList=function(){this.data=[];for(var t in a1228.g_PlayerData){for(var e=Number(t),i=[],a=1;6>=a;a++){var n={index:e,id:a,isOwn:-1!=a1232.tujianIDs.indexOf(10*e+a),starNum:0,jinhua:0,bianyi:0};2==a||3==a?n.jinhua=a-1:4==a?(n.starNum=2,n.jinhua=2):5==a?(n.starNum=4,n.jinhua=2):6==a&&(n.jinhua=1,n.bianyi=1),(a1228.g_PlayerData[t].tujian3||3!=n.id)&&i.push(n)}var r={datas:i,xiyou:a1228.g_PlayerData[t].xiyou,name:a1228.g_PlayerData[t].name,index:e};this.data.push(r)}this.scrollList.dataProvider=new eui.ArrayCollection(this.data),this.scrollList.itemRenderer=DinosaursMapKindItemView},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2187=function(){for(var t=[],e=0,i=this.data;e<i.length;e++){var a=i[e],n=a.datas[0].index;(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[n].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[n].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[n].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[n].xiyou)&&t.push(a)}this.scroller.a1621(),this.scrollList.scrollV=0,this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=DinosaursMapKindItemView},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroller.a1621(),this.a2187()},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5098)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this),a1232.releaseTujianRes()},e}(a1116);__reflect(a1144.prototype,"a1144");var DinosaursPosItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.dinosaursPosItemView,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_BEGIN,this.a2143,!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a2143=function(){this.clickTime=egret.getTimer();var t=a1228.a1226.a2525(this.data.parentView);t&&t.a2153(this)},e.prototype.touchEnd=function(){var t=a1228.a1226.a2525(this.data.parentView);if(t&&t.a2153(null),5!=a1232.guideStep){var e=egret.getTimer();if(e-this.clickTime<130){this.clickTime=0;var i=a1232.playerIDs[this.data.id],a=192==this.data.parentView;a1228.a1225.applyFunc(10004,5099,i,a)}}},e.prototype.setData=function(t){this.data=t,this.refresh()},e.prototype.dataChanged=function(){this.refresh()},e.prototype.setStarPos=function(){var t=this.data.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.refresh=function(){var t=this.data.index,e=a1232.playerIDs[this.data.id];this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e);var i="";this.data.fight?i="sztips_png":this.data.grow?i="yztips_png":this.data.cheer&&(i="zztips_png"),this.useImg.source=i,a1228.a1230.a2552(this,"starImg",this.data.star,!1),this.setStarPos()},e}(eui.ItemRenderer);__reflect(DinosaursPosItemView.prototype,"DinosaursPosItemView");var a1145=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.anis={},a.clickTime=0,a.guideFlag=!1,a.saiXun=1,a._skin=a1243.dinosaursPosView,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2177(1),this.a2177(2),this.a2138(1),this.a2090(),a1228.a1230.a2557(!0,this.group),setTimeout(function(){t.a2097()},500);for(var e=0;e<a1232.cheerIDs.length;++e)for(var i=0;i<a1232.cheerIDs[e].length;++i){var a=a1232.cheerIDs[e][i];a&&!a1232.playerIDs[a]&&(a1232.cheerIDs[e][i]=0)}this.cheerRed(),this._controller.a1916(5189,this.cheerRed,this),this._controller.a1916(5189,this.reflshcheericon,this)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.a2177=function(t){if(1==t||2==t){if(a1232.curPlayers[t-1]){var e=a1232.playerIDs[a1232.curPlayers[t-1]];this["itemAddImg"+t].visible=!1,this["itembgImg"+t].visible=!1,this["nameLabel"+t].text="lv."+e.level+" "+a1228.a1230.a2554(e),this["levelGroup"+t].visible=!0,this["bghImg"+t].width=this["nameLabel"+t].width+40}else this["itemAddImg"+t].visible=!0,this["itembgImg"+t].visible=!0,this["nameLabel"+t].text="",this["levelGroup"+t].visible=!1;this.a2146(this["itemGroup"+t],t,a1232.curPlayers[t-1])}},e.prototype.a2146=function(t,e,i){var a=this;if(this.anis[e]){if(i&&i==t.id)return;this.anis[e].parent.removeChild(this.anis[e]),this.anis[e].dispose(),this.anis[e]=null}if(i){var n=a1232.playerIDs[i],r=a1228.a1230.a1921(n),s=a1228.a1245.CreateFrameAnimation(r,r);t.addChild(s),s.x=75,s.y=240,s.scaleX=-.7,s.scaleY=.7,s.touchEnabled=!1,s.touchChildren=!1,s.animation&&s.animation.play("daiji",0),s.baseX=s.x,s.baseY=s.y,s.id=i,s.index=e,t.id=i,t.ani=s,this.anis[e]=s,e>=1&&2>=e&&(this["levelGroup"+e].y=-a1228.g_ModelSize[r].height+370-100),e&&!t.hasEvent&&(t.hasEvent=!0,a1251.a1412(this,t,egret.TouchEvent.TOUCH_BEGIN,function(){a.a2184(t)},!1),a1251.a1412(this,t,egret.TouchEvent.TOUCH_END,function(e){a.a2185(t)},!1))}else t.id=i,t.ani=null},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll.a1621(),this.a2107()},e.prototype.a2184=function(t){this.curItem||5==a1232.guideStep||(this.curItem=t.ani,this.clickTime=egret.getTimer(),t.parent.setChildIndex(t,999))},e.prototype.a2185=function(t){var e=t.id;if(e){var i=a1228.a1226.a2525(137);i&&i.a2153(null);var a=egret.getTimer();if(a-this.clickTime<130){if(this.curItem&&Math.abs(this.curItem.x-this.curItem.baseX)>10)return;var n=a1232.playerIDs[e];this.clickTime=0,a1228.a1225.applyFunc(10004,5099,n)}}},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.curItem&&(this.curItem.x=this.curItem.baseX+(t.stageX-this.beginPos[0]),this.curItem.y=this.curItem.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(){var t=this;if(this.curItem&&this.curItem.parent){for(var e=0,i=0;3>i;++i)a1232.curPlayers[i]&&(e+=1);var a=a1232.curPlayers.indexOf(this.curItem.id);if(this.scroll.scrollPolicyV=eui.ScrollPolicy.ON,this.curItem.index){if(-1!=a&&this.curItem.parent.y+this.curItem.y>this.fightGroup.height+100){if(1>=e)return a1228.a1245.a2612(langue.shangtip),this.curItem.x=this.curItem.baseX,this.curItem.y=this.curItem.baseY,void(this.curItem=null);a1232.curPlayers[a]=0,a1232.isDebug&&localStorage.setItem("curPlayers",JSON.stringify(a1232.curPlayers)),a1228.a1225.applyFunc(10004,5041),this.a2177(a+1),this.a2107()}else if(-1!=a)for(var n=this["itemGroup"+(a+1)],r=this.curItem.x+n.x,s=this.curItem.y+n.y,i=1;2>=i;++i){var o=this["itemGroup"+i];if(a!=i-1&&r>o.x-20&&r<o.x+o.width+60&&s>o.y+20&&s<o.y+o.height+100){var l=a1232.curPlayers[i-1];a1232.curPlayers[i-1]=this.curItem.id,a1232.curPlayers[a]=l,a1232.isDebug&&localStorage.setItem("curPlayers",JSON.stringify(a1232.curPlayers)),a1228.a1225.applyFunc(10004,5041),this.a2177(1),this.a2177(2);break}}this.curItem.x=this.curItem.baseX,this.curItem.y=this.curItem.baseY,this.curItem=null}else{for(var n=this["itemGroup"+(a+1)],i=1;2>=i;++i){var o=this["itemGroup"+i],r=this.curItem.x,s=this.curItem.y;if(a!=i-1&&r>o.x-20&&r<o.x+o.width+60&&s>o.y+20&&s<o.y+o.height+100){if(-1!=a){var h=a1232.curPlayers[i-1];a1232.curPlayers[i-1]=this.curItem.id,a1232.curPlayers[a]=h}else{if(5==a1232.guideStep&&2!=i)continue;a1232.curPlayers[i-1]=this.curItem.id}for(var p=0;p<a1232.cheerIDs.length;++p)for(var u=0;u<a1232.cheerIDs[p].length;++u)a1232.cheerIDs[p][u]==this.curItem.id&&(a1232.cheerIDs[p][u]=0);if(a1232.isDebug&&localStorage.setItem("curPlayers",JSON.stringify(a1232.curPlayers)),5==a1232.guideStep&&(a1228.a1233.a2571(a1232.guideStep),a1227.getPoint("1016","完成恐龙上阵",7)),a1228.a1225.applyFunc(10004,5041),this.a2177(1),this.a2177(2),this.a2107(),this.guideFlag){this.guideGroup.visible=!1,this.group.setChildIndex(this.scroll,8),this.group.setChildIndex(this.fightGroup,9);var c=this.group.x+this.closeBtn.x-this.closeBtn.anchorOffsetX-this.group.anchorOffsetX,d=this.group.y+this.closeBtn.y-this.closeBtn.anchorOffsetY-this.group.anchorOffsetY;a1228.a1233.a2570(),a1228.a1233.a2572(this,80,76,c,d,function(){t.a2095(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,c+10,d+40)}break}}this.curItem.parent.removeChild(this.curItem),this.curItem.dispose(),this.curItem=null,this.anis[0]=null}}},e.prototype.a2158=function(){a1232.curLevel>11?a1228.a1225.applyFunc(10004,5188):a1228.a1245.a2612(langueOfvalue(langue.cheertip,11))},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5061),a1228.a1225.applyFunc(10004,5321),6==a1232.guideStep&&a1227.getPoint("1017","恐龙上阵完成关闭",7)},e.prototype.a2107=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=a1228.a1230.a2550(Number(e));t.push({id:Number(e),index:a,level:i.level,star:i.star,jinhua:i.jinhua,xiyou:a1228.g_PlayerData[a].xiyou,bianyi:i.bianyi,parentView:137,fight:n[0],cheer:n[1],produce:n[2]})}}t.sort(function(t,e){return t.fight==e.fight?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.fight<e.fight&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=DinosaursPosItemView},e.prototype.a2153=function(t){var e=this;if(this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null),t){this.beginScrollV=this.scrollList.scrollV;var i=130;if(5==a1232.guideStep){i=0;var a=a1232.playerIDs[t.data.id][0];if(0!=a1232.curPlayers[1])return a1228.a1233.a2571(a1232.guideStep),void(this.guideGroup.visible=!1);if(-1!=a1232.curPlayers.indexOf(a))return}this.delayID=egret.setTimeout(function(){if(!(Math.abs(e.beginScrollV-e.scrollList.scrollV)>10)){var i=t.a1263(0,0);5==a1232.guideStep&&e.group.setChildIndex(e.fightGroup,999);var a=a1228.a1230.a2550(t.data.id);if(a[2])return void a1228.a1245.a2612(langue.producein);if(a[3])return void a1228.a1245.a2612(langue.growin);e.a2146(e.fightGroup,0,t.data.id),e.curItem=e.anis[0],e.curItem.x=i.x+70-e.group.x-e.fightGroup.x+e.group.anchorOffsetX,e.curItem.y=i.y+130-e.group.y-e.fightGroup.y+e.group.anchorOffsetY,e.curItem.baseX=e.curItem.x,e.curItem.baseY=e.curItem.y,e.curItem.scaleX=-1,e.curItem.scaleY=1,e.scroll.scrollPolicyV=eui.ScrollPolicy.OFF}},this,i)}},e.prototype.a2097=function(){var t=this;if(5==a1232.guideStep){var e=Object.keys(a1232.playerIDs);if(e.length<2)return;this.guideGroup.visible=!0,this.group.setChildIndex(this.guideGroup,997),this.group.setChildIndex(this.scroll,998),this.group.setChildIndex(this.fightGroup,999);var i=this.group.x-this.group.anchorOffsetX+this.scroll.x-this.scroll.anchorOffsetX+170,a=this.group.y-this.group.anchorOffsetY+this.scroll.y-this.scroll.anchorOffsetY+80,n=this.group.x-this.group.anchorOffsetX+this.fightGroup.x+this.itemGroup2.x-this.fightGroup.anchorOffsetX-this.itemGroup2.anchorOffsetX+20,r=this.group.y-this.group.anchorOffsetY+this.fightGroup.y+this.itemGroup2.y-this.fightGroup.anchorOffsetY-this.itemGroup2.anchorOffsetY+200;a1228.a1233.a2570(),this.guideFlag=!0,a1228.a1233.a2565(this,i,a-10,n+20,r+50,1e3,!0,800),a1227.getPoint("1015","开始引导恐龙上阵",7)}else if(16==a1232.guideStep&&a1232.curLevel>11){var s=this.group.x+this.cheerBtn.x-this.cheerBtn.anchorOffsetX-this.group.anchorOffsetX,o=this.group.y+this.cheerBtn.y-this.cheerBtn.anchorOffsetY-this.group.anchorOffsetY;a1228.a1233.a2572(this,104,106,s,o,function(){t.a2158(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1172","结束助阵引导",7)}),a1228.a1233.a2565(this,s+25,o+50)}},e.prototype.cheerRed=function(){var t=!1;a1232.curLevel>11&&(a1232.cheerLock[0][0]>0&&a1232.cheerIDs[0][0]<=0||a1232.cheerLock[0][1]>0&&a1232.cheerIDs[0][1]<=0||a1232.cheerLock[1][0]>0&&a1232.cheerIDs[1][0]<=0||a1232.cheerLock[1][1]>0&&a1232.cheerIDs[1][1]<=0)&&(t=!0),a1232.curLevel>11&&a1232.curLevel<66?(a1232.cheerLock[0][0]<=0||a1232.cheerLock[1][0]<=0)&&(t=!0):a1232.curLevel>=66&&(a1232.cheerLock[0][0]<=0||a1232.cheerLock[0][1]<=0||a1232.cheerLock[1][0]<=0||a1232.cheerLock[1][1]<=0)&&(t=!0),this.fightRedImg.visible=t},e.prototype.reflshcheericon=function(){this.a2107()},e.prototype.close=function(){a1228.a1245.closeBanner(),this._controller.a1917(5189,this.cheerRed,this),this._controller.a1917(5189,this.reflshcheericon,this);for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}this.anis=null,this.curItem=null,a1251.a1413(this),t.prototype.close.call(this),a1228.ActorMgr&&a1228.ActorMgr.a2487()},e}(a1116);__reflect(a1145.prototype,"a1145");var a1146=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.exchangeCodeSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.codeLabel.text="",this.codeLabel.restrict="A-Z0-9a-z",this.codeLabel.maxChars=10,this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5209)},e.prototype.a2112=function(){var t=this;if(a1228.a1245.a2619(this,this.sureBtn,2e3)){var e=this.codeLabel.text;if(""==e)return void a1228.a1245.a2612(langue.printcode);for(var i=0;i<e.length;i++){var a=e.charCodeAt(i),n=a>=48&&57>=a||a>=97&&122>=a||a>=65&&90>=a;if(!n)return void a1228.a1245.a2612(langue.numorchar)}var r={trackId:a1232.trackId,gameId:a1232.gameID,code:e};a1228.a1247.a2623(a1232.URL_CODE_EXCHANGE,egret.URLRequestMethod.POST,r,function(e){if(e&&0==e.result&&0==e.status){var i={};for(var a in a1228.g_PropsData){var n=a1228.g_PropsData[a].serverID;i[n]=a1228.g_PropsData[a]}for(var r=[],s=JSON.parse(e.data),a=0;a<s.length;++a)if(i[s[a].propsId]){var o=i[s[a].propsId].index,l=s[a].num;r.push([o,l]),a1228.a1225.applyFunc(10004,5035,o,l,10,!0,!0,!0,!1)}t.codeLabel.text="",a1228.a1225.applyFunc(10004,5083,r)}},null)}},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1146.prototype,"a1146");var a1147=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.rateArr=[],a.paitimes=2,a.canClick=!0,a.clickFlag=!1,a.anis=[],a._skin=a1243.extraAwardSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.zjGetBtn.visible=!1,this.againGetBtn.visible=!1,this.djLable.visible=!0,this.closeGroup.visible=!1,this.djLable.text=langue.clickka,this.event(),this.a2189(),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[141])},e.prototype.a2189=function(){var t=this,e="shenglichoujiang",i="newAnimation",a=30;egret.Tween.get(this.group).call(function(){t.playAnim(e,i,156,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,156,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,156,789,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,789,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,789,1,1)}).wait(a).call(function(){t.canClick=!0})},e.prototype.event=function(){a1251.a1412(this,this.zjGetBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.againGetBtn,egret.TouchEvent.TOUCH_TAP,this.onClickAgain),a1251.a1412(this,this.closeGroup,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.onClickAgain=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["141","翻牌2"])},e.prototype.handleFunc=function(){this.zjGetBtn.visible=!1,this.againGetBtn.visible=!1,this.djLable.visible=!0,this.canClick=!0,this.djLable.text=langue.clickka,a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2191=function(t){var e=this;if(this.canClick){this.canClick=!1;var i=this.a2193(),a=a1228.g_extraRewardData[i],n=a.name,r=a.rewardid,s=0;s=a1232.ewtimes<=3?a.count[0]:a.count[1],this.clickFlag||(this.clickFlag=!0,a1232.ewtimes+=1),a1232.ewPass=a1232.curLevel,a1228.a1225.applyFunc(10004,5036,r,s),t.visible=!1,this.playAnim("shenglichoujiang2","newAnimation",t.parent.x,t.parent.y,1,1),this.playAnim("shenglichoujiang3","newAnimation",t.parent.x,t.parent.y,1,1),a1228.a1252.doTimer(300,1,function(){var i=new eui.Image;i.source="fanpaig_png",i.width=190,i.height=190,e.group.addChild(i),i.x=t.parent.x,i.y=t.parent.y-15,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,egret.Tween.get(i,{loop:!0}).to({rotation:360},7e3),e.imgGuang=i;var a=new eui.Image;a.source=a1228.g_PropsData[r].icon,a.width=130,a.height=130,e.group.addChild(a),a.x=t.parent.x,a.y=t.parent.y-15,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,egret.Tween.get(a).to({y:a.y-7.17},1500).to({y:a.y+3},1500).to({y:a.y},1500),egret.Tween.get(a).to({scaleX:1.1,scaleY:1.1},1500).to({scaleX:1,scaleY:1},1500);var o=new eui.Label;o.text=n+"x"+s,e.group.addChild(o),o.width=t.width,o.verticalAlign="middle",o.textAlign="center",o.y=t.parent.y+65,o.x=t.parent.x-t.width/2,o.size=24,o.textColor=15793920,e.paitimes-=1,e.paitimes>0?(e.zjGetBtn.visible=!0,e.againGetBtn.visible=!0,e.djLable.visible=!1):(e.zjGetBtn.visible=!1,e.againGetBtn.visible=!1,e.djLable.visible=!0,e.closeGroup.visible=!0,e.djLable.text=langue.clickrenyi)},this)}},e.prototype.playAnim=function(t,e,i,a,n,r){var s=this,o=new eui.Group,l=a1228.a1245.CreateFrameAnimation(t,t);o.addChild(l),o.width=186,o.height=222,o.x=i,o.y=a,this.group.addChild(o),l.scaleX=n,l.scaleY=r,l.animation&&l.animation.play(e,1),this.anis.push(l),"shenglichoujiang"==t?(o.touchEnabled=!0,o.touchChildren=!1,a1251.a1412(this,o,egret.TouchEvent.TOUCH_TAP,function(){s.a2191(l)},!1)):("shenglichoujiang2"==t||"shenglichoujiang3"==t)&&(o.touchEnabled=!1,o.touchChildren=!1)},e.prototype.a2193=function(){if(0==this.rateArr.length)for(var t in a1228.g_extraRewardData)a1232.ewtimes<=3?this.rateArr.push(a1228.g_extraRewardData[t].firstrate):this.rateArr.push(a1228.g_extraRewardData[t].normalrate);for(var e=[],i=0;i<this.rateArr.length;i++)if(e[i]=[],this.rateArr[i]<=0)e[i][0]=0,e[i][1]=0;else{for(var a=0,n=0;i>n;n++)a+=this.rateArr[n];e[i][0]=a,e[i][1]=a+this.rateArr[i]}for(var r=0,s=0,i=0;i<this.rateArr.length;i++)s+=this.rateArr[i];for(var o=a1228.a1245.random_num(0,s),i=0;i<e.length;i++)if(o>e[i][0]&&o<=e[i][1]){r=i;break}return r+1},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5195)},e.prototype.close=function(){for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}a1228.a1252.removeAll(this),this.imgGuang&&egret.Tween.removeTweens(this.imgGuang),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1147.prototype,"a1147");var a1148=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r._skin=a1243.freeUpFoodSkin,r.foodLv=a,r.box=n,r}return __extends(e,t),e.prototype.initUI=function(){this.group.scaleX=.01,this.group.scaleY=.01,this.event(),this.initialize(),this.a2115(),a1228.a1230.a2557(!0,this.group),this.a2090()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.upgradeBtn,egret.TouchEvent.TOUCH_TAP,this.onChange),a1251.a1412(this,this.refuseBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);
var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=220,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e.prototype.initialize=function(){for(var t in a1228.g_PropsData)if(a1228.g_PropsData[t].level){this.foodLv==a1228.g_PropsData[t].level&&(this.foodImg1.source=a1228.g_PropsData[t].icon,this.nameLabel1.text=a1228.g_PropsData[t].name,this.iconImg1.source=a1228.g_PropsData[t].icon);var e=this.foodLv+1;e==a1228.g_PropsData[t].level&&(this.foodImg2.source=a1228.g_PropsData[t].icon,this.nameLabel2.text=a1228.g_PropsData[t].name,this.iconImg2.source=a1228.g_PropsData[t].icon)}},e.prototype.onChange=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["330","免费食物升级"])},e.prototype.handleFunc=function(){this.a2195(),this.a2095(),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2195=function(){var t=this.box,e=t.value+1;a1228.a1225.applyFunc(10004,5038,t.id+1,1,t.id,1,!1),e>a1232.maxLevelFood&&(a1232.maxLevelFood=e,a1232.isDebug&&localStorage.setItem("maxLevelFood",""+e),a1228.a1225.applyFunc(10004,5111,a1232.maxLevelFood,1),a1228.a1225.applyFunc(10004,5044,4));var i=0;for(var a in a1228.g_PropsData)i=Number(a)>100&&a1228.g_PropsData[a].level>i&&a1228.g_PropsData[a].level||i;a1232.maxLevelFood>=a1232.zuidaLevelFood&&a1228.a1245.a2612(langue.foodmaxLevel);var n=a1228.a1226.a2525(102);n&&(n.a2217(t.id+1,t.row,t.col),n.a2241())},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5116)},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1148.prototype,"a1148");var FriendHelpItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.friendHelpItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.DeleteBut,egret.TouchEvent.TOUCH_TAP,this.a2196)},e.prototype.dataChanged=function(){this.initialize()},e.prototype.setData=function(t){},e.prototype.a2196=function(){var t=this;a1228.a1225.applyFunc(10004,5170,{content:langue.quedingshan,type:4,callback:function(){({gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,id:t.data.id,type:1})}})},e.prototype.initialize=function(){platform.isLocal()?this.FriendHead.source="Friend1_png":this.data.avatarUrl&&a1228.a1230.getPlayerAvatar(this.data.avatarUrl,this.FriendHead),this.data.nickname?this.FriendName.text=a1228.a1230.getLength(this.data.nickname):this.FriendName.text=langue.shengmi,this.data.pass?this.LevelNum.text=langue.passnum+""+this.data.pass:this.LevelNum.text=langue.passnum+"0";var t=Number(this.data.tNum)+Number(this.data.dNum);this.OverallContriBution.text=langue.gongxian+"       "+t},e}(eui.ItemRenderer);__reflect(FriendHelpItemView.prototype,"FriendHelpItemView");var a1149=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.AwardConst=0,a.AlreadyGetConst=0,a.TotalContriButeConst=0,a.FriendID=[],a.Dataum=[],a._skin=a1243.friendHelpSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2127(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.GetAwardBut,egret.TouchEvent.TOUCH_TAP,this.a2200),this._controller.a1916(5087,this.a2127,this),a1251.a1412(this,this.DailyGetBut1,egret.TouchEvent.TOUCH_TAP,function(){t.a2197(t.DailyGetBut1,1)}),a1251.a1412(this,this.DailyGetBut2,egret.TouchEvent.TOUCH_TAP,function(){t.a2197(t.DailyGetBut2,2)}),a1251.a1412(this,this.DailyGetBut3,egret.TouchEvent.TOUCH_TAP,function(){t.a2197(t.DailyGetBut3,3)});for(var e=function(e){a1251.a1412(i,i["SeparAteHead"+e],egret.TouchEvent.TOUCH_TAP,function(){t.a2198(t["SeparAteHead"+e],e)})},i=this,a=1;6>=a;++a)e(a)},e.prototype.a2197=function(t,e){if("GetBut_png"==t.source){var i={gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,id:this.Dataum[e-1].id,type:0};"qqgame"==platform.name&&"qq"==a1232.AppPlatform&&(i.plat=1)}else if("AlreadyGetBut_png"==t.source)a1228.a1245.a2612(langue.ylqgl);else if("InviteBut_png"==t.source){var i={gameId:a1232.gameID,trackId:a1232.trackId};a1227.getPoint("21","邀请好友分享",4)}},e.prototype.a2127=function(){"qqgame"==platform.name&&"qq"==a1232.AppPlatform?(this.iconimg1.source="suipian3_png",this.numLabel1.text="60",this.iconimg2.source="suipian4_png",this.numLabel2.text="30",this.iconimg3.source="suipian4_png",this.numLabel3.text="90"):(this.iconimg1.source="zs_png",this.numLabel1.text="100",this.iconimg2.source="zs_png",this.numLabel2.text="100",this.iconimg3.source="zs_png",this.numLabel3.text="100");var t=1e3*a1232.getServerTime(),e=new Date(t);if(this.Dataum=[],a1232.HelpData.length>0){for(var i=0;i<a1232.HelpData.length;i++){var a=new Date(a1232.HelpData[i].regTime);e.getDate()==a.getDate()&&t-a1232.HelpData[i].regTime<864e5&&this.Dataum.push(a1232.HelpData[i])}this.initialize()}this.AwardConst=0;for(var n=0;6>n;n++){var r=n+1;a1232.FriendHelp[n]?(this["Frame"+r].visible=!0,a1232.FriendHelp[n].nickname?this["NameLabel"+r].text=a1232.FriendHelp[n].nickname:this["NameLabel"+r].text=langue.shengmi1,a1232.FriendHelp[n].avatarUrl?a1228.a1230.getPlayerAvatar(a1232.FriendHelp[n].avatarUrl,this["SeparAteHead"+r]):this["SeparAteHead"+r].source="Friend1_png",a1232.FriendHelp[n].dNum?(this.AwardConst+=a1232.FriendHelp[n].dNum,this["AwardNum"+r].text=a1232.FriendHelp[n].dNum):this["AwardNum"+r].text="0",a1232.FriendHelp[n].tNum&&(this.AlreadyGetConst+=a1232.FriendHelp[n].tNum),a1232.FriendHelp[n].pgid&&this.FriendID.push(a1232.FriendHelp[n].id)):(this["Frame"+r].visible=!1,this["SeparAteHead"+r].source="zzjh_png")}this.TotalContriButeConst=this.AwardConst+this.AlreadyGetConst,this.AlreadyGet.text=langue.hasgets+": "+this.AlreadyGetConst,this.TotalContriBute.text=langue.yhzhx+this.TotalContriButeConst,this.PropsReward.dataProvider=new eui.ArrayCollection(a1232.FriendHelp),this.PropsReward.itemRenderer=FriendHelpItemView},e.prototype.a2198=function(t,e){if("zzjh_png"==t.source){({gameId:a1232.gameID,trackId:a1232.trackId});a1227.getPoint("21","邀请好友分享",4)}},e.prototype.GetData=function(){({gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,num:100}),{gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId}},e.prototype.initialize=function(){if(!(this.Dataum.length<=0))for(var t=0;t<this.Dataum.length;t++)if(3>t){var e=t+1;platform.isLocal()?this["FriendHead"+e].source="zzjh_png":a1228.a1230.getPlayerAvatar(this.Dataum[t].avatarUrl,this["FriendHead"+e]),0==this.Dataum[t].dayState?this["DailyGetBut"+e].source="GetBut_png":this["DailyGetBut"+e].source="AlreadyGetBut_png"}},e.prototype.a2200=function(){var t=this;if(this.AwardConst>0){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["142","好友助力领取奖"])}else a1228.a1245.a2612(langue.myjl)},e.prototype.handleFunc=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,id:this.FriendID};a1228.a1247.a2623(a1232.URL_GET_HELP_DATA,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i={};for(var a in a1228.g_PropsData){var n=a1228.g_PropsData[a].serverID;i[n]=a1228.g_PropsData[a]}a1228.a1245.a2612(langue.lqhd+i[e.data.propsId].name+e.data.num),a1228.a1225.applyFunc(10004,5035,i[e.data.propsId].index,e.data.num,8,!0,!0,!0,!1),t.AwardConst=0,t.GetData()}},null),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2095=function(){({gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,num:100}),{gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId};a1228.a1230.a2557(!1,this.group,5179)},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),this._controller.a1917(5087,this.a2127,this),t.prototype.close.call(this)},e}(a1116);__reflect(a1149.prototype,"a1149");var a1150=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.fubenChipItemSkin,e}return __extends(e,t),e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.chipImg.source=a1228.g_PropsData[this.data.chipId].icon,this.numLabel.text="x"+this.data.chipNum},e}(eui.ItemRenderer);__reflect(a1150.prototype,"a1150");var a1151=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.fubenFailSkin,a1228.a1225.applyFunc(10004,5157),a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.a2115()},e.prototype.a2115=function(){var t=this,e="zhandoushibai2";this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=210,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1),egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20).call(function(){t.timesLabel.visible=!0}),this.timesLabel.visible=!1},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){this.timesLabel.visible&&(a1228.a1225.applyFunc(10004,5161),a1228.a1225.applyFunc(10004,5e3),a1228.a1225.applyFunc(10004,5054))},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1151.prototype,"a1151");var a1152=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;n.Data=null,n._skin=a1243.fubenFightSkin,n.Data=a;var r=a1228.a1226.a2525(102);return r&&(r.visible=!1),n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2201()},e.prototype.event=function(){},e.prototype.a2201=function(){a1232.userInfo?this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName):this.myNameLabel.text=langue.myname,this.duiNameLabel.text=a1228.a1230.getLength(this.Data.target);var t=a1232.curPlayers[0];if(t){a1232.playerIDs[t].index;this.group1.visible=!0,this.touImg1.source=a1228.a1230.a2555(a1232.playerIDs[t]),this.nameLabel1.text=a1228.a1230.a2554(a1232.playerIDs[t]),this.xlLabel1.text=""+a1232.a1886(a1232.playerIDs[t]),this.fyLabel1.text=""+a1232.getDefence(a1232.playerIDs[t]),this.gjLabel1.text=""+a1232.getAttack(a1232.playerIDs[t]),this.gsLabel1.text=""+a1232.getGongsu(a1232.playerIDs[t]),this.levelLabel1.text=""+a1232.playerIDs[t].level}else this.group1.visible=!1;var e=a1232.curPlayers[1];if(e){a1232.playerIDs[e].index;this.group2.visible=!0,this.touImg2.source=a1228.a1230.a2555(a1232.playerIDs[e]),this.nameLabel2.text=a1228.a1230.a2554(a1232.playerIDs[e]),this.xlLabel2.text=""+a1232.a1886(a1232.playerIDs[e]),this.fyLabel2.text=""+a1232.getDefence(a1232.playerIDs[e]),this.gjLabel2.text=""+a1232.getAttack(a1232.playerIDs[e]),this.gsLabel2.text=""+a1232.getGongsu(a1232.playerIDs[e]),this.levelLabel2.text=""+a1232.playerIDs[e].level}else this.group2.visible=!1;this.Data.atk1?(this.group3.visible=!0,this.touImg3.source="juxietouxiang0_png",this.xlLabel3.text=this.Data.hp1,this.fyLabel3.text=this.Data.def1,this.gjLabel3.text=this.Data.atk1,this.gsLabel3.text=(1e3/this.Data.atktime1).toFixed(2),this.levelLabel3.text=this.Data.enemylevel[0],this.nameLabel3.text=this.Data.target):this.group3.visible=!1,this.Data.atk2?(this.group4.visible=!0,this.touImg4.source="juxietouxiang0_png",this.xlLabel4.text=this.Data.hp2,this.fyLabel4.text=this.Data.def2,this.gjLabel4.text=this.Data.atk2,this.gsLabel4.text=(1e3/this.Data.atktime2).toFixed(2),this.levelLabel4.text=this.Data.enemylevel[1],this.nameLabel4.text=this.Data.target):this.group4.visible=!1},e.prototype.close=function(){var e=a1228.a1226.a2525(102);e&&(e.visible=!0),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1152.prototype,"a1152");var a1153=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.fubenItemView,e.event(),a1228.a1252.doTimer(500,1,e.a2097,e),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[107]),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.fightBtn,egret.TouchEvent.TOUCH_TAP,this.a2202),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2202=function(){a1232.fubenTimes>0?(this.a2204(),a1232.CopyIndex=this.data.index,a1228.a1225.applyFunc(10004,5063)):a1232.fubenTimes<=0&&a1232.fubenVideos>0?this.a2203():a1232.fubenTimes<=0&&a1232.fubenVideos<=0&&a1228.a1245.a2612(langue.nofighttimes1)},e.prototype.a2203=function(){var t=this;if(a1232.fubenVideos>0){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["107","副本看视频加次数"])}else a1228.a1245.a2612(langue.fighttimesmax)},e.prototype.handleFunc=function(){a1232.fubenVideos>0&&(a1232.fubenVideos-=1),a1232.fubenTimes+=1,this.a2204(),a1232.CopyIndex=this.data.index,a1228.a1225.applyFunc(10004,5063),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2204=function(){var t=a1228.a1226.a2525(101);t&&(t.visible=!1);var e=a1228.a1226.a2525(131);e&&(e.visible=!1);var i=a1228.g_FubenData[this.data.index];a1228.a1225.applyFunc(10004,5320,1,i),a1228.a1225.applyFunc(10004,5046,3),a1228.a1225.applyFunc(10004,5271),a1228.a1225.applyFunc(10004,5177)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=this.data.index;a1232.fubenTimes<=0&&a1232.fubenVideos<=0?(this.fightbgImg.source="an_2_png",this.fightwzImg.source="tztz2_png",this.shiGroup.visible=!1):a1232.fubenTimes>0?(this.fightbgImg.source="TiaoZhanLabel_png",this.fightwzImg.source="tztz1_png",this.shiGroup.visible=!1):a1232.fubenTimes<=0&&a1232.fubenVideos>0&&(this.fightbgImg.source="TiaoZhanLabel_png",this.fightwzImg.source="",this.shiGroup.visible=!0),this.targetLabel.text=a1228.g_FubenData[t].target,this.tuijianLabel.text=a1228.a1230.formatEnglish(langueOfvalue(langue.fuben,a1228.g_FubenData[t].level[0]),this.tuijianLabel);for(var e=[],i=0;i<a1228.g_FubenData[t].reward.length;i++)if(2==a1228.g_FubenData[t].reward[i][0])this.iconImg.source="ICON_longgu_png",this.goldNumLabel.text=a1228.g_FubenData[t].reward[i][1]+"";else if(1==a1228.g_FubenData[t].reward[i][0])this.iconImg.source="ICON_zs_png",this.goldNumLabel.text=a1228.g_FubenData[t].reward[i][1]+"";else if(a1228.g_FubenData[t].reward[i][0]>200&&a1228.g_FubenData[t].reward[i][0]<300){var a={chipId:a1228.g_FubenData[t].reward[i][0],chipNum:a1228.g_FubenData[t].reward[i][1]};e.push(a)}else if(a1228.g_FubenData[t].reward[i][0]>300&&a1228.g_FubenData[t].reward[i][0]<400){var a={chipId:a1228.g_FubenData[t].reward[i][0],chipNum:a1228.g_FubenData[t].reward[i][1]};e.push(a)}this.scrollList.dataProvider=new eui.ArrayCollection(e),this.scrollList.itemRenderer=a1150},e.prototype.a2097=function(){var t=this;if(15==a1232.guideStep&&0==this.itemIndex&&a1232.curLevel>10&&this.a1263(0,0).y>100){var e=a1228.a1226.a2525(131);if(e){var i=this.fightBtn.a1263(0,0),a=i.x,n=i.y;a1228.a1233.a2570(),a1228.a1233.a2572(e,154,69,a,n,function(){t.a2202(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1162","结束副本引导",7)}),a1228.a1233.a2565(e,a+40,n+30)}}},e}(eui.ItemRenderer);__reflect(a1153.prototype,"a1153");var a1154=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.fubenSuccessSkin,a1228.a1225.applyFunc(10004,5157),n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),a1232.fubenTimes>0&&(a1232.fubenTimes-=1),a1228.a1225.applyFunc(10004,5041),this.showPrize(),this.a2115()},e.prototype.a2115=function(){var t=this,e="zhandoushengli";this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=155,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1),egret.Tween.get(this.bgImg).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20),egret.Tween.get(this.infoGroup).to({alpha:0},0).wait(740).to({alpha:1},50).call(function(){t.sureBtn.visible=!0}),egret.Tween.get(this.scroll).wait(840).call(function(){for(var e=t.scrollList.$children,i=0;i<e.length;i++){var a=e[i];a.group.scaleX=0,a.group.scaleY=0,egret.Tween.get(a.group).wait(50*a.itemIndex).to({scaleX:1,scaleY:1},200)}t.scroll.visible=!0}),this.scroll.visible=!1,this.sureBtn.visible=!1},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.showPrize=function(){for(var t=[],e=0;e<a1228.g_FubenData[a1232.CopyIndex].reward.length;e++){var i={ID:a1228.g_FubenData[a1232.CopyIndex].reward[e][0],Count:a1228.g_FubenData[a1232.CopyIndex].reward[e][1]};t.push(i),a1228.a1225.applyFunc(10004,5035,i.ID,i.Count,104)}this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1135},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5159),a1228.a1225.applyFunc(10004,5157),a1228.a1225.applyFunc(10004,5e3),a1228.a1225.applyFunc(10004,5054)},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1154.prototype,"a1154");var a1155=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.curSelect=null,n._skin=a1243.fubenView,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.timesLabel.text=a1232.fubenTimes+a1232.fubenVideos+"",a1228.a1230.a2557(!0,this.group);for(var t=0,e=0;e<a1232.curPlayers.length;e++)a1232.curPlayers[e]>0&&(t+=a1232.playerIDs[a1232.curPlayers[e]].level);for(var e in a1228.g_FubenData)if(t>=a1228.g_FubenData[e].showlevel[0]&&t<=a1228.g_FubenData[e].showlevel[1]){if(Number(e)>100&&Number(e)<200){this.a2206();break}if(Number(e)>200&&Number(e)<300){this.a2121();break}if(Number(e)>300&&Number(e)<400){this.a2207();break}}this.curSelect||this.a2207()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.a2107=function(){var t=[];for(var e in a1228.g_FubenData){var i={index:""};(1==this.curSelect&&Number(e)>100&&Number(e)<200||2==this.curSelect&&Number(e)>200&&Number(e)<300||3==this.curSelect&&Number(e)>300&&Number(e)<400)&&(i.index=e),""!=i.index&&t.push(i)}this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1153},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.jiandanBtn,egret.TouchEvent.TOUCH_TAP,this.a2206),a1251.a1412(this,this.putongBtn,egret.TouchEvent.TOUCH_TAP,this.a2121),a1251.a1412(this,this.kunnanBtn,egret.TouchEvent.TOUCH_TAP,this.a2207)},e.prototype.a2206=function(){1!=this.curSelect&&(this.curSelect=1,this.a2208(),this.a2107())},e.prototype.a2121=function(){2!=this.curSelect&&(this.curSelect=2,this.a2208(),this.a2107())},e.prototype.a2207=function(){3!=this.curSelect&&(this.curSelect=3,this.a2208(),this.a2107())},e.prototype.a2208=function(){1==this.curSelect?(this.img1.visible=!0,this.img2.visible=!1,this.img3.visible=!1,this.jiandanbgImg.source="TiaoZhanLabel_png",this.jiandanwzImg.source="jdjd1_png",this.putongbgImg.source="an_2_png",this.putongwzImg.source="ptpt2_png",this.kunnanbgImg.source="an_2_png",this.kunnanwzImg.source="knkn2_png"):2==this.curSelect?(this.img1.visible=!1,this.img2.visible=!0,this.img3.visible=!1,this.jiandanbgImg.source="an_2_png",this.jiandanwzImg.source="jdjd2_png",this.putongbgImg.source="TiaoZhanLabel_png",this.putongwzImg.source="ptpt1_png",this.kunnanbgImg.source="an_2_png",this.kunnanwzImg.source="knkn2_png"):3==this.curSelect&&(this.img1.visible=!1,this.img2.visible=!1,this.img3.visible=!0,this.jiandanbgImg.source="an_2_png",this.jiandanwzImg.source="jdjd2_png",this.putongbgImg.source="an_2_png",this.putongwzImg.source="ptpt2_png",this.kunnanbgImg.source="TiaoZhanLabel_png",this.kunnanwzImg.source="knkn1_png")},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5055)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1155.prototype,"a1155");var a1156=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.cpNum=0,a.guajiTip=!0,a.adTipTime=0,a.adtaskTime=0,a.isTouchBuy=!1,a.buyTimerID=0,a.maxCol=5,a.maxRow=3,a.boxW=128,a.boxH=118,a.lastTime4=0,a.lastTime5=0,a.canBuy=!0,a.isMove=!1,a.foodPosData={},a.curboshu=0,a.guideCurboshu=0,a.huxitime=7e3,a.hasNet=!0,a.guideBuy=1021,a.isBorning=!1,a.lastGCTime=0,a.frameCount=0,a.frameTotal=0,a.iconTime=0,a.isNoIcon=!1,a.dinosaurChange=!0,a.paoId=0,a.charactTimes=0,a.huodeyan=500,a.opentimer=null,a._skin=a1243.gameView,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;a1232.isDebug;var e=a1228.a1122.a1872(),i=a1228.a1122.a1873();this.adTask_Image.source="",this.adTaskBtn.visible=!1,this.adTaskBtn.width=0,a1232.isShowLimitGift?(this.limitGiftBtn.visible=!0,this.limitGiftBtn.width=98):(this.limitGiftBtn.visible=!1,this.limitGiftBtn.width=0),i-this.rootGroup.height>120&&(this.rootGroup.height=i-120),e>720&&this.passNameLabel.width/2<(e-720)/2/2&&(this.passNameLabel.left=(e-720)/2/2-this.passNameLabel.width/2+50),this.resetBtn.visible=!1,a1232.isDebug&&platform.isLocal()&&(this.resetBtn.visible=!0,this.resetBtn.parent.removeChild(this.resetBtn),a1220.UI_Tips.addChild(this.resetBtn)),a1228.SceneMgr?(this.sceneMgr=a1228.SceneMgr,a1228.SceneMgr.sceneMap.a2515()):(this.sceneMgr=new scene.SceneMgr,this.sceneMgr.init()),a1228.ActorMgr?this.actorMgr=a1228.ActorMgr:this.actorMgr=new actor.ActorMgr,a1228.a1229?this._autsys=a1228.a1229:this._autsys=new a1229(this._controller,this.sceneMgr,this.actorMgr),this.initGame(),0==a1232.guideStep&&a1232.curLevel<2?(this.guideGroup.visible=!0,a1232.isGuide=!0,this._autsys.pause(),this._autsys.a2541(),a1228.a1225.applyFunc(10004,5089,1),a1228.a1225.applyFunc(10004,5041)):(a1232.releaseGuideRes(),this.guideGroup.visible=!1,this.actorMgr.init(this.sceneMgr),this._autsys.start(),setTimeout(function(){t.a2097()},100));var a=a1232.musicState;a?setTimeout(function(){a1228.a1238.a2583(!0)},2100):a1228.a1238.a2584(),this._controller.a1916(5039,this.a2237,this),this._controller.a1916(5040,this.a2216,this),this._controller.a1916(5086,this.a2253,this),this._controller.a1916(5090,this.a2210,this),this._controller.a1916(5091,this.a2209,this),this._controller.a1916(5088,this.a2257,this),this._controller.a1916(5048,this.a2262,this),this._controller.a1916(5118,this.a2097,this),this._controller.a1916(5102,this.a2258,this),this._controller.a1916(5061,this.a2097,this),this._controller.a1916(5106,this.a2097,this),this._controller.a1916(5062,this.a2254,this),this._controller.a1916(5063,this.a2280,this),this._controller.a1916(5059,this.a2097,this),this._controller.a1916(5321,this.a2259,this),this._controller.a1916(5076,this.a2272,this),this._controller.a1916(5077,this.a2273,this),this._controller.a1916(5056,this.a2281,this),this._controller.a1916(5001,this.a2265,this),this._controller.a1916(5061,this.a2267,this),this._controller.a1916(5088,this.remindBuyFood,this),this._controller.a1916(5088,this.autouSystemOpen,this),this._controller.a1916(5061,this.openStar,this),this._controller.a1916(5143,this.isGet8,this),this._controller.a1916(5154,this.isGet8,this),this._controller.a1916(5308,function(){t.isGet5(t.giftActRedImg)},this),this._controller.a1916(5180,this.isGet10,this),this.checkQQHongbaoBtn(),this.a2224(),this.checkZhengbaBtn2(),this.checkNewPlayerBoss(),this.checkSystemAdvance(),this.checkFriendHelpBtn(),this.checkGiftActBtn(),this.onSystem1(0),this.a2262(),this.a2263(),this.a2264(),this.a2265(),this.a2267(),this.isGet5(this.giftActRedImg),this.a2269(this.zbRedImg),this.a2266(),this.isGet8(),this.isGet9(this.zbRedImg2),this.isGet10(),this.Prompt(!0),this.a2281(),this.a2270(),this.runNotice(),this.crossPromotion(),this.levelGroup.cacheAsBitmap=!0,a1228.a1122.a1957().frameRate=60,platform.setPreferredFramesPerSecond(60),platform.AladinSDKReport&&!this.newFlag&&(this.newFlag=!0,platform.AladinSDKReport(a1232.openid,2,null,null,null)),a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),"kwaigame"==platform.name?(a1228.a1230.reflshKsCoin(),this.coinGroup.visible=!0,this.taskImg.source="ksrwtb_png"):this.coinGroup.visible=!1,this.gmgjLabel.text=a1228.a1230.formatEnglish(langue.skin_s42,this.gmgjLabel)},e.prototype.openStar=function(){var t=a1228.a1226.a2525(161);if(t){a1228.a1225.applyFunc(10004,5143);var e=a1228.a1226.a2525(162);e&&(egret.Tween.removeTweens(e.group),e.group.scaleX=1,e.group.scaleY=1)}},e.prototype.a2209=function(){this.actorMgr.init(this.sceneMgr),this._autsys.start(),this.sceneMgr.getCamera().offset=0},e.prototype.a2210=function(){a1232.isGuide=!1,this.actorMgr.init(this.sceneMgr),this.sceneMgr.getCamera().offset=0,this.actorMgr.a2486(),this._autsys.start(),a1232.releaseGuideRes(),this.a2097()},e.prototype.initGame=function(){this.event(),this.diamondLabel.text="",this.goldLabel.text="",a1228.a1252.doTimer(17,0,this.update,this),this.a2214(),this.a2245(),this.a2241(),this.a2216(),this.a2240(),this.a2239(),this.a2212(),a1232.lgtimes<4&&(a1232.lgtimes+=1,a1228.a1225.applyFunc(10004,5041)),a1232.isDebug},e.prototype.a2212=function(){a1232.curLevel>=14?this.maxFoodGroup.visible=!0:this.maxFoodGroup.visible=!1},e.prototype.a2213=function(){a1228.a1225.applyFunc(10004,5222)},e.prototype.a2214=function(){var t=0;this.boxes=[];var e=[],i=localStorage.getItem("foodPos");if(i)try{this.foodPosData=JSON.parse(i)}catch(a){this.foodPosData={}}else 0==a1232.guideStep?a1232.props={101:2,102:1}:1==a1232.guideStep?a1232.props={101:1,102:2}:2==a1232.guideStep&&(a1232.props={101:2,103:1}),this.foodPosData={};for(var n in a1232.props)for(var r=a1232.props[n],s=0;r>s;++s)e.push(Number(n));if(a1232.giftID&&e.push(998),e.sort(),e.length>0){var o=[];for(var n in this.foodPosData)this.foodPosData[n]&&o.push(Number(this.foodPosData[n]));if(o.sort(),e.toString()!=o.toString()){this.foodPosData={};for(var n=0;n<e.length;++n)this.foodPosData[n]=e[n];try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(l){}}}else this.foodPosData={};for(var n=0;n<this.maxRow;++n){this.boxes.push([]);for(var s=0;s<this.maxCol;++s)this.boxes[n].push(this["iconImg"+n+s]),this.a2217(this.foodPosData[t],n,s),t+=1}var h=0,p=function(t){a1232.props[t]>15&&(0==h?setTimeout(function(){a1228.a1225.applyFunc(10004,5035,Number(t),-a1232.props[t]+15,1,!1)},10+17*h):setTimeout(function(){a1228.a1225.applyFunc(10004,5035,Number(t),-a1232.props[t]+1,1,!1)},10+17*h),h+=1)};for(var u in a1232.props)p(u)},e.prototype.update=function(t){var e=this,i=a1232.getServerTime(),a=egret.getTimer();if(this.parent&&(this._autsys.update(),this.sceneMgr.update(null)),this.lastTime||(this.lastTime=a),this.lastTime2||(this.lastTime2=a),this.lastTime3||(this.lastTime3=a),this.giftBox&&Math.floor(i/1e3)!=this.gifttime&&this.a2219(),this.frameCount+=1,50>t?this.frameTotal+=t:this.frameTotal+=50,a-this.lastTime2>=3e3){this.lastTime2=a;var n=Math.floor(1e3/(this.frameTotal/this.frameCount));n=30>n?40:40>n?50:60,n!=a1228.a1122.a1957().frameRate&&(a1228.a1122.a1957().frameRate=n,platform.setPreferredFramesPerSecond(n))}if(!this.adTask_Image.visible&&i-this.adtaskTime>120&&(this.adTask_Image.visible=this.adTaskBtn.visible),a-this.lastTime>=6e4){this.lastTime=a;var r=a1232.getServerTime(),s=a1228.a1230.getYaunActiveDay();if(s>=1&&3>=s&&(a1232.offlinecuotime=r),a1232.lastpantime&&a1232.pantimes<8){for(var o=!1;r-a1232.lastpantime>=10800;)a1232.lastpantime+=10800,a1232.pantimes<8&&(a1232.pantimes+=1),o=!0;a1232.pantimes>=8&&(a1232.lastpantime=r),o&&a1228.a1225.applyFunc(10004,5041)}else a1232.lastpantime=r;this.openKsHongBao(),a1228.a1225.applyFunc(10004,5044,8),a1228.a1225.applyFunc(10004,5045,2),a1228.a1225.applyFunc(10004,5046,7),a1228.a1225.applyFunc(10004,5047,1),this.lastGCTime||(this.lastGCTime=i),i-this.lastGCTime>600&&platform.triggerGC(),this.isGet5(this.giftActRedImg),this.a2269(this.zbRedImg),this.isGet9(this.zbRedImg2)}if(a-this.lastTime4>=1e3){this.lastTime4=a,this.a2224(),this.checkZhengbaBtn2(),this.a2225(),this.checkNewPlayerBoss(),this.checkSystemAdvance(),this.checkQQHongbaoBtn(),this.checkGiftActBtn(),this.reflshSysInfo(),this.a2266(),this.guidePaoPao(),this.a2215(),this.runNotice();var l=a1232.guajiTime;i-l>0?(a1232.guajiTime=i-a1232.lastGuajiTime+l,a1232.lastGuajiTime=i,i-l>=300?(this.guajiBtn.visible=!0,this.guajiBtn.parent.scaleX=1,this.guajiTipImg.visible=this.guajiTip):(this.guajiBtn.visible=!1,this.guajiBtn.parent.scaleX=0)):(a1232.guajiTime=i,this.guajiBtn.visible=!1,this.guajiBtn.parent.scaleX=0),this.a2275(),a1228.a1245.a2615(),a1232.adCountTime>0&&a1232.adCountTime--
}return a1232.lastNewPlayer&&!a1232.isNewPlayer()&&(a1232.lastNewPlayer=!1,setTimeout(function(){a1228.a1250.loadGroups("game2",["preload3","sign","shengtang","newboss","more","tujian"],function(){a1232.releaseChoukaRes(),a1232.releaseSignRes(),a1232.releaseFosterRes(),a1232.releaseJinhuaRes(),a1232.releaseNewActRes()},function(t){if("dinosaur2_zz"===t){var e=RES.getRes(t),i=e.byteLength,a=new Uint8Array(e.slice(867,i-14));a1232.dinosaurZip2=new JSZip(a.reverse()),RES.a1530(t)}},e)},500)),this.isTouchBuy&&a-this.buyTimerID>=230&&(this.buyTimerID=a,this.a2244()),!0},e.prototype.guidePaoPao=function(){if(a1232.curLevel>=3&&a1232.curLevel<=14){this.paoId||(this.tipGroup1.visible=!0,this.tipGroup2.visible=!0,this.tipGroup1.scaleX=0,this.tipGroup1.scaleY=0,this.tipGroup2.scaleX=0,this.tipGroup2.scaleY=0,this.paoId=1);var t=10,e=20,i=this["tipGroup"+this.paoId],a=this["tipGroup"+(1==this.paoId&&2||1)];if(!i||!a)return;egret.Tween.removeTweens(i),0==this.charactTimes&&(this.charactTimes=e),this.charactTimes>=e&&this.charactTimes<=t+e?i.scaleX<.001&&egret.Tween.get(i).to({scaleX:1,scaleY:1},300):this.charactTimes>t+e&&(i.scaleX>.001&&egret.Tween.get(i).to({scaleX:0,scaleY:0},300),this.charactTimes=0,this.paoId=1),this.charactTimes+=1}else this.tipGroup1.visible=!1,this.tipGroup2.visible=!1},e.prototype.openKsHongBao=function(){if("kwaigame"==platform.name&&a1232.curLevel>systemOpenPass.limitfood){a1232.ksOnlineTime+=1;var t={reward_id:"",coinNum:0,id:0};for(var e in a1228.g_ksHongBaoData)a1232.ksOnlineTime>=a1228.g_ksHongBaoData[e].time&&-1==a1232.ksHongBao.indexOf(Number(e))&&(t.reward_id=a1228.g_ksHongBaoData[e].reward_id,t.coinNum=a1228.g_ksHongBaoData[e].cionNum,t.id=a1228.g_ksHongBaoData[e].index);t&&t.coinNum>0&&(a1232.ksHongBao.push(t.id),a1228.a1225.applyFunc(10004,5311,t))}},e.prototype.a2215=function(){if(a1232.maxfoodtime>0){var t=a1232.getServerTime(),e=a1232.maxfoodtime+300-t;e>=0?(this.foodmaxtimeLabel.visible=!0,this.videoFoodBtn.visible=!1,this.foodmaxtimeLabel.text=a1228.a1240.a2597(e,1)):(a1232.maxfoodtime=0,this.foodmaxtimeLabel.visible=!1,this.videoFoodBtn.visible=!0),this.a2241()}},e.prototype.a2216=function(){this.passNameLabel.text=a1228.a1230.formatEnglish(a1228.g_Monster[a1232.curLevel].passName,this.passNameLabel)},e.prototype.a2217=function(t,e,i){var a=this,n=this.boxes[e][i],r=n.value;if((1==t||2==t||3==t)&&(t=998),998==t)10==a1232.guideStep&&3==a1232.giftID?n.source="ldxiao_png":n.source="bx_png",this["label"+e+i].text="",this.giftBox=n,n.value=0,n.id=t,n.row=e,n.col=i,n.baseX=n.x,n.baseY=n.y,n.baseZ=e*this.maxCol+this.maxCol+15,this.a2219(),this.a2220(),a1251.a1412(this,n,egret.TouchEvent.TOUCH_TAP,this.a2222,!1);else if(t){var s=a1228.g_PropsData[t];n.source=s.icon,n.value=s.level,n.id=t,n.visible=!0,this["label"+e+i].text=s.level,r||(n.row=e,n.col=i,n.baseX=n.x,n.baseY=n.y,n.baseZ=e*this.maxCol+this.maxCol+15,a1251.a1412(this,n,egret.TouchEvent.TOUCH_BEGIN,function(t){a.a2234(n)},!1)),this.bornBox=n,a1251.a1413(this,n,egret.TouchEvent.TOUCH_TAP,this.a2222,!1)}else n.source="",n.id=0,r?(n.x=n.baseX,n.y=n.baseY):(n.row=e,n.col=i,n.baseX=n.x,n.baseY=n.y,n.baseZ=e*this.maxCol+this.maxCol+15),this["label"+e+i].text="",a1251.a1413(this,n,egret.TouchEvent.TOUCH_TAP,this.a2222,!1)},e.prototype.a2218=function(){var t=[];t.push(a1228.g_GiftData[1].weather),t.push(a1228.g_GiftData[2].weather),t.push(a1228.g_GiftData[3].weather);for(var e=0,i=0;i<t.length;i++)e+=t[i];for(var a=[],i=0;i<t.length;i++)if(0==t[i])a.push([0,0]);else{for(var n=0,r=0;i>r;r++)n+=t[r];a.push([n,n+t[i]])}for(var s=Math.floor(Math.random()*e),o=-1;0>o;)for(var i=0;i<a.length;i++)if(s>a[i][0]&&s<=a[i][1]&&a[i][1]>0){o=i;break}return a1228.g_GiftData[o+1].index},e.prototype.a2219=function(){if(this.giftBox){this.gifttimeLabel||(this.gifttimeLabel=new eui.Label,this.imgjishibg=new eui.Image,this.imgjishibg.source="BIG_D_png",this.foodGroup.addChild(this.imgjishibg),this.foodGroup.addChild(this.gifttimeLabel)),this.imgjishibg.x=this.giftBox.x-51,this.imgjishibg.y=this.giftBox.y+23,this.imgjishibg.width=106,this.imgjishibg.height=35,this.gifttimeLabel.x=this.giftBox.x-36,this.gifttimeLabel.y=this.giftBox.y+28;var t=a1232.getServerTime(),e=a1232.giftTime+300-t;e>=0?(this.gifttimeLabel.text=a1228.a1240.a2597(e,2),this.gifttime=Number(this.gifttimeLabel.text),this.gifttimeLabel.visible=this.giftBox.visible,this.imgjishibg.visible=this.giftBox.visible):this.a2221(!0)}},e.prototype.a2220=function(){var t=this;this.giftBox&&(setTimeout(function(){t.huodeImg.visible=!0;var e=t.giftBox.a1263(0,0),i=t.huodeImg.a1263(0,0);t.huodeImg.x=t.huodeImg.x+(e.x-i.x)+70,t.huodeImg.y=t.huodeImg.y+(e.y-i.y)-20,t.foodGroup.setChildIndex(t.huodeImg,900)},this.huodeyan),egret.Tween.get(this.giftBox,{loop:!0}).to({rotation:15},100).to({rotation:0},100).to({rotation:-15},100).to({rotation:0},100).to({scaleX:1.1,scaleY:.9},200).to({scaleX:1,scaleY:1},200).wait(1500))},e.prototype.a2221=function(t){if(this.giftBox){t?(this.foodPosData[this.giftBox.row*this.maxCol+this.giftBox.col]=a1232.giftID,this.a2217(0,this.giftBox.row,this.giftBox.col)):(this.foodPosData[this.giftBox.row*this.maxCol+this.giftBox.col]=0,this.a2217(0,this.giftBox.row,this.giftBox.col)),egret.Tween.removeTweens(this.giftBox),this.giftBox.scaleX=1,this.giftBox.scaleY=1,this.giftBox=null,this.curboshu=0,this.huodeImg.visible=!1;try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(e){}}a1232.giftID=0,a1232.giftTime=0,this.gifttimeLabel&&(this.foodGroup.removeChild(this.gifttimeLabel),this.gifttimeLabel=null),this.imgjishibg&&(this.foodGroup.removeChild(this.imgjishibg),this.imgjishibg=null),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2222=function(){this.gifttimeLabel&&(this.foodGroup.removeChild(this.gifttimeLabel),this.gifttimeLabel=null),1==a1232.giftID||2==a1232.giftID?a1228.a1225.applyFunc(10004,5127,a1232.giftID):3==a1232.giftID&&a1228.a1225.applyFunc(10004,5056,!0)},e.prototype.event=function(){a1251.a1412(this,this.fuhuaBtn,egret.TouchEvent.TOUCH_TAP,this.a2247),a1251.a1412(this,this.shangzhenBtn,egret.TouchEvent.TOUCH_TAP,this.a2248),a1251.a1412(this,this.homeBtn,egret.TouchEvent.TOUCH_TAP,this.a2251),a1251.a1412(this,this.shengtangBtn,egret.TouchEvent.TOUCH_TAP,this.onsShengTang),a1251.a1412(this,this.speedBtn,egret.TouchEvent.TOUCH_TAP,this.a2255),a1251.a1412(this,this.taskBtn,egret.TouchEvent.TOUCH_TAP,this.a2256),a1251.a1412(this,this.foodBtn,egret.TouchEvent.TOUCH_TAP,this.a2249),a1251.a1412(this,this.bossBtn,egret.TouchEvent.TOUCH_TAP,this.a2252),a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_BEGIN,this.a2242,!1),a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_END,this.a2243,!1),a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_CANCEL,this.a2243,!1),a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.a2243,!1),a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_TAP,this.a2244,!1),a1251.a1412(this,this.addDiamondBtn,egret.TouchEvent.TOUCH_TAP,this.a2228),a1251.a1412(this,this.addBoneBtn,egret.TouchEvent.TOUCH_TAP,this.a2229),a1251.a1412(this,this.foodGroup,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.foodGroup,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.foodGroup,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.foodGroup,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.foodGroup,egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.a2151,!1),a1251.a1412(this,this.resetBtn,egret.TouchEvent.TOUCH_TAP,this.onReset),a1251.a1412(this,this.zhuanpanBtn,egret.TouchEvent.TOUCH_TAP,this.a2232),a1251.a1412(this,this.worldMap,egret.TouchEvent.TOUCH_TAP,this.a2271),a1251.a1412(this,a1228.a1122.a1957(),egret.TouchEvent.TOUCH_TAP,this.Prompt,!1),a1251.a1412(this,this.adImg,egret.TouchEvent.TOUCH_TAP,this.a2277),a1251.a1412(this,this.adTaskBtn,egret.TouchEvent.TOUCH_TAP,this.a2230),a1251.a1412(this,this.limitGiftBtn,egret.TouchEvent.TOUCH_TAP,this.a2227),a1251.a1412(this,this.guajiBtn,egret.TouchEvent.TOUCH_TAP,this.a2226),a1251.a1412(this,this.videoFoodBtn,egret.TouchEvent.TOUCH_TAP,this.a2213),a1251.a1412(this,this.newActivityBtn,egret.TouchEvent.TOUCH_TAP,this.a2231),a1251.a1412(this,this.zhengbaBtn,egret.TouchEvent.TOUCH_TAP,this.a2223),a1251.a1412(this,this.zhengbaBtn2,egret.TouchEvent.TOUCH_TAP,this.onClickZhengba2),a1251.a1412(this,this.xinshouBtn,egret.TouchEvent.TOUCH_TAP,this.onNewPlayerBoss),a1251.a1412(this,this.systemBtn1,egret.TouchEvent.TOUCH_TAP,this.onClickSysMove,!1),a1251.a1412(this,this.systemBtn2,egret.TouchEvent.TOUCH_TAP,this.onSystem2,!1),a1251.a1412(this,a1228.a1122.a1957(),egret.TouchEvent.TOUCH_TAP,this.clearShouZhiAni,!1),a1251.a1412(this,this.yuandanBtn,egret.TouchEvent.TOUCH_TAP,this.onYuanDan),a1251.a1412(this,this.hongbaoBtn,egret.TouchEvent.TOUCH_TAP,this.onClickHongbao),a1251.a1412(this,this.giftActBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGiftAtc),a1251.a1412(this,this.ksBtn,egret.TouchEvent.TOUCH_TAP,this.onClickKsCoinBtn),a1251.a1412(this,this.friendBtn,egret.TouchEvent.TOUCH_TAP,this.onClickFriend),a1251.a1412(this,this.cpIconImg,egret.TouchEvent.TOUCH_TAP,this.onCpIcon,!1)},e.prototype.onClickFriend=function(){a1228.a1225.applyFunc(10004,5180)},e.prototype.onClickKsCoinBtn=function(){a1228.a1225.applyFunc(10004,5105)},e.prototype.onClickGiftAtc=function(){a1228.a1225.applyFunc(10004,5307)},e.prototype.onClickHongbao=function(){a1232.getHongbao?a1228.a1245.a2612("明日领取"):a1228.a1225.applyFunc(10004,5294)},e.prototype.onSkyGift=function(){a1228.a1225.applyFunc(10004,5288)},e.prototype.onKaChi=function(){a1228.a1225.applyFunc(10004,5286)},e.prototype.onYuanDan=function(){a1228.a1225.applyFunc(10004,5270)},e.prototype.remindBuyFood=function(){var t=a1232.getFoodNum();if(!a1232.bossResult&&!a1228.a1233.ani&&15>t){if(this.rebuyAni)try{this.removeChild(this.rebuyAni)}catch(e){}var i=ObjectPool.pop("a1239");i.initData("shou_shou",-1,1,0,!0,"shou_shou"),i.x=this.buyGroup.x-this.buyGroup.anchorOffsetX,i.y=this.buyGroup.y-60-this.buyGroup.anchorOffsetY,this.addChild(i),this.rebuyAni=i}},e.prototype.clearShouZhiAni=function(){if(this.rebuyAni)try{this.removeChild(this.rebuyAni)}catch(t){}},e.prototype.onClickSysMove=function(){this.opentimer&&(clearTimeout(this.opentimer),this.opentimer=null),this.onSystem1(300)},e.prototype.autouSystemOpen=function(){var t=this,e=a1228.a1122.a1872()-50;this.systemGroup.visible&&this.systemGroup.x>=e&&a1232.bossResult&&(this.onSystem1(300),this.opentimer=setTimeout(function(){t.onSystem1(300)},3e3))},e.prototype.onSystem1=function(t){var e=this,i=a1228.a1122.a1872()-235,a=a1228.a1122.a1872()-50;t>0?this.systemGroup.x<=i?(egret.Tween.removeTweens(this.systemGroup),this.dirImg.source="xtzuo_png",this.systemBtn1.touchEnabled=!1,egret.Tween.get(this.systemGroup).to({x:a},t).call(function(){e.systemBtn1.touchEnabled=!0})):this.systemGroup.x>=a&&(egret.Tween.removeTweens(this.systemGroup),this.dirImg.source="xtyou_png",this.systemBtn1.touchEnabled=!1,egret.Tween.get(this.systemGroup).to({x:i},t).call(function(){e.systemBtn1.touchEnabled=!0})):(this.dirImg.source="xtzuo_png",this.systemGroup.x=a),this.reflshSysInfo()},e.prototype.onSystem2=function(){a1228.a1225.applyFunc(10004,5268)},e.prototype.a2223=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5212)},e.prototype.onClickZhengba2=function(){a1228.a1225.applyFunc(10004,5212,!0)},e.prototype.checkGiftActBtn=function(){a1232.curLevel>=3&&("ios"==platform.name||"android_qudao"==platform.name)?this.giftActBtn.parent.scaleX=0:this.giftActBtn.parent.scaleX=0},e.prototype.checkQQHongbaoBtn=function(){"qqgame"==platform.name&&"qq"==a1232.AppPlatform?a1232.getHongbao?(this.qqklqImg.visible=!1,this.qqmrlqImg.visible=!0,this.hbRedImg.visible=!1):(this.qqklqImg.visible=!0,this.qqmrlqImg.visible=!1,this.hbRedImg.visible=!0):(this.hongbaoBtn.scaleX=0,this.hongbaoBtn.visible=!1)},e.prototype.checkFriendHelpBtn=function(){"qqgame"==platform.name&&"qq"==a1232.AppPlatform||platform.isLocal()?(this.friendBtn.scaleX=0,this.friendBtn.visible=!1):(this.friendBtn.scaleX=0,this.friendBtn.visible=!1)},e.prototype.a2224=function(){var t=new Date(1e3*a1232.getServerTime()),e=t.getDay(),i=t.getHours(),a=(t.getMinutes(),a1232.getServerTime()),n=a>=a1232.zhengbaStartTime&&a<=a1232.zhengbaEndTime,r=5==e&&i>=18||6==e||0==e&&22>i;a1232.curLevel>a1232.zhengbaOpenLevel&&a1232.zhengbasai&&(n||!n&&r)?(this.zhengbaBtn.visible=!0,this.zhengbaBtn.parent.scaleX=1,a1232.zhengbaIsOpen=!0):(this.zhengbaBtn.visible=!1,this.zhengbaBtn.parent.scaleX=0,a1232.zhengbaIsOpen=!1,a1232.zhengbatimes=25)},e.prototype.checkZhengbaBtn2=function(){var t=a1232.getServerTime();a1232.zhengbaFitOpen2&&a1232.curLevel>a1232.zhengbaOpenLevel2&&t>a1232.zhengbaStartTime2&&t<a1232.zhengbaEndTime2?(this.zhengbaBtn2.visible=!0,this.zhengbaBtn2.parent.scaleX=1,a1232.zhengbaIsOpen2=!0):(this.zhengbaBtn2.visible=!1,this.zhengbaBtn2.parent.scaleX=0,a1232.zhengbaIsOpen2=!1)},e.prototype.checkNewPlayerBoss=function(){if(a1232.curLevel>=13&&1==a1232.newPlayerBoss){var t=!1,e=!1,i=!1,a=0;for(var n in a1228.g_newPlayerBossData)-1==a1232.newBossRdPass.indexOf(a1228.g_newPlayerBossData[n].index)&&(e=!0,a1232.newBossPass>=a1228.g_newPlayerBossData[n].index&&(i=!0)),a++;this.xsRedImg.visible=i,a1232.newBossPass<a&&(t=!0),e||t?(this.xinshouBtn.visible=!0,this.xinshouBtn.parent.scaleX=1):(this.xinshouBtn.visible=!1,this.xinshouBtn.parent.scaleX=0)}else this.xinshouBtn.visible=!1,this.xinshouBtn.parent.scaleX=0},e.prototype.checkSystemAdvance=function(){var t=!1,e=!1,i=!1;if(a1232.guideStep>8){for(var a in a1228.g_systemData){var n=this.getRewardState(a1228.g_systemData[a].index);1==n||(2==n?t=!0:3==n&&(i=!0))}e=i||t?!0:!1}this.sysRedImg.visible=t,this.systemGroup.visible=e},e.prototype.getRewardState=function(t){var e=0;if(a1232.curLevel>=a1228.g_systemData[t].passLevel&&-1==a1232.sysReward.indexOf(t)){var i=a1228.a1226.a2525(102);if(i)return e=2}return e=-1!=a1232.sysReward.indexOf(t)?1:3},e.prototype.reflshSysInfo=function(){for(var t in a1228.g_systemData){var e=this.getRewardState(a1228.g_systemData[t].index);if(3==e)return this.sysNameLabel.text=a1228.a1230.formatEnglish(a1228.g_systemData[t].sysName,this.sysNameLabel),void(this.sysPassLabel.text=a1228.a1230.formatEnglish(a1228.g_systemData[t].passName+" "+langue.kq,this.sysPassLabel))}this.sysNameLabel.text=langue.qbwc,this.sysPassLabel.text=langue.djlqjl},e.prototype.a2225=function(){for(var t=!1,e=NewPlayerActivityType.begin+1;e<NewPlayerActivityType.end;++e){var i=a1232.newPlayerActivity[e];if((e==NewPlayerActivityType.fuhua&&a1232.isOpenNewPlayerActA||e==NewPlayerActivityType.online&&a1232.isOpenNewPlayerActS)&&0==i[1]){t=!0;break}}this.newActivityBtn.visible=t,this.newActivityBtn.parent.scaleX=t&&1||0},e.prototype.a2226=function(){a1228.a1230.interstitialAd(),this.guajiTip=!1,this.guajiTipImg.visible=!1,a1228.a1225.applyFunc(10004,5322,0)},e.prototype.a2227=function(){a1228.a1225.applyFunc(10004,5196)},e.prototype.a2228=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5033,1)},e.prototype.a2229=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5033,2)},e.prototype.a2230=function(){this.adtaskTime=a1232.getServerTime(),this.adTask_Image.visible=!1,a1232.isShowAd&&a1232.isShowSDKAd?a1228.a1225.applyFunc(10004,5323):a1228.a1225.applyFunc(10004,5162)},e.prototype.onNewPlayerBoss=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5260)},e.prototype.a2231=function(){a1228.a1225.applyFunc(10004,5164,!0)},e.prototype.a2232=function(){a1228.a1230.interstitialAd(),a1232.curLevel<=5?a1228.a1245.a2612(langueOfvalue(langue.switchtable,5)):a1228.a1225.applyFunc(10004,5103)},e.prototype.onReset=function(){a1232.isDebug&&platform.isLocal()&&(a1228.a1226.destroy(105,new TestView(this,a1220.UI_Main_UP)),a1228.a1226.open(105))},e.prototype.a2234=function(t){if(!(this.curbox||this.isMove||!t.id||t.id<100||t.id>200||this.isBorning)){this.curbox=t,this.foodGroup.setChildIndex(this.curbox,999);for(var e=0;e<this.maxRow;++e)for(var i=0;i<this.maxCol;++i)998!=this.boxes[e][i].id&&egret.Tween.removeTweens(this.boxes[e][i]),this.boxes[e][i].x=this.boxes[e][i].baseX,this.boxes[e][i].y=this.boxes[e][i].baseY,this.boxes[e][i].scaleX=1,this.boxes[e][i].scaleY=1,this["label"+e+i].visible=this.curbox.row!=e||this.curbox.col!=i;egret.Tween.get(this.curbox).to({scaleX:1.3,scaleY:1.3},70),this.a2240(this.curbox);for(var a=0,n=this.actorMgr.a2502(1);a<n.length;a++){var r=n[a];r&&r.a1886()>0&&r.a1882()}}},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2556=function(){if(this.blackFilters)return this.blackFilters;var t=[1,0,0,0,50,0,1,0,0,50,0,0,1,0,0,0,0,0,1,0];return this.blackFilters=[new egret.ColorMatrixFilter(t)],this.blackFilters},e.prototype.a2150=function(t){if(this.curbox){this.curbox.x=this.curbox.baseX+(t.stageX-this.beginPos[0]),this.curbox.y=this.curbox.baseY+(t.stageY-this.beginPos[1]);for(var e=0,i=this.actorMgr.a2502(1);e<i.length;e++){var a=i[e];a&&a.a1886()>0&&a.a1882()}this["label"+this.curbox.row+this.curbox.col].visible&&(this["label"+this.curbox.row+this.curbox.col].visible=!1);var n=this.curbox,r=this.boxes[0][0];if(n.y-r.y<80){for(var s=void 0,o=n.a1263(0,0),l=99999,h=0,p=this.actorMgr.a2502(1);h<p.length;h++){var a=p[h];if(a){a.a1871().filters=null;var u=a.a1871().a1263(0,0),c=u.x-o.x,d=u.y-o.y;if(c+50>0&&d>0&&c+50<a.a1872()&&d<a.a1873()){var g=Math.pow(c,2)+Math.pow(d-a.a1873()/2,2);l>g&&(l=g,s=a)}}}s&&s.a1886()>0&&s.a1871()&&"ios"!=platform.name&&"android"!=platform.name&&(s.a1871().filters=this.a2556())}}},e.prototype.a2151=function(){var t=this;if(this.curbox&&!this.isMove&&this.curbox.id){var e=this.curbox;this["label"+e.row+e.col].visible=!0,this.a2239(),e.scaleX=1,e.scaleY=1,this.isMove=!0;for(var i=null,a=0;a<this.maxRow;++a){for(var n=0;n<this.maxCol;++n){var r=this.boxes[a][n];if(r&&null==i&&e!=r&&998!=r.id&&this.a2246(r.baseX,r.baseY,e.x,e.y)<80){i=r;break}}if(i)break}if(!i&&0!=a1232.guideStep&&1!=a1232.guideStep&&8!=a1232.guideStep){for(var s=void 0,o=e.a1263(0,0),l=99999,h=0,p=this.actorMgr.a2502(1);h<p.length;h++){var u=p[h];if(u){u.a1871().filters=null;var c=u.a1871().a1263(0,0),d=c.x-o.x,g=c.y-o.y;if(d+50>0&&g>0&&d+50<u.a1872()&&g<u.a1873()){var f=Math.pow(d,2)+Math.pow(g-u.a1873()/2,2);l>f&&(l=f,s=u)}}}if(s&&s.a1886()>0){var m=a1228.g_PropsData[e.id];if(this._autsys.a2546())a1228.a1245.a2612(langue.bossnofood);else if(m){var v=s.a1864();a1228.a1225.applyFunc(10004,5035,e.id,-1,1,!1),a1228.a1225.applyFunc(10004,5043,s.getID(),m.exp),this.weishiLevel=e.value,e.id=0,this.a2217(0,e.row,e.col),this.foodPosData[e.row*this.maxCol+e.col]=0;try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(y){}2==a1232.guideStep&&(a1228.a1233.a2571(a1232.guideStep),v==s.a1864()&&this.a2097(),a1227.getPoint("1007","喂养引导",7))}return e.x=e.baseX,e.y=e.baseY,this.foodGroup.setChildIndex(e,e.baseZ),this.curbox=null,this.isMove=!1,void this.a2240()}}if(e&&this.foodGroup.setChildIndex(e,e.baseZ),i&&this.foodGroup.setChildIndex(i,i.baseZ),i&&e){if(0==a1232.guideStep||8==a1232.guideStep){if(0!=i.row||1!=i.col){var l=.3*Math.sqrt(Math.pow(e.baseX-e.x,2)+Math.pow(e.baseY-e.y,2));return void egret.Tween.get(e).to({x:e.baseX,y:e.baseY},l).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.curbox=null,t.isMove=!1})}}else if(1==a1232.guideStep){if(0!=i.row||2!=i.col){var l=.3*Math.sqrt(Math.pow(e.baseX-e.x,2)+Math.pow(e.baseY-e.y,2));return void egret.Tween.get(e).to({x:e.baseX,y:e.baseY},l).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.curbox=null,t.isMove=!1})}}else if(2==a1232.guideStep){var l=.3*Math.sqrt(Math.pow(e.baseX-e.x,2)+Math.pow(e.baseY-e.y,2));return void egret.Tween.get(e).to({x:e.baseX,y:e.baseY},l).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.curbox=null,t.isMove=!1})}var b=0;if(i.id>100&&i.id<200&&a1228.g_PropsData[Number(i.id)+1]&&(b=a1228.g_PropsData[Number(i.id)+1].passLevel),i.value&&i.value==e.value&&i.value<a1232.zuidaLevelFood&&i.id>100&&i.id<200&&a1232.curLevel>=b){this["label"+i.row+i.col].visible=!1;var _=i.id,A=i.id+1,T=(i.value,i.value+1);if(a1228.a1225.applyFunc(10004,5038,A,1,_,2,!1),a1228.a1225.applyFunc(10004,5044,4),a1228.a1225.applyFunc(10004,5045,4),a1228.a1225.applyFunc(10004,5045,6),a1228.a1238.playEffect("purifiedfood_mp3"),this.foodGroup.setChildIndex(i,this.foodGroup.$children.length-2),0==a1232.guideStep||1==a1232.guideStep||8==a1232.guideStep){8==a1232.guideStep?(this.guideCurboshu=this.curboshu,a1227.getPoint("1036","第三次引导合成",7)):0==a1232.guideStep?a1227.getPoint("1005","第一次引导合成",7):1==a1232.guideStep&&a1227.getPoint("1006","第二次引导合成",7),a1228.a1233.a2571(a1232.guideStep),this.setChildIndex(this.foodGroup,4),this.guideGroup.visible=!1;for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=!0;this.a2097()}var C=new eui.Image;C.source=a1228.g_PropsData[_].icon,C.width=e.width,C.height=e.height,C.anchorOffsetX=e.anchorOffsetX,C.anchorOffsetY=e.anchorOffsetY,C.x=e.x,C.y=e.y,e.x=e.baseX,e.y=e.baseY,this.foodGroup.addChild(C),egret.Tween.get(C).to({x:i.x,y:i.y},100).call(function(){t.foodGroup.removeChild(C)}),egret.Tween.get(i).wait(100).call(function(){i.visible=!0,i.source=a1228.g_PropsData[A].icon;var e="glow2",a=a1228.a1245.CreateAniSpriteByPool(e,1,1,24,!0,e);a.x=i.x,a.y=i.y,t.foodGroup.addChildAt(a,100)}).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:1.1},50).to({scaleX:1,scaleY:.9},50).to({scaleX:1,scaleY:1},50).call(function(){t["label"+i.row+i.col].visible=!0;var a=a1232.maxLevelFood,n=a-1;if(a1232.guideStep>2&&a1232.curLevel>1){if(T>=n&&a1232.Reserve<=a1228.a1245.random_num(1,10))a1228.a1225.applyFunc(10004,5113,T),a1232.Reserve=90;else{a1232.Reserve--;var r=a-2;r>=T&&T>=9&&a1232.Upgrade<=a1228.a1245.random_num(1,10)&&40>T?(a1228.a1225.applyFunc(10004,5115,T,i),a1232.Upgrade=85):a1232.Upgrade--}T>a&&(a1232.maxLevelFood=T,a1232.isDebug&&localStorage.setItem("maxLevelFood",""+T),a1228.a1238.playEffect("new_mp3"),a1228.a1225.applyFunc(10004,5111,a1232.maxLevelFood,1))}else T>a&&(a1232.maxLevelFood=T,a1232.isDebug&&localStorage.setItem("maxLevelFood",""+T));T>=a1232.zuidaLevelFood,t.isMove=!1,t.a2241(),t.foodPosData[i.row*t.maxCol+i.col]=i.id,t.foodPosData[e.row*t.maxCol+e.col]=0;try{localStorage.setItem("foodPos",JSON.stringify(t.foodPosData))}catch(s){}t.foodGroup.setChildIndex(e,e.baseZ),t.foodGroup.setChildIndex(i,i.baseZ),t.foodGroup.setChildIndex(t.levelGroup,999),t.curbox=null,t.a2239(),(1==a1232.guideStep||2==a1232.guideStep)&&t.a2097(),a1228.a1225.applyFunc(10004,5041)}),this.a2217(A,i.row,i.col),this.a2217(0,e.row,e.col),i.source=a1228.g_PropsData[_].icon}else if(!i.id||i.id>100&&i.id<200){a1232.curLevel<=b&&i.value==e.value?a1228.a1245.a2612(langueOfvalue(langue.opennextfood,a1228.g_Monster[b].passName)):i.value&&i.id&&i.value==e.value&&i.value>=a1232.zuidaLevelFood&&a1228.a1245.a2612(langue.foodmaxLevel);var w=.3*Math.sqrt(Math.pow(e.baseX-i.x,2)+Math.pow(e.baseY-i.y,2)),f=.3*Math.sqrt(Math.pow(i.baseX-e.x,2)+Math.pow(i.baseY-e.y,2)),x=i.baseX,I=i.baseY;i.baseX=e.baseX,i.baseY=e.baseY,e.baseX=x,e.baseY=I;var D=e.col,E=e.row;this.boxes[E][D]=i,this.boxes[i.row][i.col]=e,e.col=i.col,e.row=i.row,i.col=D,i.row=E,this.foodPosData[E*this.maxCol+D]=i.id,this.foodPosData[e.row*this.maxCol+e.col]=e.id,i.id?egret.Tween.get(i).to({x:i.baseX,y:i.baseY},w).to({scaleX:1.03,scaleY:1.03},70).to({scaleX:1,scaleY:1},70).to({scaleX:.97,scaleY:1.03},70).to({scaleX:1,scaleY:1},70):(i.x=i.baseX,i.y=i.baseY),egret.Tween.get(e).to({x:e.baseX,y:e.baseY},100).to({scaleX:1.03,scaleY:1.03},70).to({scaleX:1,scaleY:1},70).to({scaleX:.97,scaleY:1.03},70).to({scaleX:1,scaleY:1},70).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.foodGroup.setChildIndex(t.levelGroup,999),t.curbox=null,t.isMove=!1}),this.a2217(i.id,i.row,i.col),this.a2217(e.id,e.row,e.col);try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(y){}}else{var l=.3*Math.sqrt(Math.pow(e.baseX-e.x,2)+Math.pow(e.baseY-e.y,2));egret.Tween.get(e).to({x:e.baseX,y:e.baseY},l).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.foodGroup.setChildIndex(t.levelGroup,999),t.curbox=null,t.isMove=!1})}}else{var l=.3*Math.sqrt(Math.pow(e.baseX-e.x,2)+Math.pow(e.baseY-e.y,2));egret.Tween.removeTweens(e),e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({x:e.baseX,y:e.baseY},l).call(function(){t.foodGroup.setChildIndex(e,e.baseZ),t.foodGroup.setChildIndex(t.levelGroup,999),t.curbox=null,t.isMove=!1})}this.a2240()}},e.prototype.a2235=function(t){var e=this;if(!this.weishiGroup){this.weishiGroup=new eui.Group;var i=new eui.Image;i.source="swdb_png",i.width=115,i.height=87,this.weishiGroup.addChild(i),this.weishiFoodImg=new eui.Image,this.weishiFoodImg.width=45,this.weishiFoodImg.height=45,this.weishiFoodImg.x=17,this.weishiFoodImg.y=11,this.weishiGroup.addChild(this.weishiFoodImg),this.canjuImg1=new eui.Image,this.canjuImg1.source="chaz_png",this.canjuImg1.width=36,this.canjuImg1.height=37,this.canjuImg1.anchorOffsetX=0,this.canjuImg1.anchorOffsetY=this.canjuImg1.height,this.canjuImg1.x=64,this.canjuImg1.y=59,this.weishiGroup.addChild(this.canjuImg1),this.canjuImg2=new eui.Image,this.canjuImg2.source="daoz_png",this.canjuImg2.width=31,this.canjuImg2.height=37,this.canjuImg2.anchorOffsetX=this.canjuImg2.width,this.canjuImg2.anchorOffsetY=this.canjuImg2.height,this.canjuImg2.x=99,this.canjuImg2.y=57,this.weishiGroup.addChild(this.canjuImg2)}this.weishiGroup.visible=!0,this.weishiLevel&&(this.weishiFoodImg.source=a1228.g_PropsData[100+this.weishiLevel].icon),egret.Tween.get(this.weishiGroup).wait(1e3).call(function(){e.weishiGroup&&(e.weishiGroup.visible=!1,egret.Tween.removeTweens(e.canjuImg1),egret.Tween.removeTweens(e.canjuImg2),e.weishiGroup.parent&&e.weishiGroup.parent.removeChild(e.weishiGroup))}),this.weishiGroup.x=250,this.weishiGroup.y=-20,t.a1876()&&t.a1876().addChild(this.weishiGroup),this.canjuImg1.rotation=0,this.canjuImg2.rotation=0,egret.Tween.get(this.canjuImg1,{loop:!0}).to({rotation:-50},300).to({rotation:0},300),egret.Tween.get(this.canjuImg2,{loop:!0}).to({rotation:50},300).to({rotation:0},300)},e.prototype.a2236=function(t,e){for(var i=0,a=0,n=0;n<this.maxRow;n++)for(var r=0;r<this.maxCol;r++)if(this.boxes[n][r].id||(i+=1,this.foodPosData[a]=t,egret.Tween.removeTweens(this.boxes[n][r]),this.boxes[n][r].x=this.boxes[n][r].baseX,this.boxes[n][r].y=this.boxes[n][r].baseY,this.a2217(t,n,r)),a+=1,i>=e){try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(s){}return}this.a2238()},e.prototype.a2237=function(t,e){for(var i=0,a=0,n=0;n<this.maxRow;++n)for(var r=0;r<this.maxCol;++r)if(this.boxes[n][r].id||(i+=1,this.foodPosData[a]=t,egret.Tween.removeTweens(this.boxes[n][r]),this.boxes[n][r].x=this.boxes[n][r].baseX,this.boxes[n][r].y=this.boxes[n][r].baseY,this.a2217(t,n,r)),a+=1,i>=e){try{localStorage.setItem("foodPos",JSON.stringify(this.foodPosData))}catch(s){}return}this.a2238()},e.prototype.a2238=function(){var t=a1232.getFoodNum();if(t>=15){for(var e=0,i=0;i<this.maxRow;++i)for(var a=0;a<this.maxCol;++a)this.boxes[i][a].id?(e+=1,this.a2217(this.boxes[i][a].id,i,a),this.boxes[i][a].visible=!0):this.a2217(0,i,a);if(e!=t){var n=[],r=[];for(var i in a1232.props)if(Number(i)>100&&Number(i)<200&&a1232.props[i]>0)for(var s=0;s<a1232.props[i];++s)n.push(Number(i));a1232.giftID&&n.push(998);for(var i=0;i<this.maxRow;++i)for(var a=0;a<this.maxCol;++a){var o=this.boxes[i][a].id;if(o){var l=n.indexOf(o);-1!=l?n.splice(l,1):(this.a2217(0,i,a),r.push(this.boxes[i][a]))}else r.push(this.boxes[i][a])}if(n.length>0)for(var h=0;h<n.length;++h)r[h]&&this.a2217(n[h],r[h].row,r[h].col)}}},e.prototype.a2239=function(){var t=this;egret.Tween.removeTweens(this.foodGroup),egret.Tween.get(this.foodGroup).wait(this.huxitime).call(function(){if(!t.curbox){var e=[];for(var i in a1228.g_PropsData)e.push(0);for(var i=0;i<t.maxRow;++i)for(var a=0;a<t.maxCol;++a)t.boxes[i][a].value>0&&t.boxes[i][a].id&&(e[t.boxes[i][a].value-1]+=1);for(var n=0,i=0;i<t.maxRow;++i)for(var a=0;a<t.maxCol;++a){var r=t.boxes[i][a];r.value==n&&n<a1232.zuidaLevelFood&&r.id&&n>0||(egret.Tween.removeTweens(t["select"+i+a]),t["select"+i+a].scaleX=1,t["select"+i+a].scaleY=1,t["select"+i+a].visible=!1)}}})},e.prototype.a2240=function(t){if(t&&t.value<a1232.zuidaLevelFood)for(var e=0;e<this.maxRow;++e)for(var i=0;i<this.maxCol;++i){var a=this.boxes[e][i];a&&(t.value&&a.id&&a.value==t.value&&t!=a?(this["select"+e+i].visible=!0,this["select"+e+i].scaleX=1,this["select"+e+i].scaleY=1,egret.Tween.get(this["select"+e+i],{loop:!0}).to({scaleX:1.05,scaleY:1.05},500).to({scaleX:1,scaleY:1},500)):(egret.Tween.removeTweens(this["select"+e+i]),this["select"+e+i].scaleX=1,this["select"+e+i].scaleY=1,this["select"+e+i].visible=!1))}else for(var i=0;i<this.maxRow;++i)for(var e=0;e<this.maxCol;++e)this["select"+i+e].visible=!1,egret.Tween.removeTweens(this["select"+i+e])},e.prototype.a2241=function(){this.buyfoodInfo=null;var t=a1232.foodPrice(101,2);if(a1232.maxLevelFood<5)this.buyfoodInfo=[],this.buyfoodInfo[0]=101,this.buyfoodInfo[1]=t;else{var e=a1232.maxLevelFood-3+100,i=a1232.foodPrice(e,2);this.buyfoodInfo=[],this.buyfoodInfo[0]=e,this.buyfoodInfo[1]=i}if(a1232.maxfoodtime>0){var a=a1232.getServerTime(),n=a1232.maxfoodtime+6e4-a;if(n>0){var e=a1232.maxLevelFood+100,i=a1232.foodPrice(e,2);this.buyfoodInfo=[],this.buyfoodInfo[0]=e,this.buyfoodInfo[1]=i}}this.buyfoodInfo&&(this.foodImg.source=a1228.g_PropsData[this.buyfoodInfo[0]].icon,this.priceLabel.text=a1232.priceFormat(this.buyfoodInfo[1],!0),this.levelLabel.text="Lv."+a1228.g_PropsData[this.buyfoodInfo[0]].level)},e.prototype.a2242=function(){this.isTouchBuy=!0,a1228.a1254.a2638(this.buyGroup)},e.prototype.a2243=function(){this.isTouchBuy=!1},e.prototype.a2244=function(){var t=this;if("android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null),this.canBuy&&!this.isMove&&this.isTouchBuy){if(a1228.a1252.doTimer(225,1,function(){t.canBuy=!0},this),this.canBuy=!1,this.buyfoodInfo){var e=2,i=this.buyfoodInfo[1];if(1==e&&a1232.diamond>=i||2==e&&a1232.gold>=i){var a=a1232.getFoodNum();if(a>=14?7==a1232.guideStep&&(a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),this.guideGroup.visible=!1,this.a2097()):7==a1232.guideStep&&this.guideBuy<=1035&&(a1227.getPoint(this.guideBuy+"","引导买肉",7),this.guideBuy+=1),a>=15)return this.a2238(),a1228.a1245.a2612(langue.foodfull),this.isBorning=!1,void(this.isTouchBuy=!1);
a1228.a1225.applyFunc(10004,5038,this.buyfoodInfo[0],1,e,i);var n=a1232.priceFormat(i,!0);if(a1228.a1245.a2613("-"+n),a1228.a1238.playEffect("buyfood_mp3"),this.bornBox){egret.Tween.get(this.bornBox).to({scaleX:0,scaleY:0},0).to({scaleX:1.15,scaleY:1.15},80).wait(60).to({scaleX:1,scaleY:1},80).call(function(){t.isBorning=!1}),this.isBorning=!0;var r=ObjectPool.pop("a1239"),s="hecheng";r.initData(s,1,1,60,!0,s),r.x=this.bornBox.x,r.y=this.bornBox.y,this.foodGroup.addChild(r)}return a1228.a1252.doTimer(220,1,function(){t.bornBox&&(egret.Tween.removeTweens(t.bornBox),t.bornBox.scaleX=1,t.bornBox.scaleY=1,t.bornBox=null,t.isBorning=!1)},this),this.a2240(),this.a2239(),this.a2241(),void(this.buyfoodInfo||7!=a1232.guideStep||(a1228.a1233.a2571(a1232.guideStep),this.guideGroup.visible=!1,this.a2097()))}1==e?a1228.a1245.a2612(langue.nofuwen):2==e&&("ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?a1228.a1225.applyFunc(10004,5117):a1228.a1225.applyFunc(10004,5117,!0),a1228.a1245.a2612(langue.nolonggu)),this.isTouchBuy=!1}else 7==a1232.guideStep?(a1228.a1233.a2571(a1232.guideStep),this.guideGroup.visible=!1,this.isTouchBuy=!1,this.a2097(),a1228.a1245.a2612(langue.nolonggu)):"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?a1228.a1225.applyFunc(10004,5117):a1228.a1225.applyFunc(10004,5117,!0);this.a2241(),a1232.isDebug}},e.prototype.a2245=function(){if(this.diamondLabel){this.diamondLabel.text=a1232.priceFormat(a1232.diamond,!0);var t=a1232.priceFormat(a1232.gold,!0);this.goldLabel.text=t,this.a2241()}},e.prototype.a2246=function(t,e,i,a){var n=Math.abs(t-i),r=Math.abs(e-a);return Math.sqrt(n*n+r*r)},e.prototype.a2247=function(){a1228.a1230.interstitialAd(),a1232.chouka_redflag=!0,a1228.a1225.applyFunc(10004,5056)},e.prototype.a2248=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5060)},e.prototype.a2249=function(){a1228.a1230.interstitialAd(),a1232.maxLevelFood>=5?a1228.a1225.applyFunc(10004,5024):a1228.a1245.a2612(langueOfvalue(langue.shopnokai,5))},e.prototype.a2114=function(){this.tipsGroup.visible=!1},e.prototype.a2250=function(){a1228.a1225.applyFunc(10004,5016)},e.prototype.a2251=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5e3),("ios"==platform.name||"android"==platform.name)&&a1232.guideStep>15&&!a1232.isNewsPlayer&&platform.getInterstitialAd2(function(){},null),("android"==platform.name||platform.isLocal())&&(this.cpNum++,this.cpNum>1&&(this.cpNum=0),this.crossPromotion())},e.prototype.onsShengTang=function(){a1228.a1230.interstitialAd(),a1228.a1230.showFullVideo(),a1228.a1225.applyFunc(10004,5141)},e.prototype.a2252=function(){if(!a1228.g_Monster[a1232.curLevel+1])return void a1228.a1245.a2612(langue.noboss);if(0!=a1228.a1229.a2547())return void a1228.a1245.a2612(langue.nofight);this.WaiTingGroup.visible=!0,this.bossBtn.touchEnabled=!1,a1232.newyearUI?this.bossBtn.source="newyear_xunzhao_png":this.bossBtn.source="SeekZhong_png";a1228.a1122.a1872(),a1228.a1122.a1873();this.FangDaAnim&&(this.WaiTingGroup.removeChild(this.FangDaAnim),this.FangDaAnim.dispose(),this.FangDaAnim=null);var t="bossxunzhaozhong",e=a1228.a1245.CreateFrameAnimation(t,t);this.WaiTingGroup.addChild(e),e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&(e.animation.timeScale=.8),e.animation&&e.animation.play("bossxunzhaozhong1",1),e.addEventListener(dragonBones.EventObject.COMPLETE,function(t){e.animation&&e.animation.play("bossxunzhaozhong2",0)},this),this.FangDaAnim=e,this._autsys.a2534()},e.prototype.a2253=function(){var t=this;if(!a1232.isGuide){this.WaiTingGroup.visible=!1,this.FangDaAnim&&(this.WaiTingGroup.removeChild(this.FangDaAnim),this.FangDaAnim.dispose(),this.FangDaAnim=null);a1228.a1122.a1872(),a1228.a1122.a1873();this.BoosStrikeAni&&(this.BoosStrike.removeChild(this.BoosStrikeAni),this.BoosStrikeAni.dispose(),this.BoosStrikeAni=null);var e="bosslaixi",i=a1228.a1245.CreateFrameAnimation(e,e);this.BoosStrike.addChild(i),i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&(i.animation.timeScale=.8),i.animation&&i.animation.play("bosslaixi",1),i.addEventListener(dragonBones.EventObject.COMPLETE,function(e){t.BoosStrikeAni&&(t.BoosStrike.removeChild(t.BoosStrikeAni),t.BoosStrikeAni.dispose(),t.BoosStrikeAni=null),a1232.newyearUI?"newyear_boss_png"!=t.bossBtn.source&&(t.bossBtn.source="newyear_tiaozhan_png"):"TSBBS_png"!=t.bossBtn.source&&(t.bossBtn.source="TiaoZhanZhong_png")},this),this.BoosStrikeAni=i,a1228.a1238.playEffect("warning_mp3")}},e.prototype.a2254=function(){this.bossBtn.touchEnabled=!0,a1232.newyearUI?this.bossBtn.source="newyear_boss_png":this.bossBtn.source="TSBBS_png"},e.prototype.a2255=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5117)},e.prototype.a2256=function(){a1228.a1230.interstitialAd(),a1232.curLevel<=7&&"kwaigame"!=platform.name?a1228.a1245.a2612(langueOfvalue(langue.switchtask,7)):a1228.a1225.applyFunc(10004,5105)},e.prototype.a2257=function(t){if(this.guideGroup.visible=!1,1==t||3==t){var e=a1232.curLevel;3==a1232.guideStep&&2==e?(a1228.a1233.a2571(a1232.guideStep),this.guideGroup.visible=!1,this.a2097()):(11==a1232.guideStep&&e>=7||12==a1232.guideStep&&e>=8&&"kwaigame"!=platform.name||a1232.guideStep==GuideTaskID&&"kwaigame"==platform.name||13==a1232.guideStep&&e>=9||10==a1232.guideStep&&e>=6||15==a1232.guideStep&&e>=11||14==a1232.guideStep&&e>=10||16==a1232.guideStep&&e>=12||18==a1232.guideStep&&a1232.curLevel>=38||17==a1232.guideStep&&a1232.curLevel>=14)&&this.a2097()}},e.prototype.a2258=function(){3==a1232.guideStep&&this.a2097()},e.prototype.a2097=function(){var t=this;if(this.setChildIndex(this.foodGroup,4),0==a1232.guideStep||8==a1232.guideStep){var e=this.boxes[0][0],i=this.boxes[0][1];if(8==a1232.guideStep&&!(e&&i&&e.id&&i.id&&e.id==i.id))return void a1228.a1233.a2571(a1232.guideStep);this.guideGroup.visible=!0,this.setChildIndex(this.foodGroup,999);for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=0==a&&0==n;if(8==a1232.guideStep){this.guideGroup.removeChildren();for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=!0}a1228.a1233.a2570(),a1228.a1233.a2565(this,this.foodGroup.x+e.x-35,this.foodGroup.y+e.y,this.foodGroup.x+i.x-20,this.foodGroup.y+i.y,1e3,!0,300)}else if(1==a1232.guideStep){this.guideGroup.visible=!0,this.setChildIndex(this.foodGroup,999);for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=0==a&&1==n;var e=this.boxes[0][1],i=this.boxes[0][2];a1228.a1233.a2570(),a1228.a1233.a2565(this,this.foodGroup.x+e.x-40,this.foodGroup.y+e.y,this.foodGroup.x+i.x-20,this.foodGroup.y+i.y,1e3,!0,300)}else if(2==a1232.guideStep){this.guideGroup.visible=!0,this.setChildIndex(this.foodGroup,999);for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=0==a&&2==n;var e=this.boxes[0][2];a1228.a1233.a2570(),a1228.a1233.a2565(this,this.foodGroup.x+e.x-25,this.foodGroup.y+e.y,this.foodGroup.x+e.x-150,this.foodGroup.y+e.y-460,1e3,!0,300)}else if(3==a1232.guideStep){var r=this.bossBtn.x-this.bossBtn.anchorOffsetX,s=this.bossBtn.y-this.bossBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.foodGroup,4),a1228.a1233.a2572(this.guideGroup,200,72,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.a2252(),a1228.a1233.a2570(),a1227.getPoint("1009","第一次挑战BOSS",7)});for(var a=0;a<this.maxRow;++a)for(var n=0;n<this.maxCol;++n)this.boxes[a][n].touchEnabled=!0;a1228.a1233.a2565(this,this.bottomGroup.x+r+80,this.bottomGroup.y+s+41)}else if(7==a1232.guideStep){if(7==a1232.guideStep){this.guideGroup.visible=!0;var r=this.buyGroup.x-this.buyGroup.anchorOffsetX,s=this.buyGroup.y-this.buyGroup.anchorOffsetY;a1228.a1233.a2572(this.guideGroup,231,122,this.x+r,this.y+s,function(){},.01);var o=new eui.Rect(231,122,0);o.x=r,o.y=s,o.alpha=0,this.guideGroup.addChild(o),a1251.a1412(this,o,egret.TouchEvent.TOUCH_TAP,function(){t.isTouchBuy=!1,t.a2244()},!1),a1251.a1412(this,o,egret.TouchEvent.TOUCH_BEGIN,function(){t.isTouchBuy=!0,a1228.a1254.a2638(t.buyGroup)},!1),a1251.a1412(this,o,egret.TouchEvent.TOUCH_END,function(){t.isTouchBuy=!1},!1),a1251.a1412(this,o,egret.TouchEvent.TOUCH_CANCEL,function(){t.isTouchBuy=!1},!1),a1251.a1412(this,o,egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(){t.isTouchBuy=!1},!1)}a1228.a1233.a2565(this,this.buyGroup.x+80-this.buyGroup.anchorOffsetX,this.buyGroup.y+50-this.buyGroup.anchorOffsetY,null,null,null,!1,0,!0)}else if(6==a1232.guideStep){var r=this.speedBtn.x-this.speedBtn.anchorOffsetX,s=this.speedBtn.y-this.speedBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.guideGroup,999),a1228.a1233.a2572(this.guideGroup,76,79,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2255(),a1228.a1233.a2570(),a1227.getPoint("1018","点击加速",7)}),a1228.a1233.a2565(this,this.bottomGroup.x+r+20,this.bottomGroup.y+s+40)}else if(4==a1232.guideStep){var r=this.fuhuaBtn.x-this.fuhuaBtn.anchorOffsetX,s=this.fuhuaBtn.y-this.fuhuaBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.guideGroup,999),a1228.a1233.a2572(this.guideGroup,70,111,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2247()}),a1228.a1233.a2565(this,this.bottomGroup.x+r+10,this.bottomGroup.y+s+50,null,null,null,!1,0,!0)}else if(5==a1232.guideStep){if(Object.keys(a1232.playerIDs).length<2)return a1228.a1233.a2571(a1232.guideStep),void this.a2097();var r=this.shangzhenBtn.x-this.shangzhenBtn.anchorOffsetX,s=this.shangzhenBtn.y-this.shangzhenBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.guideGroup,999),a1228.a1233.a2570(),a1228.a1233.a2572(this.guideGroup,70,113,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2248(),a1227.getPoint("1014","引导点击上阵按钮",7)}),a1228.a1233.a2565(this,this.bottomGroup.x+r-5,this.bottomGroup.y+s+35,null,null,null,!1,0,!0)}else if(10==a1232.guideStep&&a1232.curLevel>5){var r=this.zhuanpanBtn.x-this.zhuanpanBtn.anchorOffsetX,s=this.zhuanpanBtn.y-this.zhuanpanBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.guideGroup,999),a1228.a1233.a2572(this.guideGroup,78,88,this.bottomGroup.x+r-5,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2232(),a1227.getPoint("1111","引导点击转盘",7)}),a1228.a1233.a2565(this,this.bottomGroup.x+r+20,this.bottomGroup.y+s+40)}else if(12==a1232.guideStep&&a1232.curLevel>=8&&"kwaigame"!=platform.name||a1232.guideStep==GuideTaskID&&"kwaigame"==platform.name){var r=this.x+this.bottomGroup.x+this.taskBtn.x-this.taskBtn.anchorOffsetX,s=this.y+this.bottomGroup.y+this.taskBtn.y-this.taskBtn.anchorOffsetY;this.guideGroup.visible=!0,a1228.a1233.a2572(this,90,88,r,s,function(){t.guideGroup.visible=!1,a1228.a1233.a2570(),t.a2256(),a1227.getPoint("1131","开始任务引导",7)}),a1228.a1233.a2565(this,r+10,s+45)}else if(13==a1232.guideStep&&a1232.curLevel>8||15==a1232.guideStep&&a1232.curLevel>10||14==a1232.guideStep&&a1232.curLevel>9||11==a1232.guideStep&&a1232.curLevel>6||18==a1232.guideStep&&a1232.curLevel>37){var r=this.homeBtn.x-this.homeBtn.anchorOffsetX,s=this.homeBtn.y-this.homeBtn.anchorOffsetY;this.guideGroup.visible=!0,this.setChildIndex(this.guideGroup,999),a1228.a1233.a2572(this.guideGroup,55,66,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2251(),a1228.a1233.a2570(),11==a1232.guideStep?a1227.getPoint("1121","开始困兽场引导",7):13==a1232.guideStep?a1227.getPoint("1141","开始图鉴引导",7):14==a1232.guideStep?a1227.getPoint("1151","开始砸蛋引导",7):15==a1232.guideStep?a1227.getPoint("1161","开始副本引导",7):18==a1232.guideStep&&a1227.getPoint("1191","点击培养引导",7)}),a1228.a1233.a2565(this,this.bottomGroup.x+r+10,this.bottomGroup.y+s+50,null,null,null,!1,0,!0)}else if(16==a1232.guideStep&&a1232.curLevel>11){var r=this.shangzhenBtn.x-this.shangzhenBtn.anchorOffsetX,s=this.shangzhenBtn.y-this.shangzhenBtn.anchorOffsetY;this.guideGroup.visible=!0,a1228.a1233.a2572(this.guideGroup,70,113,this.bottomGroup.x+r,this.bottomGroup.y+s,function(){t.guideGroup.visible=!1,t.a2248(),a1228.a1233.a2570(),a1227.getPoint("1171","开始助阵引导",7)}),a1228.a1233.a2565(this,this.bottomGroup.x+r+5,this.bottomGroup.y+s+50)}else if(17==a1232.guideStep&&a1232.curLevel>13){this.maxFoodGroup.visible=!0;var l=this.maxFoodGroup.a1263(0,0),r=l.x-this.x,s=l.y-this.y;this.guideGroup.visible=!0,a1228.a1233.a2572(this,205,46,r,s,function(){t.guideGroup.visible=!1,t.a2213(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,r+80,s+25)}},e.prototype.a2259=function(){this.actorMgr&&(this.actorMgr.a2491()?(this.BattleZhong.visible=!0,egret.Tween.removeTweens(this.WaiTingImage1),this.WaiTingImage1.rotation=0,egret.Tween.get(this.WaiTingImage1,{loop:!0}).to({rotation:360},1500)):(this.BattleZhong.visible=!1,egret.Tween.removeTweens(this.WaiTingImage1)))},e.prototype.close=function(){var e=this;if(this.rebuyAni)try{this.removeChild(this.rebuyAni)}catch(i){}this.BoosStrikeAni&&(this.BoosStrike.removeChild(this.BoosStrikeAni),this.BoosStrikeAni.dispose(),this.BoosStrikeAni=null),this.FangDaAnim&&(this.WaiTingGroup.removeChild(this.FangDaAnim),this.FangDaAnim.dispose(),this.FangDaAnim=null),a1228.a1233.a2569(),a1228.a1233.a2570(),a1251.a1413(this),this.rootGroup&&egret.Tween.removeTweens(this.rootGroup),this.runGroup&&egret.Tween.removeTweens(this.runGroup),a1228.a1252.removeAll(this),this._controller.a1917(5039,this.a2237,this),this._controller.a1917(5040,this.a2216,this),this._controller.a1917(5086,this.a2253,this),this._controller.a1917(5090,this.a2210,this),this._controller.a1917(5091,this.a2209,this),this._controller.a1917(5088,this.a2257,this),this._controller.a1917(5048,this.a2262,this),this._controller.a1917(5118,this.a2097,this),this._controller.a1917(5102,this.a2258,this),this._controller.a1917(5061,this.a2097,this),this._controller.a1917(5106,this.a2097,this),this._controller.a1917(5062,this.a2254,this),this._controller.a1917(5063,this.a2280,this),this._controller.a1917(5059,this.a2097,this),this._controller.a1916(5321,this.a2259,this),this._controller.a1917(5076,this.a2272,this),this._controller.a1917(5077,this.a2273,this),this._controller.a1917(5056,this.a2281,this),this._controller.a1917(5001,this.a2265,this),this._controller.a1917(5061,this.a2267,this),this._controller.a1917(5001,this.a2266,this),this._controller.a1917(5088,this.remindBuyFood,this),this._controller.a1917(5088,this.autouSystemOpen,this),this._controller.a1917(5061,this.openStar,this),this._controller.a1917(5143,this.isGet8,this),this._controller.a1917(5154,this.isGet8,this),this._controller.a1917(5180,this.isGet10,this),this._controller.a1917(5308,function(){e.isGet5(e.giftActRedImg)},this),this._autsys&&this._autsys.clear(),this.actorMgr&&this.actorMgr.reset(),this.sceneMgr&&this.sceneMgr.reset(),t.prototype.close.call(this)},e.prototype.a2260=function(t){this.rootGroup&&a1228.a1245.Rand_Animation(!0,t,"ICON_zs_png",this.x+this.rootGroup.x+this.Diamonds.x,this.y+this.rootGroup.y+this.Diamonds.y)},e.prototype.BoneAnim=function(t){this.rootGroup&&a1228.a1245.Rand_Animation(!0,t,"ICON_longgu_png",this.x+this.rootGroup.x+this.BoneGruop.x,this.y+this.rootGroup.y+this.BoneGruop.y)},e.prototype.a2262=function(){var t=!1;for(var e in a1228.g_TaskData)a1232.taskData[e][0]>=a1228.g_TaskData[e].count&&1!=a1232.taskData[e][1]&&(a1232.curLevel>7||"kwaigame"==platform.name)&&(t=!0);this.Task_Image.visible=t},e.prototype.a2263=function(){a1232.pantimes>0&&a1232.curLevel>5?this.table_Image.visible=!0:this.table_Image.visible=!1},e.prototype.a2264=function(){a1232.addsptimes>0?this.speed_Image.visible=!0:this.speed_Image.visible=!1},e.prototype.a2265=function(){if(this.home_Image.visible=!1,a1232.fubenTimes>0&&a1232.curLevel>10)return void(this.home_Image.visible=!0);if(a1232.kunshouTimes>0&&a1232.curLevel>6)return void(this.home_Image.visible=!0);if(a1232.curLevel>9){if(a1232.breakeggTimes>=0&&!a1232.breakeggAS&&a1232.curLevel>9)return void(this.home_Image.visible=!0);if(a1232.signDay<=7&&!a1232.hasDaySign)return void(this.home_Image.visible=!0);if(a1232.HelpData.length>0&&platform.shareAppMessage)for(var t=1e3*a1232.getServerTime(),e=new Date(t),i=0;i<a1232.HelpData.length;i++){var a=new Date(a1232.HelpData[i].regTime);if(0==a1232.HelpData[i].dayState&&e.getDate()==a.getDate()&&t-a1232.HelpData[i].regTime<864e5)return void(this.home_Image.visible=!0)}if(a1232.friendHelpDiamond>0)return void(this.home_Image.visible=!0)}if(a1232.curLevel>=9)for(var i in a1228.g_jibanData){var n=i;for(var r in a1228.g_jibanData[i]){var s=a1228.g_jibanData[i][r].fuId,o=r,l=a1228.a1230.getRewardState(n,s,o),h=a1228.a1230.getJiBanUp(n,s,o),p=a1228.a1230.getJiBanState(n,s,o);if(2==l[1]||1==h||2==p)return void(this.home_Image.visible=!0)}}return this.a2266(),this.a2269(this.home_Image),this.isGet9(this.home_Image),this.isGet5(this.home_Image),!this.home_Image.visible&&a1228.a1230.chunjieRed()?void(this.home_Image.visible=!0):!this.home_Image.visible&&a1228.a1230.chunjieRed_ks()?void(this.home_Image.visible=!0):4==a1228.a1230.expFullCounts()?void(this.home_Image.visible=!0):void 0},e.prototype.a2266=function(){for(var t=0;t<a1232.produce.length/2;t++){var e=t;if(a1232.produce[2*e]&&a1232.produce[2*e+1])if(a1232.producetime[e]>0&&a1232.hatchtime[e]<=0){var i=a1232.producetime[e]+a1232.produceNeedTime-a1232.getServerTime();if(0>i)return void(this.home_Image.visible=!0)}else if(a1232.producetime[e]<=0&&a1232.hatchtime[e]>0){var i=a1232.hatchtime[e]+a1232.hatchNeedTime-a1232.getServerTime();if(0>i)return void(this.home_Image.visible=!0)}}},e.prototype.a2267=function(){var t=!1;a1232.curLevel>24&&a1232.curLevel<=65?(a1232.cheerLock[0][0]>0&&a1232.cheerIDs[0][0]<=0||a1232.cheerLock[1][0]>0&&a1232.cheerIDs[1][0]<=0||a1232.cheerLock[0][0]<=0||a1232.cheerLock[1][0]<=0)&&(t=!0):a1232.curLevel>65?(a1232.cheerLock[0][0]>0&&a1232.cheerIDs[0][0]<=0||a1232.cheerLock[0][1]>0&&a1232.cheerIDs[0][1]<=0||a1232.cheerLock[1][0]>0&&a1232.cheerIDs[1][0]<=0||a1232.cheerLock[1][1]>0&&a1232.cheerIDs[1][1]<=0||a1232.cheerLock[0][0]<=0||a1232.cheerLock[0][1]<=0||a1232.cheerLock[1][0]<=0||a1232.cheerLock[1][1]<=0)&&(t=!0):t=!1,this.fight_Image.visible=t},e.prototype.a2269=function(t){t.visible=!1;var e=a1232.zhengbatimes+a1232.zhengbavideotimes;if(a1232.zhengbaIsOpen)e>0&&(t.visible=!0);else if(null==a1232.zhengbaReward){var i={gameId:a1232.gameID,trackId:a1232.trackId,old:0};a1228.a1247.a2623(a1232.URL_ZB_INIT,egret.URLRequestMethod.POST,i,function(i){if(i&&i.data){var a=i.data;a.isGo&&e>0&&(t.visible=!0),0==a.lq&&0==a.isGo&&a.self&&a.self.num<=1e3&&a.self.num>0?(t.visible=!0,a1232.zhengbaReward=!0):a1232.zhengbaReward=!1}},null)}else t.visible=a1232.zhengbaReward},e.prototype.isGet9=function(t){var e=this;t.visible=!1;var i=a1232.zhengbatimes2+a1232.zhengbavideotimes2;if(a1232.zhengbaIsOpen2)i>0&&(t.visible=!0);else if(null==a1232.zhengbaReward2){var a={gameId:a1232.gameID,trackId:a1232.trackId,old:0};a1228.a1247.a2623(a1232.URL_ZB_INIT2,egret.URLRequestMethod.POST,a,function(a){if(a&&a.data){var n=a.data;n.isGo&&i>0&&(t.visible=!0),n.startTime&&(a1232.zhengbaStartTime2=Math.floor(n.startTime[0]/1e3),a1232.zhengbaEndTime2=Math.floor(n.startTime[1]/1e3),a1232.zhengbaResultTime2=Math.floor(n.startTime[2]/1e3)),n.corsId?a1232.zhengbaFitOpen2=!0:a1232.zhengbaFitOpen2=!1,n.isGo||(a1232.zhengbatimes2=25),0==n.lq&&0==n.isGo&&n.self&&n.self.num<=1e3&&n.self.num>0?(t.visible=!0,a1232.zhengbaReward2=!0):a1232.zhengbaReward2=!1,e.checkZhengbaBtn2()}},null)}else t.visible=a1232.zhengbaReward2},e.prototype.isGet5=function(t){if(this.giftActBtn.visible&&!(this.giftActBtn.parent.scaleX<=.001)){t.visible=!1;var e=a1232.taskData[8][0];for(var i in a1228.g_onlineGiftData){var a=a1228.g_onlineGiftData[i].index;if(!a1232.onlineAct[a]&&e>=a1228.g_onlineGiftData[a].times)return void(t.visible=!0)}if(a1232.dayTaskTimes>0)return void(t.visible=!0);if(!a1232.signActFlag||a1232.signActFlag&&!a1232.signEwActFlag&&7==a1232.signActDay)return void(t.visible=!0);for(var i in a1228.g_advGiftData){var a=a1228.g_advGiftData[i].index;if(!a1232.videoAct[a]&&a1232.seeAdvTimes>=a1228.g_advGiftData[a].count)return void(t.visible=!0)}return a1232.getServerTime()>a1232.longguActTime?void(t.visible=!0):void 0}},e.prototype.isGet8=function(){if(!a1232.character_redflag&&a1232.curLevel>=24&&a1232.washcardNum>0)return void(this.stred_Image.visible=!0);if(!a1232.star_redflag&&this.dinosaurChange){this.dinosaurChange=!1,this.stred_Image.visible=!1;var t={};for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.star,n=i.index,r=100*n+a;t[r]||(t[r]=[]),t[r].push(e)}for(var e in t)if(t[e].length>1)for(var s=0;s<t[e].length;++s){var i=a1232.playerIDs[t[e][s]];if(i.star<10&&i.level>=a1228.g_PlayerData[i.index].upstarLevel)return void(this.stred_Image.visible=!0)}}if(!a1232.chiphe_redflag)for(var e in a1232.Debris)if(a1228.g_PropsData[e].suipianNum&&a1232.Debris[e]>=a1228.g_PropsData[e].suipianNum)return void(this.stred_Image.visible=!0);this.stred_Image.visible=!1},e.prototype.isGet10=function(){if(this.friendRedImg.visible=!1,a1232.HelpData.length>0&&platform.shareAppMessage)for(var t=1e3*a1232.getServerTime(),e=new Date(t),i=0;i<a1232.HelpData.length;i++){var a=new Date(a1232.HelpData[i].regTime);if(0==a1232.HelpData[i].dayState&&e.getDate()==a.getDate()&&t-a1232.HelpData[i].regTime<864e5)return void(this.friendRedImg.visible=!0)}return a1232.friendHelpDiamond>0?void(this.friendRedImg.visible=!0):void 0},e.prototype.a2270=function(){for(var t=!1,e=1;3>=e;e++){var i=a1232.getServerTime(),a=new Date(1e3*i),n=a.getHours(),r=0,s=a.toLocaleDateString();if(1==e&&9>n&&0==a1232.limitGift[0]){r=new Date(s).getTime()/1e3+28800-i+3600,this.limitTimeLabel.text=a1228.a1240.a2597(r,1),t=!0;break}if(2==e&&13>n&&0==a1232.limitGift[1]){r=new Date(s).getTime()/1e3+43200-i+3600,this.limitTimeLabel.text=a1228.a1240.a2597(r,1),t=!0;break}if(3==e&&19>n&&0==a1232.limitGift[2]){r=new Date(s).getTime()/1e3+64800-i+3600,this.limitTimeLabel.text=a1228.a1240.a2597(r,1),t=!0;break}}this.limitTimeLabel.visible=t},e.prototype.a2271=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5070)},e.prototype.a2272=function(){a1251.a1413(this,a1228.a1122.a1957(),egret.TouchEvent.TOUCH_TAP,this.Prompt)},e.prototype.a2273=function(){a1251.a1413(this,a1228.a1122.a1957(),egret.TouchEvent.TOUCH_TAP,this.Prompt),a1251.a1412(this,a1228.a1122.a1957(),egret.TouchEvent.TOUCH_TAP,this.Prompt,!1)},e.prototype.Prompt=function(t){var e=this;t!==!0&&(a1228.a1233.ani||a1232.guideStep<=3)&&a1228.a1233.a2567(),a1228.a1233.ani&&a1228.a1233.ani.guideTime&&a1232.getServerTime()-a1228.a1233.ani.guideTime>3&&(a1228.a1233.ani.x=a1228.a1233.ani.baseX,a1228.a1233.ani.y=a1228.a1233.ani.baseY),a1232.guideStep<=8||(this.delayTimerID&&(a1228.a1233.a2569(),egret.clearTimeout(this.delayTimerID)),this.bossBtn.touchEnabled&&(this.delayTimerID=egret.setTimeout(function(){return a1228.g_Monster[a1232.curLevel+1]?void a1228.a1233.a2568(e,e.x+e.bottomGroup.x+e.bossBtn.x-20,e.y+e.bottomGroup.y+e.bossBtn.y):void 0},this,3e3)))},e.prototype.a2275=function(){var t=a1228.a1226.a2525(101);if(t&&t.visible){var e=a1228.a1226.a2526(132)||a1228.a1226.a2526(109)||a1228.a1226.a2526(132)||a1228.a1226.a2526(180)||a1228.a1226.a2526(111)||a1228.a1226.a2526(112)||a1228.a1226.a2526(129)||a1228.a1226.a2526(172)||a1228.a1226.a2526(123)||a1228.a1226.a2526(158)||a1228.a1226.a2526(159)||a1228.a1226.a2526(139)||a1228.a1226.a2526(173)||a1228.a1226.a2526(130)||a1228.a1226.a2526(152)||a1228.a1226.a2526(197)||a1228.a1226.a2526(135)||a1228.a1226.a2526(171)||a1228.a1226.a2526(148)||a1228.a1226.a2526(161)||a1228.a1226.a2526(150)||a1228.a1226.a2526(138)||a1228.a1226.a2526(167)||a1228.a1226.a2526(177)||a1228.a1226.a2526(133)||a1228.a1226.a2526(191)||a1228.a1226.a2526(203)||a1228.a1226.a2526(208)||a1228.a1226.a2526(204)||a1228.a1226.a2526(205)||a1228.a1226.a2526(126)||a1228.a1226.a2526(131)||a1228.a1226.a2526(137)||a1228.a1226.a2526(184)||a1228.a1226.a2526(225)||a1228.a1226.a2526(245)||a1228.a1226.a2526(155);e||a1228.a1245.closeBanner()}else{var e=a1228.a1226.a2526(146)||a1228.a1226.a2526(172)||a1228.a1226.a2526(209)||a1228.a1226.a2526(136)||a1228.a1226.a2526(145)||a1228.a1226.a2526(170)||a1228.a1226.a2526(169)||a1228.a1226.a2526(132)||a1228.a1226.a2526(147)||a1228.a1226.a2526(144)||a1228.a1226.a2526(120)||a1228.a1226.a2526(142)||a1228.a1226.a2526(140)||a1228.a1226.a2526(143)||a1228.a1226.a2526(180)||a1228.a1226.a2526(129)||a1228.a1226.a2526(111)||a1228.a1226.a2526(109)||a1228.a1226.a2526(112)||a1228.a1226.a2526(139)||a1228.a1226.a2526(181)||a1228.a1226.a2526(130)||a1228.a1226.a2526(152)||a1228.a1226.a2526(200)||a1228.a1226.a2526(135)||a1228.a1226.a2526(153)||a1228.a1226.a2526(171)||a1228.a1226.a2526(137)||a1228.a1226.a2526(184)||a1228.a1226.a2526(127)||a1228.a1226.a2526(220)||a1228.a1226.a2526(191)||a1228.a1226.a2526(203)||a1228.a1226.a2526(208)||a1228.a1226.a2526(204)||a1228.a1226.a2526(205)||a1228.a1226.a2526(225)||a1228.a1226.a2526(161)||a1228.a1226.a2526(167)||a1228.a1226.a2526(177)||a1228.a1226.a2526(245)||a1228.a1226.a2526(155)||a1228.a1226.a2526(143),i=a1228.a1226.a2526(124);(!e||i)&&a1228.a1245.closeBanner()}var a=!1;for(var n in a1232.playerIDs)if(a1232.playerIDs[n].produceNum>3&&(a1232.playerIDs[n].produceNum=0),a1232.playerIDs[n].level>3030||a1232.playerIDs[n].growAdd[0]>150||a1232.playerIDs[n].growAdd[1]>150||a1232.playerIDs[n].growAdd[2]>150){a=!0;break}a&&(a1232.playerIDs={},a1232.trackId="",a1232.URL_BASE="",a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1228.Main.a2479(),!0}}))},e.prototype.a2277=function(){if(!(a1232.getServerTime()-this.iconTime<2)){this.iconTime=a1232.getServerTime();var t=this.adImg.addata;if(t)if(t.channelId){var e=t.to_channel;platform.setadvert({to_channel:e,penetrate:"xzdrawer"},function(t){})}else platform.navigateToMiniProgram(t,function(){a1227.getPoint(a1232.thirdAdSlot[2],"游戏中单个跳转其他游戏",6,t.id,t.appid)})}},e.prototype.showIconAd=function(t){var e=this,i=Math.floor(Math.random()*t.length),a=t[i];if(a){var n=new egret.ImageLoader;egret.ImageLoader.crossOrigin="anonymous",n.addEventListener(egret.Event.COMPLETE,function(t){var i=(t.currentTarget,new egret.Texture);n.data&&(i._setBitmapData(n.data),e.adImg.source=i)},this),n.load(a.channel_logo),this.adImg.addata=a,this.adImg2.visible=!0}else this.adImg2.visible=!1},e.prototype.updateIconAd=function(){var t=this,e=!1;if(a1232.isShowAd&&a1232.isShowSDKAd&&!platform.isLocal())if(e=!0,a1232.sdkAdIcons.length>2)this.showIconAd(a1232.sdkAdIcons);else{var i=Object.keys(a1232.sdkAdAllIcons);if(i.length>0&&8*Math.random()<i.length){for(var a=[],n=0;n<i.length;++n)a.push(a1232.sdkAdAllIcons[i[n]]);this.showIconAd(a)}else{if(this.isNoIcon)return void(this.adImg2.visible=!1);platform.getAdvert("icon",function(e){if(e&&"ok"==e.retCode&&"success"==e.retMsg){var i=e.body.list;a1232.sdkAdIcons=i;for(var a=0;a<i.length;++a){var n=i[a].appId;a1232.sdkAdAllIcons[n]=i[a]}t.showIconAd(i)}else t.isNoIcon=!0,t.adImg2.visible=!1})}}else if(a1232.adList[2]&&a1232.adList[2].length>0){var r=Math.floor(Math.random()*a1232.adList[2].length),s=a1232.adList[2][r],o=new egret.ImageLoader;e=!0,egret.ImageLoader.crossOrigin="anonymous",o.addEventListener(egret.Event.COMPLETE,function(e){var i=(e.currentTarget,new egret.Texture);o.data&&(i._setBitmapData(o.data),t.adImg.source=i)},this),o.load(s.icon),this.adImg.addata=s,this.adImg2.visible=!0}else this.adImg2.visible=!1;e?(this.adImg.loopAct||(this.adImg.loopAct=1,egret.Tween.get(this.adImg2,{loop:!0}).to({rotation:10},60).to({rotation:-10},120).to({rotation:0},60).to({rotation:10},60).to({rotation:-10},120).to({rotation:0},60).wait(6e3)),this.adImg2.visible=!0):(this.adImg.source="",this.adImg2.visible=!1)},e.prototype.a2280=function(){this.bossBtn.touchEnabled=!0,a1232.newyearUI?this.bossBtn.source="newyear_boss_png":this.bossBtn.source="TSBBS_png",this.WaiTingGroup.visible=!1},e.prototype.a2281=function(){var t=!1;if(!a1232.chouka_redflag){t=a1232.diamond>=300?!0:!1;for(var e in a1228.g_choukajifenData){var i=a1228.g_choukajifenData[e].index;if(-1==a1232.choukabx.indexOf(i)){var a=a1228.g_choukajifenData[e].score;a1232.choukaScore>=a&&(t=!0)}}}this.Fuhua_Image.visible=t},e.prototype.runNotice=function(){var t=this,e=a1232.getServerTime();if(e-this.lastTime5>=600){this.lastTime5=e;var i={gameId:a1232.gameID,trackId:a1232.trackId};a1228.a1247.a2623(a1232.URL_NOTICE,egret.URLRequestMethod.POST,i,function(e){if(e&&e.data){var i=e.data,a="";for(var n in i)i[n]&&2==i[n].type&&(a=a+i[n].content+"      ");a&&(egret.Tween.removeTweens(t.runGroup),t.runLabel.text=a,t.runGroup.scrollH=t.runGroup.scrollH-t.runGroup.width,t.gundongGroup.visible=!0,egret.Tween.get(t.runGroup).to({scrollH:t.runLabel.width},10*(t.runLabel.width+566)).call(function(){t.runLabel.text="",t.runGroup.scrollH=0,t.gundongGroup.visible=!1}))}},null)}},e.prototype.crossPromotion=function(){if("android"==platform.name||platform.isLocal()){var t=a1232.CP_GAME_LIST;this.cpIconImg.source=t[this.cpNum].icon,this.cpIconImg.visible=!0}else this.cpIconImg.visible=!1},e.prototype.onCpIcon=function(){var t=a1232.CP_GAME_LIST;platform.toGoogleUrl(t[this.cpNum].url),this.cpNum++,this.cpNum>1&&(this.cpNum=0),this.cpIconImg.source=t[this.cpNum].icon},e}(a1116);__reflect(a1156.prototype,"a1156");var a1157=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.getCoinSkin,n.ID=a,n
}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.initialize(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.Task_Group,egret.TouchEvent.TOUCH_TAP,this.a2256),a1251.a1412(this,this.turn_Group,egret.TouchEvent.TOUCH_TAP,this.onDial),a1251.a1412(this,this.Boos_Group,egret.TouchEvent.TOUCH_TAP,this.a2284),a1251.a1412(this,this.SpeedUp_Group,egret.TouchEvent.TOUCH_TAP,this.a2285),a1251.a1412(this,this.friend_Group,egret.TouchEvent.TOUCH_TAP,this.a2282)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5034)},e.prototype.a2282=function(){a1232.curLevel>9?(this.a2095(),a1228.a1225.applyFunc(10004,5180)):a1228.a1245.a2612(langueOfvalue(langue.switchtask1,9))},e.prototype.a2256=function(){a1232.curLevel<=7?a1228.a1245.a2612(langueOfvalue(langue.switchtask1,7)):(this.a2095(),a1228.a1225.applyFunc(10004,5105))},e.prototype.onDial=function(){a1232.curLevel<=5?a1228.a1245.a2612(langueOfvalue(langue.switchtable,5)):(this.a2095(),a1228.a1225.applyFunc(10004,5103))},e.prototype.a2284=function(){this.a2095(),a1228.a1226.destroy(101);var t=a1228.a1226.a2525(102);t&&!a1228.a1229.a1874&&t.a2252()},e.prototype.a2285=function(){this.a2095(),a1228.a1225.applyFunc(10004,5117)},e.prototype.initialize=function(){1==this.ID?(this.Boos_Group.visible=!0,this.Task_Group.visible=!0,this.friend_Group.visible=!0,this.SpeedUp_Group.visible=!1,this.turn_Group.x=171,this.Task_Group.x=268,this.Boos_Group.x=368,this.friend_Group.x=456):2==this.ID&&(this.Boos_Group.visible=!1,this.Task_Group.visible=!1,this.friend_Group.visible=!1,this.SpeedUp_Group.visible=!0,this.turn_Group.visible=!0,this.turn_Group.x=235,this.SpeedUp_Group.x=407),platform.hasFriendList()||(this.friend_Group.visible=!1)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1157.prototype,"a1157");var GiftActiveView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.childViews={},a.showViewType={onlineview:3,dayview:2,signview:1,advview:4,buffview:5},a.selectview=0,a._skin=a1243.giftActiveSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initCurView(),this.a2090(),a1228.a1252.doTimer(1e3,0,this.redPoitReflsh,this),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.leftBtn,egret.TouchEvent.TOUCH_TAP,this.onClickLeft),a1251.a1412(this,this.rightBtn,egret.TouchEvent.TOUCH_TAP,this.onClickRight),a1251.a1412(this,this.leftGroup,egret.TouchEvent.TOUCH_TAP,this.onClickLeft,!1),a1251.a1412(this,this.rightGroup,egret.TouchEvent.TOUCH_TAP,this.onClickRight,!1)},e.prototype.initCurView=function(){for(var t=1,e=1;5>=e;e++){var i=this.a2383(e);if(i){t=e;break}}this.selectview=t,this.reflshUI()},e.prototype.onClickLeft=function(){this.selectview<=5&&this.selectview>1&&(this.selectview-=1),this.reflshUI()},e.prototype.onClickRight=function(){this.selectview>=1&&this.selectview<5&&(this.selectview+=1),this.reflshUI()},e.prototype.reflshUI=function(){1==this.selectview?(this.leftGroup.visible=!1,this.rightGroup.visible=!0,this.rightImg.source=this.getIconUrl(this.selectview+1)):this.selectview>1&&this.selectview<5?(this.leftGroup.visible=!0,this.rightGroup.visible=!0,this.leftImg.source=this.getIconUrl(this.selectview-1),this.rightImg.source=this.getIconUrl(this.selectview+1)):5==this.selectview&&(this.leftGroup.visible=!0,this.rightGroup.visible=!1,this.leftImg.source=this.getIconUrl(this.selectview-1)),this.midleImg.source=this.getIconUrl(this.selectview),this.redPoitReflsh(),this.selectview==this.showViewType.onlineview?this.childViews[this.selectview]||(this.childViews[this.selectview]=new OnLineGiftView(this,this.group),a1228.a1226.destroy(244,this.childViews[this.selectview]),a1228.a1226.open(244)):this.selectview==this.showViewType.dayview?this.childViews[this.selectview]||(this.childViews[this.selectview]=new DayGiftView(this,this.group),a1228.a1226.destroy(247,this.childViews[this.selectview]),a1228.a1226.open(247)):this.selectview==this.showViewType.signview?this.childViews[this.selectview]||(this.childViews[this.selectview]=new SignGiftView(this,this.group),a1228.a1226.destroy(249,this.childViews[this.selectview]),a1228.a1226.open(249)):this.selectview==this.showViewType.advview?this.childViews[this.selectview]?this.childViews[this.selectview].initList():(this.childViews[this.selectview]=new AdvGiftView(this,this.group),a1228.a1226.destroy(246,this.childViews[this.selectview]),a1228.a1226.open(246)):this.selectview==this.showViewType.buffview&&(this.childViews[this.selectview]||(this.childViews[this.selectview]=new BuffGiftView(this,this.group),a1228.a1226.destroy(248,this.childViews[this.selectview]),a1228.a1226.open(248)));for(var t in this.childViews)this.childViews[t]&&(this.childViews[t].visible=this.selectview==Number(t))},e.prototype.getIconUrl=function(t){var e="";return t==this.showViewType.onlineview?e="qdlb_5_png":t==this.showViewType.dayview?e="qdlb_3_png":t==this.showViewType.signview?e="qdlb_2_png":t==this.showViewType.advview?e="qdlb_4_png":t==this.showViewType.buffview&&(e="qdlb_1_png"),e},e.prototype.redPoitReflsh=function(){if(1==this.selectview?this.rightredImg.visible=this.a2383(this.selectview+1):this.selectview>1&&this.selectview<5?(this.leftredImg.visible=this.a2383(this.selectview-1),this.rightredImg.visible=this.a2383(this.selectview+1)):5==this.selectview&&(this.leftredImg.visible=this.a2383(this.selectview-1)),this.midleredImg.visible=this.a2383(this.selectview),this.leftredImg1.visible=!1,this.rightredImg1.visible=!1,1==this.selectview){for(var t=!1,e=2;5>=e&&!(t=this.a2383(e));e++);this.rightredImg1.visible=t}else if(this.selectview>1&&this.selectview<5){for(var i=!1,e=this.selectview-1;e>=1&&!(i=this.a2383(e));e--);this.leftredImg1.visible=i;for(var a=!1,e=this.selectview+1;5>=e&&!(a=this.a2383(e));e++);this.rightredImg1.visible=a}else if(5==this.selectview){for(var t=!1,e=4;e>=1&&!(t=this.a2383(e));e--);this.leftredImg1.visible=t}},e.prototype.a2383=function(t){if(t==this.showViewType.onlineview){var e=a1232.taskData[8][0];for(var i in a1228.g_onlineGiftData){var a=a1228.g_onlineGiftData[i].index;if(!a1232.onlineAct[a]&&e>=a1228.g_onlineGiftData[a].times)return!0}}else if(t==this.showViewType.dayview){if(a1232.dayTaskTimes>0)return!0}else if(t==this.showViewType.signview){if(!a1232.signActFlag||a1232.signActFlag&&!a1232.signEwActFlag&&7==a1232.signActDay)return!0}else if(t==this.showViewType.advview)for(var i in a1228.g_advGiftData){var a=a1228.g_advGiftData[i].index;if(!a1232.videoAct[a]&&a1232.seeAdvTimes>=a1228.g_advGiftData[a].count)return!0}else if(t==this.showViewType.buffview&&a1232.getServerTime()>a1232.longguActTime)return!0;return!1},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5308)},e.prototype.close=function(){a1228.a1226.close(244),a1228.a1226.close(246),a1228.a1226.close(247),a1228.a1226.close(248),a1228.a1226.close(249),a1228.a1252.removeAll(this),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(GiftActiveView.prototype,"GiftActiveView");var a1158=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.fooddorplevel=0,n._skin=a1243.giftBoxSkin,n.giftID=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.foodlevelGroup.visible=!1,1==this.giftID?(this.foodlevelGroup.visible=!0,this.fooddorplevel=a1232.maxLevelFood+2+100,a1232.maxLevelFood+2>a1232.zuidaLevelFood&&(this.fooddorplevel=a1232.zuidaLevelFood+100),this.titleImg.source="mfsw_png",this.nameLabel.text=a1228.g_PropsData[this.fooddorplevel].name,this.foodImg.source=a1228.g_PropsData[this.fooddorplevel].icon,this.fuwenImg.source=a1228.g_PropsData[this.fooddorplevel].icon,this.foodlevelLabel.text=a1228.g_PropsData[this.fooddorplevel].level):2==this.giftID&&(this.fuwenImg.source="panzs_png",this.titleImg.source="mffw_png",this.nameLabel.text="x"+a1228.g_GiftData[this.giftID].num,this.foodImg.source="panzs1_png"),this.a2115();var t=a1228.a1226.a2525(102);t&&t.a2221(!0),platform.entryAdScenario&&(platform.entryAdScenario(SceneIDs[118]),platform.entryAdScenario(SceneIDs[108]))},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2103=function(){var t=this,e="",i="";2==this.giftID?(e="108",i="符文礼物宝箱"):(e="118",i="食物礼物宝箱");var a=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},a,[e,i])},e.prototype.handleFunc=function(){1==this.giftID?this.fooddorplevel&&a1228.a1225.applyFunc(10004,5035,this.fooddorplevel,1,112):2==this.giftID&&a1228.a1225.applyFunc(10004,5035,1,a1228.g_GiftData[this.giftID].num,112),a1228.a1225.applyFunc(10004,5041),a1228.a1230.a2557(!1,this.group,5128),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2286=function(){a1228.a1230.a2557(!1,this.group,5128)},e.prototype.event=function(){a1251.a1412(this,this.refuseBtn,egret.TouchEvent.TOUCH_TAP,this.a2286),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2103)},e.prototype.close=function(){a1228.a1245.closeBanner(),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.foodImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700,i=1900;egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.getBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.refuseBtn).to({scaleX:0,scaleY:0},0).wait(i).to({scaleX:1,scaleY:1},200);var a=10,n=300;egret.Tween.get(this.infoGroup).wait(t).to({y:this.infoGroup.y-a},n),egret.Tween.get(this.getBtn).wait(e).to({y:this.getBtn.y-a},n),egret.Tween.get(this.refuseBtn).wait(i).to({y:this.refuseBtn.y-a},n),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=200,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1158.prototype,"a1158");var a1159=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.gongGaoSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){var t=a1228.GlobalData.notice;if(!t)return this.versionLabel.text="",this.timeLabel.text="",void(this.codeLabel.text="");this.versionLabel.text=langue.gonggao1+t.version,this.timeLabel.textFlow=[{text:langue.gonggao2,style:{size:22,textColor:8866877}},{text:t.time,style:{size:21,textColor:13132569}}],this.codeLabel.textFlow=[{text:langue.gonggao3,style:{size:22,textColor:8866877}},{text:t.code+"    ",style:{size:21,textColor:3975761}},{text:langue.gonggao4,style:{size:21,textColor:3975761,underline:!0}}],""==t.code&&(this.codeLabel.visible=!1);var e=[],i=t.info;if(i&&i.length>0){for(var a=0;a<i.length;a++){var n=i[a][0],r=i[a][1],s=void 0;if(1==n)e.push({text:" ",style:{size:14,textColor:8866877}}),s={size:24,textColor:8866877},r="    "+r;else if(2==n){var o="        ";s={size:22,textColor:8866877},r=o+r;for(var l=this.splitText(r,21,o),h=0;h<l.length;++h)e.push({text:l[h],style:s});r=""}else if(3==n){var o="            ";s={size:21,textColor:8018250},r=o+r;for(var l=this.splitText(r,21,o),p=0;p<l.length;++p)e.push({text:l[p],style:s});r=""}r&&e.push({text:r,style:s})}for(var a=0;a<e.length;++a){var r=e[a].text,s=e[a].style,u=new eui.Label(r);s&&(u.size=s.size,u.textColor=s.textColor),this.textGroup.addChild(u)}}},e.prototype.splitText=function(t,e,i){var a=[],n=new eui.Label;n.size=e;for(var r=0,s=0;s<=t.length;++s)n.text=t.slice(r,s),n.width>500&&(r=s,a.push(n.text),t=t.slice(0,s)+i+t.slice(s));return a.push(n.text),a},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.codeLabel,egret.TouchEvent.TOUCH_TAP,this.a2288,!1)},e.prototype.a2288=function(){a1228.GlobalData.notice&&a1228.GlobalData.notice.code&&platform.copyText(a1228.GlobalData.notice.code)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5211)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1159.prototype,"a1159");var a1160=function(t){function e(e,i,a,n,r){var s=t.call(this,e,i,null)||this;return s.preLevel=0,s._skin=a1243.hintUpgradeView,s.dinosaur=a,s.preLevel=n,s.type=r,s}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),a1228.a1230.a2557(!0,this.group),this.a2115(),1==this.type?(this.Gratis_Group.visible=!1,this.closeBtn.visible=!0,setTimeout(function(){t.closeBtn.touchEnabled=!0,t.closeBtn.touchChildren&&(t.closeBtn.touchChildren=!0)},400),this.djryLabel.visible=!0,this.a2289()):2==this.type&&(this.Gratis_Group.visible=!0,this.closeBtn.visible=!1,this.djryLabel.visible=!1,this.a2166(),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[109])),setTimeout(function(){t.a2097()},500),this.a2090()},e.prototype.a2090=function(){this.visible&&1==this.type?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1),a1251.a1412(this,this.closeBtn0,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.Upgrade_Image,egret.TouchEvent.TOUCH_TAP,this.a2290)},e.prototype.a2095=function(){if(a1228.a1230.a2557(!1,this.group,5102),2==this.type)a1232.curLevel<50&&a1228.a1225.applyFunc(10004,5060),a1228.a1225.applyFunc(10004,5164);else if(1==this.type){for(var t=0,e=this.preLevel,i=this.dinosaur.level,a=this.dinosaur.index,n=a1228.g_PlayerData[a].jinhuaLevel,r=0;r<n.length;r++)i>=n[r]&&e<n[r]&&(t=r+1);t&&0==this.dinosaur.star&&a1228.a1225.applyFunc(10004,5137,this.dinosaur.id,t)}3==a1232.guideStep&&a1227.getPoint("1008","第一次升级",7)},e.prototype.close=function(){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1228.a1252.removeAll(this),a1251.a1413(this),3==a1232.guideStep&&a1228.a1233.a2570(),a1228.a1245.closeBanner(),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),t.prototype.close.call(this)},e.prototype.a2289=function(){this.a2146(this.dinosaur);var t=a1231.copyDinosaur(this.dinosaur),e=this.dinosaur;t.level=this.preLevel;var i=[a1232.a1886(t),a1232.a1886(e)],a=[a1232.getDefence(t),a1232.getDefence(e)],n=[a1232.getAttack(t),a1232.getAttack(e)],r=[a1232.getGongsu(t),a1232.getGongsu(e)];this.Logo_Image.source="UpgradeLabel_png",this.Level1_Label.text=""+this.preLevel,this.Level2_Label.text=""+e.level,this.HP1_Label.text=""+i[0],this.Defense1_Label.text=""+a[0],this.Attack1_Label.text=""+n[0],this.Atktime1_Label.text=""+r[0],this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.AddHP_Label.text="+"+(i[1]-i[0]),this.AddDefense_Label.text="+"+(a[1]-a[0]),this.AddAttack_Label.text="+"+(n[1]-n[0])},e.prototype.a2166=function(){this.dinosaur.index;this.a2146(this.dinosaur),this.Logo_Image.source="BTN_MFSJ_png",this.nextLevel=0;for(var t in a1232.playerIDs)a1232.playerIDs[t].level&&a1232.playerIDs[t].level>this.nextLevel&&(this.nextLevel=a1232.playerIDs[t].level);if(this.nextLevel<=10)this.nextLevel=1;else{var e=Math.ceil(.87*this.nextLevel);this.nextLevel=e}var i=this.dinosaur,a=a1231.copyDinosaur(this.dinosaur);a.level=this.nextLevel;var n=[a1232.a1886(i),a1232.a1886(a)],r=[a1232.getDefence(i),a1232.getDefence(a)],s=[a1232.getAttack(i),a1232.getAttack(a)],o=[a1232.getGongsu(i),a1232.getGongsu(a)];this.Level1_Label.text="1",this.Level2_Label.text=""+this.nextLevel,this.HP1_Label.text=""+n[0],this.Defense1_Label.text=""+r[0],this.Attack1_Label.text=""+s[0],this.Atktime1_Label.text=""+o[0],this.HP2_Label.text=""+n[1],this.Defense2_Label.text=""+r[1],this.Attack2_Label.text=""+s[1],this.Atktime2_Label.text=""+o[0],this.AddHP_Label.text="+"+(n[1]-n[0]),this.AddDefense_Label.text="+"+(r[1]-r[0]),this.AddAttack_Label.text="+"+(s[1]-s[0])},e.prototype.a2146=function(t){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.DinoAnim.addChild(i),i.x=180,i.y=260,i.scaleX=-1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.a2097=function(){if(3==a1232.guideStep){var t=this.djryLabel.a1263(0,0),e=t.x-(this.x-this.anchorOffsetX),i=t.y-(this.y-this.anchorOffsetY);a1228.a1233.a2565(this,e+102,i+19)}},e.prototype.a2290=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["109","新恐龙升级"])},e.prototype.handleFunc=function(){this.a2291(),a1228.a1225.applyFunc(10004,5044,7),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2291=function(){var t=this.dinosaur.id;a1232.playerIDs[t]&&this.nextLevel&&(this.dinosaur.level=this.nextLevel,this.dinosaur.exp=0),a1228.a1230.a2557(!1,this.group,5102),a1232.curLevel<50&&a1228.a1225.applyFunc(10004,5060);for(var e=0,i=1,a=this.nextLevel,n=this.dinosaur.index,r=a1228.g_PlayerData[n].jinhuaLevel,s=0;s<r.length;s++)a>=r[s]&&i<r[s]&&(e=s+1);e&&0==this.dinosaur.star?(a1228.a1225.applyFunc(10004,5137,t,e),a1228.a1225.applyFunc(10004,5061)):a1228.a1225.applyFunc(10004,5164)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=260,t.y=140,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1160.prototype,"a1160");var HongbaoQQView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.hongBaoSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2141(),a1228.a1230.a2557(!0,this.group)},e.prototype.a2141=function(){this.contentLabel.text="恭喜获得额外红包",this.sureImg.source="qdanu_png",this.coinLabel.text="0.01",this.titleImg.source="qqhbwz_png"},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t={gameId:a1232.gameID,trackId:a1232.trackId};a1228.a1247.a2623(a1232.URL_HBGET_GET,egret.URLRequestMethod.POST,t,function(t){if(t&&t.data){var e=t.data;e.state&&1==e.state?(a1232.getHongbao=!0,a1228.a1245.a2612(langue.getSuccess)):a1228.a1245.a2612(langue.getFail)}},null),a1228.a1225.applyFunc(10004,5295)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5295)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(HongbaoQQView.prototype,"HongbaoQQView");var HongBaoView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.hongBaoSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2141(),a1228.a1230.a2557(!0,this.group)},e.prototype.a2141=function(){this.data&&this.data.msg&&(this.contentLabel.text=this.data.msg),this.coinLabel.text=this.data.num},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){var t={gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,id:this.data.id};a1228.a1247.a2623(a1232.URL_HONGBAO_GET,egret.URLRequestMethod.POST,t,function(t){if(t&&t.data){var e=t.data;e.state&&1==e.state?a1228.a1245.a2612(langue.getSuccess):a1228.a1245.a2612(langue.getFail)}},null),a1228.a1225.applyFunc(10004,5291)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5291)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(HongBaoView.prototype,"HongBaoView");var JiBanActiveView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.jiBanActiveSkin,n.id=a.id,n.mainDinosaur=a.mainDinosaur,n.fuDinosaur=a.fuDinosaur,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.reflshUI(),a1228.a1230.a2557(!0,this.group)},e.prototype.reflshUI=function(){var t=a1232.jiBanData[this.mainDinosaur.index][this.id][0];t&&t>1?this.hengfuImg.source="jbshengji_png":this.hengfuImg.source="jbjihuo_png",this.mainDinosaur&&(this.mainAni=this.a2146(this.mainDinosaur),this.mainAni.x=170,this.mainAni.y=550,this.mainAni.scaleX=-.9,this.mainAni.scaleY=.9),this.fuDinosaur&&(this.fuAni=this.a2146(this.fuDinosaur),this.fuAni.x=540,this.fuAni.y=550,this.fuAni.scaleX=.9,this.fuAni.scaleY=.9),this.mainDinosaur&&(this.mainLabel.text=langue.skin_s118+a1228.g_PlayerData[this.mainDinosaur.index].name);var e=0,i=0,a=0;t&&1==t?(e=a1228.g_jibanData[this.mainDinosaur.index][this.id].hpAdd,i=a1228.g_jibanData[this.mainDinosaur.index][this.id].defAdd,a=a1228.g_jibanData[this.mainDinosaur.index][this.id].atkAdd,this.hpLabel.text=langue.hp+"           +"+e,this.defLabel.text=langue.def+"           +"+i,this.atkLabel.text=langue.atk+"           +"+a):t&&t>1&&(e=a1228.g_jibanData[this.mainDinosaur.index][this.id]["hpAddpre"+(t-1)],i=a1228.g_jibanData[this.mainDinosaur.index][this.id]["defAddpre"+(t-1)],a=a1228.g_jibanData[this.mainDinosaur.index][this.id]["atkAddpre"+(t-1)],this.hpLabel.text=langue.hp+"           +"+e+"%",this.defLabel.text=langue.def+"           +"+i+"%",this.atkLabel.text=langue.atk+"           +"+a+"%"),e||(this.hpLabel.width=0,this.hpLabel.visible=!1),i||(this.defLabel.width=0,this.defLabel.visible=!1),a||(this.atkLabel.width=0,this.atkLabel.visible=!1)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5281)},e.prototype.a2146=function(t){var e,i=a1228.a1230.a1921(t);return e=a1228.a1245.CreateFrameAnimation(i,i),this.group.addChild(e),e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),e},e.prototype.close=function(){this.mainAni&&(this.group.removeChild(this.mainAni),this.mainAni.dispose(),this.mainAni=null),this.fuAni&&(this.group.removeChild(this.fuAni),this.fuAni.dispose(),this.fuAni=null),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(JiBanActiveView.prototype,"JiBanActiveView");var JiBanItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.jiBanItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.jihuoBtn,egret.TouchEvent.TOUCH_TAP,this.onClickJiHuo),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGetReward,!1)},e.prototype.onClickGetReward=function(){var t=this,e=this.data.id,i=this.data.index,a=this.jinbenConfig.fuId,n=a1228.a1230.getRewardState(i,a,e),r=n[0],s=n[1];if(2==s){var o=this.jinbenConfig["reward"+r],l=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc1(o,i)},l,["205","羁绊领奖看视频"])}},e.prototype.handleFunc1=function(t,e){a1232.jiBanData[e][this.data.id][1]+=1,a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,t[0][0],t[0][1],120),a1228.a1225.applyFunc(10004,5035,t[1][0],t[1][1],120),a1228.a1225.applyFunc(10004,5238,t),this.reflesh()},e.prototype.onClickJiHuo=function(){var t=this,e=this.data.index,i=this.jinbenConfig.fuId,a=a1228.a1230.getJiBanState(e,i,this.data.id);if(2==a){a1232.jiBanData[e][this.data.id][0]+=1,a1228.a1225.applyFunc(10004,5042);var n={id:this.data.id,mainDinosaur:this.mainDinosaur,fuDinosaur:this.fuDinosaur};a1228.a1225.applyFunc(10004,5280,n),this.reflesh()}else if(3==a)a1228.a1245.a2612(langue.skin_s108);else if(1==a){var r=a1228.a1230.getJiBanUp(e,i,this.data.id);if(1==r){var s=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc2(e)},s,["206","羁绊升级看视频"])}else if(2==r){var o=a1232.jiBanData[e][this.data.id][0],l=a1228.g_jibanData[e][this.data.id]["mainStar"+o];a1228.a1245.a2612(langueOfvalue(langue.skin_s109,l))}}},e.prototype.handleFunc2=function(t){a1232.jiBanData[t][this.data.id][0]+=1,a1232.jiBanData[t][this.data.id][0]>a1232.maxjibanLevel&&a1232.jiBanData[t][this.data.id][0]==a1232.maxjibanLevel,a1228.a1225.applyFunc(10004,5042);var e={id:this.data.id,mainDinosaur:this.mainDinosaur,fuDinosaur:this.fuDinosaur};a1228.a1225.applyFunc(10004,5280,e),this.reflesh()},e.prototype.onclean=function(){this.removeModels(),a1251.a1413(this)},e.prototype.dataChanged=function(){this.jinbenConfig=a1228.g_jibanData[this.data.index][this.data.id],this.reflesh()},e.prototype.reflesh=function(){var t=this.data.id,e=this.data.index,i=this.jinbenConfig.fuId,a=a1228.a1230.getJiBanState(e,i,t),n=a1232.jiBanData[e][t][0];if(this.jihuoLabel.visible=!0,this.jihuoVideoGroup.visible=!1,this.jibanLevel.text=langue.skin_s114+n,1==a){var r=a1228.a1230.getJiBanUp(e,i,t);if(1==r?(this.jihuoLabel.text=langue.skin_s115,this.jihuodbImg.source="TiaoZhanLabel_png",this.jihuoLabel.visible=!1,this.jihuoVideoGroup.visible=!0):2==r?(this.jihuoLabel.text=langue.skin_s115,this.jihuodbImg.source="an_2_png"):3==r&&(this.jihuoLabel.text=langue.skin_s116,this.jihuodbImg.source="an_2_png"),n>0&&n<a1232.maxjibanLevel){this.uppoImg.visible=!0,this.upLabel.text=langue.skin_s117;var s=this.jinbenConfig["atkAddpre"+n],o=this.jinbenConfig["defAddpre"+n],l=this.jinbenConfig["hpAddpre"+n];this.upLabel.text+=s&&langue.atk+"+"+s+"%"||"",this.upLabel.text+=o&&langue.def+"+"+o+"%"||"",this.upLabel.text+=l&&langue.hp+"+"+l+"%"||""}else n==a1232.maxjibanLevel&&(this.upLabel.text="",this.uppoImg.visible=!1)}else 2==a?(this.jihuoLabel.text=langue.skin_s110,this.jihuodbImg.source="TiaoZhanLabel_png",this.upLabel.text="",this.uppoImg.visible=!1):3==a&&(this.jihuoLabel.text=langue.skin_s110,this.jihuodbImg.source="an_2_png",this.upLabel.text="",this.uppoImg.visible=!1);var h=a1228.a1230.getRewardState(e,i,t),p=h[0],u=h[1];if(this.ylqGroup1.visible=!1,this.ylqGroup2.visible=!1,1==u){if(p>1){this.videoGroup.visible=!1;var c=a1228.a1230.formatEnglish(langueOfvalue(langue.skin_s111,this.jinbenConfig["mainStar"+n]),this.ewLabel);this.ewLabel.text=c}else this.videoGroup.visible=!1,this.ewLabel.text=a1228.a1230.formatEnglish(langue.skin_s112,this.ewLabel);this.redImg.visible=!1}else 2==u?(this.videoGroup.visible=!0,this.redImg.visible=!0,this.ewLabel.text=""):3==u&&(this.videoGroup.visible=!1,this.ylqGroup1.visible=!0,this.ylqGroup2.visible=!0,this.redImg.visible=!1,this.ewLabel.text=langue.hasgets);var d=this.jinbenConfig["reward"+p];if(d)for(var g=0;g<d.length;g++)if(d[g]){var f=d[g][0],m=d[g][1];1==f?this["ewImg"+(g+1)].source="zs_png":this["ewImg"+(g+1)].source=a1228.g_PropsData[f].icon,this["ewNumLabel"+(g+1)].text=m+"",this["ewjlGroup"+(g+1)].visible=!0}else this["ewjlGroup"+(g+1)].visible=!1;this.jinbenConfig.mainBy?this.nameLabel1.text=langue.skin_s99+a1228.g_PlayerData[this.data.index].name:this.nameLabel1.text=a1228.g_PlayerData[this.data.index].name,this.jinbenConfig.fuBy?this.nameLabel2.text=langue.skin_s99+a1228.g_PlayerData[this.jinbenConfig.fuId].name:this.nameLabel2.text=a1228.g_PlayerData[this.jinbenConfig.fuId].name;for(var g=1;5>=g;g++)this["starImg1_"+g].source="",this["starImg2_"+g].source="";var v=a1232.jiBanData[e][1],y=a1232.jiBanData[e][2],b=0;b=this.jinbenConfig.mainBy?y:v;var _=a1232.jiBanData[i],A=_[1],T=_[2],C=0;C=this.jinbenConfig.fuBy?T:A,n>=1?(a1228.a1230.a2552(this,"starImg1_",b,!1),a1228.a1230.a2552(this,"starImg2_",C,!1),this.a2397(b,C),this.starGroup1.visible=!0,this.starGroup2.visible=!0):(this.starGroup1.visible=!1,this.starGroup2.visible=!1),this.removeModels(),this.ani1=this.a2146(this.data.index,this.jinbenConfig.mainBy,[v,y]),this.ani1&&(this.ani1.x=130,this.ani1.y=270,this.ani1.scaleX=-.7,this.ani1.scaleY=.7),this.ani2=this.a2146(this.jinbenConfig.fuId,this.jinbenConfig.fuBy,[A,T]),this.ani2&&(this.ani2.x=420,this.ani2.y=270,this.ani2.scaleX=.7,this.ani2.scaleY=.7)},e.prototype.a2397=function(t,e){for(var i=[t,e],a=1;2>=a;a++){var n=i[a-1];1==n||6==n?this["starGroup"+a].x=55:2==n||7==n?this["starGroup"+a].x=42:3==n||8==n?this["starGroup"+a].x=28:4==n||9==n?this["starGroup"+a].x=13:(5==n||10==n)&&(this["starGroup"+a].x=4)}},e.prototype.a2556=function(){var t=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],e=[new egret.ColorMatrixFilter(t)];return e},e.prototype.a2146=function(t,e,i){var a;a&&(this.removeChild(a),a.dispose(),a=null);var n=new a1231(null,[t,1,0,0,0]);n.bianyi=e,e?(n.star=i[1],n.jinhua=-1!=a1232.tujianIDs.indexOf(10*t+6)&&1||0,1==t&&console.log(t,i[1])):(n.star=i[0],n.jinhua=-1!=a1232.tujianIDs.indexOf(10*t+2)&&1||0);var r=a1228.a1230.a1921(n);return a=a1228.a1245.CreateFrameAnimation(r,r),this.addChild(a),a.touchEnabled=!1,a.touchChildren=!1,a.animation&&a.animation.play("daiji",0),!a1232.jiBanData[t][3]&&e&&(a.filters=this.a2556()),a1232.jiBanData[t][4]||e||(a.filters=this.a2556()),Number(t)==Number(this.data.index)?this.mainDinosaur=n:this.fuDinosaur=n,a
},e.prototype.removeModels=function(){this.ani1&&(this.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this.ani2&&(this.removeChild(this.ani2),this.ani2.dispose(),this.ani2=null)},e}(eui.ItemRenderer);__reflect(JiBanItemView.prototype,"JiBanItemView");var JiBanView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.jiBanSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initList(),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[205])},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.initList=function(){var t=a1228.g_jibanData[this.data.index],e=[];for(var i in t)e.push({index:this.data.index,id:Number(i)});this.scrollerList.dataProvider=new eui.ArrayCollection(e),this.scrollerList.itemRenderer=JiBanItemView},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5279)},e.prototype.close=function(){var e=a1228.a1226.a2525(138);if(e)for(var i=0;i<e.scrollList.numChildren;i++){var a=e.scrollList.getChildAt(i);a&&a.refresh()}a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(JiBanView.prototype,"JiBanView");var KaChiView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.endtimes=0,a.id1=27,a.id2=26,a.allScore=0,a._skin=a1243.kaChiSkin,a}return __extends(e,t),e.prototype.initUI=function(){var t=a1232.yuandanEnterDay4,e=new Date(t),i=e.toLocaleDateString(),a=new Date(i).getTime();this.endtimes=a+2592e5,this.event(),this.reflshUI(),this.reflshTimes(),a1228.a1252.doTimer(1e3,0,this.reflshTimes,this),a1228.a1230.a2557(!0,this.group)},e.prototype.reflshUI=function(){this.ani1&&(this.group.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this.ani2&&(this.group.removeChild(this.ani2),this.ani2.dispose(),this.ani2=null);var t=new a1231(null,[this.id1,1]);t.jinhua=1,this.ani1=this.a2146(t),this.ani1.x=200,this.ani1.y=640,this.ani1.scaleX=-.9,this.ani1.scaleY=.9;var e=new a1231(null,[this.id2,1]);e.jinhua=1,this.ani2=this.a2146(e),this.ani2.x=500,this.ani2.y=640,this.ani2.scaleX=.9,this.ani2.scaleY=.9,this.allScore=0;for(var i in a1232.yuandantask4)for(var a=a1232.yuandantask4[i],n=0;n<a.length;n++)a[n][2]&&(this.allScore+=a1228.g_yuandanData[i].score[n]);this.scoreLabel.text=this.allScore+"/"+a1232.kachiNeedScore,this.allScore>=a1232.kachiNeedScore&&a1232.kachikaiqi?(this.suredbImg.source="DoubleDark2_png",this.videoGroup.visible=!1,this.ykqImg.visible=!0):(this.suredbImg.source="ButBG1_png",this.videoGroup.visible=!0,this.ykqImg.visible=!1),this.ruleLabel.text="活动期间活跃积分达到"+a1232.kachiNeedScore+"分，即可开启孵蛋概率up，孵出锐龙和永川龙的概率翻倍";var r=this.allScore/a1232.kachiNeedScore;r>1&&(r=1),this.progressImg.width=401*r},e.prototype.reflshTimes=function(){var t=this.endtimes-1e3*a1232.getServerTime();this.timeLabel.text=a1228.a1240.a2597(t/1e3,5)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.onClickOpen)},e.prototype.onClickOpen=function(){var t=this;if(this.allScore>=a1232.kachiNeedScore)if(a1232.kachikaiqi)a1228.a1245.a2612("已开启");else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["300","卡池概率翻倍"])}else a1228.a1245.a2612("当前积分不足")},e.prototype.handleFunc=function(){a1232.kachikaiqi=!0,a1228.a1225.applyFunc(10004,5041),this.reflshUI()},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5287)},e.prototype.a2146=function(t){var e,i=a1228.a1230.a1921(t);return e=a1228.a1245.CreateFrameAnimation(i,i),this.group.addChild(e),e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),e},e.prototype.close=function(){this.ani1&&(this.group.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this.ani2&&(this.group.removeChild(this.ani2),this.ani2.dispose(),this.ani2=null),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(KaChiView.prototype,"KaChiView");var a1161=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.keepFoodSkin,n.foodLv=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initialize(),this.a2115(),this.a2090(),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[16])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.upgradeBtn,egret.TouchEvent.TOUCH_TAP,this.onChange),a1251.a1412(this,this.refuseBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.onChange=function(){var t=this,e=1;a1228.a1230.a2549(function(){t.a2195(10)},e,["16","保留食物"])},e.prototype.a2195=function(t){if(10==t){for(var e in a1228.g_PropsData)if(a1228.g_PropsData[e].level){var i=this.foodLv-1;if(i==a1228.g_PropsData[e].level){a1228.a1225.applyFunc(10004,5035,a1228.g_PropsData[e].index,1);break}}this.a2095()}},e.prototype.initialize=function(){for(var t in a1228.g_PropsData)if(a1228.g_PropsData[t].level){var e=this.foodLv-1;e==a1228.g_PropsData[t].level&&(this.foodImg.source=a1228.g_PropsData[t].icon,this.nameLabel.text=a1228.g_PropsData[t].name,this.iconImg.source=a1228.g_PropsData[t].icon)}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5114)},e.prototype.close=function(){a1228.a1245.closeBanner(),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.foodImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700,i=1900;egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.upgradeBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.refuseBtn).to({scaleX:0,scaleY:0},0).wait(i).to({scaleX:1,scaleY:1},200);var a=10,n=300;egret.Tween.get(this.infoGroup).wait(t).to({y:this.infoGroup.y-a},n),egret.Tween.get(this.upgradeBtn).wait(e).to({y:this.upgradeBtn.y-a},n),egret.Tween.get(this.refuseBtn).wait(i).to({y:this.refuseBtn.y-a},n),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=200,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1161.prototype,"a1161");var a1162=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;a.qqNumber=a1228.GlobalData.qqcode,a._skin=a1243.kefuSkin;for(var n=0;n<a1232.areas.length;n++)if(a1232.gameAreaId==a1232.areas[n].id&&a1232.areas[n].notebook){a.qqNumber=a1232.areas[n].notebook;break}return a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2090(),this.group.scaleX=.01,this.group.scaleY=.01,egret.Tween.get(this.group).to({scaleX:1,scaleY:1.08},200).to({scaleY:.96},150).to({scaleY:1.02},100).to({scaleY:1},100).call(function(){t.a2293()}),this.qqLabel.text="QQ号："+this.qqNumber,this._controller.a1916(5167,this.a2293,this),("ios"==platform.name||"android"==platform.name||"qqgame"==platform.name||"android_qudao"==platform.name||"qqgame"==platform.name&&"qq"!=a1232.AppPlatform)&&(this.fankuiBtn.visible=!1,this.copyBtn.x=275)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.copyBtn,egret.TouchEvent.TOUCH_TAP,this.onCopy),a1251.a1412(this,this.fankuiBtn,egret.TouchEvent.TOUCH_TAP,this.a2294)},e.prototype.onCopy=function(){platform.copyText(this.qqNumber)},e.prototype.a2293=function(){},e.prototype.a2294=function(){platform.openCustomerServiceConversation()},e.prototype.a2095=function(){1==this.group.scaleX&&(this.group.scaleX=.99,egret.Tween.get(this.group).to({scaleX:.01,scaleY:.01},100).call(function(){a1228.a1225.applyFunc(10004,5019)}))},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),platform.removethisFeedbackButton(),this._controller.a1917(5167,this.a2293,this),t.prototype.close.call(this)},e}(a1116);__reflect(a1162.prototype,"a1162");var KsHongBaoView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.ksHongBaoSkin,n.configData=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["146","快手红包"])},e.prototype.handleFunc=function(){var t=this;if(this.configData){var e={trackId:a1232.trackId,gameId:a1232.gameID,num:this.configData.coinNum,rewardId:this.configData.reward_id};a1228.a1247.a2623(a1232.URL_KSCOIN_GET,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data;console.log("<<<<<<<<<领取类型",JSON.stringify(i));var a="";if(1==i.type){if(i.coin){if(1!=i.coin.result)return void a1228.a1245.a2612("金币领取失败");var n=i.coin.num;i.coin.amount,i.coin.result;a="ksjbdtb_png",a1228.a1230.reflshKsCoin()}}else{if(0!=i.type)return void a1228.a1245.a2612(langue.getFail);a="panzs_png";var n=t.configData.coinNum;a1228.a1225.applyFunc(10004,5035,1,n,13,!1,!0,!1,!1)}a1228.a1225.applyFunc(10004,5042);var r=[{num:t.configData.coinNum,icon:a}];a1228.a1225.applyFunc(10004,5309,r),a1228.a1225.applyFunc(10004,5312)}},null)}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5312)},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(KsHongBaoView.prototype,"KsHongBaoView");var a1163=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;n.lefttime=90,n._skin=a1243.a1163;var r=a1228.a1226.a2525(102);return r&&(r.visible=!1),n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2201(),this.updateTime(),a1228.a1252.doTimer(1e3,0,this.updateTime,this),a1228.a1225.applyFunc(10004,5177)},e.prototype.updateTime=function(){if(this.lefttime<0){for(var t=0,e=0,i=a1228.ActorMgr.a2502(1),a=0,n=i;a<n.length;a++){var r=n[a];t+=r.a1886()/r.a1909()}for(var s=a1228.ActorMgr.a2502(2),o=0,l=s;o<l.length;o++){var r=l[o];e+=r.a1886()/r.a1909()}if(t>e)for(var h=0,p=s;h<p.length;h++){var r=p[h];r.setHp(0)}else for(var u=0,c=i;u<c.length;u++){var r=c[u];r.setHp(0)}return void a1228.a1229.a2538()}this.leftTimeLabel.text=this.lefttime+"s",this.lefttime-=1},e.prototype.a2201=function(){a1232.userInfo?this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName):this.myNameLabel.text=langue.myname,this.duiNameLabel.text=a1228.a1230.getLength(this.data.roleName);var t=a1232.curPlayers[0];if(t){a1232.playerIDs[t].index;this.group1.visible=!0,this.touImg1.source=a1228.a1230.a2555(a1232.playerIDs[t]),this.nameLabel1.text=a1228.a1230.a2554(a1232.playerIDs[t]),this.xlLabel1.text=""+a1232.a1886(a1232.playerIDs[t]),this.fyLabel1.text=""+a1232.getDefence(a1232.playerIDs[t]),this.gjLabel1.text=""+a1232.getAttack(a1232.playerIDs[t]),this.gsLabel1.text=""+a1232.getGongsu(a1232.playerIDs[t]),this.levelLabel1.text=""+a1232.playerIDs[t].level}else this.group1.visible=!1;var e=a1232.curPlayers[1];if(e){a1232.playerIDs[e].index;this.group2.visible=!0,this.touImg2.source=a1228.a1230.a2555(a1232.playerIDs[e]),this.nameLabel2.text=a1228.a1230.a2554(a1232.playerIDs[e]),this.xlLabel2.text=""+a1232.a1886(a1232.playerIDs[e]),this.fyLabel2.text=""+a1232.getDefence(a1232.playerIDs[e]),this.gjLabel2.text=""+a1232.getAttack(a1232.playerIDs[e]),this.gsLabel2.text=""+a1232.getGongsu(a1232.playerIDs[e]),this.levelLabel2.text=""+a1232.playerIDs[e].level}else this.group2.visible=!1;if(this.data.skillsList||(this.data.skillsList=[[],[]]),this.data.extProps||(this.data.extProps=[[],[]]),this.data.monster[0]){this.data.monster[0].index;this.group3.visible=!0,this.touImg3.source=a1228.a1230.a2555(this.data.monster[0]),this.data.monster[0].name?this.nameLabel3.text=this.data.monster[0].name:this.nameLabel3.text=a1228.a1230.a2554(this.data.monster[0]),this.xlLabel3.text=""+(a1232.a1886(this.data.monster[0],this.data.skillsList[0])+(this.data.extProps[0].hp||0)),this.fyLabel3.text=""+(a1232.getDefence(this.data.monster[0],this.data.skillsList[0])+(this.data.extProps[0].def||0)),this.gjLabel3.text=""+(a1232.getAttack(this.data.monster[0],this.data.skillsList[0])+(this.data.extProps[0].atk||0)),this.gsLabel3.text=""+a1232.getGongsu(this.data.monster[0],this.data.skillsList[0]),this.levelLabel3.text=""+this.data.monster[0].level}else this.group3.visible=!1;if(this.data.monster[1]){this.data.monster[1].index;this.group4.visible=!0,this.touImg4.source=a1228.a1230.a2555(this.data.monster[1]),this.data.monster[1].name?this.nameLabel4.text=this.data.monster[1].name:this.nameLabel4.text=a1228.a1230.a2554(this.data.monster[1]),this.xlLabel4.text=""+(a1232.a1886(this.data.monster[1],this.data.skillsList[1])+(this.data.extProps[1].hp||0)),this.fyLabel4.text=""+(a1232.getDefence(this.data.monster[1],this.data.skillsList[1])+(this.data.extProps[1].def||0)),this.gjLabel4.text=""+(a1232.getAttack(this.data.monster[1],this.data.skillsList[1])+(this.data.extProps[1].atk||0)),this.gsLabel4.text=""+a1232.getGongsu(this.data.monster[1],this.data.skillsList[1]),this.levelLabel4.text=""+this.data.monster[1].level}else this.group4.visible=!1},e.prototype.event=function(){},e.prototype.close=function(){a1228.a1252.removeAll(this);var e=a1228.a1226.a2525(102);e&&(e.visible=!0),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1163.prototype,"a1163");var KunShouRankItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.KunShouRankItemSkin,e}return __extends(e,t),e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.data.icon?a1228.a1230.getPlayerAvatar(this.data.icon,this.headImg):this.headImg.source="bawanglongtouxiang1_png",this.nameLabel.text=a1228.a1230.getLength(this.data.name),this.data.rank+1==1?(this.Medals.source="pai1_png",this.Medals.visible=!0,this.rankLabel.visible=!1):this.data.rank+1==2?(this.Medals.source="pai2_png",this.Medals.visible=!0,this.rankLabel.visible=!1):this.data.rank+1==3?(this.Medals.source="pai3_png",this.Medals.visible=!0,this.rankLabel.visible=!1):(this.rankLabel.visible=!0,this.Medals.visible=!1,this.rankLabel.text=this.data.rank+1);for(var t=0;t<this.data.reward.length;t++)1==this.data.reward[t][0]?this.DiamondQuantity.text="X"+this.data.reward[t][1]:2==this.data.reward[t][0]&&(this.DionQuantity.text="X"+this.data.reward[t][1]);this.IsShow()},e.prototype.IsShow=function(){"X0"==this.DiamondQuantity.text?(this.DiamondQuantity.visible=!1,this.DiamondImage.visible=!1):(this.DiamondQuantity.visible=!0,this.DiamondImage.visible=!0),"X0"==this.DionQuantity.text?(this.DionQuantity.visible=!1,this.DionImage.visible=!1):(this.DionQuantity.visible=!0,this.DionImage.visible=!0)},e}(eui.ItemRenderer);__reflect(KunShouRankItemView.prototype,"KunShouRankItemView");var a1164=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.a1164,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),a1228.a1230.a2557(!0,this.group),a1228.a1230.a2557(!0,this.mygroup);var e={gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,num:100};a1228.a1247.a2623(a1232.URL_PK_RANK,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&t.a2296(e.data)},null),1==a1232.kunshouRank?(this.Medals.source="pai1_png",this.Medals.visible=!0,this.rankLabel.visible=!1):2==a1232.kunshouRank?(this.Medals.source="pai2_png",this.Medals.visible=!0,this.rankLabel.visible=!1):3==a1232.kunshouRank?(this.Medals.source="pai3_png",this.Medals.visible=!0,this.rankLabel.visible=!1):(this.rankLabel.visible=!0,this.Medals.visible=!1,this.rankLabel.text=""+a1232.kunshouRank);for(var i in a1228.g_KunShouData)if(a1232.kunshouRank>=a1228.g_KunShouData[i].rank[0]&&a1232.kunshouRank<=a1228.g_KunShouData[i].rank[1]){1==a1228.g_KunShouData[i].reward[0][0]?this.DiamondQuantity.text="X"+a1228.g_KunShouData[i].reward[0][1]:2==a1228.g_KunShouData[i].reward[0][0]&&(this.DionQuantity.text="X"+a1228.g_KunShouData[i].reward[0][1]);break}a1232.userInfo&&(a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.headImg),this.nameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName)),this.IsShow()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.srcBtn,egret.TouchEvent.TOUCH_TAP,this.onClickRewardSrc)},e.prototype.onClickRewardSrc=function(){a1228.a1225.applyFunc(10004,5068,2)},e.prototype.IsShow=function(){"X0"==this.DionQuantity.text?(this.DionQuantity.visible=!1,this.DionImage.visible=!1):(this.DionQuantity.visible=!0,this.DionImage.visible=!0)},e.prototype.a2296=function(t){for(var e=[],i={},a=0;a<t.length;++a){var n=t[a].num;i[n]=t[a]}for(var a=0;100>a;++a)if(i[a+1]){var r={rank:a,name:!i[a+1].avatarUrl&&i[a+1].val||i[a+1].nickname||"",icon:i[a+1].avatarUrl,reward:null};e.push(r)}for(var s in a1228.g_KunShouData)if(a1228.g_KunShouData[s].rank[0]>=1&&a1228.g_KunShouData[s].rank[1]<=100)for(var o=Math.min(a1228.g_KunShouData[s].rank[1],100),a=a1228.g_KunShouData[s].rank[0];o>=a;++a)e[a-1]&&(e[a-1].reward=a1228.g_KunShouData[s].reward);this.scrollList.dataProvider=new eui.ArrayCollection(e),this.scrollList.itemRenderer=KunShouRankItemView},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5122)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1164.prototype,"a1164");var KunShouRecordItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.RecordView,e}return __extends(e,t),e.prototype.dataChanged=function(){this.flush()},e.prototype.flush=function(){this.data.Data.fromPgid==a1232.pgid?1==this.data.Data.result?(a1232.userInfo?a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.head_Image2):this.head_Image2.source="bawanglongtouxiang1_png",this.nameLabel2.text=langue.myname,this.data.Data.mainName?this.nameLabel1.text=a1228.a1230.getLength(this.data.Data.mainName):this.nameLabel1.text=a1228.a1230.getLength(this.data.Data.upRank),this.data.Data.mainAvatarUrl?a1228.a1230.getPlayerAvatar(this.data.Data.mainAvatarUrl,this.head_Image1):this.head_Image1.source="bawanglongtouxiang1_png",this.data.Data.upRank>this.data.Data.rank?(this.Arrows_Image.source="xjt_png",this.rankLabel.textColor=6291295,this.rankLabel.strokeColor=3381027,this.rankLabel.text="-"+(this.data.Data.upRank-this.data.Data.rank)):this.rankLabel.text="0"):(a1232.userInfo?a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.head_Image1):this.head_Image1.source="bawanglongtouxiang1_png",this.nameLabel1.text=langue.myname,this.data.Data.mainName?this.nameLabel2.text=a1228.a1230.getLength(this.data.Data.mainName):this.nameLabel2.text=a1228.a1230.getLength(this.data.Data.upRank),this.data.Data.mainAvatarUrl?a1228.a1230.getPlayerAvatar(this.data.Data.mainAvatarUrl,this.head_Image2):this.head_Image2.source="bawanglongtouxiang1_png",this.rankLabel.text="0"):1==this.data.Data.result?(a1232.userInfo?a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.head_Image1):this.head_Image1.source="bawanglongtouxiang1_png",this.nameLabel1.text=langue.myname,this.data.Data.fromName?this.nameLabel2.text=a1228.a1230.getLength(this.data.Data.fromName):this.nameLabel2.text=a1228.a1230.getLength(this.data.Data.rank),this.data.Data.fromAvatarUrl?a1228.a1230.getPlayerAvatar(this.data.Data.fromAvatarUrl,this.head_Image2):this.head_Image2.source="bawanglongtouxiang1_png",this.data.Data.upRank>this.data.Data.rank?(this.Arrows_Image.source="sjt_png",this.rankLabel.textColor=16769046,this.rankLabel.strokeColor=11824187,this.rankLabel.text="+"+(this.data.Data.upRank-this.data.Data.rank)):this.rankLabel.text="0"):(a1232.userInfo?a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.head_Image2):this.head_Image2.source="bawanglongtouxiang1_png",this.nameLabel2.text=langue.myname,this.data.Data.fromName?this.nameLabel1.text=a1228.a1230.getLength(this.data.Data.fromName):this.nameLabel1.text=a1228.a1230.getLength(this.data.Data.rank),this.data.Data.fromAvatarUrl?a1228.a1230.getPlayerAvatar(this.data.Data.fromAvatarUrl,this.head_Image1):this.head_Image1.source="bawanglongtouxiang1_png",this.rankLabel.text="0")},e}(eui.ItemRenderer);__reflect(KunShouRecordItemView.prototype,"KunShouRecordItemView");var a1165=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.a1165,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group);var e={gameId:a1232.gameID,trackId:a1232.trackId,num:30};a1228.a1247.a2623(a1232.URL_PK_LOG_LIST,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&t.a2296(e.data)},null)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5124)},e.prototype.a2296=function(t){for(var e=[],i=0;i<t.list.length;++i)if(t.list[i].result){var a={Leve:t.rank,Data:t.list[i]};e.push(a)}this.scrollList.dataProvider=new eui.ArrayCollection(e),this.scrollList.itemRenderer=KunShouRecordItemView},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1165.prototype,"a1165");var a1166=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.jinbi=!1,r.zuanshi=!1,r._skin=a1243.kunShouResultView,r.isWin=n,r.data=a,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2297(),this.a2115(),"android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null)},e.prototype.a2115=function(){var t=this,e="";this.isWin?(e="zhandoushengli",this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=180,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1)):(e="zhandoushibai2",this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=245,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1)),egret.Tween.get(this.bgImg).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20),egret.Tween.get(this.infoGroup).to({alpha:0},0).wait(740).to({alpha:1},50),egret.Tween.get(this.scroll).wait(840).call(function(){for(var e=t.scrollerList.$children,i=0;i<e.length;i++){var a=e[i];a.group.scaleX=0,a.group.scaleY=0,egret.Tween.get(a.group).wait(50*a.itemIndex).to({scaleX:1,scaleY:1},200)}t.scroll.visible=!0}),egret.Tween.get(this.returnBtn).to({y:this.returnBtn.y+20},0).wait(740).call(function(){t.returnBtn.visible=!0}).to({y:this.returnBtn.y},200).call(function(){t.timesGroup.visible=!0}),this.scroll.visible=!1,this.returnBtn.visible=!1,this.timesGroup.visible=!1},e.prototype.a2297=function(){var t=this.data.rank,e=this.data.upRank,i=null;this.isWin?(i=this.data.winReward,this.titelLabel.text=langue.yuefriend,this.myJtImg.source="sjt_png",this.duiJtImg.source="xjt_png",e>=t?(this.myPaiLabel.text="0",this.duiPaiLabel.text="0"):(this.myPaiLabel.text=t-e+"",this.duiPaiLabel.text=t-e+"")):(i=this.data.failReward,this.titelLabel.text=langue.zaijieli,this.myJtImg.source="xjt_png",this.duiJtImg.source="sjt_png",this.myPaiLabel.text="0",this.duiPaiLabel.text="0"),this.myNameLabel.text=langue.myname,this.duiNameLabel.text=a1228.a1230.getLength(this.data.roleName),this.timesLabel.text=langue.nexttimes+a1232.kunshouTimes,a1232.userInfo&&a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.myheadImg),this.data.headUrl&&a1228.a1230.getPlayerAvatar(this.data.headUrl,this.duiheadImg);var a=[];for(var n in i)a.push({ID:i[n][0],Count:i[n][1]}),2==i[n][0]?this.jinbi=!0:1==i[n][0]&&(this.zuanshi=!0),(1==i[n][0]||2==i[n][0])&&a1228.a1225.applyFunc(10004,5035,i[n][0],i[n][1],109,!0,!1,!1);this.scrollerList.dataProvider=new eui.ArrayCollection(a),this.scrollerList.itemRenderer=a1135},e.prototype.event=function(){a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.a2114)},e.prototype.a2114=function(){a1228.a1230.a2557(!1,this.group,5134),a1228.a1225.applyFunc(10004,5e3),a1228.a1225.applyFunc(10004,5119,this.isWin);var t=a1228.a1226.a2525(102);t&&(this.jinbi&&(t.BoneAnim(a1220.UI_Main_UP),t.a2245()),this.zuanshi&&(t.a2260(a1220.UI_Main_UP),t.a2245()))},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1166.prototype,"a1166");var a1167=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=a1243.kunShouRivalView,e.event(),11==a1232.guideStep&&(e.isGuide=!0),a1228.a1252.doTimer(500,1,e.a2097,e),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.ChallengeButt,egret.TouchEvent.TOUCH_TAP,this.a2204),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158)},e.prototype.a2158=function(){var t=this.a2298();t&&a1228.a1225.applyFunc(10004,5192,t)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.data&&this.initialize()},e.prototype.a2298=function(){var t;if(this.data)if(this.data.extInfo){var e=void 0,i=void 0,a=void 0,n=void 0,r=JSON.parse(this.data.extInfo),s=this.data.extAttr&&JSON.parse(this.data.extAttr)||{};s.playerIDs?(i=s.playerIDs,"string"==typeof s.playerIDs&&(i=JSON.parse(s.playerIDs))):r.playerIDs&&(i=r.playerIDs,"string"==typeof r.playerIDs&&(i=JSON.parse(r.playerIDs))),e=r.curPlayers||[],a=r.cheerIDs||[],n=r.cheerLock||[],"string"==typeof r.curPlayers&&(e=r.curPlayers&&JSON.parse(r.curPlayers)||[]),"string"==typeof r.cheerIDs&&(a=r.cheerIDs&&JSON.parse(r.cheerIDs)||[]),"string"==typeof r.cheerLock&&(n=r.cheerLock&&JSON.parse(r.cheerLock)||[]),i||(e=[],a=[]),t={playerIDs:i,curPlayers:e,cheerIDs:a,cheerLock:n}}else{var o=JSON.parse(this.data.extend);t={extend:o}}return t},e.prototype.initialize=function(){1==this.data.num?(this.RankingIcon.source="pai1_png",this.RankingIcon.visible=!0,this.OwnRanking.visible=!1):2==this.data.num?(this.RankingIcon.source="pai2_png",this.RankingIcon.visible=!0,this.OwnRanking.visible=!1):3==this.data.num?(this.RankingIcon.source="pai3_png",this.RankingIcon.visible=!0,this.OwnRanking.visible=!1):(this.OwnRanking.visible=!0,this.RankingIcon.visible=!1,this.OwnRanking.text=this.data.num),this.HeadImage.source="bawanglongtouxiang1_png";var t=[];if(this.data.extInfo){var e=JSON.parse(this.data.extInfo),i=this.data.extAttr&&JSON.parse(this.data.extAttr)||{},a=void 0;if(i.playerIDs?(a=i.playerIDs,"string"==typeof i.playerIDs&&(a=JSON.parse(i.playerIDs))):e.playerIDs&&(a=e.playerIDs,"string"==typeof e.playerIDs&&(a=JSON.parse(e.playerIDs))),e.curPlayers){var n=e.curPlayers||[],r=e.cheerIDs||[];"string"==typeof e.curPlayers&&(n=e.curPlayers&&JSON.parse(e.curPlayers)||[]),"string"==typeof e.cheerIDs&&(r=e.cheerIDs&&JSON.parse(e.cheerIDs)||[]),this.Info2=[];for(var s=0;3>s;++s){var o=a[n[s]];if(n[s]&&o){t.push(new a1231(null,o));var l=[null,null];if(this.Info2.push(l),r[s])for(var h=0;h<r[s].length;++h){var p=r[s][h],u=a[p];p&&u&&(l[h]=new a1231(null,u))}}}}0==t.length&&(t=[new a1231(null,[1,5]),new a1231(null,[2,5])])}else for(var c=JSON.parse(this.data.extend),s=0;3>s;++s)c.ko[s]&&a1228.g_PlayerData[c.ko[s].id]&&t.push(new a1231(null,[c.ko[s].id,c.ko[s].level]));if(this.isGuide?(this.data.nickname=langue.di+this.OwnRanking.text+langue.ming,this.NameLabel.text=a1228.a1230.getLength(this.data.nickname),t=[new a1231(null,[1,5]),new a1231(null,[2,5])],this.Info2=[]):this.NameLabel.text=a1228.a1230.getLength(this.data.nickname||this.data.val),t&&(this.Info=t),t[0]){var d=t[0].index,g=t[0].star;this.OwnBattleDinoIcon1.source=a1228.a1230.a2555(t[0]),this.OwnDinoLeve1.text=t[0].level,this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[d].xiyou+"_png",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[d].xiyou+"_png",g&&0!=g?a1228.a1230.a2552(this,"starImg1_",g,!0):this.starGroup1.visible=!1}else this.group1.visible=!1;if(t[1]){var d=t[1].index,g=t[1].star;this.OwnBattleDinoIcon2.source=a1228.a1230.a2555(t[1]),this.OwnDinoLeve2.text=t[1].level,this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[d].xiyou+"_png",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[d].xiyou+"_png",g&&0!=g?a1228.a1230.a2552(this,"starImg2_",g,!0):this.starGroup2.visible=!1}else this.group2.visible=!1},e.prototype.a2204=function(){var t=this;if(a1228.a1245.a2619(this,this.ChallengeButt,1e3)){if(this.isGuide)return void this.a2299({pkId:0});
var e=a1228.a1226.a2525(148);if(a1232.kunshouVedioTimes>=25)return void a1228.a1245.a2612(langue.todaynotimes);if(a1232.kunshouTimes<=0)return e&&(e.tipsGroup.visible=!0),void a1228.a1245.a2612(langue.nofighttimes);var i={gameId:a1232.gameID,trackId:a1232.trackId,rankId:this.data.id,fromPgid:this.data.pgid,rank:a1232.kunshouRank};a1228.a1247.a2623(a1232.URL_PK_READY,egret.URLRequestMethod.POST,i,function(i){i&&i.data?i.data.pkId?t.a2299(i.data):e&&(e.a2300(i.data),a1228.a1245.a2612(langue.paichange)):a1228.a1245.a2612(i.msg)},null)}},e.prototype.a2299=function(t){if(this.Info&&0!=this.Info.length){var e={monster:this.Info,cheerInfos:this.Info2,pkId:t.pkId,rank:a1232.kunshouRank,upRank:this.data.num,roleName:this.data.nickname||this.data.val,winReward:a1228.g_KunShouData[1].winReward,failReward:a1228.g_KunShouData[1].failReward,headUrl:this.data.avatarUrl},i=a1228.a1226.a2525(101);i&&(i.visible=!1);var a=a1228.a1226.a2525(148);a&&(a.visible=!1),a1232.kunshouTimes-=1,a1232.kunshouVedioTimes+=1,a1232.kunshouTimes=Math.max(a1232.kunshouTimes,0),a1228.a1225.applyFunc(10004,5063),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5320,2,e),a1228.a1225.applyFunc(10004,5125,e),a1228.a1225.applyFunc(10004,5046,4),a1228.a1225.applyFunc(10004,5271)}},e.prototype.a2097=function(){var t=this;if(11==a1232.guideStep&&1==this.itemIndex&&a1232.curLevel>6){var e=a1228.a1226.a2525(148);if(e){var i=this.ChallengeButt.a1263(0,0),a=i.x-(e.x-e.anchorOffsetX),n=i.y-(e.y-e.anchorOffsetY);a1228.a1233.a2572(e,143,69,a,n,function(){t.a2204(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1122","结束困兽场引导",7)}),a1228.a1233.a2565(e,a+54,n+40)}}},e.prototype.a2300=function(){if(this.data)for(var t=1;3>=t;++t)this["rankLabel"+t].text=""+this.data[t-1].num,this["nameLabel"+t].text=""+this.data[t-1].val},e}(eui.ItemRenderer);__reflect(a1167.prototype,"a1167");var a1168=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.isGuide=!1,n.isWin=!1,n._skin=a1243.a1168,n.isWin=a,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2304(!0),this.a2090(),"kwaigame"!=platform.name&&a1228.a1230.a2557(!0,this.group),a1232.userInfo&&(a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.OwnHead),this.OwnName.text=a1228.a1230.getLength(a1232.userInfo.nickName));var e={gameId:a1232.gameID,trackId:a1232.trackId,old:this.isWin&&1||0};a1228.a1247.a2623(a1232.URL_PK_INFO,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&(t.a2300(e.data),t.a2301())},null),this._controller.a1916(5061,this.a2301,this),11==a1232.guideStep&&(this.isGuide=!0),a1232.refleshtimes>0?this.RefreshRivalBtn.source="RefreshRival2_png":this.RefreshRivalBtn.source="RefreshRival_png",platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[111])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.a2300=function(t){if(t&&t.list){if(this.isGuide){t.rank=Math.floor(30*Math.random()+1010);for(var e=0;e<t.list.length;++e)t.list[e].num=1e3+e}this.rank=t.rank,this.data=t.list,a1232.kunshouRank=this.rank,this.a2305(),this.OwnRanking.text=""+this.rank,this.timesLabel.text=""+a1232.kunshouTimes}},e.prototype.a2301=function(){for(var t,e,i,a,n,r,s=0;s<a1232.curPlayers.length;s++){var o=a1232.curPlayers[s];0!=o&&(0==s?(n=a1232.playerIDs[o],t=n.level,i=n.star):1==s&&(r=a1232.playerIDs[o],e=r.level,a=r.star))}n?(this.OwnBattleDinoIcon1.source=a1228.a1230.a2555(n),this.OwnDinoLeve1.text=t,this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[n.index].xiyou+"_png",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[n.index].xiyou+"_png",0==i?this.starGroup1.visible=!1:a1228.a1230.a2552(this,"starImg1_",i,!0)):this.group1.visible=!1,r?(this.OwnBattleDinoIcon2.source=a1228.a1230.a2555(r),this.OwnDinoLeve2.text=e,this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[r.index].xiyou+"_png",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[r.index].xiyou+"_png",0==a?this.starGroup2.visible=!1:a1228.a1230.a2552(this,"starImg2_",a,!0)):this.group2.visible=!1},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.RefreshRivalBtn,egret.TouchEvent.TOUCH_TAP,this.onChange),a1251.a1412(this,this.rankBtn,egret.TouchEvent.TOUCH_TAP,this.a2308),a1251.a1412(this,this.recordBtn,egret.TouchEvent.TOUCH_TAP,this.a2309),a1251.a1412(this,this.Embattle,egret.TouchEvent.TOUCH_TAP,this.a2310),a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.onReturn),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2303)},e.prototype.onReturn=function(){this.tipsGroup.visible=!1},e.prototype.a2303=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc_1()},e,["110","困兽场增加次数"])},e.prototype.handleFunc_1=function(){this.tipsGroup.visible=!1,a1232.kunshouTimes+=2,this.timesLabel.text=""+a1232.kunshouTimes,a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2304=function(t){var e=a1228.a1226.a2525(101);t?a1228.SceneMgr.a2517().visible=!0:a1228.SceneMgr.a2517().visible=!e},e.prototype.a2305=function(){for(var t in this.data)this.data[t].num=Number(this.data[t].num);this.data.sort(function(t,e){return t.num>e.num&&1||-1}),this.PropsReward.dataProvider=new eui.ArrayCollection(this.data),this.PropsReward.itemRenderer=a1167},e.prototype.onChange=function(){var t=this;if(a1228.a1245.a2619(this,this.RefreshRivalBtn,2e3)){if(a1232.refleshtimes>0)return a1232.refleshtimes-=1,this.doChange(),a1228.a1225.applyFunc(10004,5041),void(a1232.refleshtimes>0?this.RefreshRivalBtn.source="RefreshRival2_png":this.RefreshRivalBtn.source="RefreshRival_png");var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.doChange()},e,["111","困兽场刷新对手"])}},e.prototype.doChange=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,old:1};a1228.a1247.a2623(a1232.URL_PK_INFO,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&t.a2300(e.data)},null)},e.prototype.a2307=function(){},e.prototype.a2308=function(){a1228.a1225.applyFunc(10004,5121)},e.prototype.a2309=function(){a1228.a1225.applyFunc(10004,5123)},e.prototype.a2095=function(){if(a1228.a1230.a2557(!1,this.group,5120),"vivogame"==platform.name||"oppogame"==platform.name||"mzgame"==platform.name){var t=a1228.a1122.a1957();platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},t)}},e.prototype.a2310=function(){a1228.a1225.applyFunc(10004,5060)},e.prototype.close=function(){a1228.a1245.closeBanner(),this.a2304(!1),this._controller.a1917(5061,this.a2301,this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1168.prototype,"a1168");var a1169=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.rateArr=[],a.canClick=!1,a.anis=[],a._skin=a1243.limitFanPaiSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.closeGroup.visible=!1,this.djLable.text=langue.clickka,this.event(),this.a2189()},e.prototype.a2189=function(){var t=this,e="shenglichoujiang",i="newAnimation",a=30;egret.Tween.get(this.group).call(function(){t.playAnim(e,i,156,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,156,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,156,789,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,361,789,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,311,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,550,1,1)}).wait(a).call(function(){t.playAnim(e,i,570,789,1,1)}).wait(a).call(function(){t.canClick=!0})},e.prototype.playAnim=function(t,e,i,a,n,r){var s=this,o=a1228.a1245.CreateFrameAnimation(t,t);this.group.addChild(o),o.x=i,o.y=a,o.scaleX=n,o.scaleY=r,o.touchEnabled=!0,o.touchChildren=!1,o.animation&&o.animation.play(e,1),this.anis.push(o),"shenglichoujiang"==t?(o.touchEnabled=!0,o.touchChildren=!1,a1251.a1412(this,o,egret.TouchEvent.TOUCH_TAP,function(){s.a2191(o)},!1)):("shenglichoujiang2"==t||"shenglichoujiang3"==t)&&(o.touchEnabled=!1,o.touchChildren=!1)},e.prototype.event=function(){a1251.a1412(this,this.closeGroup,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2191=function(t){var e=this;if(this.canClick){this.canClick=!1;var i=this.a2193(),a=a1228.g_limitRewardData[i],n=a.name,r=a.rewardid,s=a.count;a1232.limitGift[2]=1,a1228.a1225.applyFunc(10004,5036,r,s),t.visible=!1,this.playAnim("shenglichoujiang2","newAnimation",t.x,t.y,1,1),this.playAnim("shenglichoujiang3","newAnimation",t.x,t.y,1,1),a1228.a1252.doTimer(300,1,function(){var i=new eui.Image;i.source="fanpaig_png",i.width=190,i.height=190,e.group.addChild(i),i.x=t.x,i.y=t.y-15,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,egret.Tween.get(i,{loop:!0}).to({rotation:360},7e3),e.imgGuang=i;var a=new eui.Image;a.source=a1228.g_PropsData[r].icon,a.width=130,a.height=130,e.group.addChild(a),a.x=t.x,a.y=t.y-15,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,egret.Tween.get(a).to({y:a.y-7.17},1500).to({y:a.y+3},1500).to({y:a.y},1500),egret.Tween.get(a).to({scaleX:1.1,scaleY:1.1},1500).to({scaleX:1,scaleY:1},1500);var o=new eui.Label;o.text=n+"x"+s,e.group.addChild(o),o.width=t.width,o.verticalAlign="middle",o.textAlign="center",o.y=t.y+70,o.x=t.x-t.width/2,o.size=24,o.textColor=15793920,e.djLable.visible=!0,e.djLable.text=langue.clickrenyi,e.closeGroup.visible=!0},this)}},e.prototype.a2193=function(){if(0==this.rateArr.length)for(var t in a1228.g_limitRewardData)this.rateArr.push(a1228.g_limitRewardData[t].rate);for(var e=[],i=0;i<this.rateArr.length;i++)if(e[i]=[],this.rateArr[i]<=0)e[i][0]=0,e[i][1]=0;else{for(var a=0,n=0;i>n;n++)a+=this.rateArr[n];e[i][0]=a,e[i][1]=a+this.rateArr[i]}for(var r=0,s=0,i=0;i<this.rateArr.length;i++)s+=this.rateArr[i];for(var o=a1228.a1245.random_num(0,s),i=0;i<e.length;i++)if(o>e[i][0]&&o<=e[i][1]){r=i;break}return r+1},e.prototype.a2095=function(){var t=a1228.a1226.a2525(188);if(t)for(var e=1;3>=e;e++)t.showInfo(e);a1228.a1230.a2557(!1,this.group,5201)},e.prototype.close=function(){for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}this.imgGuang&&egret.Tween.removeTweens(this.imgGuang),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1169.prototype,"a1169");var a1170=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.num=0,r._skin=a1243.limitGiftGetSkin,r.id=a,r.num=n,r}return __extends(e,t),e.prototype.initUI=function(){this.showInfo(),this.a2115(),this.event(),a1228.a1238.playEffect("new_mp3")},e.prototype.showInfo=function(){1==this.id?(this.prizeImg.source="panzs1_png",this.icoinImg.source="panzs_png"):2==this.id&&(this.prizeImg.source="panlg3_png",this.icoinImg.source="ICON_longgu_png"),this.numLabel.text="+"+this.num},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){1==this.id?a1232.limitGift[1]=1:2==this.id&&(a1232.limitGift[0]=1);var t=a1228.a1226.a2525(188);if(t)for(var e=1;3>=e;e++)t.showInfo(e);a1228.a1225.applyFunc(10004,5035,this.id,this.num,105),a1228.a1225.applyFunc(10004,5041),a1228.a1230.a2557(!1,this.group,5199)},e.prototype.a2115=function(){egret.Tween.get(this.prizeImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700;egret.Tween.get(this.duoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.sureBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200);var i=10,a=300;egret.Tween.get(this.duoGroup).wait(t).to({y:this.duoGroup.y-i},a),egret.Tween.get(this.sureBtn).wait(e).to({y:this.sureBtn.y-i},a),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=250,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1170.prototype,"a1170");var a1171=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.limitTimeGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){for(var t=1;3>=t;t++)this.showInfo(t);a1228.a1230.a2557(!0,this.group),this.event(),this.a2311(),a1228.a1252.doTimer(1e3,0,this.a2311,this)},e.prototype.showInfo=function(t){if(a1232.limitGift[t-1]>0)this["getBtn"+t].visible=!0,this["statedbImg"+t].source="an_2_png",this["stateImg"+t].source="AlreadyGet2_png",this["daojishiLabel"+t].visible=!1;else{var e=this.a2312(t);1==e?(this["getBtn"+t].visible=!0,this["statedbImg"+t].source="TiaoZhanLabel_png",this["stateImg"+t].source="lqbtn_png",this["daojishiLabel"+t].visible=!0):2==e?(this["getBtn"+t].visible=!0,this["statedbImg"+t].source="an_2_png",this["stateImg"+t].source="sjwd_png",this["daojishiLabel"+t].visible=!0):3==e&&(this["statedbImg"+t].source="an_2_png",this["stateImg"+t].source="ygs_png",this["daojishiLabel"+t].visible=!1)}},e.prototype.a2311=function(){for(var t=1;3>=t;t++){var e=a1232.getServerTime(),i=new Date(1e3*e),a=i.getHours(),n=0,r=i.toLocaleDateString();1==t&&9>a&&0==a1232.limitGift[0]?(n=new Date(r).getTime()/1e3+28800-e+3600,this["daojishiLabel"+t].text=a1228.a1240.a2597(n,1),this.showInfo(1)):(1==t&&a>=9||1==a1232.limitGift[0])&&(this["daojishiLabel"+t].visible=!1),2==t&&13>a&&0==a1232.limitGift[1]?(n=new Date(r).getTime()/1e3+43200-e+3600,this["daojishiLabel"+t].text=a1228.a1240.a2597(n,1),this.showInfo(2)):(2==t&&a>=13||1==a1232.limitGift[1])&&(this["daojishiLabel"+t].visible=!1),3==t&&19>a&&0==a1232.limitGift[2]?(n=new Date(r).getTime()/1e3+64800-e+3600,this["daojishiLabel"+t].text=a1228.a1240.a2597(n,1),this.showInfo(3)):(3==t&&a>=19||1==a1232.limitGift[2])&&(this["daojishiLabel"+t].visible=!1)}},e.prototype.a2312=function(t){var e=1e3*a1232.getServerTime(),i=new Date(e),a=i.toLocaleDateString(),n=new Date(a).getTime(),r=0,s=0;1==t?(r=288e5,s=324e5):2==t?(r=432e5,s=468e5):3==t&&(r=648e5,s=684e5);var o=0;return o=e>=r+n&&s+n>=e&&0==a1232.limitGift[t-1]?1:r+n>e?2:3},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095);for(var e=function(e){a1251.a1412(i,i["getBtn"+e],egret.TouchEvent.TOUCH_TAP,function(){t.a2313(e)})},i=this,a=1;3>=a;a++)e(a)},e.prototype.a2313=function(t){var e=this.a2312(t);if(1==e)if(1==t){a1232.curLevel<=0&&(a1232.curLevel=1);var i=2*a1228.g_Monster[a1232.curLevel].reward[0][1];a1228.a1225.applyFunc(10004,5198,2,i)}else 2==t?a1228.a1225.applyFunc(10004,5198,1,600):3==t&&a1228.a1225.applyFunc(10004,5200)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5197)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1171.prototype,"a1171");var a1172=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.dinosaursCheerInfoItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){},e.prototype.onclean=function(){a1251.a1413(this),this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){if(this.limitLabel1.visible=!1,this.limitLabel2.visible=!1,this.videoImg1.visible=!1,this.videoImg2.visible=!1,!this.data)return this.group1.visible=!1,this.group2.visible=!1,this.srcGroup1.visible=!1,void(this.srcGroup2.visible=!1);if(this.data.playerIDs){var t=this.data.playerIDs,e=this.data.curPlayers,i=this.data.cheerIDs,a=this.data.cheerLock,n=e[this.itemIndex];if(n>0&&t[n]){var r=new a1231(null,t[n]),s=r.level;this.a2146(r);var o=a1228.a1230.a1921(r);this.levelGroup.y=-a1228.g_ModelSize[o].height+270,this.bitNameLabel.text="lv."+s+" "+a1228.a1230.a2554(r),this.bghImg.width=this.bitNameLabel.width+33;var l=i[this.itemIndex][0],h=i[this.itemIndex][1];if(l>0){var p=new a1231(null,t[l]),u=p.index;this.suoImg1.visible=!1,this.addImg1.visible=!1,this.levelLabel1.text=p.level+"",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[u].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[u].xiyou+"_png";var c=a1228.a1230.a2554(p);this.nameLabel1.text=c,this.dinosaurImg1.source=a1228.a1230.a2555(p);var d=a1228.g_PlayerData[p.skillIndex].skills[0];this.srcLabel1_1.text=langue.cheerskill+a1228.g_Skil[d].skilName,this.srcLabel1_2.text=langue.shuxing,this.group1.visible=!0}else this.addImg1.visible=a[this.itemIndex][0]>0&&!0||!1,this.suoImg1.visible=a[this.itemIndex][0]<=0&&!0||!1,this.srcGroup1.visible=!1,this.group1.visible=!1;if(h>0){var g=new a1231(null,t[h]),u=g.index;this.suoImg2.visible=!1,this.addImg2.visible=!1,this.levelLabel2.text=g.level+"",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[u].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[u].xiyou+"_png";var f=a1228.a1230.a2554(g);this.nameLabel2.text=f,this.dinosaurImg2.source=a1228.a1230.a2555(g);var d=a1228.g_PlayerData[g.skillIndex].skills[0];this.srcLabel2_1.text=langue.cheerskill+a1228.g_Skil[d].skilName,this.srcLabel2_2.text=langue.shuxing,this.group2.visible=!0}else this.addImg2.visible=a[this.itemIndex][1]>0&&!0||!1,this.suoImg2.visible=a[this.itemIndex][1]<=0&&!0||!1,this.srcGroup2.visible=!1,this.group2.visible=!1}else{var l=i[this.itemIndex][0],h=i[this.itemIndex][1];0>=l&&(this.addImg1.visible=a[this.itemIndex][0]>0&&!0||!1,this.suoImg1.visible=a[this.itemIndex][0]<=0&&!0||!1,this.srcGroup1.visible=!1,this.group1.visible=!1),0>=h&&(this.addImg2.visible=a[this.itemIndex][1]>0&&!0||!1,this.suoImg2.visible=a[this.itemIndex][1]<=0&&!0||!1,this.srcGroup2.visible=!1,this.group2.visible=!1),this.levelGroup.visible=!1}}else if(this.limitLabel1.visible=!1,this.limitLabel2.visible=!1,this.videoImg1.visible=!1,this.videoImg2.visible=!1,this.group1.visible=!1,this.group2.visible=!1,this.srcGroup1.visible=!1,this.srcGroup2.visible=!1,0==this.itemIndex?(this.addImg1.visible=!0,this.addImg2.visible=!1,this.suoImg1.visible=!1,this.suoImg2.visible=!0):(this.addImg1.visible=!1,this.addImg2.visible=!1,this.suoImg1.visible=!0,this.suoImg2.visible=!0),this.data.extend.ko)if(this.data.extend.ko[this.itemIndex]){var s=this.data.extend.ko[this.itemIndex].level,u=this.data.extend.ko[this.itemIndex].id,r=new a1231(null,[u,s,0,0,0]);this.a2146(r);var o=a1228.a1230.a1921(r);this.levelGroup.y=-a1228.g_ModelSize[o].height+270,this.bitNameLabel.text="lv."+s+" "+a1228.a1230.a2554(r),this.bghImg.width=this.bitNameLabel.width+33}else this.levelGroup.visible=!1;else this.levelGroup.visible=!1},e.prototype.a2146=function(t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.dinosaurGroup.addChild(i),i.x=-180,i.y=80,i.scaleX=-.6,i.scaleY=.6,i.touchEnabled=!0,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),i.info=t,this.ani=i,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865.bind(this,i.info),this)},e.prototype.a1865=function(t){if(this.data.playerIDs){var e=this.data.playerIDs,i=this.data.curPlayers,a=this.data.cheerIDs,n=i[this.itemIndex];if(n>0&&e[n]){for(var r=[],s=[],o=0;3>o;++o){var l=e[i[o]];if(i[o]&&l){r.push(new a1231(null,l));var h=[null,null];if(s.push(h),a[o])for(var p=0;p<a[o].length;++p){var u=a[o][p],c=e[u];u&&c&&(h[p]=new a1231(null,c))}}else r.push(null),s.push([null,null])}var d=(t.level,{atk:0,def:0,hp:0});if(s&&s[this.itemIndex])for(var p=0;p<s[this.itemIndex].length-1;++p){var g=s[this.itemIndex][p];g&&(d.atk+=Math.floor(.05*a1232.getAttack(g)),d.def+=Math.floor(.05*a1232.getDefence(g)),d.hp+=Math.floor(.05*a1232.a1886(g)))}var f=a1232.getSkills(r[this.itemIndex],s||[[]],r);t.extdata={atk:a1232.getAttack(t,f)+d.atk,def:a1232.getDefence(t,f)+d.def,hp:a1232.a1886(t,f)+d.hp,crit:10*a1232.getBaoji(t,f),dodge:10*a1232.getShanbi(t,f),atktime:Math.floor(1e3/Number(a1232.getGongsu(t,f))),skills:a1232.getSkills(t,[[]],[]),showGrow:!0,showProduce:!0}}}a1228.a1225.applyFunc(10004,5099,t)},e}(eui.ItemRenderer);__reflect(a1172.prototype,"a1172");var a1173=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.lineupSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initList(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5193)},e.prototype.initList=function(){var t,e=[];t=this.data.playerIDs?{playerIDs:this.data.playerIDs,curPlayers:this.data.curPlayers,cheerIDs:this.data.cheerIDs,cheerLock:this.data.cheerLock}:{extend:this.data.extend},e.push(t),e.push(t),this.scrollList.dataProvider=new eui.ArrayCollection(e),this.scrollList.itemRenderer=a1172},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1173.prototype,"a1173");var a1174=function(t){function e(e,i,a){void 0===a&&(a=null);var n=t.call(this,e,i,a)||this;return n.isOpenMore=!1,n.lastAskFriendTime=0,n.move=!1,n._skin=a1243.LoginSkin,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.moreGroup.visible=!1;var e=a1228.a1122.a1873();e-this.mainGroup.height>120&&(this.mainGroup.height=e-120);var i=a1232.musicState;i?a1228.a1238.a2583(!1):a1228.a1238.a2584(),this.diamondLabel.text="",this.goldLabel.text="",this.moreGroup.scaleX=.01,this.moreGroup.scaleY=.01,this.GetData(),this.a2245(),this.a2335(),this.a2339(),this.a2338(),this.a2337(),this.a2334(),this.a2333(),this.a2336(),this.a2276(),this.isTuJian(),this._controller.a1916(5049,this.a2335,this),this._controller.a1916(5050,this.GetData,this),this._controller.a1916(5055,this.a2339,this),this._controller.a1916(5120,this.a2338,this),this._controller.a1916(5142,this.a2337,this),this._controller.a1916(5057,this.a2337,this),this._controller.a1916(5023,this.a2333,this),this._controller.a1916(5177,this.a2334,this),this._controller.a1916(5017,this.gameCirle,this),this._controller.a1916(5021,this.gameCirle,this),this._controller.a1916(5019,this.gameCirle,this),this._controller.a1916(5209,this.gameCirle,this),this._controller.a1916(5203,this.a2336,this),this._controller.a1916(5098,this.isTuJian,this),setTimeout(function(){t.a2097()},100),a1232.releaseRes(),a1232.releaseGuideRes(),this.a2319(!1);a1228.a1226.a2525(102);a1228.Main.destroyDinosaursPngs(),a1232.releaseFoodRes(),platform.isLocal()||"wxgame"==platform.name||"qqgame"==platform.name||"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?(platform.isLocal()||"wxgame"==platform.name||"qqgame"==platform.name?(this.collectBtn.visible=!1,this.collectBtn.width=0):(this.collectBtn.visible=!1,this.collectBtn.width=0),this.serverBtn.visible=!1,this.serverBtn.width=0):(this.collectBtn.visible=!1,this.collectBtn.width=0,this.serverBtn.visible=!1,this.serverBtn.width=0),platform.isLocal()||"wxgame"==platform.name?(this.clubBtn.visible=!1,this.clubBtn.width=0):(this.clubBtn.visible=!1,this.clubBtn.width=0),platform.showMoreBtn&&platform.showMoreBtn(this),("android_qudao"==platform.name||a1232.notAdCD)&&(this.serverBtn.visible=!1,this.serverBtn.width=0),this.exchangeBtn.visible=!1,this.exchangeBtn.scaleX=0;for(var a=this.moreGroup2.$children,n=0,r=0;r<a.length;++r)a[r].visible&&(n+=1);this.morebgImg.width=90*n+115,this.moreGroup2.width=90*n+10,this.moreGroup.width=90*n+115,platform.installShortcut&&platform.installShortcut(null),("ios"==platform.name||"android_qudao"==platform.name)&&a1232.changeNameNum<1?(this.moreredImg.visible=!0,this.setredImg.visible=!0):(this.moreredImg.visible=!1,this.setredImg.visible=!1),"kwaigame"==platform.name?(a1228.a1230.reflshKsCoin(),this.coinGroup.visible=!0):this.coinGroup.visible=!1},e.prototype.openpeiyang=function(){a1228.a1225.applyFunc(10004,5202)},e.prototype.gameCirle=function(){this.height=a1228.a1122.a1873();var t=(this.mainGroup.x+this.clubBtn.parent.x+this.clubBtn.x+this.moreGroup.x-this.moreGroup.anchorOffsetX)/this.width,e=(this.mainGroup.y+this.clubBtn.parent.y+this.clubBtn.y+this.moreGroup.y-this.moreGroup.anchorOffsetY)/this.height,i=this.clubBtn.width/720,a=this.clubBtn.height/1280,n=50;platform.createGameClubButton(t,e,i,a,n)},e.prototype.changeAd=function(){var t=this;if(a1232.thirdAdSlot[5]&&""!==a1232.trackId){var e={slotId:a1232.thirdAdSlot[5],token:a1232.trackId,appid:a1232.appid,gameId:a1232.gameID};a1228.a1247.a2623(a1232.URL_AD_BASE+a1232.URL_ADLIST,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&(a1232.adList[5]=e.data,t.a2276())},null)}},e.prototype.event=function(){a1251.a1412(this,this.fightBtn,egret.TouchEvent.TOUCH_TAP,this.a2321),a1251.a1412(this,this.paihangBtn,egret.TouchEvent.TOUCH_TAP,this.a2326),a1251.a1412(this,this.mailBtn,egret.TouchEvent.TOUCH_TAP,this.a2327),a1251.a1412(this,this.fubenBtn,egret.TouchEvent.TOUCH_TAP,this.a2328),a1251.a1412(this,this.addDiamondBtn,egret.TouchEvent.TOUCH_TAP,this.a2228),a1251.a1412(this,this.addBoneBtn,egret.TouchEvent.TOUCH_TAP,this.a2229),a1251.a1412(this,this.kunshouBtn,egret.TouchEvent.TOUCH_TAP,this.a2329),a1251.a1412(this,this.tujianBtn,egret.TouchEvent.TOUCH_TAP,this.a2330),a1251.a1412(this,this.shengtangBtn,egret.TouchEvent.TOUCH_TAP,this.a2331),a1251.a1412(this,this.actBtn,egret.TouchEvent.TOUCH_TAP,this.a2093),a1251.a1412(this,this.moreBtn,egret.TouchEvent.TOUCH_TAP,this.a2318),a1251.a1412(this,this.serverImg,egret.TouchEvent.TOUCH_TAP,this.a2323),a1251.a1412(this,this.collectImg,egret.TouchEvent.TOUCH_TAP,this.a2324),a1251.a1412(this,this.exchangeImg,egret.TouchEvent.TOUCH_TAP,this.a2325),a1251.a1412(this,this.setImg,egret.TouchEvent.TOUCH_TAP,this.a2322),a1251.a1412(this,this.clubImg,egret.TouchEvent.TOUCH_TAP,this.a2316),a1251.a1412(this,this.peiyangBtn,egret.TouchEvent.TOUCH_TAP,this.a2320),a1251.a1412(this,this.mainGroup,egret.TouchEvent.TOUCH_TAP,this.a2317,!1),a1251.a1412(this,this.ksBtn,egret.TouchEvent.TOUCH_TAP,this.onClickKsBtn,!1)},e.prototype.a2316=function(){this.isOpenMore=!0},e.prototype.onClickKsBtn=function(){a1228.a1225.applyFunc(10004,5105)},e.prototype.a2317=function(){var t=this;!this.move&&this.moreGroup.visible&&setTimeout(function(){t.isOpenMore||t.a2318(),t.isOpenMore=!1},10)},e.prototype.a2318=function(){var t=this;.01!=this.moreGroup.scaleX||this.move?this.moreGroup.scaleX>0&&!this.move&&(this.move=!0,platform.removethisGameclubButton(),egret.Tween.get(this.moreGroup).to({scaleX:.01,scaleY:.01},300,egret.Ease.cubicInOut).call(function(){t.move=!1,t.moreGroup.visible=!1}),a1232.releaseMoreRes()):(this.move=!0,this.moreGroup.visible=!0,egret.Tween.get(this.moreGroup).to({scaleX:1,scaleY:1},300,egret.Ease.cubicInOut).call(function(){t.move=!1,t.gameCirle()}))},e.prototype.close=function(){a1228.Main.destroyDinosaursPngs(),platform.removethisGameclubButton(),a1251.a1413(this),a1228.a1252.removeAll(this),a1228.a1238.a2583(!0),t.prototype.close.call(this),this._controller.a1917(5049,this.a2335,this),this._controller.a1917(5050,this.GetData,this),this._controller.a1917(5055,this.a2339,this),this._controller.a1917(5120,this.a2338,this),this._controller.a1917(5142,this.a2337,this),this._controller.a1917(5057,this.a2337,this),this._controller.a1917(5023,this.a2333,this),this._controller.a1917(5177,this.a2334,this),this._controller.a1917(5017,this.gameCirle,this),this._controller.a1917(5021,this.gameCirle,this),this._controller.a1917(5019,this.gameCirle,this),this._controller.a1917(5209,this.gameCirle,this),this._controller.a1917(5203,this.a2336,this),this._controller.a1917(5098,this.isTuJian,this),this.a2319(!0),a1228.ActorMgr.a2489()},e.prototype.a2277=function(t){if(this["adImg"+t]){var e=this["adImg"+t].addata;e&&platform.navigateToMiniProgram(e,function(){a1227.getPoint(a1232.thirdAdSlot[5],"巢穴跳转其他游戏",6,e.id,e.appid)})}},e.prototype.a2276=function(){if(this.adGroup)if(a1232.adList[5]&&a1232.adList[5].length>0){for(var t=function(t){var i=e["adImg"+t],a=a1232.adList[5][t-1];if(a){var n=new egret.ImageLoader;egret.ImageLoader.crossOrigin="anonymous",n.addEventListener(egret.Event.COMPLETE,function(t){t.currentTarget;if(n.data){var e=new egret.Texture;e._setBitmapData(n.data),i.source=e}},e),n.load(a.icon),i.addata=a}},e=this,i=1;3>=i;++i)t(i);this.adGroup.visible=!0}else this.adGroup.visible=!1},e.prototype.GetData=function(){if(platform.hasFriendList()&&!(egret.getTimer()-this.lastAskFriendTime<1e4)){this.lastAskFriendTime=egret.getTimer();({gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId,num:100});setTimeout(function(){({gameId:a1232.gameID,trackId:a1232.trackId,gameAreaId:a1232.gameAreaId})},10)}},e.prototype.a2319=function(t){var e=a1228.a1226.a2525(102);t?(e&&2!=a1228.a1229.a2547()&&(e.visible=!0),a1228.ActorMgr.a2493().visible=!0,a1228.SceneMgr.a2517().visible=!0):(e&&(e.visible=!1),a1228.ActorMgr.a2493().visible=!1,a1228.SceneMgr.a2517().visible=!1)},e.prototype.a2320=function(){a1228.a1230.interstitialAd(),a1232.curLevel>37?a1228.a1225.applyFunc(10004,5202):a1228.a1245.a2612(langueOfvalue(langue.switchpass1,38))
},e.prototype.a2321=function(){a1228.a1230.interstitialAd();var t=a1228.a1226.a2525(102);this.shengTang_Img.visible||this.KunShou_Image.visible||this.fuben_Image.visible||t&&(t.home_Image.visible=!1),a1228.a1225.applyFunc(10004,5001);var e=a1228.a1226.a2525(136);e&&e.setVisible(!0),"android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null)},e.prototype.a2322=function(){this.isOpenMore=!0,platform.removethisGameclubButton(),a1228.a1225.applyFunc(10004,5016)},e.prototype.a2323=function(){this.isOpenMore=!0,platform.removethisGameclubButton(),a1228.a1225.applyFunc(10004,5018)},e.prototype.a2324=function(){this.isOpenMore=!0,platform.removethisGameclubButton(),a1228.a1225.applyFunc(10004,5020)},e.prototype.a2325=function(){this.isOpenMore=!0,platform.removethisGameclubButton(),a1228.a1225.applyFunc(10004,5208)},e.prototype.a2326=function(){a1228.a1230.interstitialAd(),1!=a1232.subscribe[0]&&1!=a1232.subscribe[1]&&platform.requestSubscribeMessage("rank",function(t,e){t&&(a1232.subscribe[1]=1,a1228.a1225.applyFunc(10004,5053,1,1)),e&&(a1232.subscribe[0]=1,a1228.a1225.applyFunc(10004,5053,0,1))}),a1228.a1225.applyFunc(10004,5022)},e.prototype.a2327=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5064)},e.prototype.a2093=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5178)},e.prototype.a2328=function(){return a1228.a1230.interstitialAd(),a1232.curLevel<=10?void a1228.a1245.a2612(langueOfvalue(langue.switchfu,10)):void a1228.a1225.applyFunc(10004,5054)},e.prototype.a2329=function(){a1228.a1230.interstitialAd(),a1232.curLevel<=6?a1228.a1245.a2612(langueOfvalue(langue.switchkun,6)):a1228.a1225.applyFunc(10004,5119)},e.prototype.a2330=function(){a1228.a1230.interstitialAd(),a1232.curLevel<=8?a1228.a1245.a2612(langueOfvalue(langue.switchmap,8)):a1228.a1225.applyFunc(10004,5097)},e.prototype.a2331=function(){a1228.a1225.applyFunc(10004,5141)},e.prototype.a2228=function(){a1228.a1225.applyFunc(10004,5033,1)},e.prototype.a2229=function(){a1228.a1225.applyFunc(10004,5033,2)},e.prototype.a2245=function(){this.diamondLabel&&(this.diamondLabel.text=a1232.priceFormat(a1232.diamond,!0),this.goldLabel.text=a1232.priceFormat(a1232.gold,!0))},e.prototype.a2260=function(t){this.mainGroup&&a1228.a1245.Rand_Animation(!0,t,"ICON_zs_png",this.x+this.mainGroup.x+this.Diamonds.x,this.y+this.mainGroup.y+this.Diamonds.y)},e.prototype.BoneAnim=function(t){this.mainGroup&&a1228.a1245.Rand_Animation(!0,t,"ICON_longgu_png",this.x+this.mainGroup.x+this.BoneGruop.x,this.y+this.mainGroup.y+this.BoneGruop.y)},e.prototype.a2097=function(){var t=this;if(11==a1232.guideStep&&a1232.curLevel>6){var e=this.mainGroup.x+this.kunshouBtn.x-this.kunshouBtn.anchorOffsetX,i=this.mainGroup.y+this.kunshouBtn.y-this.kunshouBtn.anchorOffsetY;a1228.a1233.a2572(this,336,279,e,i,function(){t.a2329(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+156,i+95)}else if(13==a1232.guideStep&&a1232.curLevel>8){var e=this.mainGroup.x+this.tujianBtn.x-this.tujianBtn.anchorOffsetX,i=this.mainGroup.y+this.tujianBtn.y-this.tujianBtn.anchorOffsetY;a1228.a1233.a2572(this,226,245,e,i,function(){t.a2330(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+141,i+91)}else if(14==a1232.guideStep&&a1232.curLevel>9){var e=this.mainGroup.x+this.actBtn.x-this.actBtn.anchorOffsetX,i=this.mainGroup.y+this.actBtn.y-this.actBtn.anchorOffsetY;a1228.a1233.a2572(this,78,88,e,i,function(){t.a2093(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+7,i+40)}else if(15==a1232.guideStep&&a1232.curLevel>10){var e=this.mainGroup.x+this.fubenBtn.x-this.fubenBtn.anchorOffsetX,i=this.mainGroup.y+this.fubenBtn.y-this.fubenBtn.anchorOffsetY;a1228.a1233.a2572(this,256,265,e,i,function(){t.a2328(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+130,i+120)}else if(18==a1232.guideStep&&a1232.curLevel>37){var a=this.peiyangBtn.a1263(0,0),e=a.x-this.x,i=a.y-this.y;a1228.a1233.a2572(this,295,207,e,i,function(){t.a2320(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570()}),a1228.a1233.a2565(this,e+80,i+50)}},e.prototype.a2333=function(){var t=this;if(null!==a1232.randReward)return void(this.pai_Image.visible=a1232.randReward);var e={gameId:a1232.gameID,trackId:a1232.trackId,num:10};this.pai_Image.visible=!1,a1228.a1247.a2623(a1232.URL_RANK,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data&&null!=e.data.ranking){var i=e.data;0==i.ranking.lq&&i.ranking.num>0?(t.pai_Image.visible=!0,a1232.randReward=!0):(t.pai_Image.visible=!1,a1232.randReward=!1)}},null)},e.prototype.a2334=function(){if(this.IsGetImg.visible=!1,a1232.HelpData.length>0&&platform.shareAppMessage)for(var t=1e3*a1232.getServerTime(),e=new Date(t),i=0;i<a1232.HelpData.length;i++){var a=new Date(a1232.HelpData[i].regTime);if(0==a1232.HelpData[i].dayState&&e.getDate()==a.getDate()&&t-a1232.HelpData[i].regTime<864e5)return void(this.IsGetImg.visible=!0)}if(a1232.friendHelpDiamond>0&&(this.IsGetImg.visible=!0),a1232.breakeggTimes>=0&&!a1232.breakeggAS&&a1232.curLevel>9)return void(this.IsGetImg.visible=!0);if(a1232.signDay<=7&&!a1232.hasDaySign&&a1232.curLevel>9)return void(this.IsGetImg.visible=!0);if(!this.IsGetImg.visible){var n=a1228.a1226.a2525(102);n&&(n.a2269(this.IsGetImg),n.isGet9(this.IsGetImg),n.isGet5(this.IsGetImg))}return!this.IsGetImg.visible&&a1228.a1230.chunjieRed()?void(this.IsGetImg.visible=!0):!this.IsGetImg.visible&&a1228.a1230.chunjieRed_ks()?void(this.IsGetImg.visible=!0):void 0},e.prototype.a2335=function(){var t=Object.keys(a1232.maildata);if(this.Mail_Image.visible=!1,t.length>0)for(var e=0;e<t.length;++e){var i=a1232.maildata[t[e]];if(!i.a2262&&i.reward&&i.reward.length>0){for(var a=!1,n=i.reward.length;n>=0;--n)i.reward[n]&&i.reward[n][1]>0?a=!0:i.reward.splice(n,1);if(a){this.Mail_Image.visible=!0;break}}}},e.prototype.a2336=function(){this.peiyangImg.visible=!1;for(var t=0;t<a1232.produce.length/2;t++){var e=t;if(a1232.produce[2*e]&&a1232.produce[2*e+1])if(a1232.producetime[e]>0&&a1232.hatchtime[e]<=0){var i=a1232.producetime[e]+a1232.produceNeedTime-a1232.getServerTime();if(0>i)return void(this.peiyangImg.visible=!0)}else if(a1232.producetime[e]<=0&&a1232.hatchtime[e]>0){var i=a1232.hatchtime[e]+a1232.hatchNeedTime-a1232.getServerTime();if(0>i)return void(this.peiyangImg.visible=!0)}}return 4==a1228.a1230.expFullCounts()?void(this.peiyangImg.visible=!0):void 0},e.prototype.a2337=function(){this.shengTang_Img.visible=!1;for(var t in a1232.playerIDs)for(var e in a1232.playerIDs)if(t!=e){var i=a1232.playerIDs[t],a=a1232.playerIDs[e],n=a1228.g_PlayerData[i.index].upstarLevel;if(i.index==a.index&&i.star==a.star&&i.level>=n&&i.star<10){for(var r=a1228.a1230.a2550(Number(a.id)),s=!0,o=0,l=r;o<l.length;o++){var h=l[o];h&&(s=!1)}if(s)return void(this.shengTang_Img.visible=!0)}}for(var t in a1232.Debris)if(a1228.g_PropsData[t].suipianNum&&a1232.Debris[t]>=a1228.g_PropsData[t].suipianNum)return void(this.shengTang_Img.visible=!0)},e.prototype.a2338=function(){return a1232.kunshouTimes>0&&a1232.curLevel>6?void(this.KunShou_Image.visible=!0):void(this.KunShou_Image.visible=!1)},e.prototype.a2339=function(){return a1232.fubenTimes>0&&a1232.curLevel>10?void(this.fuben_Image.visible=!0):void(this.fuben_Image.visible=!1)},e.prototype.isTuJian=function(){if(this.tujianRedImg.visible=!1,a1232.curLevel>=9)for(var t in a1228.g_jibanData){var e=t;for(var i in a1228.g_jibanData[t]){var a=a1228.g_jibanData[t][i].fuId,n=i,r=a1228.a1230.getRewardState(e,a,n),s=a1228.a1230.getJiBanUp(e,a,n),o=a1228.a1230.getJiBanState(e,a,n);if(2==r[1]||1==s||2==o)return void(this.tujianRedImg.visible=!0)}}},e}(a1116);__reflect(a1174.prototype,"a1174");var a1175=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.mailAwardSkin,e}return __extends(e,t),e.prototype.dataChanged=function(){null==this.baseX&&(this.baseX=this.x,this.baseY=this.y),this.flush()},e.prototype.setData=function(t){this.data=t,this.flush()},e.prototype.flush=function(){this.data.IsFont?(this.Count.textColor=16777215,this.BG_Image.visible=!1,this.BlackBG.visible=!0):(this.BlackBG.visible=!1,this.BG_Image.visible=!0),this.Count.text="X"+a1232.priceFormat(this.data.Count,!1),1==this.data.ID?this.icon.source="ICON_zs_png":2==this.data.ID?this.icon.source="ICON_longgu_png":3==this.data.ID?this.icon.source="WXZ_png":this.icon.source=a1228.g_PropsData[this.data.ID].icon},e}(eui.ItemRenderer);__reflect(a1175.prototype,"a1175");var a1176=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.mailInfoSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2340(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.but_delete,egret.TouchEvent.TOUCH_TAP,this.a2341),a1251.a1412(this,this.but_get,egret.TouchEvent.TOUCH_TAP,this.a2342)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5082),a1228.a1225.applyFunc(10004,5049),a1228.a1225.applyFunc(10004,5074)},e.prototype.a2340=function(){this.data.a2262?(this.but_get.visible=!1,this.Image_yilingqu.visible=!0):(this.Image_yilingqu.visible=!1,this.but_get.visible=!0);var t=a1178.getMailContent(this.data.type);this.Time.text=a1228.a1245.formatDate(this.data.Time),this.Name.text=""+t.title,this.contentLabel.text=this.data.content||t.content,this.a2127()},e.prototype.a2127=function(){var t=this.data.reward;this.Data=[];for(var e in t)if(t[e][1]>0){var i={ID:t[e][0],Count:t[e][1]};this.Data.push(i)}0==this.Data.length?(this.awardGroup.visible=!1,this.Image_yilingqu.visible=!1,this.but_get.visible=!1,this.but_delete.x=235):(this.awardGroup.visible=!0,this.PropsReward.dataProvider=new eui.ArrayCollection(this.Data),this.PropsReward.itemRenderer=a1175)},e.prototype.a2341=function(){this.data.a2262?(a1228.a1245.a2612(langue.deletsuccess),a1228.a1225.applyFunc(10004,5073,this.data.id),this.a2095()):a1228.a1245.a2612(langue.cannotdelet)},e.prototype.a2342=function(){if(a1232.maildata[this.data.id].a2262)a1228.a1245.a2612(langue.daohasget);else{var t={},e=!1,i=this.data.reward;a1232.maildata[this.data.id].a2262=1;for(var a=0;a<i.length;++a){var n=i[a][0],r=i[a][1];if(t[n]||(t[n]=0),n>100&&200>n){if(n>100&&200>n){var s=a1232.getFoodNum();if(s+r>15){e=!0,a1232.maildata[this.data.id].a2262=0,i[a][1]=r-(15-s),t[n]+=15-s,a1228.a1225.applyFunc(10004,5035,n,15-s,9);continue}}i[a][1]=0,t[n]+=r,a1228.a1225.applyFunc(10004,5035,n,r,9)}else i[a][1]=0,t[n]+=r,a1228.a1225.applyFunc(10004,5035,n,r,9)}var o=[];for(var a in t)t[a]>0&&o.push([Number(a),t[a]]);a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5042,"extData"),0==o.length?e&&a1228.a1245.a2612(langue.foodfull):(a1228.a1225.applyFunc(10004,5074),a1228.a1225.applyFunc(10004,5083,o),this.a2340())}},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1176.prototype,"a1176");var a1177=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.mailItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2343,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.initUI=function(){},e.prototype.dataChanged=function(){this.flush()},e.prototype.setData=function(t){this.data=t,this.flush()},e.prototype.flush=function(){var t=a1178.getMailContent(this.data.type);this.Name.text=t.title,this.data.Isread?(this.Image_Butt.source="an_2_png",this.Image_Text.source="yd_png"):(this.Image_Butt.source="TiaoZhanLabel_png",this.Image_Text.source="View_png"),!this.data.a2262&&this.data.reward&&this.data.reward.length>0?this.Image_ZS.visible=!0:this.Image_ZS.visible=!1},e.prototype.a2343=function(){return 4==this.data.type?(a1232.maildata[this.data.id].a2262=1,a1232.maildata[this.data.id].Isread=1,void a1228.a1225.applyFunc(10004,5210)):(a1228.a1225.applyFunc(10004,5072,this.data.id),void a1228.a1225.applyFunc(10004,5081,this.data))},e.prototype.a2344=function(){for(var t in this.parent.$children){var e=this.parent.$children[t];e.isSelect=!1,e.flush()}this.isSelect=!0,a1228.a1225.applyFunc(10004,5072,this.data.id),this.flush()},e}(eui.ItemRenderer);__reflect(a1177.prototype,"a1177");var a1178=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.mailSkin,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this._controller.a1916(5072,this.a2345,this),this._controller.a1916(5073,this.a2341,this),this._controller.a1916(5074,this.a2296,this),this.a2296(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2296=function(){var t=a1232.getServerTime(),e=Object.keys(a1232.maildata);if(0==e.length)this.NoMail.visible=!0,this.HaveAmail.visible=!1;else{var i=[],a=604800;for(var n in a1232.maildata)t-a1232.maildata[n].Time>a&&i.push(n);if(e.length>20)for(var n=0;n<e.length-20;++n)i.push(e[n]);for(var n=0;n<i.length;++n)delete a1232.maildata[i[n]];this.NoMail.visible=!1,this.HaveAmail.visible=!0;var r=[];for(var n in a1232.maildata){a1232.maildata[n].id=Number(n);var s=a1232.maildata[n].reward,o=!1;if(s)for(var l=0;l<s.length;++l)s[l]&&s[l][1]>0&&(o=!0);o||(a1232.maildata[n].a2262=1),r.push(a1232.maildata[n])}r.sort(function(t,e){var i=t.a2262&&1||-1,a=e.a2262&&1||-1,n=t.Isread&&1||-1,r=e.Isread&&1||-1;return i==a?n>r&&1||-1:i>a&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(r),this.scrollList.itemRenderer=a1177}},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.get_Onekey,egret.TouchEvent.TOUCH_TAP,this.onget_Onekey),a1251.a1412(this,this["delete"],egret.TouchEvent.TOUCH_TAP,this.a2346)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5065),a1228.a1225.applyFunc(10004,5049)},e.prototype.onget_Onekey=function(){var t={},e={},i=!1;for(var a in a1232.maildata)if(!a1232.maildata[a].a2262){var n=a1232.maildata[a].reward;if(a1232.maildata[a].a2262=1,a1232.maildata[a].Isread=1,n&&0!=n.length)for(var r=0;r<n.length;r++){var s=Number(n[r][0]),o=Number(n[r][1]);if(t[s]||(t[s]=0),e[s]||(e[s]=0),s>100&&200>s){var l=a1232.getFoodNum();if(l+o>15){i=!0,a1232.maildata[a].a2262=0,a1232.maildata[a].Isread=0,n[r][1]=o-(15-l),t[s]+=15-l,a1228.a1225.applyFunc(10004,5042,"extData"),a1228.a1225.applyFunc(10004,5035,s,15-l,9);continue}}n[r][1]=0,t[s]+=o,s>200&&300>s?a1228.a1225.applyFunc(10004,5036,s,o,9):s>200&&300>s?(a1228.a1225.applyFunc(10004,5042,"extData"),a1228.a1225.applyFunc(10004,5035,s,o,9)):e[s]+=o}}a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5042,"extData");var h=[];for(var a in t)t[a]>0&&h.push([Number(a),t[a]]);for(var a in e)e[a]>0&&a1228.a1225.applyFunc(10004,5035,Number(a),e[a],9);0==h.length?i?a1228.a1245.a2612(langue.foodfull):a1228.a1245.a2612(langue.nothingget):(a1228.a1225.applyFunc(10004,5083,h),this.a2296())},e.prototype.a2345=function(t){if(t){var e=a1232.maildata[t].Isread;a1232.maildata[t].Isread=1,e||(a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5041,"extData"),this.a2296())}},e.prototype.a2341=function(t){t&&(delete a1232.maildata[t],a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5041,"extData"),this.a2296())},e.prototype.a2346=function(){var t=0;for(var e in a1232.maildata)a1232.maildata[e].id=Number(e),a1232.maildata[e].a2262&&a1232.maildata[e].Isread&&(this.selectID=a1232.maildata[e].id,delete a1232.maildata[this.selectID],a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5041,"extData"),this.selectID=null,t++);this.a2296(),t>0?a1228.a1245.a2612(langue.deletsuccess):a1228.a1245.a2612(langue.nomaildelet)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),this._controller.a1917(5072,this.a2345,this),this._controller.a1917(5073,this.a2341,this),this._controller.a1917(5074,this.a2296,this),t.prototype.close.call(this)},e.getMailContent=function(t){var e={title:"",content:""};return 1==t?(e.title=langue.foodgridfull,e.content=langue.mailtip1):2==t?(e.title=langue.shouaward,e.content=langue.mailtip2):3==t?(e.title=langue.genggao,e.content=""):4==t?(e.title=langue.genggao,e.content=""):5==t?(e.title=langue.systemGift,e.content=""):6==t&&(e.title=langue.crossZhengbaReward,e.content=""),e},e}(a1116);__reflect(a1178.prototype,"a1178");var a1179=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.MoreSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.group.scaleX=.01,this.group.scaleY=.01,egret.Tween.get(this.group).to({scaleX:1,scaleY:1.08},200).to({scaleY:.96},150).to({scaleY:1.02},100).to({scaleY:1},100)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.setBtn,egret.TouchEvent.TOUCH_TAP,this.a2347),a1251.a1412(this,this.kefuBtn,egret.TouchEvent.TOUCH_TAP,this.a2348),a1251.a1412(this,this.shoucangBtn,egret.TouchEvent.TOUCH_TAP,this.a2349)},e.prototype.a2347=function(){a1228.a1225.applyFunc(10004,5016)},e.prototype.a2348=function(){a1228.a1225.applyFunc(10004,5018)},e.prototype.a2349=function(){a1228.a1225.applyFunc(10004,5020)},e.prototype.a2095=function(){1==this.group.scaleX&&(this.group.scaleX=.99,egret.Tween.get(this.group).to({scaleX:.01,scaleY:.01},100).call(function(){a1228.a1225.applyFunc(10004,5029)}))},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),platform.removethisFeedbackButton(),t.prototype.close.call(this)},e}(a1116);__reflect(a1179.prototype,"a1179");var NestBreakView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestBreakSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5253)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestBreakView.prototype,"NestBreakView");var NestBuZhenItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.dinosaursPosItemView,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_BEGIN,this.a2143,!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a2143=function(t){this.clickTime=egret.getTimer();var e=a1228.a1226.a2525(219);e&&e.a2153(this,t)},e.prototype.touchEnd=function(){var t=a1228.a1226.a2525(this.data.parentView);t&&t.a2153(null);var e=egret.getTimer();if(e-this.clickTime<130){this.clickTime=0;var i=a1232.playerIDs[this.data.id];a1228.a1225.applyFunc(10004,5099,i,!1)}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.setStarPos=function(){var t=this.data.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.refresh=function(){var t=this.data.index,e=a1232.playerIDs[this.data.id];this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e);var i="";this.data.fight?i="sztips_png":this.data.grow&&(i="yztips_png"),this.useImg.source=i,a1228.a1230.a2552(this,"starImg",this.data.star,!1),this.setStarPos()},e}(eui.ItemRenderer);__reflect(NestBuZhenItemView.prototype,"NestBuZhenItemView");var NestBuZhenView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a.selectID=0,a.playerid=[0,0],a._skin=a1243.nestBuZhenSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2138(1),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.ani&&(this.ani.x=this.ani.baseX+(t.stageX-this.beginPos[0]),this.ani.y=this.ani.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(t){if(this.selectID)for(var e=(a1232.playerIDs[this.selectID],1);e<=this.playerid.length;e++){this["itemGroup"+e].a1263(0,0)}this.scroll.scrollPolicyV=eui.ScrollPolicy.ON},e.prototype.a2153=function(t,e){var i=this;t instanceof NestBuZhenItemView&&(this.delayID=egret.setTimeout(function(){i.selectID=t.data.id;var a=a1232.playerIDs[t.data.id],n=a1228.a1230.a1921(a);i.ani=i.a2369(n);var r=i.group.globalToLocal(e.stageX,e.stageY);i.ani.x=r.x,i.ani.y=r.y+a1228.g_ModelSize[n].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll.scrollPolicyV=eui.ScrollPolicy.OFF},this,250))},e.prototype.a2369=function(t){var e=a1228.a1245.CreateFrameAnimation(t,t);return this.group.addChild(e),e.x=0,e.y=0,e.scaleX=-.9,e.scaleY=.9,e.touchEnabled=!0,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),e},e.prototype.a2187=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=a1228.a1230.a2550(Number(e)),r={id:i.id,index:a,level:i.level,starNum:i.star,xiyou:a1228.g_PlayerData[a].xiyou,fight:n[0],cheer:n[1],produce:n[2],grow:n[3],zbfight:n[4],zbcheer:n[5]};t.push(r)}}this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=NestBuZhenItemView},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.a2187()},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5259)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestBuZhenView.prototype,"NestBuZhenView");var NestCaveInfoView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestCaveInfoSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5249)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestCaveInfoView.prototype,"NestCaveInfoView");var NestFightResultView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestFightResultSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event()},e.prototype.event=function(){},e.prototype.a2095=function(){},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestFightResultView.prototype,"NestFightResultView");var NestGetStoneWayView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestGetStoneWaySkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5255)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestGetStoneWayView.prototype,"NestGetStoneWayView");var NestInfoView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestInfoSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.zBuZhenBtn,egret.TouchEvent.TOUCH_TAP,this.onzBuZhenBtn),a1251.a1412(this,this.fBuZhenBtn,egret.TouchEvent.TOUCH_TAP,this.onfBuZhen)},e.prototype.onzBuZhenBtn=function(){a1228.a1225.applyFunc(10004,5258)},e.prototype.onfBuZhen=function(){a1228.a1225.applyFunc(10004,5258)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5247)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestInfoView.prototype,"NestInfoView");var NestProfitView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestProfitSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5251)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestProfitView.prototype,"NestProfitView");var NestRankView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestRankSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5245)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestRankView.prototype,"NestRankView");var NestView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.nestSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.nestBtn,egret.TouchEvent.TOUCH_TAP,this.onClickMyNest),a1251.a1412(this,this.profitBtn,egret.TouchEvent.TOUCH_TAP,this.onClickProfit),a1251.a1412(this,this.breachBtn,egret.TouchEvent.TOUCH_TAP,this.onClickBreak),a1251.a1412(this,this.rankBtn,egret.TouchEvent.TOUCH_TAP,this.a2468),a1251.a1412(this,this.addStoneBtn,egret.TouchEvent.TOUCH_TAP,this.onClickAddStone)},e.prototype.onClickAddStone=function(){a1228.a1225.applyFunc(10004,5254)},e.prototype.onClickBreak=function(){a1228.a1225.applyFunc(10004,5252)},e.prototype.onClickProfit=function(){a1228.a1225.applyFunc(10004,5250)},e.prototype.onClickMyNest=function(){a1228.a1225.applyFunc(10004,5246)},e.prototype.a2468=function(){a1228.a1225.applyFunc(10004,5244)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5243)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NestView.prototype,"NestView");var a1180=function(t){function e(e,i,a,n,r){var s=t.call(this,e,i)||this;return s.type=1,s.hasCommit=!1,s.initFlag=!1,s.beginTime=0,s.lastTime=0,s._skin=a1243.unlockDinosaurSkin,s.id=a,a1232.playerIDs[a]?(s.dinosaur=a1232.playerIDs[a],s.index=s.dinosaur.index,s.isGuide=n,s.type=r,a1228.a1252.doTimer(100,0,s.update,s),s):(a1228.a1226.destroy(130),s)}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.reflshUI(),this.a2146(),this.a2115(),a1228.a1238.playEffect("new_mp3"),1==this.type?this.RiseImage.source="BTN_jskl_png":2==this.type&&(this.RiseImage.source="CompoundLabel15_png"),setTimeout(function(){t.a2097()},500),this.a2090(),this.isGuide&&a1227.getPoint("1013","引导孵蛋获得新恐龙",7),this.group.visible=!1,this.initFlag=!0,this.hasCommit&&(this.group.visible=!0,a1228.a1230.a2557(!0,this.group)),this.beginTime=a1232.getServerTime()},e.prototype.update=function(){!this.hasCommit&&a1232.trackId&&(a1232.commitDinosaurIDs[this.id]&&(this.hasCommit=!0,this.initFlag&&(this.group.visible=!0,a1228.a1230.a2557(!0,this.group))),a1232.getServerTime()-this.beginTime>10&&(a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!0
}})))},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2350,!1),a1251.a1412(this,this.treeGroup,egret.TouchEvent.TOUCH_TAP,this.onClickTree,!1),a1251.a1412(this,this.xinggeGroup,egret.TouchEvent.TOUCH_TAP,this.onOpenCharacterRuleView)},e.prototype.onOpenCharacterRuleView=function(){a1228.a1225.applyFunc(10004,5300)},e.prototype.onClickTree=function(){this.tipGroup.visible=!this.tipGroup.visible},e.prototype.a2126=function(){void 0!=this.bgAnim&&this.Backlight_Group.removeChild(this.bgAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=-140,t.y=-400,t.scaleX=2,t.scaleY=2,this.Backlight_Group.addChild(t),this.bgAnim=t},e.prototype.a2350=function(){a1228.a1230.a2557(!1,this.group,5059);var t=0;for(var e in a1232.playerIDs)a1232.playerIDs[e].level&&a1232.playerIDs[e].level>t&&(t=a1232.playerIDs[e].level);if(!this.isGuide&&t>10)a1228.a1225.applyFunc(10004,5101,this.dinosaur,0,2);else{var i=a1228.a1226.a2525(128);i&&i.a2097(),a1232.curLevel>=3&&a1228.a1225.applyFunc(10004,5164)}},e.prototype.a2146=function(){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var t=a1228.a1230.a1921(this.dinosaur),e=a1228.a1245.CreateFrameAnimation(t,t);this.dinosaurGroup.addChild(e),e.x=240,e.y=300,e.scaleX=-1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),this.ani=e},e.prototype.reflshUI=function(){var t="",e=0,i=a1228.g_PlayerData[this.index].xiyou;1==i?(t="C",e=4052133):2==i?(t="B",e=2671326):3==i?(t="A",e=12855515):4==i&&(t="S",e=14455336),this.dinosaur.bianyi?(this.nameLabel.textFlow=[{text:a1228.a1230.a2554(this.dinosaur),style:{size:35,textColor:16777215}}],this.bianyiImg.visible=!0):(this.nameLabel.text=a1228.a1230.a2554(this.dinosaur),this.bianyiImg.visible=!1),this.gradeLabel.text=t,this.gradeLabel.textColor=e,this.HP_Label.text=langue.hp1+": "+a1232.a1886(this.dinosaur),this.Defense_Label.text=langue.def+": "+a1232.getDefence(this.dinosaur),this.Attack_Label.text=langue.atk+": "+a1232.getAttack(this.dinosaur),this.Speed_Label.text=langue.spe+": "+a1232.getGongsu(this.dinosaur),this.baoji_Label.text=langue.crit+": "+a1232.getBaoji(this.dinosaur)+"%",this.shanbi_Label.text=langue.dodge+": "+a1232.getShanbi(this.dinosaur)+"%",this.atkadd_Label.text=langue.atkgrow+": "+this.dinosaur.growAdd[0],this.defadd_Label.text=langue.defgrow+": "+this.dinosaur.growAdd[1],this.hpadd_Label.text=langue.hpgrow+": "+this.dinosaur.growAdd[2];var a=a1228.g_PlayerData[this.dinosaur.skillIndex].skills[0];this.buSkillSrcLabel.textFlow=[{text:langue.skin_s46,style:{textColor:16771461}},{text:a1228.g_Skil[a].skillDesc,style:{textColor:8451464}}],this.cheerSkillSrcLabel.textFlow=[{text:langue.skin_s94,style:{textColor:16771461}},{text:a1228.g_Skil[a+100].skillDesc,style:{textColor:8451464}}],this.xinggeImg.source=a1228.g_characterData[this.dinosaur.character].icon,this.sexImg.source=1==this.dinosaur.sex&&"sex1_png"||2==this.dinosaur.sex&&"sex2_png"||"";for(var n=this.dinosaur.produceNum,r=1;3>=r;r++)if(r>n){var s=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],o=[new egret.ColorMatrixFilter(s)];this["leafImg"+r].filters=o}this.tipGroup.visible=!1,this.tipLabel.lineSpacing=5,this.tipLabel.textFlow=[{text:langue.producesrc1,style:{size:22,textColor:16777215}},{text:n+"\n",style:{size:22,textColor:16769890}},{text:langue.producesrc2+"\n",style:{size:20,textColor:16777215}},{text:a1228.g_functionData[6].src,style:{size:20,textColor:12105912}}]},e.prototype.close=function(){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2097=function(){if(5==a1232.guideStep){var t=this.djryLabel.a1263(0,0),e=t.x-(this.x-this.anchorOffsetX),i=t.y-(this.y-this.anchorOffsetY);a1228.a1233.a2570(),a1228.a1233.a2565(this,e+112,i+22)}},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.bgAnim&&this.aniGroup.removeChild(this.bgAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=250,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.bgAnim=t},e}(a1116);__reflect(a1180.prototype,"a1180");var NewFunctionTipsView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.newFunctionTipsSkin,n.type=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2115(),this.a2352(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.a2352=function(){1==this.type?(this.functionImg.source="jssp_png",this.functionLabel.text=langue.shipu):2==this.type?(this.functionImg.source="jscx_png",this.functionLabel.text=langue.caoxue):3==this.type?(this.functionImg.source="jsgj_png",this.functionLabel.text=langue.kuaisugauji):4==this.type&&(this.functionLabel.text=langue.buzheng)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.qianwangBtn,egret.TouchEvent.TOUCH_TAP,this.a2353),a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.a2114)},e.prototype.a2353=function(){a1228.a1230.a2557(!1,this.group,5130),1==this.type?a1228.a1225.applyFunc(10004,5024):2==this.type?a1228.a1225.applyFunc(10004,5e3):3==this.type?a1228.a1225.applyFunc(10004,5117):4==this.type&&a1228.a1225.applyFunc(10004,5060)},e.prototype.a2114=function(){a1228.a1230.a2557(!1,this.group,5130)},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.functionImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700,i=1900;egret.Tween.get(this.functionLabel).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.qianwangBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.returnBtn).to({scaleX:0,scaleY:0},0).wait(i).to({scaleX:1,scaleY:1},200);var a=10,n=300;egret.Tween.get(this.functionLabel).wait(t).to({y:this.functionLabel.y-a},n),egret.Tween.get(this.qianwangBtn).wait(e).to({y:this.qianwangBtn.y-a},n),egret.Tween.get(this.returnBtn).wait(i).to({y:this.returnBtn.y-a},n),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(NewFunctionTipsView.prototype,"NewFunctionTipsView");var langue={connectErr:"网络异常,是否重新连接？",fighting:"正在战斗中",fightSucces:"挑战成功",gengtip:"更新提示",sharequn:"请分享到不同的群",newversion:"新版本已经准备好，是否重启应用？",logintip1:"抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨防受骗上当。",logintip2:"适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。",noeward:"暂无奖励可领取",cheertip:"通关第{}关开启助阵！",shangtip:"上阵恐龙不能少于一只",shuxing:"转移5%属性至上阵恐龙",plshang:"请先上阵恐龙",cishuwan:"挑战次数已用完",unlock:"助阵未解锁",addzhuanpan:"抽奖次数+{}",timeslimit:"今日次数已达上限！",zhuantimesno:"转盘次数不足!",hasget:"今天已经领取过了！",tasknocom:"任务还没完成！",yilingqu:"已经领取过啦！",nostarkey:"没有符合一键升星的恐龙！",selectstardino:"请选择要升星的恐龙",startip1:"上阵恐龙不能作为消耗品",startip2:"助阵恐龙不能作为消耗品",startip3:"繁殖中的恐龙不能作为消耗品",startip4:"养殖中的恐龙不能作为消耗品",startip5:"龙王争霸赛上阵恐龙不能作为消耗品",startip6:"龙王争霸赛助阵恐龙不能作为消耗品",noselectdino:"没有选择恐龙则不可以升星",shoucang:"收藏游戏领取",hasgets:"已领取",nolonggu:"龙骨不足",nofuwen:"符文不足",foodfull:"您的食物满了，请合成或喂食恐龙！",foodmaxLevel:"食物已达最高级，赶紧去喂食升级恐龙吧！",fuwen:"符文",longgu:"龙骨",soundopen:"声音已经打开了！",soundclose:"声音已经关闭了！",zhengopen:"振动已经打开了！",zhengclose:"振动已经关闭了！",serverclose:"该区服已停服",serverdefend:"该区服正在维护中",serverin:"已在该区服中",plrecover:"请选择要回收的恐龙！",growin:"恐龙养殖中",producein:"恐龙繁殖中",cheerin:"恐龙助阵中",shangin:"恐龙上阵中",recoverselec:"请选择需要回收的恐龙",hastowpro:"已有两只恐龙在繁殖中",noproducetimes:"此恐龙已无剩余繁殖次数",sameeat:"两只恐龙必须是相同食性",samesex:"两只恐龙必须是不同性别",poshasspeed:"该槽位已使用加速",clearproduce:"是否确定重置当前繁殖进度？",noproduce:"当前没有正在繁殖的恐龙",awardhasget:"奖励已领取",taskweicom:"任务未完成",nopaiaward:"暂无排名奖励",shipu:"食谱",caoxue:"巢穴",kuaisugauji:"快速挂机",buzheng:"布阵",genggao:"版本更新公告",foodgridfull:"食物格子已满",mailtip1:"亲爱的玩家:\n\n     您好！由于您的背包已满，现将获得的食物以邮件的形式发放给您，记得及时查收哦！",mailtip2:"亲爱的玩家:\n\n     您好！昨日困兽场奖励已在邮件附件，记得及时查收哦！",shouaward:"困兽场奖励",nomaildelet:"没有邮件可以删除了！",deletsuccess:"删除成功！",nothingget:"已经没有可领取的东西啦！",daohasget:"道具已经被领取啦！",cannotdelet:"道具还未领取，不可删除！",switchmap:"通关第{}关开启图鉴！",switchkun:"通关第{}关开启困兽场！",switchfu:"通关第{}关开启副本！",switchpass:"达到侏罗世纪{}关开启",switchpass1:"达到三叠世纪{}关开启",clickrenyi:"点击任意地方继续",clickka:"点击卡片选取奖励",paichange:"当前排名已发生变化",nofighttimes:"挑战次数不足",todaynotimes:"今日挑战次数已用完",fightFail:"挑战失败",notAd:"暂时没有广告播放",guideTip:"新手引导马上完成哦，请耐心过完指引！",addSpeedMax:"加速次数达到上限！",zuan:"钻",jing:"京",zhao:"兆",yi:"亿",wan:"万",chooseClip:"请选中一个碎片！",chooseDinosaur:"请选择一只恐龙",notBreekEggTimes:"砸蛋次数已用完",connectting:"正在重连中",young:"幼年",systemNotice:"系统公告",chengzhangchi:"成长值",passOpen:"通关第{}关开启",passOpen2:"通关{}后开启",addSpeed:"加速后可获得{}",switchtable:"通关第{}关解锁转盘！",switchtask:"通关第{}关开启任务系统",switchtask1:"通关第{}关解锁任务！",nofight:"正在战斗中不能挑战",noboss:"暂无可挑战的boss",shopnokai:"食谱未开启,食物等级不足{}级!",yuefriend:"超越好友",zaijieli:"再接再励",bossnofood:"挑战boss中不能投喂食物",fighttimesmax:"挑战次数达到上限！",nofighttimes1:"没有挑战次数了！",numorchar:"请输入数字或字母",printcode:"请输入兑换码",dinounlock:"恐龙尚未解锁！",fulllevel:"满级",cheerhasopen:"助阵已解锁",needchiphe:"请选择要合成的碎片",chipbuzu:"碎片不足",bianyisrc:"孵蛋过程中有概率获得变异恐龙",myname:"我",addspsuccess:"加速成功,获得龙骨",shibei:"领取，下次获得{}倍奖励",xiachirate:"下次转盘获得{}奖励",sgrade:"S级",chips:"恐龙碎片",plwanneg:"请使用{}级万能碎片",usewanneng:"已使用{}级万能碎片",usewanneng1:"使用{}级万能碎片",nowanneng:"{}级万能碎片不足",cheerskill:"助阵技能:",jifen:"积分：",producesrc1:"当前繁殖次数：",producesrc2:"繁殖规则：",producesrc3:"幼年恐龙没有繁殖次数，需要成年后可获得繁殖次数",producesrc4:"繁殖成功后会减少一次繁殖次数",producesrc5:"绿色叶子代表繁殖次数，灰色叶子代表已使用/不可繁殖",producesrc6:"成年后获得繁殖次数以概率获得0~3次",nocheer:"无助阵恐龙",hp:"生命",hp1:"血量",def:"防御",atk:"攻击",spe:"攻速",crit:"暴击",dodge:"闪避",atkgrow:"攻击成长",defgrow:"防御成长",hpgrow:"血量成长",level:"等级：",plname:"请输入名字",plname1:"恐龙名字不可超过5个字",plname2:"请输入中文、数字或字母",plname3:"名字中含有非法字符",jinhua1:"怎么回事！？",jinhua2:"{}正在进化中！",jinhua3:"{}进化成功！",jinhua4:"{}觉得不需要进化哦！",jinhua5:"呀！",jinhua6:"是否取消进化？",jinhua7:"保持原貌也是挺好的！",grow1:"已经养殖：",grow2:"获得成长值：",grow3:"没有成长值可以领取",grow4:"达到{}开启",grow5:"请领取完成长值再换恐龙",fuben:"两只恐龙至少达到{}级",opennextfood:"达到{},解锁下一食物等级",gonggao1:"版本号：",gonggao2:"更新时间：",gonggao3:"版本更新礼包码：",gonggao4:"复制",nexttimes:"剩余挑战次数：",fudan:"已孵蛋: ",shengyutime:"活动剩余时间:",qiehuan:"切换到服务器：{}，此操作生效需要重新加载游戏，取消/确定？",playerid:"角色ID: ",version:"版本号: ",needone:"需要一个",star:"星",zhuti:"主体",daolevel:"必须达到{}级",lixian:"离线挂机",time1:"天",time2:"时",time3:"分",time4:"秒",getlonggu:"获得龙骨",choujiang:"本次抽奖获得{}倍奖励",lasttime:"剩余挑战时间：",nopaihang:"未上榜",paiming1:"排名：",quwan:"去 玩",lingqu:"领 取",shilian:"去试炼",yishilian:"已试炼",yijihuo:"已激活恐龙",passnum:"关卡数:",shengmi:"神秘好友",shengmi1:"神秘玩家",gongxian:"总贡献: ",quedingshan:"确定要删除助阵好友吗？",lqhd:"领取成功,获得",ylqgl:"已经领取过了哦！",yhzhx:"用户总贡献: ",myjl:"已经没有奖励可以领取了哦！",di:"第",ming:"名",zhihou:"之后",tsdj:" （用于提升等级）",loadcom:"加载完成",xiaoshi:"小时",fenzhong:"分钟",year:"年",month:"月",day:"日",myjlorlq:"没有奖励或已领取",youzai:"你在",youzai1:"中体验未满足规定时间,继续即可领取奖励！",zgjibn:"当前最高等级的恐龙不能进行养殖",skin_s1:"活动时间:周五18点~周日22点",skin_s2:"剩余时间 : 无期限",skin_s3:"剩余时间 : 奖励领取结束",skin_s4:"成功狩猎",skin_s5:"波怪",skin_s6:"领取",skin_s7:"完成任务",skin_s8:"奖励",skin_s9:"体验30秒可获得奖励",skin_s10:"获得礼包",skin_s11:"获得",skin_s12:"返回",skin_s13:"每日有一次免费砸蛋机会",skin_s14:"每次砸蛋可累计幸运值",skin_s15:"幸运值满时砸蛋必出A品质以上恐龙",skin_s16:"(砸蛋获得A品质及以上的恐龙不增加幸运值哦)",skin_s17:"1.达到三叠纪28关开启该功能",skin_s18:"2.功能开启后5分钟内可购买当前最高等级食物",skin_s19:"双击可查看恐龙详情",skin_s20:"可获得稀有品种",skin_s21:"孵蛋过程中有概率获得变异恐龙",skin_s22:"BOSS有点强大",skin_s23:"购买食物喂养恐龙提升等级",skin_s24:"友情提醒",skin_s25:"挂机收益",skin_s26:"获得奖励",skin_s27:"提示",skin_s28:"可将恐龙上拉到空白助阵阵容处，下拉可取消",skin_s29:"同类型的技能不会叠加",skin_s30:"属性",skin_s31:"成长",skin_s32:"点击任意地方关闭",skin_s33:"养殖场说明",skin_s34:"残忍拒绝",skin_s35:"助阵恐龙",skin_s36:"助阵属性加成：",skin_s37:"请修改名称：",skin_s38:"伤害太低了，还打不过",skin_s39:"BOOS，赶紧去投食恐龙",skin_s40:"再来尝试吧！",skin_s41:"今日剩余次数：",skin_s42:"购买高级食物",skin_s43:"猜你喜欢",skin_s44:"进群有福利哦！",skin_s45:"当前",skin_s46:"上阵:",skin_s47:"挑战",skin_s48:"观看视频，挑战次数+1",skin_s49:"困兽场奖励",skin_s50:"世界排名",skin_s51:"好友排名",skin_s52:"点击龙蛋孵化",skin_s53:"繁殖规则",skin_s54:"繁殖获得",skin_s55:"一定几率孵化出变异恐龙",skin_s56:"流畅",skin_s57:"爆满",skin_s58:"维护",skin_s59:"服务器：",skin_s60:"普通领取",skin_s61:"1.5倍领取",skin_s62:"每日可领取一次排行奖励",skin_s63:"世界排名：",skin_s64:"关卡奖励：",skin_s65:"排行奖励：",skin_s66:"直接领取",skin_s67:"稀有：",skin_s68:"领取:",skin_s69:"1.三叠世纪",skin_s70:"2.侏罗世纪",skin_s71:"3.白垩世纪",skin_s72:"4.火山世纪",skin_s73:"5.冰川世纪",skin_s74:"-敬请期待-",skin_s75:"前三名将在龙王争霸赛置顶榜单",skin_s76:"展示一周",skin_s77:"上个赛季排名",skin_s78:"赛季奖励保留七日，请尽快领取奖励",skin_s79:"一、开启时间",skin_s80:"活动时间：",skin_s81:"每周五(18:00:00)-周日(22:00:00)",skin_s82:"二、结算时间",skin_s83:"每周日(23:30:00)",skin_s84:"三、玩法介绍",skin_s85:"未到开启时间",skin_s86:"开启：",skin_s87:"周五（18:00:00）",skin_s88:"关闭：",skin_s89:"周日（22:00:00）",skin_s90:"结算：",skin_s91:"周日（23:30:00）",skin_s92:"性格",skin_s93:"点击关闭",skin_s94:"助阵:",skin_s95:"加速可快速获得龙骨，提升恐龙",systemGift:"礼包",crossZhengba:"跨服争霸赛",crossZhengbaReward:"跨服争霸赛奖励",benfu:"本服",getFail:"领取失败",getSuccess:"领取成功",qbwc:"全部完成",djlqjl:"点击领取奖励",kq:"开启",xyjs:"系统介绍",jlyjlq:"奖励已经领取",jlwjs:"奖励未解锁",js:"解锁",bdjn:"被动技能:",yjs:"已解锁",ysd:"已锁定，不会在升星中被消耗",skin_s96:"点击可以购买食物，喂养恐龙",skin_s97:"转盘倒计时:",skin_s98:"观看视频，转盘次数+2",skin_s99:"变异",skin_s100:"挑战成功后可获得以下奖励",skin_s101:"通关奖励",skin_s102:"额外奖励",skin_s103:"第10关奖励",skin_s104:"1.变异恐龙会拥有比普通恐龙更高的成长值，数值更加强大",skin_s105:"2.孵蛋和繁殖均有几率获得变异恐龙",skin_s106:"每次洗练会随机获得一种性格",skin_s107:"不同性格会增加或减弱恐龙的属性",skin_s108:"解锁恐龙后可激活",skin_s109:"恐龙升至{}星后可升级",skin_s110:"激活",skin_s111:"恐龙升至{}星后可领取",skin_s112:"激活羁绊后可获得",skin_s114:"当前羁绊等级:",skin_s115:"升级",skin_s116:"已满级",skin_s117:"羁绊升级后",skin_s118:"所有",skin_s119:"培养{}后可解锁",skin_s220:"挑战成功后领取获得",skin_s221:"挑战成功后获得",skin_s222:"请选择需要进行洗练的恐龙",skin_s223:"洗练卡不足",skin_s224:"幼年恐龙蛋",skin_s225:"是否观看视频获得奖励",skin_s226:"请通过上一关",skin_s227:"不可重复挑战",changeLangue:"切换语言将会重启游戏，是否切换？"},NewPlayerBossFailView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.fubenFailSkin,a1228.a1225.applyFunc(10004,5263),a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.a2115()},e.prototype.a2115=function(){var t=this,e="zhandoushibai2";this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=210,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1),egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20).call(function(){t.timesLabel.visible=!0}),this.timesLabel.visible=!1},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){this.timesLabel.visible&&(a1228.a1225.applyFunc(10004,5267),a1228.a1225.applyFunc(10004,5260))},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NewPlayerBossFailView.prototype,"NewPlayerBossFailView");var NewPlayerBossFightView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;n.Data=null,n._skin=a1243.fubenFightSkin,n.Data=a;var r=a1228.a1226.a2525(102);return r&&(r.visible=!1),n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2201()},e.prototype.event=function(){},e.prototype.a2201=function(){a1232.userInfo?this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName):this.myNameLabel.text=langue.myname;var t=a1232.curPlayers[0];if(t){a1232.playerIDs[t].index;this.group1.visible=!0,this.touImg1.source=a1228.a1230.a2555(a1232.playerIDs[t]),this.nameLabel1.text=a1228.a1230.a2554(a1232.playerIDs[t]),this.xlLabel1.text=""+a1232.a1886(a1232.playerIDs[t]),this.fyLabel1.text=""+a1232.getDefence(a1232.playerIDs[t]),this.gjLabel1.text=""+a1232.getAttack(a1232.playerIDs[t]),this.gsLabel1.text=""+a1232.getGongsu(a1232.playerIDs[t]),this.levelLabel1.text=""+a1232.playerIDs[t].level}else this.group1.visible=!1;var e=a1232.curPlayers[1];if(e){a1232.playerIDs[e].index;this.group2.visible=!0,this.touImg2.source=a1228.a1230.a2555(a1232.playerIDs[e]),this.nameLabel2.text=a1228.a1230.a2554(a1232.playerIDs[e]),this.xlLabel2.text=""+a1232.a1886(a1232.playerIDs[e]),this.fyLabel2.text=""+a1232.getDefence(a1232.playerIDs[e]),this.gjLabel2.text=""+a1232.getAttack(a1232.playerIDs[e]),this.gsLabel2.text=""+a1232.getGongsu(a1232.playerIDs[e]),this.levelLabel2.text=""+a1232.playerIDs[e].level}else this.group2.visible=!1;this.Data&&(this.group3.visible=!0,this.touImg3.source=this.Data.bossHead,this.xlLabel3.text=this.Data.hp1,this.fyLabel3.text=this.Data.def1,this.gjLabel3.text=this.Data.atk1,this.gsLabel3.text=(1e3/this.Data.atktime1).toFixed(2),this.levelLabel3.text=this.Data.bossLevel,this.nameLabel3.text=this.Data.bossName,this.duiNameLabel.text=this.Data.bossName),this.group4.visible=!1,this.hengImg2.visible=!1},e.prototype.close=function(){var e=a1228.a1226.a2525(102);e&&(e.visible=!0),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NewPlayerBossFightView.prototype,"NewPlayerBossFightView");var NewPlayerBossItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.newPlayerBossItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2343,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.a2343=function(){var t=a1228.a1226.a2525(220);if(t){if(t.selectIndex==this.data.index)return;t.selectIndex=this.data.index,t.a2141()}},e.prototype.reflesh=function(){var t=a1228.g_newPlayerBossData[this.data.index];this.passLabel.text=t.passName,this.kuangImg.source="Level"+a1228.g_PlayerData[t.bossid].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t.bossid].xiyou+"_png",this.dinosaurImg.source=t.bossHead,this.nameLabel.text=t.bossName,this.levelLabel.text=t.bossLevel,a1232.newBossPass>=t.index?(this.suoGroup.visible=!0,-1==a1232.newBossRdPass.indexOf(this.data.index)?this.redImg.visible=!0:this.redImg.visible=!1):(this.suoGroup.visible=!1,this.redImg.visible=!1),this.selectImg.visible=this.data.select},e}(eui.ItemRenderer);__reflect(NewPlayerBossItemView.prototype,"NewPlayerBossItemView");var NewPlayerBossSuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.fubenSuccessSkin,n.reward=a,a1228.a1225.applyFunc(10004,5263),n}return __extends(e,t),e.prototype.initUI=function(){this.scrollList.parent.x=this.scrollList.parent.x+180,this.event(),this.a2090(),this.showPrize(),this.a2115()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.showPrize=function(){var t=[];t.push({ID:this.reward[0][0],Count:this.reward[0][1]}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1135,a1232.newBossPass+=1,a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,this.reward[0][0],this.reward[0][1],116)},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5265),a1228.a1225.applyFunc(10004,5263),a1228.a1225.applyFunc(10004,5260)},e.prototype.a2115=function(){var t=this,e="zhandoushengli";this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.ani.x=360,this.ani.y=155,this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1),egret.Tween.get(this.bgImg).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20),egret.Tween.get(this.infoGroup).to({alpha:0},0).wait(740).to({alpha:1},50).call(function(){t.sureBtn.visible=!0}),egret.Tween.get(this.scroll).wait(840).call(function(){for(var e=t.scrollList.$children,i=0;i<e.length;i++){var a=e[i];a.group.scaleX=0,a.group.scaleY=0,egret.Tween.get(a.group).wait(50*a.itemIndex).to({scaleX:1,scaleY:1},200)}t.scroll.visible=!0}),this.scroll.visible=!1,this.sureBtn.visible=!1},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NewPlayerBossSuccessView.prototype,"NewPlayerBossSuccessView");var NewPlayerBossView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.data=[],a.selectIndex=1,a._skin=a1243.newPlayerBossSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initList(),this.a2141(),this.a2090(),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[140])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111,!1),a1251.a1412(this,this.fightBtn,egret.TouchEvent.TOUCH_TAP,this.a2460)},e.prototype.a2111=function(){var t=this;if(this.selectdata){var e=this.selectdata.index;if(a1232.newBossPass>=e&&-1==a1232.newBossRdPass.indexOf(e)){var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc(e)},i,["140","新手boss额外奖励"])}}},e.prototype.handleFunc=function(t){var e=a1228.g_newPlayerBossData[t].ewReward;if(e[0]&&e[0][1]>0&&!e[1]){var i=e[0][0],a=e[0][1];a1228.a1225.applyFunc(10004,5083,[[i,a]]),a1228.a1225.applyFunc(10004,5035,i,a,116)}else if(e[0]&&e[0][1]>0&&e[1]&&e[1][1]>0){var n=[];n.push([e[0][0],e[0][1]]),n.push([e[1][0],e[1][1]]),a1228.a1225.applyFunc(10004,5035,n[0][0],n[0][1],116),a1228.a1225.applyFunc(10004,5035,n[1][0],n[1][1],116),a1228.a1225.applyFunc(10004,5238,n)}else if(e[0]&&e[0][1]<0&&!e[1]){var r=void 0,s=e[0][0];r=-2==e[0][1]?a1232.addNewDinosaur(s,100):a1232.addNewDinosaur(s),a1228.a1225.applyFunc(10004,5058,r.id,!1,1)}else for(var o=0;2>o;o++)if(e[o]&&e[o][1]>0){var i=e[o][0],a=e[o][1];a1228.a1225.applyFunc(10004,5083,[[i,a]]),a1228.a1225.applyFunc(10004,5035,i,a,116)}else if(e[o]&&e[o][1]<0){var r=void 0,s=e[o][0];r=-2==e[o][1]?a1232.addNewDinosaur(s,100):a1232.addNewDinosaur(s),a1228.a1225.applyFunc(10004,5058,r.id,!1,1)}a1232.newBossRdPass.push(t),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5042),this.a2141()},e.prototype.a2460=function(){if(a1232.newBossPass<this.selectdata.index)if(a1232.newBossPass+1==this.selectdata.index){var t=a1228.a1226.a2525(220);t&&(t.visible=!1),a1228.a1225.applyFunc(10004,5063);var e=a1228.g_newPlayerBossData[this.selectdata.index];a1228.a1225.applyFunc(10004,5320,4,e)}else a1228.a1245.a2612(langue.skin_s226);else a1228.a1245.a2612(langue.skin_s227)},e.prototype.showBossModel=function(){var t=this;this.ani&&(a1251.a1413(this.ani),this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.g_newPlayerBossData[this.selectdata.index].shape1,i=a1228.a1245.CreateFrameAnimation(e,e);this.group.addChild(i),i.x=350,i.y=450,i.scaleX=-.9,i.scaleY=.9,i.touchEnabled=!0,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i,a1251.a1412(this,this.ani,egret.TouchEvent.TOUCH_TAP,function(e){var i=a1228.g_newPlayerBossData[t.selectdata.index],a=new a1231(null,[i.bossid]);a.sex=0,a.jinhua=1,a.star=4,a.bianyi=1,a.extdata={atk:i.atk1,def:i.def1,hp:i.hp1,crit:i.crit1,dodge:i.dodge1,atktime:i.atktime1,skills:i.skills1,showGrow:!1,showProduce:!1},a1228.a1225.applyFunc(10004,5099,a)},!1)},e.prototype.initList=function(){var t=this,e=!1;for(var i in a1228.g_newPlayerBossData){var a={index:a1228.g_newPlayerBossData[i].index,select:!1};a1232.newBossPass>=Number(i)&&-1==a1232.newBossRdPass.indexOf(Number(i))&&!e&&(e=!0,a.select=!0,this.selectIndex=Number(i)>10&&10||Number(i)),this.data.push(a)}e||(a1232.newBossPass+1<10?this.selectIndex=a1232.newBossPass+1:this.selectIndex=10,this.data[this.selectIndex-1].select=!0),this.scrollerList.dataProvider=new eui.ArrayCollection(this.data),this.scrollerList.itemRenderer=NewPlayerBossItemView,setTimeout(function(){var e=80*(t.selectIndex-1);e>=680?t.scrollerList.scrollH=682:t.scrollerList.scrollH=e},100)},e.prototype.a2141=function(){for(var t in this.data)this.data[t].index==this.selectIndex?(this.data[t].select=!0,this.selectdata=this.data[t]):this.data[t].select=!1;for(var e=a1228.g_newPlayerBossData[10].ewReward,t=0;t<e.length;t++)if(e[t][1]<0){var i=e[t][0],a=new a1231(null,[i,1,0,0,0]);-2==e[t][1]?a.bianyi=1:a.bianyi=0,this.bynameLabel.text=langue.skin_s99+a1228.g_PlayerData[i].name,this.byRarity_Image.source="Level"+a1228.g_PlayerData[i].xiyou+"_png",this.bydinosaurImg.source=a1228.a1230.a2555(a)}if(this.selectdata){this.showBossModel();var n=a1228.g_newPlayerBossData[this.selectdata.index];this.passLabel.text=n.passName,this.bossNameLabel.text="Lv."+n.bossLevel+"  "+n.bossName,a1232.newBossPass>=this.selectdata.index?(this.fightdbImg.source="DoubleDark2_png",this.fightImg.source="xsylq_png"):(this.fightdbImg.source="ButBG1_png",this.fightImg.source="xstz_png"),this.reflshTG(),this.reflshEW()}for(var t=0;t<this.scrollerList.numChildren;t++){var r=this.scrollerList.getChildAt(t);r&&r.reflesh()}},e.prototype.reflshEW=function(){if(this.selectdata){for(var t=a1228.g_newPlayerBossData[this.selectdata.index].ewReward,e=1;2>=e;e++)if(t[e-1]){var i=t[e-1][0],a=t[e-1][1];if(0>a){this["dinosaursGroup"+e].visible=!0,this["ewjlGroup"+e].visible=!1;var n=new a1231(null,[i,1,0,0,0]);-2==a?(n.bianyi=1,this["nameLabel"+e].text=langue.skin_s99+a1228.g_PlayerData[i].name):this["nameLabel"+e].text=a1228.a1230.a2554(n),this["Rarity_Image"+e].source="Level"+a1228.g_PlayerData[i].xiyou+"_png",this["dinosaurImg"+e].source=a1228.a1230.a2555(n)}else this["dinosaursGroup"+e].visible=!1,this["ewjlGroup"+e].visible=!0,1==i?this["ewImg"+e].source="zs_png":(i>200&&300>i||i>300&&400>i)&&(this["ewImg"+e].source=a1228.g_PropsData[i].icon),this["ewNumLabel"+e].text=""+a;this["ewGroup"+e].visible=!0}else this["ewGroup"+e].visible=!1;1==t.length?this.ewGroup1.x=53.5:(this.ewGroup1.x=2.5,this.ewGroup2.x=129.5),a1232.newBossPass>=this.selectdata.index?-1==a1232.newBossRdPass.indexOf(this.selectdata.index)?(this.ewLabel.text="",this.getBtn.visible=!0,this.redImg.visible=!0,this.xshuiImg2.source="xshuang_png"):(this.ewLabel.text=langue.hasgets,this.xshuiImg2.source="xshui_png",this.getBtn.visible=!1,this.redImg.visible=!1):(this.ewLabel.text=langue.skin_s220,this.getBtn.visible=!1,this.redImg.visible=!1,this.xshuiImg2.source="xshuang_png")}},e.prototype.reflshTG=function(){if(this.selectdata){var t=a1228.g_newPlayerBossData[this.selectdata.index],e=t.tgReward[0][0];t.tgReward[0][1];1==e?this.tgImg.source="zs_png":e>200&&300>e?this.tgImg.source=a1228.g_PropsData[e].icon:e>300&&400>e&&(this.tgImg.source=a1228.g_PropsData[e].icon),this.tgNumLabel.text=""+t.tgReward[0][1],a1232.newBossPass>=this.selectdata.index?(this.tgLabel.text=langue.hasgets,this.xshuiImg1.source="xshui_png"):(this.tgLabel.text=langue.skin_s221,this.xshuiImg1.source="xslan_png")}},e.prototype.a2095=function(){if(a1228.a1230.a2557(!1,this.group,5261),"vivogame"==platform.name||"oppogame"==platform.name||"mzgame"==platform.name){var t=a1228.a1122.a1957();platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},t)}},e.prototype.close=function(){a1228.a1245.closeBanner(),this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NewPlayerBossView.prototype,"NewPlayerBossView");var NoticeView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.mailInfoSkin,n.dataList=a,n}return __extends(e,t),e.prototype.pushData=function(t){this.dataList.concat(t)},e.prototype.initUI=function(){var t=this;if(this.event(),a1228.a1245.closeBanner(),!this.contentLabel)return void a1228.a1225.applyFunc(10004,5136);this.group.scaleX=.01,this.group.scaleY=.01,this.but_delete.visible=!1,this.but_get.visible=!1,this.Image_yilingqu.visible=!1,egret.Tween.get(this.group).to({scaleX:1,scaleY:1.08},200).to({scaleY:.96},150).to({scaleY:1.02},100).to({scaleY:1},100),this.data=this.dataList.shift(),this.a2340();var e={ids:[this.data.id],gameId:a1232.gameID,trackId:a1232.trackId},i=a1232.URL_NOTICE_READ;"gift"==this.data.type&&(i=a1232.URL_GIFT_GET),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=t.data.content&&-1!=t.data.content.indexOf(langue.crossZhengba);"gift"==t.data.type?a1228.a1245.a2616(5,t.data.reward,t.data.content):i?a1228.a1245.a2616(6,t.data.reward,t.data.content):a1228.a1245.a2616(3,t.data.reward,t.data.content),t.a2127(t.data.reward)}},null)},e.prototype.a2127=function(t){var e=[];for(var i in t)if(t[i][1]>0){var a={ID:t[i][0],Count:t[i][1]};e.push(a)}this.PropsReward.dataProvider=new eui.ArrayCollection(e),this.PropsReward.itemRenderer=a1175
},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){var t=this;1==this.group.scaleX&&(this.group.scaleX=.99,egret.Tween.get(this.group).to({scaleX:.01,scaleY:.01},100).call(function(){t.dataList.length>0?t.initUI():a1228.a1225.applyFunc(10004,5136)}))},e.prototype.a2340=function(){this.Time.text=a1228.a1245.formatDate(this.data.Time),this.Name.text=""+this.data.title,this.contentLabel.text=this.data.content},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(NoticeView.prototype,"NoticeView");var OnLineGiftItemView=function(t){function e(e,i){var a=t.call(this)||this;return a.skinName=a1243.onLineGiftItemSkin,a.event(),a}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2111=function(){var t=this,e=a1228.g_onlineGiftData[this.data.index],i=a1232.taskData[8][0];if(a1232.onlineAct[this.data.index])return void a1228.a1245.a2612("已领取");if(!(i>=e.times))return void a1228.a1245.a2612("未完成");if(e.video){var a=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},a,["401","在线奖励"])}else this.handleFunc()},e.prototype.handleFunc=function(){var t=a1228.g_onlineGiftData[this.data.index];a1232.onlineAct[this.data.index]=1;var e=0,i="";2==t.id?(a1232.curLevel<=0&&(a1232.curLevel=1),e=a1228.g_Monster[a1232.curLevel].reward[0][1]*t.num,i="panlg_png"):(e=t.num,i="panzs_png");var a=[{id:t.id,num:e,icon:i}];a1228.a1225.applyFunc(10004,5309,a),a1228.a1225.applyFunc(10004,5035,t.id,e,131),a1228.a1225.applyFunc(10004,5042),this.refresh()},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=a1228.g_onlineGiftData[this.data.index],e=a1232.taskData[8][0];this.timesLabel.text="在线"+t.times+"分钟",this.progressLabel.text=""+Math.min(e,t.times)+"/"+t.times,1==t.id?(this.numLabel.text="x"+t.num,this.iconImg.source="panzs1_png",this.iconImg1.source="panzs1_png"):2==t.id&&(this.numLabel.text="x"+t.num+"波",this.iconImg.source="panlg1_png",this.iconImg1.source="panlg1_png"),a1232.onlineAct[this.data.index]?(this.advImg.scaleX=0,this.getwzLabel.text="已领取",this.statedbImg.source="an_2_png"):e>=t.times?(this.advImg.scaleX=t.video&&1||0,this.getwzLabel.text="领取",this.statedbImg.source="TiaoZhanLabel_png"):(this.advImg.scaleX=0,this.getwzLabel.text="未完成",this.statedbImg.source="an_2_png")},e}(eui.ItemRenderer);__reflect(OnLineGiftItemView.prototype,"OnLineGiftItemView");var OnLineGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.onLineGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.reflshUI(),this.event(),this.initList(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[401])},e.prototype.event=function(){},e.prototype.initList=function(){var t=[];for(var e in a1228.g_onlineGiftData)t.push({index:a1228.g_onlineGiftData[e].index});this.scrollerList.dataProvider=new eui.ArrayCollection(t),this.scrollerList.itemRenderer=OnLineGiftItemView},e.prototype.reflshUI=function(){for(var t=0;t<this.scrollerList.numChildren;t++){var e=this.scrollerList.getChildAt(t);e&&e.refresh()}},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(OnLineGiftView.prototype,"OnLineGiftView");var PaiHangBangItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.paiHangBangItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){this.nameLabel.text=a1228.a1230.getLength(this.data.nickname),this.passLabel.text=a1228.g_Monster[this.data.historyScore].passName,this.itemIndex<3?(this.rankImg.source="pai"+(this.itemIndex+1)+"_png",this.rankLabel.text=""):(this.rankImg.source="",this.rankLabel.text=this.itemIndex+1+""),this.headImg.source="bawanglongtouxiang1_png"},e}(eui.ItemRenderer);__reflect(PaiHangBangItemView.prototype,"PaiHangBangItemView");var a1181=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.selectType="world",n.myRank=1001,n._skin=a1243.paiHangBangView,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;if(this.event(),this.rankData={},this.AwardBut.visible=!0,this.a2360(),this.a2090(),platform.isLocal()){var e={gameId:a1232.gameID,trackId:a1232.trackId,num:100};a1228.a1247.a2623(a1232.URL_RANK,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data&&null!=e.data.ranking&&(t.rankData=e.data,"world"==t.selectType&&t.a2363(),0==t.rankData.ranking.lq&&t.rankData.ranking.num>0?(t.HintImage.visible=!0,t.rewardImg.source="bx_png"):(t.HintImage.visible=!1,t.rewardImg.source="ylqbaoziang_png"),!platform.isLocal())){var i=platform.getOpenDataContext();i.postMessage({myRank:t.rankData.ranking.num,command:"myRank"})}},null)}else{var i=new egret.BitmapData(window.sharedCanvas);i.$deleteSource=!1;var a=new egret.Texture;i&&a._setBitmapData(i),this.bitmap=new egret.Bitmap(a),this.bitmap.width=a1228.a1122.a1872(),this.bitmap.height=a1228.a1122.a1873(),this.addChild(this.bitmap),a1228.a1252.doTimer(16,0,function(){i.webGLTexture&&i.webGLTexture[egret.glContext]&&(egret.WebGLUtils.deleteWebGLTexture(i.webGLTexture),i.webGLTexture=null)},this);var n=platform.getOpenDataContext();n.postMessage({myLevel:a1232.curLevel,myName:a1232.userInfo&&a1228.a1230.getLength(a1232.userInfo.nickName)||"",playerdata:a1228.g_PlayerData,monsterdata:a1228.g_Monster,command:"init"});var e={gameId:a1232.gameID,trackId:a1232.trackId,num:100};a1228.a1247.a2623(a1232.URL_RANK,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data&&null!=e.data.ranking&&(t.rankData=e.data,"world"==t.selectType&&t.a2363(),0==t.rankData.ranking.lq&&t.rankData.ranking.num>0?(t.HintImage.visible=!0,t.rewardImg.source="bx_png"):(t.HintImage.visible=!1,t.rewardImg.source="ylqbaoziang_png"),!platform.isLocal())){var i=platform.getOpenDataContext();i.postMessage({myRank:t.rankData.ranking.num,command:"myRank"})}},null)}a1232.userInfo&&(a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.myHeadImg),this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName),this.mypassLabel.text=a1228.g_Monster[a1232.curLevel].passName),this.myRankLabel.visible=!1},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.a2359=function(){this.HintImage.visible=!1,this.rankData&&this.rankData.ranking&&(this.rankData.ranking.lq=1,this.rewardImg.source="ylqbaoziang_png")},e.prototype.a2360=function(){"world"==this.selectType?(this.typeImg.source="wesjph_png",this.titleBtn1.source="TiaoZhanLabel_png",this.titleBtn2.source="an_2_png",this.img1.visible=!0,this.img2.visible=!1):(this.typeImg.source="wdhysjph_png",this.titleBtn1.source="an_2_png",this.titleBtn2.source="TiaoZhanLabel_png",this.img1.visible=!1,this.img2.visible=!0)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.titleGroup2,egret.TouchEvent.TOUCH_TAP,this.a2361),a1251.a1412(this,this.titleGroup1,egret.TouchEvent.TOUCH_TAP,this.a2363),a1251.a1412(this,this.AwardBut,egret.TouchEvent.TOUCH_TAP,this.a2365)},e.prototype.a2361=function(){if(this.AwardBut.visible=!1,this.selectType="friend",this.a2360(),!platform.isLocal()){var t=platform.getOpenDataContext();t.postMessage({command:"showLB",rankWidth:this.scroller.width,rankHeight:this.scroller.height,x:(a1228.a1122.a1872()-this.scroller.width)/2,y:(a1228.a1122.a1873()-this.scroller.height)/2})}},e.prototype.a2362=function(){if(!platform.isLocal()){var t=platform.getOpenDataContext();t.postMessage({command:"close"})}},e.prototype.a2363=function(){if(this.AwardBut.visible=!0,this.selectType="world",this.a2360(),!platform.isLocal()){var t=platform.getOpenDataContext();t.postMessage({command:"world",rankWidth:this.scroller.width,rankHeight:this.scroller.height,x:(a1228.a1122.a1872()-this.scroller.width)/2,y:(a1228.a1122.a1873()-this.scroller.height)/2,data:this.rankData&&this.rankData.list||[]})}},e.prototype.a2095=function(){if(this.mygroup.visible&&(this.mygroup.visible=!1,this.bitmap&&(this.bitmap.visible=!1),this.a2362(),a1228.a1230.a2557(!1,this.group,5023),"vivogame"==platform.name||"oppogame"==platform.name||"mzgame"==platform.name)){var t=a1228.a1122.a1957();platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},t)}},e.prototype.a2365=function(){this.rankData&&this.rankData.ranking&&(this.rankData.ranking&&this.rankData.ranking.num?a1228.a1225.applyFunc(10004,5066,this.rankData):a1228.a1245.a2612(langue.nopaiaward))},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),a1228.a1252.removeAll(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1181.prototype,"a1181");var PaiHangBangView2=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.selectType="",n.myRank=1001,n.friendData=null,n.friendRank=1,n._skin=a1243.paiHangBangView,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2462(),this.a2363(),!platform.hasFriendList(),this.titleGroup2.visible=!1,this.img2.visible=!1},e.prototype.a2363=function(){var t=this;if("world"!=this.selectType){this.AwardBut.visible=!0,this.selectType="world",this.a2360();var e={gameId:a1232.gameID,trackId:a1232.trackId,num:100};this.rankData?this.refreshWorld():a1228.a1247.a2623(a1232.URL_RANK,egret.URLRequestMethod.POST,e,function(e){e&&e.data&&null!=e.data.ranking&&(t.rankData=e.data,t.refreshWorld())},null)}},e.prototype.refreshWorld=function(){if(this.rankData){this.myRankLabel.text=this.rankData.ranking.num+"",0==this.rankData.ranking.lq&&this.rankData.ranking.num>0?(this.HintImage.visible=!0,this.rewardImg.source="bx_png"):(this.HintImage.visible=!1,this.rewardImg.source="ylqbaoziang_png");var t=[];for(var e in this.rankData.list)t.push({avatarUrl:this.rankData.list[e].avatarUrl,historyScore:this.rankData.list[e].historyScore,nickname:this.rankData.list[e].nickname,upRanking:this.rankData.list[e].upRanking});this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=PaiHangBangItemView,this.scroller.a1621(),this.scrollList.scrollH=0}},e.prototype.a2361=function(){var t=this;"friend"!=this.selectType&&(this.AwardBut.visible=!1,this.selectType="friend",this.a2360(),platform.isLocal()||this.friendData?this.refreshFriend():platform.getFriendCloudStorage(function(e){for(var i=[],a=1,n=0;n<e.length;++n)i.push({avatarUrl:e[n].avatarUrl,historyScore:e[n].kvDataList[0].value,nickname:e[n].nickname});i.sort(function(t,e){return t.historyScore<e.historyScore?1:-1});for(var n=0;n<e.length;++n)e[n].openid==a1232.openid&&(a=n+1);t.friendData=e,t.friendRank=a,t.refreshFriend()}))},e.prototype.refreshFriend=function(){this.scrollList.dataProvider=new eui.ArrayCollection(this.friendData||[]),this.scrollList.itemRenderer=PaiHangBangItemView,this.myRankLabel.text=this.friendRank+"",this.scroller.a1621(),this.scrollList.scrollH=0},e.prototype.a2462=function(){a1232.userInfo&&a1232.userInfo.avatarUrl,a1232.userInfo&&a1232.userInfo.nickName?this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName):this.myNameLabel.text="我",this.mypassLabel.text=a1228.a1230.formatEnglish(a1228.g_Monster[a1232.curLevel].passName,this.mypassLabel)},e.prototype.a2359=function(){this.HintImage.visible=!1,this.rankData&&this.rankData.ranking&&(this.rankData.ranking.lq=1,this.rewardImg.source="ylqbaoziang_png")},e.prototype.a2360=function(){"world"==this.selectType?(this.typeImg.source="wesjph_png",this.titleBtn1.source="TiaoZhanLabel_png",this.titleBtn2.source="an_2_png",this.img1.visible=!0,this.img2.visible=!1):(this.typeImg.source="wdhysjph_png",this.titleBtn1.source="an_2_png",this.titleBtn2.source="TiaoZhanLabel_png",this.img1.visible=!1,this.img2.visible=!0)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.titleGroup2,egret.TouchEvent.TOUCH_TAP,this.a2361),a1251.a1412(this,this.titleGroup1,egret.TouchEvent.TOUCH_TAP,this.a2363),a1251.a1412(this,this.AwardBut,egret.TouchEvent.TOUCH_TAP,this.a2365)},e.prototype.a2095=function(){if(this.mygroup.visible&&(this.mygroup.visible=!1,this.bitmap&&(this.bitmap.visible=!1),this.a2362(),a1228.a1225.applyFunc(10004,5023),"vivogame"==platform.name||"oppogame"==platform.name||"mzgame"==platform.name)){var t=a1228.a1122.a1957();platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},t)}},e.prototype.a2362=function(){var t=platform.getOpenDataContext();!platform.isLocal()&&t&&t.postMessage({command:"close"})},e.prototype.a2365=function(){this.rankData&&this.rankData.ranking&&(this.rankData.ranking&&this.rankData.ranking.num?a1228.a1225.applyFunc(10004,5066,this.rankData):a1228.a1245.a2612(langue.nopaiaward))},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),a1228.a1252.removeAll(this),t.prototype.close.call(this)},e}(a1116);__reflect(PaiHangBangView2.prototype,"PaiHangBangView2");var ProduceInfoItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.produceInfoItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.resetBtn,egret.TouchEvent.TOUCH_TAP,this.a2370),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.produceBtn,egret.TouchEvent.TOUCH_TAP,this.a2372),a1251.a1412(this,this.addspeedBtn,egret.TouchEvent.TOUCH_TAP,this.a2373),a1251.a1412(this,this.eggImg,egret.TouchEvent.TOUCH_TAP,this.a2374,!1),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111),a1251.a1412(this,this.buzhenBtn,egret.TouchEvent.TOUCH_TAP,this.onClickBuZhen)},e.prototype.onClickBuZhen=function(){a1228.a1225.applyFunc(10004,5203),a1228.a1225.applyFunc(10004,5060)},e.prototype.onclean=function(){a1251.a1413(this),this.a2366(1),this.a2366(2)},e.prototype.dataChanged=function(){this.a2377(!0),this.reflesh()},e.prototype.reflesh=function(){this.a2367(),this.reflesh2()},e.prototype.a2366=function(t){if(this.aniModel1&&1==t)try{a1251.a1413(this.aniModel1),this.dinosaurGroup.removeChild(this.aniModel1),this.aniModel1.dispose(),this.aniModel1=null}catch(e){console.log("",e)}if(this.aniModel2&&2==t)try{a1251.a1413(this.aniModel2),this.dinosaurGroup.removeChild(this.aniModel2),this.aniModel2.dispose(),this.aniModel2=null}catch(e){console.log("",e)}},e.prototype.a2367=function(){var t=this.data.index,e=a1232.produce[2*t],i=a1232.produce[2*t+1];if(e){var a=a1232.playerIDs[e],n=a1228.a1230.a1921(a);this.a2368(n,1)}else this.a2366(1);if(i){var r=a1232.playerIDs[i],s=a1228.a1230.a1921(r);this.a2368(s,2)}else this.a2366(2)},e.prototype.a2368=function(t,e){var i=this;1==e?(this.a2366(1),this.aniModel1=this.a2369(t,this.dinosaurGroup),this.aniModel1.x=-130,this.aniModel1.y=70,a1251.a1412(this,this.aniModel1,egret.TouchEvent.TOUCH_BEGIN,function(t){i.a2184(e,t)},!1)):2==e&&(this.a2366(2),this.aniModel2=this.a2369(t,this.dinosaurGroup),this.aniModel2.x=150,this.aniModel2.y=70,this.aniModel2.scaleX=.9,a1251.a1412(this,this.aniModel2,egret.TouchEvent.TOUCH_BEGIN,function(t){i.a2184(e,t)},!1))},e.prototype.a2184=function(t,e){var i=this.data.index;if(!(a1232.producetime[i]>0)){this.clickTime=egret.getTimer(),this.beginPos=[e.stageX,e.stageY];var a=a1232.produce[2*i],n=a1232.produce[2*i+1],r=a1228.a1226.a2525(199);if(r)if(1==t){r.selectID=a1232.produce[2*i],this.aniModel1.visible=!1;var s=a1232.playerIDs[a],o=a1228.a1230.a1921(s);r.ani=this.a2369(o,r.mainGroup);var l=this.aniModel1.a1263(0,0),h=r.mainGroup.globalToLocal(l.x,l.y);r.ani.baseX=h.x,r.ani.baseY=h.y,r.ani.x=r.ani.baseX,r.ani.y=r.ani.baseY}else if(2==t){r.selectID=a1232.produce[2*i+1],this.aniModel2.visible=!1;var p=a1232.playerIDs[n],u=a1228.a1230.a1921(p);r.ani=this.a2369(u,r.mainGroup);var l=this.aniModel2.a1263(0,0),c=r.mainGroup.globalToLocal(l.x,l.y);r.ani.baseX=c.x,r.ani.baseY=c.y,r.ani.x=r.ani.baseX,r.ani.y=r.ani.baseY}}},e.prototype.a2369=function(t,e){var i=a1228.a1245.CreateFrameAnimation(t,t);return e.addChild(i),i.x=0,i.y=0,i.scaleX=-.9,i.scaleY=.9,i.touchEnabled=!0,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),i},e.prototype.reflesh2=function(){var t=this.data.index,e=a1232.produce[2*t],i=a1232.produce[2*t+1];if(e&&i)if(a1232.producetime[t]>0&&a1232.hatchtime[t]<=0){this.group1.visible=!0,this.group2.visible=!1;var a=a1232.producetime[t]+a1232.produceNeedTime-a1232.getServerTime();if(a>=0){this.produceBtn.visible=!1,this.resetBtn.visible=!0,this.produceBarGroup.visible=!0,this.producetimeLabel.text=a1228.a1240.a2597(a,1);var n=(a1232.produceNeedTime-a)/a1232.produceNeedTime*this.producebarhuiImage.width;this.producebarImage.width=Math.floor(n)}else{var r=a1228.a1226.a2525(201),s=a1228.a1226.a2525(199);!r&&s&&s.visible&&this.itemIndex==this.data.index&&this.visible&&setTimeout(function(){a1228.a1225.applyFunc(10004,5224,t)},300)}}else if(a1232.producetime[t]<=0&&a1232.hatchtime[t]>0){this.a2366(1),this.a2366(2),this.group1.visible=!1,this.group2.visible=!0;var a=a1232.hatchtime[t]+a1232.hatchNeedTime-a1232.getServerTime();if(a>=0){this.fudanBarGroup.visible=!0,this.getBtn.visible=!0,this.fuhuatipGroup.visible=!1,this.fudantimeLabel.text=a1228.a1240.a2597(a,1);var n=(a1232.hatchNeedTime-a)/a1232.hatchNeedTime*this.fudanbarhuiImage.width;this.fudanbarImage.width=Math.floor(n)}else this.fudanBarGroup.visible=!1,this.getBtn.visible=!1,this.fuhuatipGroup.visible=!0}else a1232.producetime[t]<=0&&a1232.hatchtime[t]<=0&&(this.group1.visible=!0,this.group2.visible=!1,this.produceBarGroup.visible=!1,this.produceBtn.visible=!0,this.resetBtn.visible=!1);else this.group1.visible=!0,this.group2.visible=!1,this.produceBarGroup.visible=!1,this.produceBtn.visible=!1,this.resetBtn.visible=!1;if(e){this.posGroup1.visible=!1,this.sexImg1.visible=!0,this.sexImg1.source="sex1_png";var o=a1232.playerIDs[e];this.sexImg1.source="sex"+o.sex+"_png"}else this.sexImg1.visible=!1,this.posGroup1.visible=!0,this.a2366(1);if(i){this.posGroup2.visible=!1,this.sexImg2.visible=!0;var l=a1232.playerIDs[i];this.sexImg2.source="sex"+l.sex+"_png"}else this.sexImg2.visible=!1,this.posGroup2.visible=!0,this.a2366(2)},e.prototype.a2370=function(){var t=this,e=this.data.index;if(!a1232.produce[2*e]&&!a1232.produce[2*e+1])return void a1228.a1245.a2612(langue.noproduce);var i={type:5,content:langue.clearproduce,callback:function(){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2371()},e,["133","繁殖重置"])}};a1228.a1225.applyFunc(10004,5170,i)},e.prototype.a2371=function(){var t=this.data.index;a1232.produce[2*t]=0,a1232.produce[2*t+1]=0,a1232.producetime[t]=0,a1232.hatchtime[t]=0,this.posGroup1.visible=!0,this.posGroup2.visible=!0,this.reflesh();var e=a1228.a1226.a2525(199);e&&e.initList(),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2372=function(){var t=this.data.index;a1232.produce[2*t]&&a1232.produce[2*t+1]&&a1232.producetime[t]<=0&&a1232.hatchtime[t]<=0&&(this.produceBarGroup.visible=!0,this.produceBtn.visible=!1,this.resetBtn.visible=!0,a1232.producetime[t]=a1232.getServerTime(),"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?a1232.produceSpeedtimes[t]=2:a1232.produceSpeedtimes[t]=1,this.reflesh2(),a1228.a1225.applyFunc(10004,5041))},e.prototype.a2373=function(){var t=this,e=this.data.index;if(a1232.produceSpeedtimes[e]<=0)return void("ios"==platform.name||"android_qudao"==platform.name?a1228.a1245.a2612("该槽位已使用两次加速"):a1228.a1245.a2612(langue.poshasspeed));var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},i,["131","繁殖加速"])},e.prototype.handleFunc=function(){var t=this.data.index;a1232.produceSpeedtimes[t]-=1,"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?1==a1232.produceSpeedtimes[t]?a1232.producetime[t]-=a1232.produceReduceTime:0==a1232.produceSpeedtimes[t]&&(a1232.producetime[t]-=a1232.produceReduceTime/2):a1232.producetime[t]-=a1232.produceReduceTime,this.reflesh(),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2111=function(){var t=this,e=this.data.index;if(a1232.produce[2*e]&&a1232.produce[2*e+1]){var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2375()},i,["132","孵蛋加速"])}},e.prototype.a2374=function(){var t=this.data.index;if(a1232.producetime[t]<=0&&a1232.hatchtime[t]>0){var e=a1232.hatchtime[t]+a1232.hatchNeedTime-a1232.getServerTime();0>=e&&this.a2375()}},e.prototype.a2375=function(){var t=this,e=this.data.index;if(a1232.producetime[e]<=0&&a1232.hatchtime[e]>0){a1232.hatchtime[e]-=a1232.hatchNeedTime,this.fuhuatipGroup.alpha=0,this.a2377(!1),this.reflesh();var i=a1228.a1226.a2525(199);i&&(i.leftBtn.touchEnabled=!1,i.rightBtn.touchEnabled=!1);var a=ObjectPool.pop("a1239");a.initData("danposui1",1,1,30,!0,"danposui1"),a.x=110,a.y=-80,a.scaleX=.9,a.scaleY=.9,this.group2.addChild(a);var n=function(i){var a=ObjectPool.pop("a1239");a.initData("danposui2",1,1,30,!0,"danposui2"),a.x=110,a.y=-80,a.scaleX=.9,a.scaleY=.9,t.group2.addChild(a);var n=function(i){t.fuhuatipGroup.alpha=1;var a=a1232.playerIDs[a1232.produce[2*e]],n=a1232.playerIDs[a1232.produce[2*e+1]],r=0;r=2==a.sex?a.index:2==n.sex?n.index:a.index,a1232.produce[2*e]=0,a1232.produce[2*e+1]=0,a1232.hatchtime[e]=0,a1232.producetime[e]=0;var s=a1232.addNewDinosaur(r,6,[a,n]);100*Math.random()>=50?s.skillIndex=a.skillIndex:s.skillIndex=n.skillIndex;var o=a1228.a1226.a2525(199);o&&(o.initList(),t.reflesh(),t.sharkLight(o),o.leftBtn.touchEnabled=!0,o.rightBtn.touchEnabled=!0),a1228.a1225.applyFunc(10004,5058,s.id,!1,1),a1228.a1225.applyFunc(10004,5044,3),a1228.a1225.applyFunc(10004,5045,5),a1228.a1225.applyFunc(10004,5042);var l={gameId:a1232.gameID,trackId:a1232.trackId,eggId:t.data.index+1};a1228.a1247.a2623(a1232.URL_ZB_EGGQX,egret.URLRequestMethod.POST,l,function(t){t&&t.data},null)};a.a2594(n)};a.a2594(n)}},e.prototype.sharkLight=function(t){var e=new eui.Rect;e.width=a1228.a1122.a1872(),e.height=a1228.a1122.a1873(),e.fillColor=16777215,e.alpha=.01,t.addChild(e),egret.Tween.get(e).to({alpha:1},200).call(function(){t.removeChild(e)})},e.prototype.a2377=function(t){t?(this.eggImg.y=160,this.eggImg.touchEnabled=!0,egret.Tween.removeTweens(this.eggImg),egret.Tween.get(this.eggImg,{loop:!0}).to({y:this.eggImg.y+8,scaleX:.68,scaleY:.68},850).to({y:this.eggImg.y-4.5,scaleX:.72,scaleY:.72},750).to({y:this.eggImg.y,scaleX:.7,scaleY:.7},750)):t||(egret.Tween.removeTweens(this.eggImg),this.eggImg.y=160,this.eggImg.scaleX=.7,this.eggImg.scaleY=.7,this.eggImg.touchEnabled=!1)},e}(eui.ItemRenderer);__reflect(ProduceInfoItemView.prototype,"ProduceInfoItemView");var a1182=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.produceItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_BEGIN,this.a2143,!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2143=function(t){this.clickTime=egret.getTimer();var e=a1228.a1226.a2525(199);e&&e.a2153(this,t)},e.prototype.touchEnd=function(t){var e=a1228.a1226.a2525(199);e&&e.a2153(null,t);var i=egret.getTimer();if(i-this.clickTime<150){this.clickTime=0;var a=a1232.playerIDs[this.data.id];a1228.a1225.applyFunc(10004,5099,a)}},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=this.data.index,e=a1232.playerIDs[this.data.id];this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e);var i="";this.data.fight?i="sztips_png":this.data.cheer?i="zztips_png":this.data.produce&&(i="fztips_png"),this.useImg.source=i,a1228.a1230.a2552(this,"starImg",this.data.star,!1),this.setStarPos()},e.prototype.setStarPos=function(){var t=this.data.star;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e}(eui.ItemRenderer);__reflect(a1182.prototype,"a1182");var ProduceSuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.selectType=0,n._skin=a1243.produceSuccessSkin,n.selectType=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2378(),this.a2115();var t=a1228.a1226.a2525(199);t&&(t.visible=!0);var e=a1228.a1226.a2525(122);e&&(e.visible=!1)},e.prototype.event=function(){a1251.a1412(this,this.fudanBtn,egret.TouchEvent.TOUCH_TAP,this.a2379)},e.prototype.a2378=function(){var t=this.selectType;if(a1232.produce[2*t]&&a1232.produce[2*t+1])for(var e=1;2>=e;e++){var i=a1232.produce[2*t+e-1],a=a1232.playerIDs[i];this["levelLabel"+e].text=a.level,this["Rarity_Image"+e].source="Level"+a1228.g_PlayerData[a.index].xiyou+"_png",this["leveldbImg"+e].source="dbdj"+a1228.g_PlayerData[a.index].xiyou+"_png",this["nameLabel"+e].text=a1228.a1230.a2554(a),this["dinosaurImg"+e].source=a1228.a1230.a2555(a),a1228.a1230.a2552(this,"starImg"+e+"_",a.star,!1);var n=a.star;1==n||6==n?this["starGroup"+e].x=48:2==n||7==n?this["starGroup"+e].x=37:3==n||8==n?this["starGroup"+e].x=26:4==n||9==n?this["starGroup"+e].x=11:(5==n||10==n)&&(this["starGroup"+e].x=-1)}},e.prototype.dingyuefudan=function(){if(1==a1232.subscribe[2]){var t={gameId:a1232.gameID,trackId:a1232.trackId,eggId:this.selectType+1};a1228.a1247.a2623(a1232.URL_ZB_EGGCOM,egret.URLRequestMethod.POST,t,function(t){t&&t.data},null)}},e.prototype.a2379=function(){var t=this;1!=a1232.subscribe[2]?platform.requestSubscribeMessage("fudan",function(e){e&&(a1232.subscribe[2]=1,a1228.a1225.applyFunc(10004,5053,2,1),t.dingyuefudan())}):1==a1232.subscribe[2]&&this.dingyuefudan();var e=this.selectType,i=a1232.playerIDs[a1232.produce[2*e]],a=a1232.playerIDs[a1232.produce[2*e+1]];i.produceNum>0&&(i.produceNum-=1),a.produceNum>0&&(a.produceNum-=1),a1232.producetime[e]=0,a1232.hatchtime[e]=a1232.getServerTime();var n=a1228.a1226.a2525(199),r=a1228.a1226.a2525(122);n&&(n.visible=!0,n.reflesh(),n.initList()),r&&(r.visible=!1),a1228.a1225.applyFunc(10004,5225),a1228.a1225.applyFunc(10004,5042)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ProduceSuccessView.prototype,"ProduceSuccessView");var a1183=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a.saiSex=2,a.saiEat=2,a.selectID=0,a.selectType=0,a.isMove=!1,a._skin=a1243.produceSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.dbImg1.visible=!1,this.dbImg2.visible=!1,this.dbImg3.visible=!1,this.tipGroup.visible=!1,this.event(),this.showInfo(),this.scroller1.scrollPolicyH=eui.ScrollPolicy.OFF,a1228.a1252.doTimer(1e3,0,this.reflesh,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[1001])},e.prototype.event=function(){var t=this;a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)}),a1251.a1412(this,this.sexGroup,egret.TouchEvent.TOUCH_TAP,this.a2182,!1),a1251.a1412(this,this.eatGroup,egret.TouchEvent.TOUCH_TAP,this.a2183,!1),a1251.a1412(this,this.mainGroup,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.mainGroup,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.mainGroup,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.mainGroup,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.scroll,egret.Event.CHANGE,this.clearDate,!1),a1251.a1412(this,this.tipBtn,egret.TouchEvent.TOUCH_TAP,this.a2387,!1),a1251.a1412(this,this.leftBtn,egret.TouchEvent.TOUCH_TAP,this.a2380),a1251.a1412(this,this.rightBtn,egret.TouchEvent.TOUCH_TAP,this.a2381)},e.prototype.a2380=function(){if(!this.isMove){var t=this.selectType;this.selectType-=1,this.selectType<0&&(this.selectType=0),this.a2382(),t!=this.selectType&&this.a2385(0)}},e.prototype.a2381=function(){if(!this.isMove){var t=this.selectType;this.selectType+=1,this.selectType>a1232.produce.length/2-1&&(this.selectType=a1232.produce.length/2-1),this.a2382(),t!=this.selectType&&this.a2385(1)}},e.prototype.a2382=function(){this.selectType<=0?(this.leftBtn.visible=!1,this.rightBtn.visible=!0):this.selectType>=a1232.produce.length/2-1?(this.leftBtn.visible=!0,this.rightBtn.visible=!1):(this.leftBtn.visible=!0,this.rightBtn.visible=!0),this.a2383()},e.prototype.a2383=function(){for(var t=!1,e=!1,i=0;i<a1232.produce.length/2;i++){var a=i;if(a1232.produce[2*a]&&a1232.produce[2*a+1])if(a1232.producetime[a]>0&&a1232.hatchtime[a]<=0){var n=a1232.producetime[a]+a1232.produceNeedTime-a1232.getServerTime();0>n&&(this.selectType>a?t=!0:this.selectType<a&&(e=!0))}else if(a1232.producetime[a]<=0&&a1232.hatchtime[a]>0){var n=a1232.hatchtime[a]+a1232.hatchNeedTime-a1232.getServerTime();0>n&&(this.selectType>a?t=!0:this.selectType<a&&(e=!0))}}this.leftRedImg.visible=t,this.rightRedImg.visible=e
},e.prototype.a2384=function(t){var e=this;if(!this.isMove){var i=this.scrollList1.contentWidth/(a1232.produce.length/2);egret.Tween.removeTweens(this.scrollList1),0==t?(this.isMove=!0,this.leftBtn.touchEnabled=!1,this.rightBtn.touchEnabled=!1,egret.Tween.get(this.scrollList1).to({scrollH:this.scrollList1.scrollH-i},300).call(function(){e.isMove=!1,e.leftBtn.touchEnabled=!0,e.rightBtn.touchEnabled=!0})):1==t&&(this.isMove=!0,this.leftBtn.touchEnabled=!1,this.rightBtn.touchEnabled=!1,egret.Tween.get(this.scrollList1).to({scrollH:this.scrollList1.scrollH+i},300).call(function(){e.isMove=!1,e.leftBtn.touchEnabled=!0,e.rightBtn.touchEnabled=!0}))}},e.prototype.a2385=function(t){this.reflesh(),this.a2384(t),this.clearDate()},e.prototype.showInfo=function(){a1232.playerIDs[a1232.produce[0]]&&a1232.playerIDs[a1232.produce[1]]||(a1232.produce[0]=0,a1232.produce[1]=0,a1232.producetime[0]=0,a1232.hatchtime[0]=0),a1232.playerIDs[a1232.produce[2]]&&a1232.playerIDs[a1232.produce[3]]||(a1232.produce[2]=0,a1232.produce[3]=0,a1232.producetime[1]=0,a1232.hatchtime[1]=0),a1232.playerIDs[a1232.produce[4]]&&a1232.playerIDs[a1232.produce[5]]||(a1232.produce[4]=0,a1232.produce[5]=0,a1232.producetime[2]=0,a1232.hatchtime[2]=0),this.a2388(),this.a2380(),this.a2182(),this.a2183(),this.a2138(1),this.a2155()},e.prototype.reflesh=function(){for(var t=this.scrollList1.$children,e=0;e<t.length;e++){var i=t[e];i.reflesh2()}this.a2382()},e.prototype.a2155=function(){for(var t=[],e=0;e<=a1232.produce.length/2-1;e++){var i={index:e};t.push(i)}this.scrollList1.dataProvider=new eui.ArrayCollection(t),this.scrollList1.itemRenderer=ProduceInfoItemView},e.prototype.initList=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=a1228.g_PlayerData[i.index].xiyou,n=i.sex,r=a1228.g_PlayerData[i.index].eat,s=i.produceNum,o=i.jinhua;if((1==this.saiXun||2==this.saiXun&&4==a||3==this.saiXun&&3==a||4==this.saiXun&&2==a||5==this.saiXun&&1==a)&&(1==this.saiSex&&1==n||2==this.saiSex&&2==n)&&(1==this.saiEat&&1==r||2==this.saiEat&&2==r)&&s>0&&(o>0||-2==o)){var l=a1228.a1230.a2550(Number(e)),h={id:e,index:i.index,level:i.level,star:i.star,jinhua:i.jinhua,xiyou:a1228.g_PlayerData[i.index].xiyou,bianyi:i.bianyi,sex:n,eat:r,produceNum:i.produceNum,fight:l[0],cheer:l[1],produce:l[2],grow:l[3]};t.push(h)}}t.sort(function(t,e){return t.produce==e.produce?t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1:t.fight<e.fight&&1||-1:t.produce<e.produce&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1182},e.prototype.a2369=function(t){var e=a1228.a1245.CreateFrameAnimation(t,t);return this.mainGroup.addChild(e),e.x=0,e.y=0,e.scaleX=-.9,e.scaleY=.9,e.touchEnabled=!0,e.touchChildren=!1,e.animation&&e.animation.play("daiji",0),e},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){var e=this.selectType;a1232.producetime[e]>0||this.ani&&(this.ani.x=this.ani.baseX+(t.stageX-this.beginPos[0]),this.ani.y=this.ani.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(t){var e=this.selectType,i=a1232.produce[2*e],a=a1232.produce[2*e+1];if(this.selectID)if(i!=this.selectID&&a!=this.selectID){var n=this.posGroup1.a1263(0,0),r=this.posGroup2.a1263(0,0),s=t.stageX>=n.x&&t.stageX<=n.x+this.posGroup1.width&&t.stageY>=n.y&&t.stageY<=n.y+this.posGroup1.height,o=t.stageX>=r.x&&t.stageX<=r.x+this.posGroup2.width&&t.stageY>=r.y&&t.stageY<=r.y+this.posGroup2.height,l=a1232.playerIDs[this.selectID],h=null;if(s&&a?h=a1232.playerIDs[a]:o&&i&&(h=a1232.playerIDs[i]),h){var p=l.sex==h.sex,u=a1228.g_PlayerData[l.index].eat==a1228.g_PlayerData[h.index].eat;if(p)return a1228.a1245.a2612(langue.samesex),void this.clearDate();if(!u)return a1228.a1245.a2612(langue.sameeat),void this.clearDate()}var c=0;if(s?c=1:o&&(c=2),c){a1232.produce[2*e+c-1]=l.id;for(var d=this.scrollList1.$children,g=0;g<d.length;g++){var f=d[g];f.reflesh()}a1232.produce[2*e]&&a1232.produce[2*e+1]?this.initList():this.a2182()}this.clearDate()}else if((a1232.produce[2*e]==this.selectID||a1232.produce[2*e+1]==this.selectID)&&this.ani){var m=egret.getTimer();if(m-this.clickTime<150){this.clickTime=0;var v=a1232.playerIDs[this.selectID];a1228.a1225.applyFunc(10004,5099,v)}var y=this.ani.y-this.ani.baseY;y>150&&(a1232.produce[2*e]==this.selectID?a1232.produce[2*e]=0:a1232.produce[2*e+1]==this.selectID&&(a1232.produce[2*e+1]=0),this.initList());for(var d=this.scrollList1.$children,g=0;g<d.length;g++){var f=d[g];f.reflesh()}this.clearDate()}this.scroll.scrollPolicyV=eui.ScrollPolicy.ON},e.prototype.clearDate=function(){this.selectID=null,this.ani&&(this.mainGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null)},e.prototype.a2153=function(t,e){var i=this,a=this.selectType;this.clearDate(),t instanceof a1182&&(this.delayID=egret.setTimeout(function(){if(t.data.fight)return void a1228.a1245.a2612(langue.shangin);if(t.data.cheer)return void a1228.a1245.a2612(langue.cheerin);if(t.data.produce)return void a1228.a1245.a2612(langue.producein);if(t.data.produceNum<=0)return void a1228.a1245.a2612(langue.noproducetimes);if(a1232.produce[2*a]&&a1232.produce[2*a+1]&&a1232.producetime[a]>0&&a1232.hatchtime[a]<=0)return void a1228.a1245.a2612(langue.hastowpro);if(!(a1232.produce[2*a]&&a1232.produce[2*a+1]&&a1232.producetime[a]<=0&&a1232.hatchtime[a]>0)){i.selectID=t.data.id;var n=a1232.playerIDs[t.data.id],r=a1228.a1230.a1921(n);i.ani=i.a2369(r);var s=i.mainGroup.globalToLocal(e.stageX,e.stageY);i.ani.x=s.x,i.ani.y=s.y+a1228.g_ModelSize[r].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll.scrollPolicyV=eui.ScrollPolicy.OFF}},this,250))},e.prototype.a2387=function(){this.tipGroup.visible?this.tipGroup.visible=!1:(this.tipLabel.text=a1228.g_functionData[2].src,this.tipGroup.visible=!0)},e.prototype.a2182=function(){1==this.saiSex?this.saiSex=2:2==this.saiSex&&(this.saiSex=1),1==this.saiSex?(this.manImg.source="fzxb4_png",this.womanImg.source="fzxb1_png",this.mankImg.visible=!0,this.womankImg.visible=!1):2==this.saiSex&&(this.manImg.source="fzxb3_png",this.womanImg.source="fzxb2_png",this.mankImg.visible=!1,this.womankImg.visible=!0),this.initList()},e.prototype.a2183=function(){1==this.saiEat?this.saiEat=2:2==this.saiEat&&(this.saiEat=1),1==this.saiEat?(this.meatImg.source="fzsx1_png",this.veganImg.source="fzsx4_png",this.meatkImg.visible=!0,this.vegankImg.visible=!1):2==this.saiEat&&(this.meatImg.source="fzsx2_png",this.veganImg.source="fzsx3_png",this.meatkImg.visible=!1,this.vegankImg.visible=!0),this.initList()},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll.a1621(),this.initList()},e.prototype.a2388=function(){(a1232.producetime[0]<=0&&a1232.hatchtime[0]<=0||!a1232.produce[0]||!a1232.produce[1])&&(a1232.produce[0]=0,a1232.produce[1]=0,a1228.a1225.applyFunc(10004,5041)),(a1232.producetime[1]<=0&&a1232.hatchtime[1]<=0||!a1232.produce[2]||!a1232.produce[3])&&(a1232.produce[2]=0,a1232.produce[3]=0,a1228.a1225.applyFunc(10004,5041)),(a1232.producetime[2]<=0&&a1232.hatchtime[2]<=0||!a1232.produce[4]||!a1232.produce[5])&&(a1232.produce[4]=0,a1232.produce[5]=0,a1228.a1225.applyFunc(10004,5041))},e.prototype.close=function(){this.clearDate(),this.a2388(),a1251.a1413(this),a1228.a1252.removeAll(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1183.prototype,"a1183");var a1121=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.rareDinoView,a1251.a1412(e,e.Image_Dino,egret.TouchEvent.TOUCH_TAP,e.a1952,!1),e}return __extends(e,t),e.prototype.dataChanged=function(){1==this.data.select?(this.Group.y=0,this.DebrisShow.visible=!1,this.flush1()):2==this.data.select&&(this.Group.y=25,this.DebrisShow.visible=!0,this.flush2())},e.prototype.flush1=function(){var t=new a1231(null,[this.data.index,1,0,1,0]);this.Image_BG.source="Level"+this.data.xiyou+"_png",this.Image_Dino.source=this.data.xiyoupic,this.NameLabel.text=a1228.a1230.a2554(t)},e.prototype.flush2=function(){var t=new a1231(null,[this.data.index,1,0,1,0]);this.Image_BG.source="Level"+a1228.g_PlayerData[this.data.index].xiyou+"_png",this.Image_Dino.source=a1228.a1230.a2555(t),this.NameLabel.text=a1228.a1230.a2554(t),this.numLabel.text="x"+this.data.num},e.prototype.a1952=function(){var t=new a1231(null,[this.data.index,1,0,1,0]);a1228.a1225.applyFunc(10004,5099,t)},e}(eui.ItemRenderer);__reflect(a1121.prototype,"a1121");var a1185=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.adflag=!1,r._skin=a1243.ReceiveAwardSkin,r.data=a,r.adflag=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),1==this.data.length?(this.group1.visible=!1,this.group2.visible=!0,this.a2395(),this.adflag&&this.a2090(),this.a2115()):(this.group1.visible=!0,this.group2.visible=!1,this.a2394(),a1228.a1230.a2557(!0,this.group1))},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.group1,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2394=function(){var t=this;this.Data=[];for(var e=0;e<this.data.length;++e){var i={ID:this.data[e][0],Count:this.data[e][1],IsFont:1};this.Data.push(i)}1==this.data.length?this.scroll.width=120:2==this.data.length?this.scroll.width=240:3==this.data.length?this.scroll.width=360:this.scroll.width=480,this.PropsReward.dataProvider=new eui.ArrayCollection(this.Data),this.PropsReward.itemRenderer=a1135,egret.Tween.get(this.scroll).wait(10).call(function(){t.scroll.width=Math.min(t.scroll.width,650)})},e.prototype.a2395=function(){this.numLabel.text="x"+this.data[0][1],1==this.data[0][0]?(this.daoImg.source="panzs_png",this.daoxImg.source="panzs_png"):2==this.data[0][0]?(this.daoImg.source="panlg_png",this.daoxImg.source="panlg_png"):this.data[0][0]>100&&this.data[0][0]<400&&(this.daoImg.source=a1228.g_PropsData[this.data[0][0]].icon,this.daoxImg.source=a1228.g_PropsData[this.data[0][0]].icon)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5084);var t=a1228.a1226.a2525(136);3==a1232.guideStep&&2==a1232.curLevel&&3!=t.ID&&t&&a1228.a1225.applyFunc(10004,5088,t.ID)},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.daoImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700;egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.sureBtn).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200);var i=10,a=300;egret.Tween.get(this.infoGroup).wait(t).to({y:this.infoGroup.y-i},a),egret.Tween.get(this.sureBtn).wait(e).to({y:this.sureBtn.y-i},a),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1185.prototype,"a1185");var a1186=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.starUpItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a1952,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a1952=function(){var t=a1228.a1226.a2525(177);t&&t.a2345(this)},e.prototype.setStarPos=function(){var t=this.data.starNum;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.suoImg.visible=!1,this.shangImg.visible=!1,this.gouImg.visible=this.data.select,this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data.index].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[this.data.index].xiyou+"_png",this.dinosaurImg.source=a1228.a1230.a2555(this.data.info),this.nameLabel.text=a1228.a1230.a2554(this.data.info),this.levelLabel.text=""+this.data.level;var t="";this.data.fight||this.data.zbfight?t="sztips_png":this.data.cheer||this.data.zbcheer?t="zztips_png":this.data.produce?t="fztips_png":this.data.grow&&(t="yztips_png"),this.useImg.source=t,a1228.a1230.a2552(this,"starImg",this.data.starNum,!1),this.setStarPos()},e}(eui.ItemRenderer);__reflect(a1186.prototype,"a1186");var RecoverOneKeyItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.recoverOneKeyItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.selectBtn,egret.TouchEvent.TOUCH_TAP,this.a2396),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2396=function(){this.data.select=!this.data.select,this.selectImg.visible=this.data.select},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=this.data.index;this.levelLabel.text=""+this.data.level,this.dinosaurImg.source=a1228.a1230.a2555(this.data.info),this.nameLabel.text=a1228.a1230.a2554(this.data.info),this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.selectImg.visible=this.data.select,a1228.a1230.a2552(this,"starImg",this.data.starNum,!1),this.a2397()},e.prototype.a2397=function(){var t=this.data.starNum;1==t||6==t?this.starGroup.x=48:2==t||7==t?this.starGroup.x=37:3==t||8==t?this.starGroup.x=26:4==t||9==t?this.starGroup.x=11:(5==t||10==t)&&(this.starGroup.x=0)},e}(eui.ItemRenderer);__reflect(RecoverOneKeyItemView.prototype,"RecoverOneKeyItemView");var RecoverOneKeySuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.recoverOneKeySuccessSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2115(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){if(this.data){for(var t=0,e=0;e<this.data.length;e++){for(var i=0;i<a1228.g_recoverData[this.data[e].starNum].reward.length;i++){var a=a1228.g_recoverData[this.data[e].starNum].reward[i][0],n=a1228.g_recoverData[this.data[e].starNum].reward[i][1];1==a&&(t+=n)}delete a1232.playerIDs[this.data[e].id]}this.numLabel.text="x"+t,a1228.a1225.applyFunc(10004,5035,1,t,114),a1228.a1225.applyFunc(10004,5041)}},e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5187);var t=a1228.a1226.a2525(177);t&&t.a2187()},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.daoImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700;egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.returnLabel).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200);var i=10,a=300;egret.Tween.get(this.infoGroup).wait(t).to({y:this.infoGroup.y-i},a),egret.Tween.get(this.returnLabel).wait(e).to({y:this.returnLabel.y-i},a),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(RecoverOneKeySuccessView.prototype,"RecoverOneKeySuccessView");var a1187=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.selectData=[],n._skin=a1243.recoverOneKeySkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initList(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.recoverKeyBtn,egret.TouchEvent.TOUCH_TAP,this.a2398)},e.prototype.initList=function(){this.scrollList.dataProvider=new eui.ArrayCollection(this.data),this.scrollList.itemRenderer=RecoverOneKeyItemView},e.prototype.a2398=function(){for(var t=this,e=0;e<this.data.length;e++)this.data[e].select&&this.selectData.push(this.data[e]);this.selectData.length>0?a1228.a1230.a2549(function(){a1228.a1225.applyFunc(10004,5185),a1228.a1225.applyFunc(10004,5186,t.selectData),a1228.a1225.applyFunc(10004,5044,9)},1,[211,"恐龙回收"]):a1228.a1245.a2612(langue.recoverselec)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5185)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1187.prototype,"a1187");var RecoverSuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.recoverSuccessSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2115(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){if(this.data)for(var t=0;t<this.data.length;t++)1==this.data[t].ID&&(this.numLabel.text="x"+this.data[t].Count)},e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){for(var t=0;t<this.data.length;t++)1==this.data[t].ID&&a1228.a1225.applyFunc(10004,5035,1,this.data[t].Count,114);a1228.a1225.applyFunc(10004,5041);var e=a1228.a1226.a2525(177);e&&e.a2187(),a1228.a1230.a2557(!1,this.group,5175)},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.daoImg).to({scaleX:.05,scaleY:.05},0).to({scaleX:1.3,scaleY:1.3},300,egret.Ease.cubicInOut).to({scaleX:1.25,scaleY:1.25},50).to({scaleX:1.3,scaleY:1.3},50).wait(600).to({scaleX:1.31,scaleY:1.31},50),egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),egret.Tween.get(this.aniGroup).to({y:this.aniGroup.y-300},0).to({scaleX:0,scaleY:0},0).to({scaleX:1.2,scaleY:1.2},100).wait(500).to({y:this.aniGroup.y,scaleX:1,scaleY:1},200,egret.Ease.cubicInOut),egret.Tween.get(this.titleGroup).to({scaleX:0,scaleY:0},0).wait(700).to({scaleX:.1,scaleY:.2},0).to({scaleX:1.4,scaleY:1.1,y:this.titleGroup.y+5},150).wait(100).to({scaleX:1,scaleY:1,y:this.titleGroup.y-25},250);var t=1400,e=1700;egret.Tween.get(this.infoGroup).to({scaleX:0,scaleY:0},0).wait(t).to({scaleX:1,scaleY:1},200),egret.Tween.get(this.returnLabel).to({scaleX:0,scaleY:0},0).wait(e).to({scaleX:1,scaleY:1},200);var i=10,a=300;egret.Tween.get(this.infoGroup).wait(t).to({y:this.infoGroup.y-i},a),egret.Tween.get(this.returnLabel).wait(e).to({y:this.returnLabel.y-i},a),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(RecoverSuccessView.prototype,"RecoverSuccessView");var a1188=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.data1=null,a.data2=null,a.data3=null,a.data4=null,a.data5=null,a.saiXun=1,a._skin=a1243.recoverSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2138(1),this.a2090(),a1228.a1230.a2557(!0,this.group),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[112])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.recoverBtn,egret.TouchEvent.TOUCH_TAP,this.a2401),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scrolle.a1621(),this.a2187()},e.prototype.a2345=function(t){var e=t.data.id,i=a1228.a1230.a2550(Number(e)),a=i[0],n=i[1],r=i[2],s=i[3],o=i[4],l=i[5];if(a||o)return void a1228.a1245.a2612(langue.shangin);if(n||l)return void a1228.a1245.a2612(langue.cheerin);if(r)return void a1228.a1245.a2612(langue.producein);if(s)return void a1228.a1245.a2612(langue.growin);if(!(this.data1&&this.data2&&this.data3&&this.data4&&this.data5&&0==t.data.select)){t.data.select=!t.data.select&&!0||!1;for(var h=0;h<t.parent.numChildren;h++){var p=t.parent.getChildAt(h);p.refresh()}for(var h=1;5>=h;h++)if(this["data"+h]&&t.data.id==this["data"+h].id)t.data.select?this["data"+h]=t.data:this["data"+h]=null;else if(!this["data"+h]&&t.data.select){var u=this.data1&&this.data1.id||0,c=this.data2&&this.data2.id||0,d=this.data3&&this.data3.id||0,g=this.data4&&this.data4.id||0,f=this.data5&&this.data5.id||0,m=t.data.id;m!=u&&m!=c&&m!=d&&m!=g&&m!=f&&(this["data"+h]=t.data)}this.a2399()}},e.prototype.a2399=function(){for(var t=1;5>=t;t++){var e=t,i=this["data"+t];i?(this["kuangImage"+e].source="Level"+a1228.g_PlayerData[i.index].xiyou+"_png",this["leveldbImg"+e].source="dbdj"+a1228.g_PlayerData[i.index].xiyou+"_png",this["dinosaurImg"+e].source=a1228.a1230.a2555(i.info),this["nameLabel"+e].text=a1228.a1230.a2554(i.info),this["levelLabel"+e].text=""+i.level,a1228.a1230.a2552(this,"starImg"+e+"_",i.starNum,!1),this.a2397(i.starNum,e),this["recoveryGroup"+e].visible=!0,this["addGroup"+e].visible=!1):(this["recoveryGroup"+e].visible=!1,this["addGroup"+e].visible=!0)}this.a2400()},e.prototype.a2400=function(){for(var t=0,e=1;5>=e;e++)this["data"+e]&&(t+=a1228.g_recoverData[this["data"+e].starNum].reward[0][1]);if(t>0){var i=[],a={ID:1,Count:t};i.push(a),this.scrollList.dataProvider=new eui.ArrayCollection(i),this.scrollList.itemRenderer=a1135,this.reword=i}else this.reword=null,this.scrollList.dataProvider=new eui.ArrayCollection([]),this.scrollList.itemRenderer=a1135},e.prototype.a2401=function(){var t=this;if(this.reword){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["112","回收恐龙"])}else a1228.a1245.a2612(langue.plrecover)},e.prototype.handleFunc=function(){for(var t=[],e=0;5>=e;e++)this["data"+e]&&this["data"+e].id&&(t.push(this["data"+e].id),delete a1232.playerIDs[this["data"+e].id]);for(var e=0;e<a1232.zhengbaPos.length;++e){var i=a1232.zhengbaPos[e],a=a1232.zhengbaCheer[e][0],n=a1232.zhengbaCheer[e][1];-1==i||a1232.playerIDs[i]||(a1232.zhengbaPos[e]=0),-1==a||a1232.playerIDs[a]||(a1232.zhengbaCheer[e][0]=0),-1==n||a1232.playerIDs[n]||(a1232.zhengbaCheer[e][1]=0)}this.scrollList.dataProvider=new eui.ArrayCollection([]),a1228.a1225.applyFunc(10004,5052,t),a1228.a1225.applyFunc(10004,5174,this.reword),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5042);for(var e=1;5>=e;e++)this["data"+e]=null,this["recoveryGroup"+e].visible=!1,this["addGroup"+e].visible=!0;this.a2399()},e.prototype.a2187=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e];if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[i.index].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[i.index].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[i.index].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[i.index].xiyou){for(var a=a1228.a1230.a2550(Number(e)),n={id:Number(e),index:i.index,info:a1232.playerIDs[e],level:i.level,starNum:i.star,jinhua:i.jinhua,xiyou:a1228.g_PlayerData[i.index].xiyou,select:!1,fight:a[0],cheer:a[1],produce:a[2],grow:a[3],zbfight:a[4],zbcheer:a[5]},r=1;5>=r;r++)this["data"+r]&&this["data"+r].id==n.id&&(n.select=!0);t.push(n)}}t.sort(function(t,e){return t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.index<e.index&&1||-1:t.xiyou>e.xiyou&&1||-1:t.cheer>e.cheer&&1||-1:t.fight>e.fight&&1||-1}),this.scrollerList.dataProvider=new eui.ArrayCollection(t),this.scrollerList.itemRenderer=a1186,this.a2399()},e.prototype.a2397=function(t,e){1==t||6==t?this["starGroup"+e].x=48:2==t||7==t?this["starGroup"+e].x=37:3==t||8==t?this["starGroup"+e].x=26:4==t||9==t?this["starGroup"+e].x=11:(5==t||10==t)&&(this["starGroup"+e].x=0)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5169)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1188.prototype,"a1188");var SelectMyAreaItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.selectMyAreaItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2402,!0),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2298=function(){var t;if(this.data.extInfo){var e=void 0,i=void 0,a=void 0,n=void 0,r=JSON.parse(this.data.extInfo),s=this.data.extAttr&&JSON.parse(this.data.extAttr)||{};s.playerIDs?(i=s.playerIDs,"string"==typeof s.playerIDs&&(i=JSON.parse(s.playerIDs))):r.playerIDs&&(i=r.playerIDs,"string"==typeof r.playerIDs&&(i=JSON.parse(r.playerIDs))),e=r.curPlayers||[],a=r.cheerIDs||[],n=r.cheerLock||[],"string"==typeof r.curPlayers&&(e=r.curPlayers&&JSON.parse(r.curPlayers)||[]),"string"==typeof r.cheerIDs&&(a=r.cheerIDs&&JSON.parse(r.cheerIDs)||[]),"string"==typeof r.cheerLock&&(n=r.cheerLock&&JSON.parse(r.cheerLock)||[]),i||(e=[],a=[]),t={playerIDs:i,curPlayers:e,cheerIDs:a,cheerLock:n}}return t},e.prototype.a2402=function(){var t=a1228.a1226.a2525(176);if(t)if(t.selectdata=this.data,a1232.gameAreaId==t.selectdata.id)a1228.a1245.a2612(langue.serverin);else if(1==t.selectdata.state)a1228.a1245.a2612(langue.serverdefend);else if(2==t.selectdata.state)a1228.a1245.a2612(langue.serverclose);else{var e={type:2,content:langueOfvalue(langue.qiehuan,t.selectdata.name),callback:function(){a1232.zhengbaReward2=null,a1232.zhengbaFitOpen2=!1,a1232.gameAreaId=t.selectdata.id,a1232.gameAreaId2=t.selectdata.id,a1232.initdata=!1,a1228.Main.isLogining=!1,a1232.trackId="",a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5167),a1228.a1225.applyFunc(10004,5017),a1228.Main.a2479()}};a1228.a1225.applyFunc(10004,5170,e)}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.lineupData=this.a2298(),this.nameLabel.text=this.data.name;var t=this.data.isNew,e=this.data.curArea;if(t&&e?(this.newRedImg.visible=!0,this.newRedImg.source="qfx1_png"):e?(this.newRedImg.visible=!0,this.newRedImg.source="qfx1_png"):t?(this.newRedImg.visible=!0,this.newRedImg.source="qfx_png"):this.newRedImg.visible=!1,0==this.data.state?this.stateImg.source="color2_png":1==this.data.state?this.stateImg.source="color1_png":2==this.data.state?this.stateImg.source="color4_png":3==this.data.state&&(this.stateImg.source="color3_png"),this.lineupData){var i=void 0,a=void 0,n=void 0,r=void 0;
a1232.gameAreaId==this.data.id?(i=a1232.playerIDs,a=a1232.curPlayers,n=a1232.cheerIDs,r=a1232.cheerLock,this.a2403(i,a,n,r)):(i=this.lineupData.playerIDs,a=this.lineupData.curPlayers,n=this.lineupData.cheerIDs,r=this.lineupData.cheerLock,this.a2404(i,a,n,r))}else this.group1.visible=!1,this.group2.visible=!1},e.prototype.a2403=function(t,e,i,a){if(this.lineupData){var n=e[0],r=e[1];if(n>0){var s=t[n],o=s.index,l=s.level,h=(s.jinhua,s.star);this.group1.visible=!0,this.levelLabel1.text=""+l,this.Rarity_Image1.source="Level"+a1228.g_PlayerData[o].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[o].xiyou+"_png",this.nameLabel1.text=a1228.a1230.a2554(s),this.dinosaurImg1.source=a1228.a1230.a2555(s),this.starGroup1.visible=h>0&&!0||!1,a1228.a1230.a2552(this,"starImg1_",h,!0)}else this.group1.visible=!1;if(r){var p=t[r],u=p.index,c=p.level,d=(p.jinhua,p.star);this.group2.visible=!0,this.levelLabel2.text=""+c,this.Rarity_Image2.source="Level"+a1228.g_PlayerData[u].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[u].xiyou+"_png",this.nameLabel2.text=a1228.a1230.a2554(p),this.dinosaurImg2.source=a1228.a1230.a2555(p),this.starGroup2.visible=d>0&&!0||!1,a1228.a1230.a2552(this,"starImg2_",d,!0)}else this.group2.visible=!1}else this.group1.visible=!1,this.group2.visible=!1},e.prototype.a2404=function(t,e,i,a){if(this.lineupData){var n=e[0],r=e[1];if(n>0&&t[n]){var s=t[n][0],o=t[n][1],l=(t[n][3],t[n][4]);this.group1.visible=!0,this.levelLabel1.text=""+o,this.Rarity_Image1.source="Level"+a1228.g_PlayerData[s].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[s].xiyou+"_png",this.nameLabel1.text=a1228.a1230.a2554(new a1231(null,t[n])),this.dinosaurImg1.source=a1228.a1230.a2555(new a1231(null,t[n])),this.starGroup1.visible=l>0&&!0||!1,a1228.a1230.a2552(this,"starImg1_",l,!0)}else this.group1.visible=!1;if(r&&t[r]){var h=t[r][0],p=t[r][1],u=(t[r][3],t[r][4]);this.group2.visible=!0,this.levelLabel2.text=""+p,this.Rarity_Image2.source="Level"+a1228.g_PlayerData[h].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[h].xiyou+"_png",this.nameLabel2.text=a1228.a1230.a2554(new a1231(null,t[r])),this.dinosaurImg2.source=a1228.a1230.a2555(new a1231(null,t[r])),this.starGroup2.visible=u>0&&!0||!1,a1228.a1230.a2552(this,"starImg2_",u,!0)}else this.group2.visible=!1}else this.group1.visible=!1,this.group2.visible=!1},e.prototype.onclean=function(){a1251.a1413(this)},e}(eui.ItemRenderer);__reflect(SelectMyAreaItemView.prototype,"SelectMyAreaItemView");var SelectLeftAreaItemView=function(t){function e(){var e=t.call(this)||this;return e.select=!1,e.skinName=a1243.selectAreaLeftItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2405,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2405=function(){if(!this.data.select){var t=a1228.a1226.a2525(176);if(t){for(var e=0;e<t.scrollList2.$children.length;e++){var i=t.scrollList2.$children[e];i.data.select=this.itemIndex==i.itemIndex&&!0||!1,i.refresh()}t.scrollList3.dataProvider=new eui.ArrayCollection(this.data.areadata),t.scrollList3.itemRenderer=SelectRightAreaItemView}}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.nameLabel.text=this.data.name,this.jtImg.visible=this.data.select,this.btnbgImg.source=this.data.select&&"qfimg1_png"||"qfimg3_png"},e.prototype.onclean=function(){a1251.a1413(this)},e}(eui.ItemRenderer);__reflect(SelectLeftAreaItemView.prototype,"SelectLeftAreaItemView");var SelectRightAreaItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.selectAreaRightItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2402,!0),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2402=function(){var t=a1228.a1226.a2525(176);if(t.selectdata=this.data,a1232.gameAreaId==t.selectdata.id)a1228.a1245.a2612(langue.serverin);else if(1==t.selectdata.state)a1228.a1245.a2612(langue.serverdefend);else if(2==t.selectdata.state)a1228.a1245.a2612(langue.serverclose);else{var e={type:2,content:langueOfvalue(langue.qiehuan,t.selectdata.name),callback:function(){a1232.zhengbaReward2=null,a1232.zhengbaFitOpen2=!1,a1232.gameAreaId=t.selectdata.id,a1232.gameAreaId2=t.selectdata.id,a1232.initdata=!1,a1228.Main.isLogining=!1,a1232.trackId="",a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5167),a1228.a1225.applyFunc(10004,5017),a1228.Main.a2479()}};a1228.a1225.applyFunc(10004,5170,e)}},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.nameLabel.text=this.data.name,this.data.isNew?(this.newRedImg.visible=!0,this.newRedImg.source="qfx_png"):this.newRedImg.visible=!1,0==this.data.state?this.stateImg.source="color2_png":1==this.data.state?this.stateImg.source="color1_png":2==this.data.state?this.stateImg.source="color4_png":3==this.data.state&&(this.stateImg.source="color3_png")},e.prototype.onclean=function(){a1251.a1413(this)},e}(eui.ItemRenderer);__reflect(SelectRightAreaItemView.prototype,"SelectRightAreaItemView");var a1189=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.selectAreaSkin,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.scroller1.visible=!1,this.scroller2.visible=!1,this.scroller3.visible=!1,this.a2406(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.titleGroup1,egret.TouchEvent.TOUCH_TAP,this.a2406,!1),a1251.a1412(this,this.titleGroup2,egret.TouchEvent.TOUCH_TAP,this.a2407,!1)},e.prototype.a2406=function(){if(!this.scroller1.visible){this.selectdata=null;for(var t=[],e=0;e<a1232.myareas.length;e++){var i={id:a1232.myareas[e].areaId,name:a1232.myareas[e].areaName,state:a1232.myareas[e].areaState,extAttr:a1232.myareas[e].extAttr,extInfo:a1232.myareas[e].extInfo};t.push(i)}for(var a=!1,e=0;e<t.length;e++){var n=0,r=0;t[e].id==a1232.areas[a1232.areas.length-1].id&&(n=1,a=!0),a1232.gameAreaId==a1232.myareas[e].areaId&&(r=1),t[e].isNew=n,t[e].curArea=r}a||t.push({id:a1232.areas[a1232.areas.length-1].id,name:a1232.areas[a1232.areas.length-1].name,state:a1232.areas[a1232.areas.length-1].state,isNew:1,curArea:0}),t.sort(function(t,e){return t.curArea==e.curArea?t.isNew==e.isNew?t.id>e.id&&1||-1:t.isNew>e.isNew&&1||-1:t.curArea<e.curArea&&1||-1}),this.scrollList1.dataProvider=new eui.ArrayCollection(t),this.scrollList1.itemRenderer=SelectMyAreaItemView,this.scroller1.visible=!0,this.scroller2.visible=!1,this.scroller3.visible=!1,this.suoyoubgImg.visible=!1,this.img1.visible=!0,this.img2.visible=!1,this.titleBtn1.source="qfimg2_png",this.titleBtn2.source="qfimg4_png"}},e.prototype.a2407=function(){var t=this;if(!this.scroller2.visible||!this.scroller2.visible){this.selectdata=null;var e=[],i=0;a1232.areas.length<=10&&a1232.areas.length>0?i=1:a1232.areas.length>10?i=Math.floor((a1232.areas.length-1)/10)+1:0==a1232.areas.length&&(i=0);for(var a=0;i>a;a++){for(var n={name:"",groupid:a,areadata:[],select:!1},r=10*n.groupid;r<10*n.groupid+10;r++)a1232.areas[r]&&n.areadata.push({id:a1232.areas[r].id,name:a1232.areas[r].name,isNew:r==a1232.areas.length-1&&!0||!1,state:a1232.areas[r].state});var s=n.areadata.length,o=n.areadata[0].name,l=n.areadata[s-1].name,h=o.indexOf("-"),p=l.indexOf("-");-1!=h&&(o=o.slice(0,h)),-1!=p&&(l=l.slice(p+1)),n.name=o+"-"+l,e.push(n)}this.scrollList2.dataProvider=new eui.ArrayCollection(e),this.scrollList2.itemRenderer=SelectLeftAreaItemView,this.scroller1.visible=!1,this.scroller2.visible=!0,this.scroller3.visible=!0,this.suoyoubgImg.visible=!0,this.img1.visible=!1,this.img2.visible=!0,this.titleBtn1.source="qfimg4_png",this.titleBtn2.source="qfimg2_png",a1228.a1252.doTimer(100,1,function(){t.a2408(e)},this)}},e.prototype.a2408=function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].areadata.length;i++){var a=t[e].areadata[i];if(a.id==a1232.gameAreaId)for(var n=0;n<this.scrollList2.$children.length;n++){var r=this.scrollList2.$children[n];r.data.groupid==t[e].groupid&&r.a2405()}}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5167)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1189.prototype,"a1189");var a1190=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.langueConfig={english:"english",yuenan:"ViệtName",yinni:"Indonesia",malai:"Malay"},n._skin=a1243.settingView,n._controller.a1916(5167,n.a2293,n),n}return __extends(e,t),e.prototype.initUI=function(){var t=this;a1232.isDebug&&(a1232.serverchange=!0),this.changeGroup.visible=!1,this.event(),this.a2413(),this.a2090(),this.initLangue(),this.group.scaleX=.01,this.group.scaleY=.01,egret.Tween.get(this.group).to({scaleX:1,scaleY:1.08},200).to({scaleY:.96},150).to({scaleY:1.02},100).to({scaleY:1},100).call(function(){t.a2293()});for(var e=0;e<a1232.areas.length;e++)if(a1232.gameAreaId==a1232.areas[e].id){this.areaName.text=a1232.areas[e].name;break}this.playerIDLabel.text=langue.playerid+a1232.pgid,this.versionLabel.text=langue.version+a1232.wxVersion,this.resetBtn.visible=a1232.isDebug,platform.shareAppMessage||(this.fenxiangBtn.visible=!1),a1232.clearRoles?this.clearBtn.visible=!0:this.clearBtn.visible=!1,"ios"==platform.name||"android_qudao"==platform.name||"haluo"==platform.name?(this.changeNameBtn.visible=!0,this.clearBtn.y=723,this.changeNameBtn.y=723,this.changeNameRedImg.y=707):(this.clearBtn.horizontalCenter=0,this.changeNameBtn.visible=!1),("ios"==platform.name||"android_qudao"==platform.name||"haluo"==platform.name)&&a1232.changeNameNum<1?this.changeNameRedImg.visible=!0:this.changeNameRedImg.visible=!1,platform.showPrivacyBtn&&platform.showPrivacyBtn(this)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.yinguanImg,egret.TouchEvent.TOUCH_TAP,this.a2411),a1251.a1412(this,this.zhenkaiImg,egret.TouchEvent.TOUCH_TAP,this.a2410),a1251.a1412(this,this.yinkaiImg,egret.TouchEvent.TOUCH_TAP,this.a2412),a1251.a1412(this,this.zhenguanImg,egret.TouchEvent.TOUCH_TAP,this.a2409),a1251.a1412(this,this.fankuiBtn,egret.TouchEvent.TOUCH_TAP,this.a2294),a1251.a1412(this,this.fenxiangBtn,egret.TouchEvent.TOUCH_TAP,this.a2414),a1251.a1412(this,this.areaBtn,egret.TouchEvent.TOUCH_TAP,this.a2402),a1251.a1412(this,this.resetBtn,egret.TouchEvent.TOUCH_TAP,this.onReset),a1251.a1412(this,this.clearBtn,egret.TouchEvent.TOUCH_TAP,this.onClickClearRole),a1251.a1412(this,this.changeNameBtn,egret.TouchEvent.TOUCH_TAP,this.onChangeName),a1251.a1412(this,this.langueBtn,egret.TouchEvent.TOUCH_TAP,this.onChangeLangue)},e.prototype.onReset=function(){a1232.isDebug&&(a1228.a1226.destroy(105,new TestView(this,a1220.UI_Main_UP)),a1228.a1226.open(105))},e.prototype.onChangeName=function(){var t=this;if("ios"!=platform.name&&"android"!=platform.name&&"android_qudao"!=platform.name&&"haluo"!=platform.name);else if(a1232.changeNameNum<1){var e=a1232.userInfo&&a1232.userInfo.nickName||"";a1228.a1225.applyFunc(10004,5213,2,e,function(i){if(i&&i!=e){a1232.changeNameNum+=1,a1232.userInfo={nickName:i,avatarUrl:a1232.userInfo&&a1232.userInfo.avatarUrl||""},a1232.unionid=a1232.unionid||""+a1232.openid;var a={gameId:a1232.gameID,trackId:a1232.trackId,unionid:a1232.unionid,phoneNum:"",nickname:a1232.userInfo.nickName,avatarUrl:a1232.userInfo.avatarUrl,gender:"",country:"",province:"",city:""};a1228.a1247.a2623(a1232.URL_USER_INFO,egret.URLRequestMethod.POST,a,null,null),a1228.a1245.a2612("改名成功"),t.changeNameRedImg.visible=!1;var n=a1228.a1226.a2525(101);n&&(n.moreredImg.visible=!1,n.setredImg.visible=!1)}})}else a1228.a1245.a2612("已无改名次数")},e.prototype.initLangue=function(){var t=this,e=egret.localStorage.getItem("langue");e||(e=a1228.a1230.getLocalLangue()),this.langueList.visible=!1,this.curLangue.text=this.langueConfig[e],this.langue1.textFlow=new Array({text:this.langueConfig.english,style:{underline:!0}}),this.langue2.textFlow=new Array({text:this.langueConfig.yuenan,style:{underline:!0}}),this.langue3.textFlow=new Array({text:this.langueConfig.yinni,style:{underline:!0}}),this.langue4.textFlow=new Array({text:this.langueConfig.malai,style:{underline:!0}}),a1251.a1412(this,this.langue1,egret.TouchEvent.TOUCH_TAP,function(){t.onLangue("english")}),a1251.a1412(this,this.langue2,egret.TouchEvent.TOUCH_TAP,function(){t.onLangue("yuenan")}),a1251.a1412(this,this.langue3,egret.TouchEvent.TOUCH_TAP,function(){t.onLangue("yinni")}),a1251.a1412(this,this.langue4,egret.TouchEvent.TOUCH_TAP,function(){t.onLangue("malai")})},e.prototype.onChangeLangue=function(){var t=this;this.langueList.visible?(this.langueList.visible=!1,egret.Tween.get(this.langueBg).to({height:59},100).call(function(){})):egret.Tween.get(this.langueBg).to({height:140},100).call(function(){t.langueList.visible=!0})},e.prototype.onLangue=function(t){var e=this,i=egret.localStorage.getItem("langue");i||(i=a1228.a1230.getLocalLangue()),t!=i&&(a1228.a1225.applyFunc(10004,5170,{content:langue.changeLangue,type:2,callback:function(){return e.curLangue.text=e.langueConfig[t],egret.localStorage.setItem("langue",t),a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!1}}),a1228.a1225.applyFunc(10004,5017))},e.prototype.onClickClearRole=function(){a1228.a1225.applyFunc(10004,5274,1)},e.prototype.a2402=function(){a1232.serverchange&&(platform.removethisFeedbackButton(),a1228.a1225.applyFunc(10004,5166))},e.prototype.a2409=function(){a1232.effectState?(a1232.effectState=!1,this.a2413()):a1228.a1245.a2612(langue.zhengclose)},e.prototype.a2410=function(){a1232.effectState?a1228.a1245.a2612(langue.zhengopen):(a1232.effectState=!0,this.a2413())},e.prototype.a2411=function(){a1232.musicState?(a1232.musicState=!1,this.a2413(),a1228.a1238.a2586(a1232.musicState),a1228.a1238.a2585(a1232.musicState)):a1228.a1245.a2612(langue.soundclose)},e.prototype.a2412=function(){a1232.musicState?a1228.a1245.a2612(langue.soundopen):(a1232.musicState=!0,this.a2413(),a1228.a1238.a2586(a1232.musicState),a1228.a1238.a2585(a1232.musicState))},e.prototype.a2293=function(){this.height=a1228.a1122.a1873()},e.prototype.a2413=function(){a1232.musicState?(this.yinyueImg.source="kai_png",this.yinguanImg.source="g_png",this.yinkaiImg.source="k_png"):(this.yinyueImg.source="guan_png",this.yinguanImg.source="g0_png",this.yinkaiImg.source="k0_png"),a1232.effectState?(this.zhendongImg.source="kai_png",this.zhenguanImg.source="g_png",this.zhenkaiImg.source="k_png"):(this.zhendongImg.source="guan_png",this.zhenguanImg.source="g0_png",this.zhenkaiImg.source="k0_png");try{localStorage.setItem("musicState",a1232.musicState&&"1"||"0"),localStorage.setItem("effectState",a1232.effectState&&"1"||"0")}catch(t){}a1228.a1225.applyFunc(10004,5041)},e.prototype.a2414=function(){platform.isLocal()||setTimeout(function(){a1232.isShare=!0;var t=a1228.a1230.base64Date("fenxiangimg_png");t&&platform.shareAppMessage(t),a1227.getPoint("21","设置界面分享",4)},200)},e.prototype.a2294=function(){},e.prototype.a2095=function(){1==this.group.scaleX&&(this.group.scaleX=.99,egret.Tween.get(this.group).to({scaleX:.01,scaleY:.01},100).call(function(){a1228.a1225.applyFunc(10004,5017)}))},e.prototype.close=function(){a1251.a1413(this),this._controller.a1917(5167,this.a2293,this),a1228.a1245.closeBanner(),platform.removethisFeedbackButton(),t.prototype.close.call(this)},e}(a1116);__reflect(a1190.prototype,"a1190");var a1191=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.shengTangSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.reflshUI(),this._controller.a1916(5144,this.a2418,this),this._controller.a1916(5155,this.a2417,this),this._controller.a1916(5175,this.a2418,this),this._controller.a1916(5187,this.a2418,this),this._controller.a1916(5298,this.remidWashCharacter,this),a1228.a1230.a2557(!0,this.group)},e.prototype.reflshUI=function(){a1232.curLevel>=24?(this.characterWashBtn.scaleX=1,this.characterWashBtn.scaleY=1):(this.characterWashBtn.scaleX=0,this.characterWashBtn.scaleY=0),this.a2417(),this.a2418(),this.remidWashCharacter()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.startUpBtn,egret.TouchEvent.TOUCH_TAP,this.a2415,!1),a1251.a1412(this,this.chipHeBtn,egret.TouchEvent.TOUCH_TAP,this.a2416,!1),a1251.a1412(this,this.recoverBtn,egret.TouchEvent.TOUCH_TAP,this.a2401,!1),a1251.a1412(this,this.zhuangbeiBtn,egret.TouchEvent.TOUCH_TAP,this.onClickZhuangbei,!1),a1251.a1412(this,this.characterWashBtn,egret.TouchEvent.TOUCH_TAP,this.onClickWashCharacter,!1)},e.prototype.onClickWashCharacter=function(){a1228.a1230.interstitialAd(),a1232.character_redflag=!0,a1228.a1225.applyFunc(10004,5298)},e.prototype.onClickZhuangbei=function(){a1228.a1225.applyFunc(10004,5284)},e.prototype.a2401=function(){a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5168)},e.prototype.a2415=function(){a1228.a1230.interstitialAd(),a1232.star_redflag=!0,a1228.a1225.applyFunc(10004,5143)},e.prototype.a2416=function(){a1228.a1230.interstitialAd(),a1232.chiphe_redflag=!0,a1228.a1225.applyFunc(10004,5154)},e.prototype.remidWashCharacter=function(){return this.washRedImg.visible=!1,!a1232.character_redflag&&a1232.washcardNum>0?void(this.washRedImg.visible=!0):void 0},e.prototype.a2417=function(){if(this.hesui_Image.visible=!1,!a1232.chiphe_redflag)for(var t in a1232.Debris)if(a1228.g_PropsData[t].suipianNum&&a1232.Debris[t]>=a1228.g_PropsData[t].suipianNum)return void(this.hesui_Image.visible=!0)},e.prototype.a2418=function(){if(this.hestar_Image.visible=!1,!a1232.star_redflag)for(var t in a1232.playerIDs)for(var e in a1232.playerIDs)if(t!=e){var i=a1232.playerIDs[t],a=a1232.playerIDs[e],n=a1228.g_PlayerData[i.index].upstarLevel;if(i.index==a.index&&i.star==a.star&&i.level>=n&&i.star<10){for(var r=a1228.a1230.a2550(Number(a.id)),s=!0,o=0,l=r;o<l.length;o++){var h=l[o];h&&(s=!1)}if(s)return void(this.hestar_Image.visible=!0)}}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5142)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this),this._controller.a1917(5144,this.a2418,this),this._controller.a1917(5155,this.a2417,this),this._controller.a1917(5175,this.a2418,this),this._controller.a1917(5187,this.a2418,this),this._controller.a1917(5298,this.remidWashCharacter,this),a1232.releaseShengtangRes()},e}(a1116);__reflect(a1191.prototype,"a1191");var a1192=function(t){function e(){var e=t.call(this)||this;return e.canBuy=!1,e.skinName=a1243.foodItemView,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.buyGroup,egret.TouchEvent.TOUCH_TAP,this.a2419,!0),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2419=function(){var t=this.data.index,e=(a1228.g_PropsData[t],this.priceType);if(0!=this.canBuy)if(1==e&&a1232.diamond>=this.price||2==e&&a1232.gold>=this.price){var i=a1232.getFoodNum();if(i>=15)return void a1228.a1245.a2612(langue.foodfull);var a=1==e&&langue.fuwen||langue.longgu;a1228.a1245.a2613("-"+a1232.priceFormat(this.price,!0)+a),a1228.a1225.applyFunc(10004,5038,Number(t),1,e,this.price);for(var n=0;n<this.parent.numChildren;n++){var r=this.parent.getChildAt(n);r.refresh()}}else 1==e?a1228.a1245.a2612(langue.nofuwen):2==e&&(a1228.a1225.applyFunc(10004,5033,2),a1228.a1245.a2612(langue.nolonggu))},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=a1228.g_PropsData[this.data.index];if(a1232.maxLevelFood>=5){if(t.level<=a1232.maxLevelFood-3)return this.coinImg.visible=!0,this.zuanshiImg.visible=!1,this.suoImg.visible=!1,this.price=a1232.foodPrice(this.data.index,2),this.priceLabel.text=a1232.priceFormat(this.price,!0),this.foodLevel.text=""+t.level,this.foodImg.source=t.icon,this.nameLabel.text=t.name,this.srcLable.text=a1232.priceFormat(t.exp,!0)+langue.chengzhangchi,this.buyBgImg.source=a1232.gold>=this.price&&"TiaoZhanLabel_png"||"an_2_png",this.priceType=2,this.canBuy=!0,void(this.foodImg.filters=null);if(t.level<=a1232.maxLevelFood&&t.level>=a1232.maxLevelFood-2)return this.coinImg.visible=!1,this.zuanshiImg.visible=!1,this.suoImg.visible=!0,this.foodLevel.text=""+t.level,this.foodImg.source=t.icon,this.nameLabel.text=t.name,this.srcLable.text=a1232.priceFormat(t.exp,!0)+langue.chengzhangchi,this.buyBgImg.source="an_2_png",this.priceLabel.text="？？？",this.canBuy=!1,void(this.foodImg.filters=null);this.foodImg.source=t.icon,this.foodImg.filters=a1228.a1230.a2556(),this.coinImg.visible=!1,this.zuanshiImg.visible=!1,this.suoImg.visible=!0,this.srcLable.text=a1228.g_PropsData[this.data.index].lockterm,this.nameLabel.text="？？？",this.foodLevel.text=""+t.level,this.buyBgImg.source="an_2_png",this.priceLabel.text="？？？",this.canBuy=!1}},e.prototype.a2420=function(){var t=0;for(var e in a1228.g_PropsData)t=a1228.g_PropsData[e].level;return t},e.prototype.onclean=function(){a1251.a1413(this),this.foodImg.filters=null},e}(eui.ItemRenderer);__reflect(a1192.prototype,"a1192");var a1193=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.shopView,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2107(),this.a2090(),"kwaigame"!=platform.name&&a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2107=function(){var t=[];for(var e in a1228.g_PropsData)if(Number(e)>100&&Number(e)<200){var i={index:e};t.push(i)}this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1192},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5025)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1193.prototype,"a1193");var a1194=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.ShoucangSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.group.scaleX=.01,this.group.scaleY=.01,egret.Tween.get(this.group).to({scaleX:1,scaleY:1.08},200).to({scaleY:.96},150).to({scaleY:1.02},100).to({scaleY:1},100);var t=localStorage.getItem("collect");a1232.collectState?(this.dbImg.source="DoubleDark2_png",this.getBtn.source="lqjl2_png"):t?(this.dbImg.source="ButBG1_png",this.getBtn.source="lqjl_png"):(this.dbImg.source="DoubleDark2_png",this.getBtn.source="lqjl2_png")},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtnGroup,egret.TouchEvent.TOUCH_TAP,this.a2106)},e.prototype.a2106=function(){var t=localStorage.getItem("collect");a1232.collectState?a1228.a1245.a2612(langue.hasgets):t?(a1232.collectState=!0,this.dbImg.source="DoubleDark2_png",this.getBtn.source="lqjl2_png",a1228.a1225.applyFunc(10004,5083,[[1,300]]),a1228.a1225.applyFunc(10004,5035,1,300,106),a1228.a1225.applyFunc(10004,5041)):a1228.a1245.a2612(langue.shoucang)},e.prototype.a2095=function(){1==this.group.scaleX&&(this.group.scaleX=.99,egret.Tween.get(this.group).to({scaleX:.01,scaleY:.01},100).call(function(){a1228.a1225.applyFunc(10004,5021)}))},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1194.prototype,"a1194");var SignGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.sevenReward=[304,60],a._skin=a1243.signGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.reflshUI(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[404])},e.prototype.event=function(){a1251.a1412(this,this.signBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGet1),a1251.a1412(this,this.get7Btn,egret.TouchEvent.TOUCH_TAP,this.onClickGet2)},e.prototype.onClickGet1=function(){var t=this;if(a1232.signActFlag)a1228.a1245.a2612("已领取");else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc1()},e,["404","每日签到礼包"])}},e.prototype.handleFunc1=function(){a1232.signActFlag=1;for(var t=a1228.g_signGiftData[a1232.signActDay],e=t.reward,i=[],a=0;a<e.length;a++){var n=e[a][0],r=e[a][1];2==n&&(r=a1228.g_Monster[a1232.curLevel].reward[0][1]*e[a][1]);var s="";1==n?s="panzs_png":2==n?s="panlg_png":n>300&&400>n&&(s=a1228.g_PropsData[n].icon),i.push({id:n,num:r,icon:s}),a1228.a1225.applyFunc(10004,5035,n,r,133)}a1228.a1225.applyFunc(10004,5309,i),a1228.a1225.applyFunc(10004,5042),this.reflshUI()},e.prototype.onClickGet2=function(){var t=this;if(7==a1232.signActDay)if(a1232.signEwActFlag)a1228.a1245.a2612("已领取");else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc2()},e,["405","连续签到7天额外奖励"])}else a1228.a1245.a2612("连续签到7天后才可领奖")},e.prototype.handleFunc2=function(){a1232.signEwActFlag=1,a1228.a1225.applyFunc(10004,5083,[[this.sevenReward[0],this.sevenReward[1]]]),a1228.a1225.applyFunc(10004,5035,this.sevenReward[0],this.sevenReward[1],133),a1228.a1225.applyFunc(10004,5042),this.reflshUI()},e.prototype.reflshUI=function(){for(var t=a1228.g_signGiftData[a1232.signActDay],e=t.reward,i=1;3>=i;i++)if(e[i-1]){var a=e[i-1][0],n=e[i-1][1];1==a?(this["iconImg"+i].source="panzs1_png",this["numLabel"+i].text="x"+n):2==a?(this["iconImg"+i].source="panlg1_png",this["numLabel"+i].text="x"+n+"波"):a>300&&400>a&&(this["iconImg"+i].source=a1228.g_PropsData[a].icon,this["numLabel"+i].text="x"+n),this["group"+i].scaleX=1}else this["group"+i].scaleX=0;a1232.signActFlag?(this.advImg.scaleX=0,this.getwzLabel.text="已签到",this.statedbImg.source="an_2_png"):(this.advImg.scaleX=1,this.getwzLabel.text="领取",this.statedbImg.source="TiaoZhanLabel_png"),this.icon7Img.source=a1228.g_PropsData[this.sevenReward[0]].icon,this.num7Label.text="x"+this.sevenReward[1];var r=a1232.signActFlag&&a1232.signActDay||a1232.signActDay-1;this.progress7Label.text=""+r+"/7",7==a1232.signActDay&&(a1232.signEwActFlag?(this.adv7Img.scaleX=0,this.statedb7Img.source="an_2_png",this.getwz7Label.text="已领取"):(this.adv7Img.scaleX=1,this.statedb7Img.source="TiaoZhanLabel_png",this.getwz7Label.text="领取")),7==a1232.signActDay&&a1232.signActFlag?(this.signBtn.visible=!1,this.get7Btn.visible=!0):(this.signBtn.visible=!0,this.get7Btn.visible=!1)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(SignGiftView.prototype,"SignGiftView");var SkyGiftView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.endtimes=0,a.rateArr=[],a._skin=a1243.skyGiftSkin,a}return __extends(e,t),e.prototype.initUI=function(){var t=a1232.yuandanEnterDay4,e=new Date(t),i=e.toLocaleDateString(),a=new Date(i).getTime();this.endtimes=a+2592e5;for(var n in a1228.g_skyGiftData)this.rateArr.push(a1228.g_skyGiftData[n]);this.event(),this.reflshUI(),a1228.a1252.doTimer(1e3,0,this.reflshUI,this),a1228.a1230.a2557(!0,this.group)},e.prototype.reflshUI=function(){var t=a1228.a1230.getYaunActiveDay();if(t>=1&&3>=t){var e=this.endtimes-1e3*a1232.getServerTime();this.timeLabel.text=a1228.a1240.a2597(e/1e3,5)}else this.timeLabel.text="已结束";this.giftNumLabel.text="获得礼包："+a1232.skygiftCount+"/10",this.giftNumLabel.textFlow=[{text:"获得礼包：",style:{size:30,textColor:16777215}},{text:a1232.skygiftCount+"/10",style:{size:36,textColor:16763191}}]},e.prototype.a2118=function(){for(var t=0,e=0;e<this.rateArr.length;e++)t+=this.rateArr[e].rate;for(var i=a1228.a1245.random_num(0,t),a=[],e=0;e<this.rateArr.length;e++)if(a[e]=[],this.rateArr[e].rate<=0)a[e][0]=0,a[e][1]=0;else{for(var n=0,r=0;e>r;r++)n+=this.rateArr[r].rate;a[e][0]=n,a[e][1]=n+this.rateArr[e].rate}for(var s=3,e=0;e<a.length;e++)if(i>=a[e][0]&&i<=a[e][1]){s=e+1;break}return this.rateArr[s-1].index},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn1,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){if(a1228.a1245.a2619(this,this.getBtn1,1500))if(a1232.skygiftCount>0){var t=this.a2118(),e=a1228.g_skyGiftData[t].itemid,i=a1228.g_skyGiftData[t].num;a1232.skygiftgetCount+=1,a1232.skygiftCount-=1,a1228.a1225.applyFunc(10004,5035,e,i,121),a1228.a1225.applyFunc(10004,5083,[[e,i]]),a1228.a1225.applyFunc(10004,5042)}else a1228.a1245.a2612("礼包个数不足")},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5289)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(SkyGiftView.prototype,"SkyGiftView");var a1195=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r._skin=a1243.starUpDetailsSkin,r.data1=a,r.data2=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),this.initialize()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112),a1251.a1412(this,this.cancelBtn,egret.TouchEvent.TOUCH_TAP,this.a2133)
},e.prototype.a2112=function(){var t=Number(this.data1.id),e=Number(this.data2.id),i=a1232.playerIDs[t];a1232.playerIDs[e];delete a1232.playerIDs[e],i.star+=1;var a=a1232.curPlayers.indexOf(t),n=a1232.curPlayers.indexOf(e);-1!=n&&(a1232.curPlayers[n]=t,-1!=a&&(a1232.curPlayers[a]=0));for(var r=0;r<a1232.zhengbaPos.length;++r){var s=a1232.zhengbaPos[r],o=a1232.zhengbaCheer[r][0],l=a1232.zhengbaCheer[r][1];-1==s||a1232.playerIDs[s]||(a1232.zhengbaPos[r]=0),-1==o||a1232.playerIDs[o]||(a1232.zhengbaCheer[r][0]=0),-1==l||a1232.playerIDs[l]||(a1232.zhengbaCheer[r][1]=0)}a1228.a1225.applyFunc(10004,5052,[t,e]),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5152,this.data1),!(i.jinhua>0||-2==i.jinhua)||2!=i.star&&4!=i.star||a1228.a1225.applyFunc(10004,5190,this.data1)},e.prototype.a2133=function(){a1228.a1230.a2557(!1,this.group,5151)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5151)},e.prototype.initialize=function(){var t=a1232.playerIDs[this.data1.id],e=a1231.copyDinosaur(t),i=a1232.playerIDs[this.data2.id],a=a1231.copyDinosaur(i);e.star+=1,this.Rarity_Image1.source="Level"+a1228.g_PlayerData[this.data1.index].xiyou+"_png",this.dinosaurImg1.source=a1228.a1230.a2555(t),this.nameLabel1.text=a1228.a1230.a2554(t),this.Rarity_Image2.source="Level"+a1228.g_PlayerData[this.data1.index].xiyou+"_png",this.dinosaurImg2.source=a1228.a1230.a2555(e),this.nameLabel2.text=a1228.a1230.a2554(e),this.Rarity_Image3.source="Level"+a1228.g_PlayerData[this.data2.index].xiyou+"_png",this.dinosaurImg3.source=a1228.a1230.a2555(a),this.nameLabel3.text=a1228.a1230.a2554(a),a1228.a1230.a2552(this,"starImg1_",this.data1.starNum,!0),a1228.a1230.a2552(this,"starImg3_",this.data1.starNum,!0),a1228.a1230.a2552(this,"starImg2_",this.data1.starNum+1,!0),this.a2421()},e.prototype.a2421=function(){var t=a1232.playerIDs[this.data1.id],e=a1231.copyDinosaur(t);e.star+=1;var i=[a1232.a1886(t),a1232.a1886(e)],a=[a1232.getDefence(t),a1232.getDefence(e)],n=[a1232.getAttack(t),a1232.getAttack(e)],r=[a1232.getGongsu(t),a1232.getGongsu(e)],s=[a1232.getBaoji(t),a1232.getBaoji(e)],o=[a1232.getShanbi(t),a1232.getShanbi(e)];this.HP1_Label.text=langue.hp+" "+i[0],this.Defense1_Label.text=langue.def+" "+a[0],this.Attack1_Label.text=langue.atk+" "+n[0],this.Atktime1_Label.text=langue.spe+" "+r[0],this.baoji1_Label.text=langue.crit+" "+s[0]+"%",this.shanbi1_Label.text=langue.dodge+" "+o[0]+"%",this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.baoji2_Label.text=""+s[1]+"%",this.shanbi2_Label.text=""+o[1]+"%",this.AddHP_Label.text="+"+(i[1]-i[0]),this.AddDefense_Label.text="+"+(a[1]-a[0]),this.AddAttack_Label.text="+"+(n[1]-n[0]),this.baoji_Label.text="+"+(s[1]-s[0])+"%",this.shanbi_Label.text="+"+(o[1]-o[0])+"%"},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1195.prototype,"a1195");var a1196=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.starUpItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.a2343,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.a2343=function(){if(1==this.data.judge||2==this.data.judge){var t=a1228.a1226.a2525(162);t&&(t.clickPoint=this.a1263(0,0)),a1228.a1225.applyFunc(10004,5147,this.itemIndex)}else 3==this.data.judge&&(this.data.lockFlag?(this.data.lockFlag=!1,a1232.starUpLockID[this.data.id]&&delete a1232.starUpLockID[this.data.id],a1228.a1245.a2612("已解锁")):(this.data.lockFlag=!0,a1232.starUpLockID[this.data.id]=1,a1228.a1245.a2612("已锁定")),this.reflesh3(),a1228.a1225.applyFunc(10004,5042))},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){1==this.data.judge?this.reflesh():2==this.data.judge?this.reflesh2():3==this.data.judge&&this.reflesh3(),this.setStarPos()},e.prototype.setStarPos=function(){var t=this.data.starNum;null==this.starGroup.baseX&&(this.starGroup.baseX=this.starGroup.x),1==t||6==t?this.starGroup.x=this.starGroup.baseX+47:2==t||7==t?this.starGroup.x=this.starGroup.baseX+36:3==t||8==t?this.starGroup.x=this.starGroup.baseX+24:4==t||9==t?this.starGroup.x=this.starGroup.baseX+10:(5==t||10==t)&&(this.starGroup.x=this.starGroup.baseX)},e.prototype.reflesh2=function(){a1251.a1413(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1413(this,this,egret.TouchEvent.TOUCH_TAP,this.a2343,!1),this.GouIcon.visible=!1,this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[this.data.index].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[this.data.index].xiyou+"_png";var t=a1232.playerIDs[this.data.id];this.nameLabel.text=a1228.a1230.a2554(t),this.dinosaurImg.source=a1228.a1230.a2555(t),a1228.a1230.a2552(this,"starImg",this.data.starNum,!1);var e="";this.data.fight||this.data.zbfight?e="sztips_png":this.data.cheer||this.data.zbcheer?e="zztips_png":this.data.produce?e="fztips_png":this.data.grow&&(e="yztips_png"),this.useImg.source=e},e.prototype.reflesh=function(){var t=this.data.index;this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png";var e=a1232.playerIDs[this.data.id];this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e),a1228.a1230.a2552(this,"starImg",this.data.starNum,!1),this.gou_tip(),this.lock_tip(),this.dai_tip(),this.red_tip(),this.use_tip(),this.starlock_tip()},e.prototype.starlock_tip=function(){a1232.starUpLockID[this.data.id]?this.starLockImg.visible=!0:this.starLockImg.visible=!1},e.prototype.use_tip=function(){this.upImg.visible?this.useImg.source="":this.data.fight||this.data.zbfight?this.useImg.source="sztips_png":this.data.cheer||this.data.zbcheer?this.useImg.source="zztips_png":this.data.produce?this.useImg.source="fztips_png":this.data.grow?this.useImg.source="yztips_png":this.useImg.source=""},e.prototype.red_tip=function(){this.upImg.visible=!0;var t=a1228.a1226.a2525(162);this.data.lockFlag?this.upImg.visible=!1:this.data.selectFlag||this.data.selectFlag2?this.upImg.visible=!1:t&&null!=t.itemIndex1&&null!=t.itemIndex2?this.upImg.visible=!1:this.data.canUp?t&&null!=t.itemIndex1&&null==t.itemIndex2&&a1232.starUpLockID[this.data.id]&&(this.upImg.visible=!1):this.upImg.visible=!1},e.prototype.dai_tip=function(){this.shangImg.visible=!1;var t=a1228.a1226.a2525(162);t&&null!=t.itemIndex1&&null==t.itemIndex2&&(this.data.selectFlag||this.data.selectFlag2||!this.data.selectFlag3||a1232.starUpLockID[this.data.id]||(this.shangImg.visible=!0))},e.prototype.lock_tip=function(){this.suoImg.source="";var t=a1228.a1226.a2525(162);this.data.lockFlag?this.suoImg.source="sxs_png":t&&null!=t.itemIndex1&&null!=t.itemIndex2?this.itemIndex!=t.itemIndex1&&this.itemIndex!=t.itemIndex2&&(this.suoImg.source="sxs_png"):t&&null!=t.itemIndex1&&null==t.itemIndex2&&a1232.starUpLockID[this.data.id]&&this.itemIndex!=t.itemIndex1&&(this.suoImg.source="sxs_png")},e.prototype.gou_tip=function(){this.data.selectFlag?this.gouImg.source="sxdg1_png":this.data.selectFlag2?this.gouImg.source="sxdg_png":this.gouImg.source=""},e.prototype.reflesh3=function(){var t=this.data.index;this.levelLabel.text=""+this.data.level,this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png";var e=a1232.playerIDs[this.data.id];this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e),a1228.a1230.a2552(this,"starImg",this.data.starNum,!1),this.gouImg.source="",this.shangImg.visible=!1,this.lock_tip(),this.red_tip(),this.use_tip()},e}(eui.ItemRenderer);__reflect(a1196.prototype,"a1196");var a1197=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.StarUpKeyItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.selectBtn,egret.TouchEvent.TOUCH_TAP,this.a2396),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a2396=function(){this.data.hasSelect=!this.data.hasSelect,this.data.hasSelect?this.gouImg.visible=!0:this.gouImg.visible=!1},e.prototype.a2397=function(){var t=this.data.star;1==t||6==t?(this.starGroup1.x=48,this.starGroup2.x=48):2==t||7==t?(this.starGroup1.x=37,this.starGroup2.x=37):3==t||8==t?(this.starGroup1.x=26,this.starGroup2.x=26):4==t||9==t?(this.starGroup1.x=11,this.starGroup2.x=11):(5==t||10==t)&&(this.starGroup1.x=0,this.starGroup2.x=0),t+1==1||t+1==6?this.starGroup3.x=48:t+1==2||t+1==7?this.starGroup3.x=37:t+1==3||t+1==8?this.starGroup3.x=26:t+1==4||t+1==9?this.starGroup3.x=11:(t+1==5||t+1==10)&&(this.starGroup3.x=0)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){var t=this.data.index,e=a1232.playerIDs[this.data.id1];this.nameLabel.text=a1228.a1230.a2554(e),this.dinosaurImg.source=a1228.a1230.a2555(e),this.levelLabel.text=""+this.data.level,this.leveldbImg.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.Rarity_Image.source="Level"+a1228.g_PlayerData[t].xiyou+"_png";var i=a1232.playerIDs[this.data.id2];this.nameLabel2.text=a1228.a1230.a2554(i),this.dinosaurImg2.source=a1228.a1230.a2555(i),this.levelLabel2.text=""+this.data.level2,this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[t].xiyou+"_png";var a=a1231.copyDinosaur(e);a.star+=1,this.dinosaurImg3.source=a1228.a1230.a2555(a),this.nameLabel3.text=a1228.a1230.a2554(a),this.levelLabel3.text=""+Math.max(this.data.level,this.data.level2),this.Rarity_Image3.source="Level"+a1228.g_PlayerData[t].xiyou+"_png",this.leveldbImg3.source="dbdj"+a1228.g_PlayerData[t].xiyou+"_png";var n=this.data.star;a1228.a1230.a2552(this,"starImg1_",n,!1),a1228.a1230.a2552(this,"starImg2_",n,!1),a1228.a1230.a2552(this,"starImg3_",n+1,!1),this.data.hasSelect?this.gouImg.visible=!0:this.gouImg.visible=!1,this.a2397()},e}(eui.ItemRenderer);__reflect(a1197.prototype,"a1197");var StarUpKeySuccessView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.Info=null,n._skin=a1243.starUpKeySuccessSkin,n.Info=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initialize(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.initialize=function(){for(var t=[],e=0;e<this.Info.length;e++){var i=a1228.a1230.a2550(Number(this.Info[e].id)),a={judge:2,id:this.Info[e].id,index:this.Info[e].index,level:this.Info[e].level,starNum:this.Info[e].starNum,jinhua:this.Info[e].jinhua,bianyi:this.Info[e].bianyi,fight:i[0],cheer:i[1],produce:i[2],grow:i[3],zbfight:i[4],zbcheer:i[5]};t.push(a)}this.PropsReward.dataProvider=new eui.ArrayCollection(t),this.PropsReward.itemRenderer=a1196},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5146),a1228.a1230.a2557(!1,this.group,5149)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(StarUpKeySuccessView.prototype,"StarUpKeySuccessView");var a1198=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.starUpKeySkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2107(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.starUpBtn,egret.TouchEvent.TOUCH_TAP,this.a2422)},e.prototype.a2107=function(){this.scrollList.dataProvider=new eui.ArrayCollection(this.data),this.scrollList.itemRenderer=a1197},e.prototype.a2422=function(){for(var t=!1,e=[],i=[],a=0;a<this.data.length;++a)if(this.data[a].hasSelect){var n=Number(this.data[a].id1),r=Number(this.data[a].id2),s=a1232.playerIDs[n],o=(a1232.playerIDs[r],{id:n,index:s.index,starNum:s.star+1,level:s.level,jinhua:s.jinhua,bianyi:s.bianyi});delete a1232.playerIDs[r],s.star+=1,t=!0,e.push(o);var l=a1232.curPlayers.indexOf(n),h=a1232.curPlayers.indexOf(r);-1!=h&&(a1232.curPlayers[h]=n,-1!=l&&(a1232.curPlayers[l]=0)),i.push(n),i.push(r)}if(!t)return void a1228.a1245.a2612(langue.noselectdino);for(var a=0;a<a1232.zhengbaPos.length;++a){var p=a1232.zhengbaPos[a],r=a1232.zhengbaCheer[a][0],u=a1232.zhengbaCheer[a][1];-1==p||a1232.playerIDs[p]||(a1232.zhengbaPos[a]=0),-1==r||a1232.playerIDs[r]||(a1232.zhengbaCheer[a][0]=0),-1==u||a1232.playerIDs[u]||(a1232.zhengbaCheer[a][1]=0)}a1228.a1225.applyFunc(10004,5052,i),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5148,e)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5146)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1198.prototype,"a1198");var StarUpLockView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a._skin=a1243.starUpLockSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initScroll(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2426=function(t){var e=a1228.a1230.a2550(t),i=e[0],a=e[1],n=e[2],r=e[3],s=e[4],o=e[5];return i?i:a?a:n?n:r?r:s?s:o?o:0},e.prototype.a2427=function(t){1==t?a1228.a1245.a2612(langue.startip1):2==t?a1228.a1245.a2612(langue.startip2):3==t?a1228.a1245.a2612(langue.startip3):4==t?a1228.a1245.a2612(langue.startip4):5==t?a1228.a1245.a2612(langue.startip5):6==t&&a1228.a1245.a2612(langue.startip6)},e.prototype.initScroll=function(){this.a2424(),this.a2138(1)},e.prototype.a2424=function(){var t={};for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.star,n=i.index,r=100*n+a;t[r]||(t[r]=[]),t[r].push({id:Number(e),index:n,level:i.level,star:a})}for(var e in t)t[e].sort(function(t,e){return t.level<e.level&&1||-1});this.groupData=t},e.prototype.a2187=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=100*a+i.star,r=a1228.a1230.a2550(Number(e)),s={judge:3,id:i.id,index:a,level:i.level,starNum:i.star,jinhua:i.jinhua,lockFlag:a1232.starUpLockID[i.id]&&!0||!1,xiyou:a1228.g_PlayerData[a].xiyou,canUp:i.star<10&&this.groupData[n]&&this.groupData[n].length>=2&&i.level>=a1228.g_PlayerData[a].upstarLevel&&1||0,canUp2:0,bianyi:i.bianyi,fight:r[0],cheer:r[1],produce:r[2],grow:r[3],zbfight:r[4],zbcheer:r[5]};s.canUp2=s.canUp,t.push(s)}}t.sort(function(t,e){return t.canUp<e.canUp&&1||-1});for(var o={},e=0;e<t.length;++e){var l=t[e],n=100*l.index+l.starNum;if(l.canUp2){var h=this.groupData[n];o[n]=[];for(var p=0,u=0;u<h.length;++u){var c=this.a2426(h[u].id);c||(p+=1,o[n].push(h[u].id))}2>p&&(l.canUp=!1,l.canUp2=!1)}else o[n]&&o[n].indexOf(l.id)&&(l.canUp=1)}t.sort(function(t,e){return t.canUp==e.canUp?t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.starNum==e.starNum?t.level<e.level&&1||-1:t.starNum<e.starNum&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1:t.fight<e.fight&&1||-1:t.canUp<e.canUp&&1||-1}),this.data=t,this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1196},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scrolle.a1621(),this.a2187()},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5283),a1228.a1225.applyFunc(10004,5143)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(StarUpLockView.prototype,"StarUpLockView");var a1199=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;n.playerName="",n._skin=a1243.starUpModelSkin,n.id=a.id;var r=a1232.playerIDs[a.id];return n.index=r.index,n.jinhua=r.jinhua,n.star=r.star,n.lv=r.level,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.show(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeGroup,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.show=function(){var t=this,e=a1232.playerIDs[this.id],i=a1231.copyDinosaur(e);i.star-=1,this.group0.visible=!1,this.playerName=a1228.g_PlayerData[this.index].name,this.a2168(),this.a2146(i),this.label1.text=langue.jinhua1,this.label2.text=langueOfvalue(langue.jinhua2,this.playerName),this.label3.text="",a1228.a1252.doTimer(3500,1,function(){t.a2165()},this)},e.prototype.a2165=function(){var t=this,e=a1232.playerIDs[this.id];this.label1.text=langueOfvalue(langue.jinhua3,this.playerName),this.label2.text="",this.label3.text="",this.a2169(),a1228.a1252.doTimer(3500,1,function(){t.label1.text="",t.a2166(e),t.a2146(e)},this),a1228.a1252.doTimer(5e3,1,function(){t.closeGroup.visible=!0},this)},e.prototype.a2166=function(t){this.group0.visible=!0;var e=a1231.copyDinosaur(t);e.star-=1;var i=[a1232.a1886(e),a1232.a1886(t)],a=[a1232.getDefence(e),a1232.getDefence(t)],n=[a1232.getAttack(e),a1232.getAttack(t)],r=[a1232.getGongsu(e),a1232.getGongsu(t)],s=[a1232.getBaoji(e),a1232.getBaoji(t)],o=[a1232.getShanbi(e),a1232.getShanbi(t)];this.HP1_Label.text=""+i[0],this.Defense1_Label.text=""+a[0],this.Attack1_Label.text=""+n[0],this.Atktime1_Label.text=""+r[0],this.baoji1_Label.text=""+s[0]+"%",this.shanbi1_Label.text=""+o[0]+"%",this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.baoji2_Label.text=""+s[1]+"%",this.shanbi2_Label.text=""+o[1]+"%",this.AddHP_Label.text="+"+(i[1]-i[0]),this.AddDefense_Label.text="+"+(a[1]-a[0]),this.AddAttack_Label.text="+"+(n[1]-n[0]),this.baoji_Label.text="+"+(s[1]-s[0])+"%",this.shanbi_Label.text="+"+(o[1]-o[0])+"%"},e.prototype.a2146=function(t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.dinosaurGroup.addChild(i),i.x=0,i.y=0,i.scaleX=-1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.a2168=function(){this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null);var t="jinghuadengdai",e=a1228.a1245.CreateFrameAnimation(t,t);this.dinosaurGroup.addChild(e),e.x=0,e.y=-50,e.scaleX=1,e.scaleY=1,e.touchEnabled=!1,e.touchChildren=!1,e.animation&&e.animation.play("jinghuadengdai",0),this.effectAni3=e},e.prototype.a2169=function(){this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null),this.effectAni&&(this.removeChild(this.effectAni),this.effectAni.dispose(),this.effectAni=null),this.effectAni2&&(this.removeChild(this.effectAni2),this.effectAni2.dispose(),this.effectAni2=null);var t=a1228.a1122.a1872(),e=a1228.a1122.a1873(),i="jinghua",a=a1228.a1245.CreateFrameAnimation(i,i);this.addChild(a),a.x=t/2,a.y=e/2,a.scaleX=2,a.scaleY=2,a.touchEnabled=!1,a.touchChildren=!1,a.animation&&a.animation.play("jinghua",1),this.effectAni=a},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5191)},e.prototype.close=function(){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.effectAni&&(this.removeChild(this.effectAni),this.effectAni.dispose(),this.effectAni=null),this.effectAni2&&(this.removeChild(this.effectAni2),this.effectAni2.dispose(),this.effectAni2=null),this.effectAni3&&(this.dinosaurGroup.removeChild(this.effectAni3),this.effectAni3.dispose(),this.effectAni3=null),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this),a1232.releaseJinhuaRes(!0)},e}(a1116);__reflect(a1199.prototype,"a1199");var a1200=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.Data=null,n._skin=a1243.starUpSuccessSkin,n.Data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),this.a2115(),this.a2289()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5151),a1228.a1225.applyFunc(10004,5144),a1228.a1230.a2557(!1,this.group,5153),a1228.a1225.applyFunc(10004,5143)},e.prototype.a2289=function(){var t=a1232.playerIDs[this.Data.id],e=a1231.copyDinosaur(t);e.star-=1,this.a2146(t);var i=[a1232.a1886(e),a1232.a1886(t)],a=[a1232.getDefence(e),a1232.getDefence(t)],n=[a1232.getAttack(e),a1232.getAttack(t)],r=[a1232.getGongsu(e),a1232.getGongsu(t)],s=[a1232.getBaoji(e),a1232.getBaoji(t)],o=[a1232.getShanbi(e),a1232.getShanbi(t)];this.HP1_Label.text=""+i[0],this.Defense1_Label.text=""+a[0],this.Attack1_Label.text=""+n[0],this.Atktime1_Label.text=""+r[0],this.baoji1_Label.text=""+s[0]+"%",this.shanbi1_Label.text=""+o[0]+"%",this.HP2_Label.text=""+i[1],this.Defense2_Label.text=""+a[1],this.Attack2_Label.text=""+n[1],this.Atktime2_Label.text=""+r[1],this.baoji2_Label.text=""+s[1]+"%",this.shanbi2_Label.text=""+o[1]+"%",this.AddHP_Label.text="+"+(i[1]-i[0]),this.AddDefense_Label.text="+"+(a[1]-a[0]),this.AddAttack_Label.text="+"+(n[1]-n[0]),this.baoji_Label.text="+"+(s[1]-s[0])+"%",this.shanbi_Label.text="+"+(o[1]-o[0])+"%",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[this.Data.index].xiyou+"_png",this.dinosaurImg1.source=a1228.a1230.a2555(e),this.nameLabel1.text=a1228.a1230.a2554(e),this.Rarity_Image2.source="Level"+a1228.g_PlayerData[this.Data.index].xiyou+"_png",this.dinosaurImg2.source=a1228.a1230.a2555(t),this.nameLabel2.text=a1228.a1230.a2554(t),a1228.a1230.a2552(this,"starImg1_",this.Data.starNum,!0),a1228.a1230.a2552(this,"starImg2_",this.Data.starNum+1,!0)},e.prototype.a2146=function(t){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.DinoAnim.addChild(i),i.x=180,i.y=260,i.scaleX=-1,i.scaleY=1,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.close=function(){this.ani&&(this.DinoAnim.removeChild(this.ani),this.ani.dispose(),this.ani=null),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=200,t.y=230,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1200.prototype,"a1200");var a1201=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.itemIndex1=null,a.itemIndex2=null,a.saiXun=1,a._skin=a1243.starUpSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.scrLabel.text="",this.scrLabel.text=a1228.g_functionData[4].src,this.event(),this.initLockData(),this.initScroll(),this._controller.a1916(5147,this.a2425,this),this._controller.a1916(5153,this.initScroll,this),this._controller.a1916(5149,this.initScroll,this),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.oneKeyBtn,egret.TouchEvent.TOUCH_TAP,this.a2435),a1251.a1412(this,this.starUpBtn,egret.TouchEvent.TOUCH_TAP,this.a2422),a1251.a1412(this,this.heGroup1,egret.TouchEvent.TOUCH_TAP,this.a2430),a1251.a1412(this,this.heGroup2,egret.TouchEvent.TOUCH_TAP,this.a2431),a1251.a1412(this,this.huiGroup,egret.TouchEvent.TOUCH_TAP,this.a2423,!1),a1251.a1412(this,this.lockBtn,egret.TouchEvent.TOUCH_TAP,this.onLockView),a1251.a1412(this,this.scrBtn,egret.TouchEvent.TOUCH_TAP,this.onClickSrc),a1251.a1412(this,this.buzhenBtn,egret.TouchEvent.TOUCH_TAP,this.onClickBuzhen),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.onClickBuzhen=function(){a1228.a1225.applyFunc(10004,5144),a1228.a1225.applyFunc(10004,5060)},e.prototype.onClickSrc=function(){this.srcGroup.visible=!this.srcGroup.visible},e.prototype.initLockData=function(){for(var t in a1232.starUpLockID)a1232.playerIDs[t]||delete a1232.starUpLockID[t]},e.prototype.onLockView=function(){a1228.a1225.applyFunc(10004,5144),a1228.a1225.applyFunc(10004,5282)},e.prototype.a2423=function(){if(null!=this.itemIndex1&&null==this.itemIndex2){var t=this.data[this.itemIndex1],e=a1228.g_PlayerData[t.index].name;a1228.a1245.a2612(langue.needone+t.starNum+langue.star+e)}},e.prototype.a2424=function(){var t={};for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.star,n=i.index,r=100*n+a;t[r]||(t[r]=[]),t[r].push({id:Number(e),index:n,level:i.level,star:a})}for(var e in t)t[e].sort(function(t,e){return t.level<e.level&&1||-1});this.groupData=t},e.prototype.a2425=function(t){var e,i,a=this.data[t],n=100*a.index+a.starNum,r=0,s=!1,o=null;if(a1232.starUpLockID[a.id]&&null!=this.itemIndex1&&null==this.itemIndex2&&this.itemIndex1!=t)return void a1228.a1245.a2612("已锁定");if(!(a.starNum>=10)){if(null==this.itemIndex1){if(e=this.data[t],e.level<a1228.g_PlayerData[e.index].upstarLevel)return void a1228.a1245.a2612(langue.zhuti+a1228.g_PlayerData[e.index].name+langueOfvalue(langue.daolevel,a1228.g_PlayerData[e.index].upstarLevel));this.itemIndex1=t,r=100*e.index+e.starNum,s=!0,o=1}else if(e=this.data[this.itemIndex1],r=100*e.index+e.starNum,this.itemIndex1==t)this.itemIndex1=null,this.itemIndex2=null,e=null,i=null,r=null;else if(null==this.itemIndex2&&r==n){var l=this.a2426(a.id);if(l)return void this.a2427(l);this.itemIndex2=t,i=this.data[this.itemIndex2],s=!0,o=2}else{if(this.itemIndex2!=t)return;this.itemIndex2=null,i=null}for(var h=0;h<this.data.length;++h){var p=100*this.data[h].index+this.data[h].starNum;this.data[h].selectFlag=e&&e.id==this.data[h].id,this.data[h].selectFlag2=i&&i.id==this.data[h].id;var u=this.a2426(this.data[h].id);this.data[h].selectFlag3=!1,r&&r==p&&(u||(this.data[h].selectFlag3=!0)),this.data[h].lockFlag=!1,r&&r!=p?this.data[h].lockFlag=!0:r&&u&&e&&e.id!=this.data[h].id&&(this.data[h].lockFlag=!0)}for(var c=this.scrollList.$children,h=0;h<c.length;++h){var d=c[h];d.reflesh()}if(this.a2432(e),this.a2433(i),e?this.a2434(e.id):this.ani1&&(this.dinosaursIGroup1.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),e&&i)if(e.level>=i.level){this.a2434(e.id);var g=a1232.playerIDs[e.id];this.nameLabeldb1.text=a1228.a1230.a2554(g)}else{this.a2434(i.id);var g=a1232.playerIDs[e.id];this.nameLabeldb1.text=a1228.a1230.a2554(g)}this.a2397(),this.selectAnim(t,s,o,e)}},e.prototype.a2426=function(t){var e=a1228.a1230.a2550(t),i=e[0],a=e[1],n=e[2],r=e[3],s=e[4],o=e[5];return i?i:a?a:n?n:r?r:s?s:o?o:0},e.prototype.a2427=function(t){1==t?a1228.a1245.a2612(langue.startip1):2==t?a1228.a1245.a2612(langue.startip2):3==t?a1228.a1245.a2612(langue.startip3):4==t?a1228.a1245.a2612(langue.startip4):5==t?a1228.a1245.a2612(langue.startip5):6==t&&a1228.a1245.a2612(langue.startip6)},e.prototype.selectAnim=function(t,e,i,a){var n=this;if(e&&i&&this.clickPoint){this.aniGroup.visible=!0;var r=this.clickPoint,s=null;1==i?(this.heGroup1.visible=!1,s=this.heGroup1):2==i&&(this.heGroup2.visible=!1,s=this.heGroup2),this.aniGroup.x=r.x-this.group.x-this.x+this.anchorOffsetX+this.group.anchorOffsetX,this.aniGroup.y=r.y-this.group.y-this.y+this.anchorOffsetY+this.group.anchorOffsetY,egret.Tween.get(this.aniGroup).to({x:s.x,y:s.y},300).call(function(){n.aniGroup&&(n.aniGroup.visible=!1,s.visible=!0)}),this.aniKuangImg.source="Level"+a1228.g_PlayerData[a.index].xiyou+"_png";var o=a1232.playerIDs[a.id];this.aniDinosaurImg.source=a1228.a1230.a2555(o),this.aniNameLabel.text=a1228.a1230.a2554(o)}},e.prototype.initScroll=function(){this.a2424(),this.a2138(1)},e.prototype.a2187=function(){this.ani1&&(this.dinosaursIGroup1.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this.itemIndex1=null,this.itemIndex2=null,this.a2432(null),this.a2433(null);var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=100*a+i.star,r=a1228.a1230.a2550(Number(e)),s={judge:1,id:i.id,index:a,level:i.level,starNum:i.star,jinhua:i.jinhua,selectFlag:!1,selectFlag2:!1,selectFlag3:!1,lockFlag:!1,xiyou:a1228.g_PlayerData[a].xiyou,canUp:i.star<10&&this.groupData[n]&&this.groupData[n].length>=2&&i.level>=a1228.g_PlayerData[a].upstarLevel&&1||0,canUp2:0,bianyi:i.bianyi,fight:r[0],cheer:r[1],produce:r[2],grow:r[3],zbfight:r[4],zbcheer:r[5]};
s.canUp2=s.canUp,t.push(s)}}t.sort(function(t,e){return t.canUp<e.canUp&&1||-1});for(var o={},e=0;e<t.length;++e){var l=t[e],n=100*l.index+l.starNum;if(l.canUp2){var h=this.groupData[n];o[n]=[];for(var p=0,u=0;u<h.length;++u){var c=this.a2426(h[u].id);c||(p+=1,o[n].push(h[u].id))}2>p&&(l.canUp=!1,l.canUp2=!1)}else o[n]&&o[n].indexOf(l.id)&&(l.canUp=1)}t.sort(function(t,e){return t.canUp==e.canUp?t.fight==e.fight?t.cheer==e.cheer?t.xiyou==e.xiyou?t.index==e.index?t.starNum==e.starNum?t.level<e.level&&1||-1:t.starNum<e.starNum&&1||-1:t.index<e.index&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1:t.fight<e.fight&&1||-1:t.canUp<e.canUp&&1||-1}),this.data=t,this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1196},e.prototype.a2430=function(){var t=this.data[this.itemIndex1];if(t){var e=a1232.playerIDs[t.id];a1228.a1225.applyFunc(10004,5099,e)}},e.prototype.a2431=function(){var t=this.data[this.itemIndex2];if(t){var e=a1232.playerIDs[t.id];a1228.a1225.applyFunc(10004,5099,e)}},e.prototype.a2432=function(t){if(t){var e=a1232.playerIDs[t.id];this.dinosaurImg1.source=a1228.a1230.a2555(e),this.nameLabel1.text=a1228.a1230.a2554(e),this.levelLabel1.text=""+t.level,this.Rarity_Image1.source="Level"+a1228.g_PlayerData[t.index].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[t.index].xiyou+"_png",a1228.a1230.a2552(this,"starImg1_",t.starNum,!1),this.nameLabeldb1.text=a1228.a1230.a2554(e),a1228.a1230.a2552(this,"starImgdb1_",t.starNum,!0),null==this.itemIndex2?(this.huiKuangImg.source="Level"+a1228.g_PlayerData[t.index].xiyou+"_png",this.huiDinosaurImg.source=this.dinosaurImg1.source,a1228.a1230.a2552(this,"huistarImg",t.starNum,!1),this.huiGroup.visible=!0,this.useGroup.visible=!0):this.huiGroup.visible=!1,this.heGroup1.visible=!0,this.oneKeyBtn.visible=!1,this.infoGroup1.visible=!0}else this.heGroup1.visible=!1,this.oneKeyBtn.visible=!0,this.infoGroup1.visible=!1,this.huiGroup.visible=!1,this.useGroup.visible=!1},e.prototype.a2433=function(t){if(t){var e=a1232.playerIDs[t.id];this.dinosaurImg2.source=a1228.a1230.a2555(e),this.nameLabel2.text=a1228.a1230.a2554(e),this.levelLabel2.text=""+t.level,this.Rarity_Image2.source="Level"+a1228.g_PlayerData[t.index].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[t.index].xiyou+"_png",a1228.a1230.a2552(this,"starImg2_",t.starNum,!1),this.heGroup2.visible=!0,this.huiGroup.visible=!1}else this.heGroup2.visible=!1},e.prototype.a2434=function(t){this.ani1&&(this.dinosaursIGroup1.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null);var e=a1232.playerIDs[t],i=a1228.a1230.a1921(e),a=a1228.a1245.CreateFrameAnimation(i,i);this.dinosaursIGroup1.addChild(a),a.x=0,a.y=-70,a.scaleX=-1,a.scaleY=1,a.touchEnabled=!1,a.touchChildren=!1,a.animation&&a.animation.play("daiji",0),this.ani1=a},e.prototype.a2422=function(){if(null==this.itemIndex1||null==this.itemIndex2)return void a1228.a1245.a2612(langue.selectstardino);var t=this.data[this.itemIndex1],e=this.data[this.itemIndex2],i=this.a2426(e.id);return i?void this.a2427(i):t.level<a1228.g_PlayerData[t.index].upstarLevel?void a1228.a1245.a2612(langue.zhuti+a1228.g_PlayerData[t.index].name+langueOfvalue(langue.daolevel,a1228.g_PlayerData[t.index].upstarLevel)):void a1228.a1225.applyFunc(10004,5150,t,e)},e.prototype.a2435=function(){var t=[],e={};for(var i in a1232.playerIDs){var a=a1232.playerIDs[i],n=a.star,r=a.index,s=a.jinhua,o=Number(i),l=100*r+n;e[l]||(e[l]=[]);for(var h=-1!=a1232.produce.indexOf(o)&&!0||!1,p=0,u=0;u<a1232.growIDs.length&&(-1==a1232.growIDs[u]||0==a1232.growIDs[u]||!(p=a1232.growIDs[u][0]==o&&1||0));u++);10>n&&!h&&!p&&e[l].push({id:Number(i),index:r,level:a.level,star:n,jinhua:s,bianyi:a.bianyi,name:a.name})}for(var i in e){e[i].sort(function(t,e){var i=a1232.starUpLockID[t.id]?1:0,a=a1232.starUpLockID[e.id]?1:0;return i==a?t.level<e.level&&1||-1:a>i&&1||-1});var c=e[i].length;if(c>1)for(var u=0,d=0;u<Math.floor(c/2);++u,++d){for(var g=e[i][u],f=e[i][c-d-1];g.level<a1228.g_PlayerData[g.index].upstarLevel&&c-d-1>u;)u++,g=e[i][u];for(;a1232.starUpLockID[f.id]&&c-d-1>u;)d++,f=e[i][c-d-1];if(u>=c-d-1)break;var m=a1228.a1230.a2550(Number(f.id)),v=m[0],y=m[1],b=m[4],_=m[5];if(!(y||v||b||_)){var A={index:g.index,id1:g.id,id2:f.id,level:g.level,level2:f.level,star:g.star,jinhua1:g.jinhua,jinhua2:f.jinhua,hasSelect:!0};t.push(A)}}}t.length>0?a1228.a1225.applyFunc(10004,5145,t):a1228.a1245.a2612(langue.nostarkey)},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scrolle.a1621(),this.a2187()},e.prototype.a2397=function(){var t=[],e=null;null!=this.itemIndex1&&(e=this.data[this.itemIndex1].starNum,t.push(1)),null!=this.itemIndex2&&t.push(2);for(var i=0;i<t.length;i++)1==e||6==e?(this["starGroup"+t[i]].x=51,this.huistarGroup.x=51):2==e||7==e?(this["starGroup"+t[i]].x=38,this.huistarGroup.x=38):3==e||8==e?(this["starGroup"+t[i]].x=24,this.huistarGroup.x=24):4==e||9==e?(this["starGroup"+t[i]].x=9,this.huistarGroup.x=9):(5==e||10==e)&&(this["starGroup"+t[i]].x=0,this.huistarGroup.x=0)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5144)},e.prototype.close=function(){this.ani1&&(this.dinosaursIGroup1.removeChild(this.ani1),this.ani1.dispose(),this.ani1=null),this._controller.a1917(5147,this.a2425,this),this._controller.a1917(5153,this.initScroll,this),this._controller.a1917(5149,this.initScroll,this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1201.prototype,"a1201");var SystemAdvanceItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.systemAdvanceItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.a2111=function(){var t=this.getRewardState();if(2==t){var e=a1228.g_systemData[this.data.index];a1232.sysReward.push(this.data.index);var i=e.reward[0][0],a=e.reward[0][1];a1228.a1225.applyFunc(10004,5083,[[i,a]]),a1228.a1225.applyFunc(10004,5035,i,a,117),a1228.a1225.applyFunc(10004,5042),this.reflesh();var n=a1228.a1226.a2525(224);n&&n.onRefleshBtn()}else 1==t?a1228.a1245.a2612(langue.jlyjlq):3==t&&a1228.a1245.a2612(langue.jlwjs)},e.prototype.getRewardState=function(){var t=a1228.a1226.a2525(102);return t?t.getRewardState(this.data.index):1},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=a1228.g_systemData[this.data.index];this.sysNameLabel.text=t.sysName,this.limitLabel.text="("+t.passName+langue.js+")",this.srcLabel.text=t.sysSrc;for(var e=0;e<t.reward;e++){var i=t.reward[e];1==i[0]&&(this.iconImg.source="zs_png"),this.numLabel.text=i[1]+""}var a=this.getRewardState();1==a?(this.getwzImg.source="ylq_png",this.getdbImg.source="sjbtn3_png"):2==a?(this.getwzImg.source="GetAwardLabel_png",this.getdbImg.source="sjbtn2_png"):3==a&&(this.getwzImg.source="xtdjs_png",this.getdbImg.source="sjbtn3_png")},e}(eui.ItemRenderer);__reflect(SystemAdvanceItemView.prototype,"SystemAdvanceItemView");var SystemAdvanceView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.data=[],a.selectType=0,a.isMove=!1,a._skin=a1243.systemAdvanceSkin,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.scroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.event(),this.initList(),setTimeout(function(){t.initListPos(),t.onRefleshBtn()},100),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.leftBtn,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDirBtn(1)}),a1251.a1412(this,this.rightBtn,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDirBtn(2)})},e.prototype.initListPos=function(){var t=null,e=null,i=a1228.a1226.a2525(102);if(i){for(var a=0;a<this.data.length;a++){var n=i.getRewardState(this.data[a].index);3==n&&null==t&&(t=a),2==n&&null==e&&(e=a)}null!=e?this.selectType=e:null!=t&&(this.selectType=t);var r=this.scrollerList.contentWidth/this.data.length;this.scrollerList.scrollH=this.scrollerList.scrollH+r*this.selectType}},e.prototype.onClickDirBtn=function(t){this.isMove||(1==t?(this.selectType-=1,this.selectType<0&&(this.selectType=0)):2==t&&(this.selectType+=1,this.selectType>this.data.length-1&&(this.selectType=this.data.length-1)),this.onRefleshBtn(),this.a2384(t))},e.prototype.onRefleshBtn=function(){this.selectType<=0?(this.leftBtn.visible=!1,this.rightBtn.visible=!0):this.selectType>=this.data.length-1?(this.leftBtn.visible=!0,this.rightBtn.visible=!1):(this.leftBtn.visible=!0,this.rightBtn.visible=!0);var t=a1228.a1226.a2525(102);if(t){this.leftRedImg.visible=!1,this.rightRedImg.visible=!1;for(var e=0;e<this.data.length;e++){var i=t.getRewardState(this.data[e].index);2==i&&(this.selectType>e?this.leftRedImg.visible=!0:this.selectType<e&&(this.rightRedImg.visible=!0))}}},e.prototype.a2384=function(t){var e=this;if(!this.isMove){var i=this.scrollerList.contentWidth/this.data.length;egret.Tween.removeTweens(this.scrollerList),this.leftBtn.touchEnabled=!1,this.rightBtn.touchEnabled=!1,this.isMove=!0;var a=0;1==t?a=-i:2==t&&(a=i),egret.Tween.get(this.scrollerList).to({scrollH:this.scrollerList.scrollH+a},300).call(function(){e.isMove=!1,e.leftBtn.touchEnabled=!0,e.rightBtn.touchEnabled=!0})}},e.prototype.initList=function(){this.data=[];for(var t in a1228.g_systemData)this.data.push({index:Number(t),pass:a1228.g_systemData[t].passLevel});this.data.sort(function(t,e){return t.pass>e.pass&&1||-1}),this.scrollerList.dataProvider=new eui.ArrayCollection(this.data),this.scrollerList.itemRenderer=SystemAdvanceItemView},e.prototype.a2095=function(){if(a1228.a1230.a2557(!1,this.group,5269),"vivogame"==platform.name||"oppogame"==platform.name||"mzgame"==platform.name){var t=a1228.a1122.a1957();platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},t)}},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(SystemAdvanceView.prototype,"SystemAdvanceView");var a1202=function(t){function e(e,i,a){var n=t.call(this)||this;return n.skinName=a1243.taskItemSkin,n.event(),a1228.a1252.doTimer(500,1,n.a2097,n),n}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtnGroup,egret.TouchEvent.TOUCH_TAP,this.a2106),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){egret.Tween.removeTweens(this.wubeiTip),a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.setData=function(t){this.data=t},e.prototype.a2106=function(){var t=this;if(this.data.a2391&&!a1232.taskData[this.data.index][1])if(1==a1232.taskData[this.data.index][2]){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["122","5倍任务"])}else a1232.taskData[this.data.index][1]=1,a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,1,a1228.g_TaskData[this.data.index].reward[0][1],108),a1232.isDebug&&localStorage.setItem("taskData",JSON.stringify(a1232.taskData)),a1228.a1225.applyFunc(10004,5048),a1228.a1225.applyFunc(10004,5075);else"ToFinish_png"==this.getBtn.source?(a1228.a1225.applyFunc(10004,5106),3==this.data.index?a1228.a1225.applyFunc(10004,5056):4==this.data.index||6==this.data.index||7==this.data.index?a1228.a1226.destroy(101):5==this.data.index?a1228.a1225.applyFunc(10004,5117):10==this.data.index):"YILINGQU1_png"==this.getBtn.source?a1228.a1245.a2612(langue.hasget):"Unfinished_png"==this.getBtn.source&&a1228.a1245.a2612(langue.tasknocom);this.refresh()},e.prototype.handleFunc=function(){a1232.taskData[this.data.index][1]=1,a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,1,5*a1228.g_TaskData[this.data.index].reward[0][1],108),a1232.isDebug&&localStorage.setItem("taskData",JSON.stringify(a1232.taskData)),a1228.a1225.applyFunc(10004,5048),a1228.a1225.applyFunc(10004,5075),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){12!=a1232.guideStep&&a1232.guideStep!=GuideTaskID||0!=this.itemIndex||(a1232.taskData[this.data.index][2]=0);var t=a1232.taskData[this.data.index][0];t>a1228.g_TaskData[this.data.index].count&&(t=a1228.g_TaskData[this.data.index].count),1==a1232.taskData[this.data.index][2]?(this.numLabel.textFlow=[{text:""+a1228.g_TaskData[this.data.index].reward[0][1],style:{textColor:16777215,stroke:0}},{text:" x5",style:{textColor:16770414,strokeColor:5311500,stroke:2}}],this.numLabel.textColor=16770414,this.numLabel.strokeColor=5311500,this.numLabel.stroke=2,this.wubeiTip.visible=!0,egret.Tween.get(this.wubeiTip,{loop:!0}).to({scaleX:1.1,scaleY:1.1},500).to({scaleX:1,scaleY:1},500)):(this.numLabel.text=a1228.g_TaskData[this.data.index].reward[0][1],this.numLabel.textColor=16777215,this.numLabel.stroke=0,this.wubeiTip.visible=!1),this.TaskName.text=""+a1228.g_TaskData[this.data.index].task,this.Details.text=""+a1228.g_TaskData[this.data.index].concretetask,this.timesLabel.text=""+t+"/"+a1228.g_TaskData[this.data.index].count,this.data.a2391=t>=this.data.count,this.data.a2391?1==a1232.taskData[this.data.index][1]?(this.getBtn.source="AlreadyGet_png",this.dbImg.source="an_2_png"):1==a1232.taskData[this.data.index][2]?(this.getBtn.source="wubie_png",this.dbImg.source="TiaoZhanLabel_png"):(this.getBtn.source="lqbtn_png",this.dbImg.source="TiaoZhanLabel_png"):1==this.data.index||8==this.data.index?(this.getBtn.source="Unfinished_png",this.dbImg.source="an_3_png"):(this.getBtn.source="ToFinish_png",this.dbImg.source="an_3_png")},e.prototype.a2097=function(){var t=this;if(12==a1232.guideStep&&a1232.curLevel>=8&&"kwaigame"!=platform.name&&0==this.itemIndex&&this.a1263(0,0).y>100){var e=a1228.a1226.a2525(120);if(e){var i=this.getBtn.a1263(0,0),a=i.x,n=i.y;a1228.a1233.a2572(e,165,74,a,n,function(){t.a2106(),a1228.a1233.a2571(a1232.guideStep),a1228.a1233.a2570(),a1227.getPoint("1132","结束任务引导",7)}),a1228.a1233.a2565(e,a+15,n+20)}}},e}(eui.ItemRenderer);__reflect(a1202.prototype,"a1202");var a1203=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.selectTaskType={coin:1,fuwen:2},a.selectType=0,a._skin=a1243.taskSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2090(),this.initListDate1(),this.ksGroup.visible=!1,this._controller.a1916(5075,this.initListDate1,this),this._controller.a1916(5310,this.a2097,this),a1228.a1230.a2557(!0,this.group)},e.prototype.redRemid_ks=function(){var t=!1,e=!1;for(var i in a1228.g_TaskData)a1232.taskData[i][0]>=a1228.g_TaskData[i].count&&1!=a1232.taskData[i][1]&&(t=!0);this.jinRedImg.visible=e,this.fuRedImg.visible=t},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.initListDate1=function(){var t=[];a1232.taskData[2][0]=1;var e=0;a1228.g_TaskData[1].count2||(a1228.g_TaskData[1].count2=a1228.g_TaskData[1].count),a1228.g_TaskData[1].count=a1228.g_TaskData[1].count2-1;for(var i in a1228.g_TaskData)10!=a1228.g_TaskData[i].index&&(t.push(a1228.g_TaskData[i]),1!=a1228.g_TaskData[i].index&&a1232.taskData[i][0]>=a1228.g_TaskData[i].count&&(e+=1));a1232.taskData[1][0]=e,t.sort(function(t,e){var i=a1232.taskData[t.index][1]&&1||0,a=a1232.taskData[e.index][1]&&1||0;return i==a?1*Number(a1232.taskData[t.index][0])/a1228.g_TaskData[t.index].count<1*Number(a1232.taskData[e.index][0])/a1228.g_TaskData[e.index].count&&1||-1:i>a&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=a1202},e.prototype.initListDate2=function(){},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.jinBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGoldBtn,!1),a1251.a1412(this,this.fuBtn,egret.TouchEvent.TOUCH_TAP,this.onClickfuwenBtn,!1)},e.prototype.onClickGoldBtn=function(){this.selectType!=this.selectTaskType.coin&&(this.scroll&&this.scroll.a1621(),this.jinBtn.scaleX=1.1,this.jinBtn.scaleY=1.1,this.fuBtn.scaleX=1,this.fuBtn.scaleY=1,this.selectType=this.selectTaskType.coin,this.initListDate2())},e.prototype.onClickfuwenBtn=function(){this.selectType!=this.selectTaskType.fuwen&&(this.scroll&&this.scroll.a1621(),this.fuBtn.scaleX=1.1,this.fuBtn.scaleY=1.1,this.jinBtn.scaleX=1,this.jinBtn.scaleY=1,this.selectType=this.selectTaskType.fuwen,this.initListDate1())},e.prototype.a2097=function(){var t=this;if(a1232.guideStep==GuideTaskID){var e=this.closeBtn.a1263(0,0),i=e.x-(this.x-this.anchorOffsetX),a=e.y-(this.y-this.anchorOffsetY);a1228.a1233.a2570(),a1228.a1233.a2572(this,70,70,i,a,function(){a1228.a1233.a2571(a1232.guideStep),t.a2095(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,i+15,a+30)}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5106)},e.prototype.close=function(){a1251.a1413(this),a1228.a1252.removeAll(this),a1228.a1245.closeBanner(),this._controller.a1917(5075,this.initListDate1,this),this._controller.a1917(5310,this.a2097,this),t.prototype.close.call(this)},e}(a1116);__reflect(a1203.prototype,"a1203");var TestView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.testView,a}return __extends(e,t),e.prototype.initUI=function(){var t=this;a1251.a1412(this,this.addBtn0,egret.TouchEvent.TOUCH_TAP,function(){try{a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5035,2,Math.max(Number(t.input0.text),-a1232.gold),110)}catch(e){}}),a1251.a1412(this,this.addBtn1,egret.TouchEvent.TOUCH_TAP,function(){try{a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5035,1,Math.max(Number(t.input1.text),-a1232.diamond),110)}catch(e){}}),a1251.a1412(this,this.addBtn2,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input2.text);for(var i in a1232.curPlayers)a1232.curPlayers[i]&&(a1232.playerIDs[a1232.curPlayers[i]].level=e,a1232.playerIDs[a1232.curPlayers[i]].exp=0);for(var i in a1232.playerIDs)for(var a=Number(a1232.playerIDs[i].index),n=a1228.g_PlayerData[a].jinhuaLevel,r=0;r<n.length;++r)0==r&&a1232.playerIDs[i].level>=n[r]&&0==a1232.playerIDs[i].jinhua?a1232.playerIDs[i].jinhua=r+1:1==r&&a1232.playerIDs[i][1]>=n[r]&&(0==a1232.playerIDs[i].jinhua||1==a1232.playerIDs[i].jinhua)&&(a1232.playerIDs[i].jinhua=r+1);a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5041)}catch(s){}}),a1251.a1412(this,this.addBtn3,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input3.text);a1232.maxLevelFood=e,a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn4,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input4.text),i=a1232.curLevel;a1232.curLevel=e,a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5327),a1232.curLevel=i,setTimeout(function(){a1232.curLevel=e,a1228.SceneMgr.sceneMap.a2515(),a1228.a1225.applyFunc(10004,5040),a1228.a1225.applyFunc(10004,5041)},2e3)}catch(a){}}),a1251.a1412(this,this.addBtn5,egret.TouchEvent.TOUCH_TAP,function(){try{var e=t.input5.text,i=e.split(" "),a=Number(i[0]),n=i[1]&&Number(i[1])||1;if(!a1228.g_PlayerData[a])return void a1228.a1245.a2612("id错误");a1227.getPoint("887","gm",7);for(var r=0;n>r;++r){var s=a1232.addNewDinosaur(a);s.level=1,s.jinhua=0,s.star=0,s.star>10&&(s.star=10)}}catch(o){}}),a1251.a1412(this,this.addBtn6,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input6.text);if(201>e||e>300)return void a1228.a1245.a2612("碎片id从201-300");if(!a1228.g_PropsData[e])return void a1228.a1245.a2612("碎片id不存在");a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5036,e,100)}catch(i){}}),a1251.a1412(this,this.addBtn17,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input17.text);if(301>e||e>400)return void a1228.a1245.a2612("碎片id从301-400");if(!a1228.g_PropsData[e])return void a1228.a1245.a2612("碎片id不存在");a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5037,e,100)}catch(i){}}),a1251.a1412(this,this.addBtn7,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input7.text);a1232.fubenTimes=e,a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn8,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input8.text);a1232.kunshouTimes=e,a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn18,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input13.text);a1232.zhengbatimes=e,a1232.zhengbatimes2=e,a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn26,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input21.text);a1232.zhengbatimes2=e,a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn9,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input9.text);a1232.addsptimes=e,a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn10,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input10.text);a1232.pantimes=e,a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn11,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input11.text);a1232.guajiTime=a1232.getServerTime()-e,a1232.lastGuajiTime=a1232.getServerTime(),a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5041)}catch(i){}}),a1251.a1412(this,this.addBtn16,egret.TouchEvent.TOUCH_TAP,function(){try{for(var t=a1228.ActorMgr.a2502(1),e="\n",i=0,a=t;i<a.length;i++){var n=a[i];e+="攻击："+n.a1907()+"\n",e+="防御："+n.a1908()+"\n",e+="血量"+n.a1886()+"\n"}for(var r=a1228.ActorMgr.a2502(2),s="\n\n",o=0,l=r;o<l.length;o++){var n=l[o];s+="攻击："+n.a1907()+"\n",s+="防御："+n.a1908()+"\n",s+="血量"+n.a1886()+"\n"}console.log("------------------<自己属性>-------------------------",e),console.log("------------------<怪物物属性>-------------------------",s)}catch(h){}}),a1251.a1412(this,this.addBtn12,egret.TouchEvent.TOUCH_TAP,function(){try{var e=Number(t.input12.text);for(var i in a1232.playerIDs){a1232.playerIDs[i].level=e,a1232.playerIDs[i].exp=0;for(var a=Number(a1232.playerIDs[i].index),n=a1228.g_PlayerData[a].jinhuaLevel,r=0;r<n.length;++r)0==r&&a1232.playerIDs[i].level>=n[r]&&0==a1232.playerIDs[i].jinhua?a1232.playerIDs[i].jinhua=r+1:1==r&&a1232.playerIDs[i].level>=n[r]&&(0==a1232.playerIDs[i].jinhua||1==a1232.playerIDs[i].jinhua)&&(a1232.playerIDs[i].jinhua=r+1)}a1227.getPoint("887","gm",7),a1228.a1225.applyFunc(10004,5041)}catch(s){}}),a1251.a1412(this,this.addBtn13,egret.TouchEvent.TOUCH_TAP,function(){try{for(var e in a1232.props)a1232.props[e]>0&&a1228.a1225.applyFunc(10004,5035,Number(e),-a1232.props[e],110,!1);a1232.props={},a1228.a1225.applyFunc(10004,5041);var i={};localStorage.setItem("foodPos",JSON.stringify(i)),t.iddds&&clearTimeout(t.iddds),t.iddds=setTimeout(function(){this.iddds=0,a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479()},1e3)}catch(a){}}),a1251.a1412(this,this.addBtn20,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input14.text)&&(a1232.produceNeedTime=Number(t.input14.text))}catch(e){}}),a1251.a1412(this,this.addBtn21,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input15.text)&&(a1232.hatchNeedTime=Number(t.input15.text))}catch(e){}}),a1251.a1412(this,this.addBtn22,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input16.text)&&(a1232.choukaScore=Number(t.input16.text),a1228.a1225.applyFunc(10004,5041))}catch(e){}}),a1251.a1412(this,this.addBtn27,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input22.text)&&(a1232.seeAdvTimes=Number(t.input22.text),a1228.a1225.applyFunc(10004,5041))}catch(e){}}),a1251.a1412(this,this.addBtn23,egret.TouchEvent.TOUCH_TAP,function(){try{if(Number(t.input18.text)){for(var e=0;e<a1232.growIDs.length;e++)0!=a1232.growIDs[e]&&-1!=a1232.growIDs[e]&&(a1232.growIDs[e][1]-=60*Number(t.input18.text));a1228.a1225.applyFunc(10004,5041)}}catch(i){}}),a1251.a1412(this,this.addBtn25,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input20.text)&&(a1232.washcardNum=Number(t.input20.text),a1228.a1225.applyFunc(10004,5041))}catch(e){}}),a1251.a1412(this,this.addBtn24,egret.TouchEvent.TOUCH_TAP,function(){try{Number(t.input19.text)>=1&&Number(t.input19.text)<=7&&(a1232.signDay=Number(t.input19.text),a1232.hasDaySign=!1,a1228.a1225.applyFunc(10004,5041))}catch(e){}}),a1251.a1412(this,this.addBtn14,egret.TouchEvent.TOUCH_TAP,function(){try{a1232.curPlayers=[1,0,0],a1232.playerIDs={1:new a1231(1,[1])},a1228.a1225.applyFunc(10004,5041)}catch(t){}}),a1251.a1412(this,this.addBtn15,egret.TouchEvent.TOUCH_TAP,function(){localStorage.clear(),a1228.a1225.applyFunc(10004,5035,1,280-a1232.diamond,110),a1228.a1225.applyFunc(10004,5035,2,-a1232.gold,110);var t={gameId:a1232.gameID,trackId:a1232.trackId,historyScore:1,historyPass:1,extInfo:'{"maxLevelFood":1}',extAttr:'{"maildata":"{}"}'};t.s=a1248.md5(a1232.openid+t.extAttr+t.extInfo),a1232.trackId?a1228.a1247.a2623(a1232.URL_UPDATE_CONFIG,egret.URLRequestMethod.POST,t,function(t){a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479()},null):(a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),a1228.a1225.applyFunc(10004,5014))}),a1251.a1412(this,this.addBtn19,egret.TouchEvent.TOUCH_TAP,function(){try{a1228.a1233.a2571(19),a1228.a1233.a2570();var t=a1228.a1226.a2525(102);if(t){t.guideGroup.visible=!1,t.guideGroup.touchThrough=!0,t.setChildIndex(t.foodGroup,999);for(var e=0;e<t.maxRow;++e)for(var i=0;i<t.maxCol;++i)t.boxes[e][i].touchEnabled=!0}a1228.a1225.applyFunc(10004,5041)}catch(a){}}),a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,function(){a1228.a1226.destroy(105)})},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(TestView.prototype,"TestView");var a1204=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.tipsPanelSkin,n.type=a,n}return __extends(e,t),e.prototype.initUI=function(){if(!this.numLabel)return void a1228.Main.a2479();a1228.a1230.a2548();this.a2201(),this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group),a1228.a1252.doTimer(1e4,0,this.a2201,this)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){var t=a1228.a1226.a2525(101);t||!this.visible?a1228.a1245.closeBanner():a1228.a1245.openBanner()},e.prototype.a2201=function(){if(2==this.type){a1232.curLevel<=0&&(a1232.curLevel=1);var t=a1232.guajiTime,i=a1232.getServerTime()-Number(t);i>86400&&(i=86400),5>i&&(i=0),e.lastGuajiTime||(e.lastGuajiTime=i),Math.abs(i-e.lastGuajiTime)<3&&(i=e.lastGuajiTime);var a=Math.floor(1.5*a1228.g_Monster[a1232.curLevel].reward[0][1]*(i/60));a1232.getServerTime()<a1232.longguActTime&&(a=Math.floor(1.1*a)),this.earnings=a,this.numLabel1.text=a1232.priceFormat(a,!0),this.numLabel2.text=a1232.priceFormat(1.5*a,!0);var n=i;this.timeLabel.textFlow=[{text:langue.lixian,style:{textColor:16777215,stroke:2,strokeColor:9735043}},{text:Math.floor(n/3600/24)+"",style:{textColor:16766253,stroke:2,strokeColor:9735043}},{text:langue.time1,style:{textColor:16777215,stroke:2,strokeColor:9735043}},{text:Math.floor(n/3600)%24+"",style:{textColor:16766253,stroke:2,strokeColor:9735043}},{text:langue.time2,style:{textColor:16777215,stroke:2,strokeColor:9735043}},{text:Math.floor(n/60)%60+"",style:{textColor:16766253,stroke:2,strokeColor:9735043}},{text:langue.time3,style:{textColor:16777215,stroke:2,strokeColor:9735043}},{text:Math.floor(n%60)+"",style:{textColor:16766253,stroke:2,strokeColor:9735043}},{text:langue.time4,style:{textColor:16777215,stroke:2,strokeColor:9735043}}]}},e.prototype.event=function(){a1251.a1412(this,this.but_getCommon,egret.TouchEvent.TOUCH_TAP,this.a2436),a1251.a1412(this,this.but_getTriple,egret.TouchEvent.TOUCH_TAP,this.a2437),a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2436=function(){return 1!=a1232.subscribe[3]&&platform.requestSubscribeMessage("guaji",function(t){t&&(a1232.subscribe[3]=1,a1228.a1225.applyFunc(10004,5053,3,1))}),this.earnings<=0?void this.a2095():void(a1228.a1245.a2619(this,this.but_getCommon,3e3)&&a1228.a1245.a2619(this,this.but_getTriple,3e3)&&(a1228.a1245.a2612(langue.getlonggu+a1232.priceFormat(this.earnings,!0)),a1228.a1225.applyFunc(10004,5035,2,this.earnings,113),this.changedate(),this.a2095()))},e.prototype.a2437=function(){var t=this;if(1!=a1232.subscribe[3]&&platform.requestSubscribeMessage("guaji",function(t){t&&(a1232.subscribe[3]=1,a1228.a1225.applyFunc(10004,5053,3,1))}),this.earnings<=0)return void this.a2095();if(a1228.a1245.a2619(this,this.but_getCommon,3e3)&&a1228.a1245.a2619(this,this.but_getTriple,3e3)){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["114","挂机双倍"])}},e.prototype.handleFunc=function(){return this.earnings<=0?void this.a2095():(a1228.a1245.a2612(langue.getlonggu+a1232.priceFormat(1.5*this.earnings,!0)),a1228.a1225.applyFunc(10004,5035,2,1.5*this.earnings,113),this.changedate(),this.a2095(),a1228.a1225.applyFunc(10004,5044,9),a1232.HangAward=a1228.a1245.random_num(1,10),void(this.earnings=0))},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5110)},e.prototype.changedate=function(){a1232.guajiTime=a1232.getServerTime(),a1232.lastGuajiTime=a1232.getServerTime(),a1228.a1225.applyFunc(10004,5042)},e.prototype.close=function(){a1251.a1413(this),a1228.a1252.removeAll(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);
__reflect(a1204.prototype,"a1204");var TongYongRewardView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.tongYongRewardSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.showInfo(),setTimeout(function(){t.a2097()},500),this.a2115(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){if(this.data)for(var t=1;8>=t;t++){var e=this.data[t-1];e?this["daoImg"+t]&&(this["daoImg"+t].scaleX=1,this["infoGroup"+t].scaleX=1,this["daoImg"+t].source=e.icon,this["daoxImg"+t].source=e.icon,e.id&&2==e.id?this["numLabel"+t].text="x"+a1232.priceFormat(e.num,!0):this["numLabel"+t].text="x"+e.num,this["daoImg"+t]&&(1==this.data.length?(this["daoImg"+t].width=200,this["daoImg"+t].height=200):2==this.data.length?(this["daoImg"+t].width=150,this["daoImg"+t].height=150):3==this.data.length&&(this["daoImg"+t].width=100,this["daoImg"+t].height=100))):this["daoImg"+t]&&(this["daoImg"+t].scaleX=0,this["infoGroup"+t].scaleX=0),this["daoImg"+t]}},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5310)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2097=function(){var t=this;if(a1232.guideStep==GuideTaskID){var e=this.sureBtn.a1263(0,0),i=e.x-(this.x-this.anchorOffsetX),a=e.y-(this.y-this.anchorOffsetY);a1228.a1233.a2570(),a1228.a1233.a2572(this,250,86,i,a,function(){t.a2095(),a1228.a1233.a2570()}),a1228.a1233.a2565(this,i+118,a+30)}},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(TongYongRewardView.prototype,"TongYongRewardView");var TopAwardDetailsView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.viewid=0,n._skin=a1243.topAwardDetailsView,n.viewid=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),this.initialize(),this.a2090()},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.ShareBut,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5069)},e.prototype.initialize=function(){var t=[];if(1==this.viewid){if(a1228.g_RankRewardData)for(var e in a1228.g_RankRewardData)t.push({rank:a1228.g_RankRewardData[e].rank,coin:a1228.g_RankRewardData[e].coin})}else if(2==this.viewid&&a1228.g_KunShouData)for(var e in a1228.g_KunShouData)t.push({rank:a1228.g_KunShouData[e].rank,coin:a1228.g_KunShouData[e].reward[0][1]});this.PropsReward.dataProvider=new eui.ArrayCollection(t),this.PropsReward.itemRenderer=TopRankingInfoView},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(TopAwardDetailsView.prototype,"TopAwardDetailsView");var a1205=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.Quantity=0,n.rewardIndex=0,n._skin=a1243.topAwardView,n.Data=a,n.LingQu=a.ranking.lq,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),a1228.a1230.a2557(!0,this.group),this.initialize(),this.a2090(),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[115])},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.QueryBut,egret.TouchEvent.TOUCH_TAP,this.a2439),a1251.a1412(this,this.DoubleGet,egret.TouchEvent.TOUCH_TAP,this.a2440),a1251.a1412(this,this.CommonGet,egret.TouchEvent.TOUCH_TAP,this.a2441)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5067)},e.prototype.a2439=function(){a1228.a1225.applyFunc(10004,5068,1)},e.prototype.a2440=function(){var t=this;if(a1228.a1245.a2619(this,this.CommonGet,2e3)&&a1228.a1245.a2619(this,this.DoubleGet,2e3))if(0==this.LingQu){var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["115","排行奖励双倍领取"])}else a1228.a1245.a2612(langue.hasget)},e.prototype.handleFunc=function(){a1232.randReward=!1,this.a2442(2*this.Quantity),this.LingQu=1,this.initialize();var t=a1228.a1226.a2525(126);t&&t.a2359(),a1228.a1225.applyFunc(10004,5044,9);var e=a1228.a1226.a2525(101);e&&e.a2333(),this.ksCoinGet(2)},e.prototype.a2441=function(){if(a1228.a1245.a2619(this,this.CommonGet,2e3)&&a1228.a1245.a2619(this,this.DoubleGet,2e3))if(0==this.LingQu){a1232.randReward=!1,this.a2442(this.Quantity),this.LingQu=1,this.initialize();var t=a1228.a1226.a2525(126);t&&t.a2359();var e=a1228.a1226.a2525(101);e&&e.a2333(),this.ksCoinGet(1)}else a1228.a1245.a2612(langue.hasget)},e.prototype.ksCoinGet=function(t){if("kwaigame"==platform.name){var e=0,i="",a={trackId:a1232.trackId,gameId:a1232.gameID,num:e,rewardId:i};a1228.a1247.a2623(a1232.URL_KSCOIN_GET,egret.URLRequestMethod.POST,a,function(t){if(t&&t.data){var i=t.data;console.log("<<<<<<<<<领取类型",JSON.stringify(i));var a="";if(1==i.type){if(i.coin){if(1!=i.coin.result)return void a1228.a1245.a2612("金币领取失败");var n=i.coin.num;i.coin.amount,i.coin.result;a="ksjbdtb_png",a1228.a1230.reflshKsCoin()}}else{if(0!=i.type)return void a1228.a1245.a2612(langue.getFail);a="panzs_png";var n=e;a1228.a1225.applyFunc(10004,5035,1,n,13,!1,!0,!1,!1)}var r=[{num:e,icon:a}];a1228.a1225.applyFunc(10004,5309,r)}},null)}},e.prototype.a2442=function(t){var e=this,i={gameId:a1232.gameID,trackId:a1232.trackId,awardInfo:JSON.stringify([{num:t,props:1}]),rank:this.Data.ranking.num,type:1};a1228.a1247.a2623(a1232.URL_TOP_ISGET,egret.URLRequestMethod.POST,i,function(i){i&&i.data&&(a1228.a1225.applyFunc(10004,5035,1,t,107),e.info={rankList:i.data})},null)},e.prototype.initialize=function(){if(this.Data){var t=0,e=0;for(var i in a1228.g_RankRewardData){var a=a1228.g_RankRewardData[i];a.rank[1]=a.rank[1]||9999999999999,this.Data.ranking.num>=a.rank[0]&&this.Data.ranking.num<=a.rank[1]&&(t=Number(a1228.g_RankRewardData[i].coin),e=Math.floor(a1232.curLevel/100)*a1228.g_RankRewardData[i].addcoin,this.Quantity=t+e)}if(this.passNumLbale.text=e+"",this.paiNumLbale.text=t+"",this.AwardCont.text=""+this.Quantity,this.WorldRanking.text=this.Data.ranking.num,this.Data.ranking.num<this.Data.ranking.ranking){var n=this.Data.ranking.ranking-this.Data.ranking.num;this.RiseRanking.text=""+n}else this.RiseRanking.text="0";0==this.LingQu?(this.AlreadyGet.visible=!1,this.DoubleGet.visible=!0,this.CommonGet.visible=!0):(this.AlreadyGet.visible=!0,this.DoubleGet.visible=!1,this.CommonGet.visible=!1),"kwaigame"==platform.name?(this.coinGroup.visible=!0,this.coinGroup.scaleX=1):(this.coinGroup.visible=!1,this.coinGroup.scaleX=0)}},e.prototype.close=function(){a1251.a1413(this),a1228.a1245.closeBanner(),t.prototype.close.call(this)},e}(a1116);__reflect(a1205.prototype,"a1205");var TopRankingInfoView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.topRankingInfoView,e}return __extends(e,t),e.prototype.dataChanged=function(){this.refresh()},e.prototype.refresh=function(){this.ConstGold.text=this.data.coin;var t="";t=1==this.data.rank[1]||0==this.data.rank[1]?this.data.rank[0]+"":this.data.rank[1]>1e5?this.data.rank[0]-1+"":this.data.rank[0]+"~"+this.data.rank[1],"android"==platform.name?this.Rank.text=langue.di+" "+t:this.Rank.textFlow=[{text:langue.di,style:{size:24,textColor:16777215,stroke:2,strokeColor:6381136}},{text:t,style:{size:24,textColor:16766796,stroke:2,strokeColor:6381136}},{text:langue.ming,style:{size:24,textColor:16777215,stroke:2,strokeColor:6381136}}],this.data.rank[1]-1>1e5&&this.Rank.textFlow.push({text:langue.zhihou,style:{size:24,textColor:16777215,stroke:2,strokeColor:6381136}})},e}(eui.ItemRenderer);__reflect(TopRankingInfoView.prototype,"TopRankingInfoView");var a1206=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.startpos=0,n.endpos=null,n.isRun=!1,n.rateArr=[],n._skin=a1243.turnTableSkin,n}return __extends(e,t),e.prototype.initUI=function(){var t=this;this.event(),this.a2090(),this.rateArr.push(a1228.g_TurnTable[1].rate),this.rateArr.push(a1228.g_TurnTable[2].rate),this.rateArr.push(a1228.g_TurnTable[5].rate),this.rateArr.push(a1228.g_TurnTable[3].rate),this.rateArr.push(a1228.g_TurnTable[4].rate),this.rateArr.push(a1228.g_TurnTable[8].rate),this.rateArr.push(a1228.g_TurnTable[7].rate),this.rateArr.push(a1228.g_TurnTable[6].rate),this.a2445(),a1228.a1230.a2557(!0,this.group),this._controller.a1916(5108,this.a2445,this),setTimeout(function(){t.a2097()},500),this.timesLabel.text=a1232.pantimes+"/8",this.a2219(),a1228.a1252.doTimer(1e3,0,this.a2219,this),this.a2444(),this.a2443(),"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?(this.group.verticalCenter=-60,this.closeBtn.visible=!1,this.closeBtn2.visible=!1,setTimeout(function(){t.closeBtn2.visible=!0},500)):(this.closeBtn.visible=!0,this.closeBtn2.visible=!1)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.a2443=function(){a1232.pantimes<=0&&a1232.seevideotimes>0?(this.addBtn.scaleX=1,this.addBtn.visible=!0):(this.addBtn.scaleX=0,this.addBtn.visible=!1)},e.prototype.a2219=function(){var t=a1232.getServerTime();if(a1232.pantimes>=8)return a1232.pantimes=8,this.yutimeLabel.text="",a1232.lastpantime=t,void(this.daojishiLable.visible=!1);for(var e=!1;t-a1232.lastpantime>=10800;)a1232.lastpantime+=10800,a1232.pantimes<8&&(a1232.pantimes+=1),e=!0;if(a1232.pantimes>=8)a1232.lastpantime=t,this.yutimeLabel.text="",this.daojishiLable.visible=!1;else{var i=a1232.lastpantime+10800-t;this.yutimeLabel.text=a1228.a1240.a2597(i,1),this.daojishiLable.visible=!0}this.timesLabel.text=a1232.pantimes+"/8",e&&a1228.a1225.applyFunc(10004,5041)},e.prototype.a2444=function(){var t=a1228.a1226.a2525(102);t&&(a1232.pantimes>0?t.table_Image.visible=!0:t.table_Image.visible=!1)},e.prototype.a2445=function(){a1232.curbeishu>1?("ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?this.beiGroup.visible=!1:this.beiGroup.visible=!0,this.beiLabel.text=langueOfvalue(langue.choujiang,a1232.curbeishu)):this.beiGroup.visible=!1,this.a2097()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.closeBtn2,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.startBtn,egret.TouchEvent.TOUCH_TAP,this.a2448,!1),a1251.a1412(this,this.addBtn,egret.TouchEvent.TOUCH_TAP,this.a2450,!1),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111,!1),a1251.a1412(this,this.returnBtn,egret.TouchEvent.TOUCH_TAP,this.a2114,!1)},e.prototype.a2446=function(){var t=-100;t=10==a1232.guideStep?7:a1232.curbeishu>1?7:this.a2447(),5!=t&&a1232.pantimes>0&&(this.timesLabel.text=a1232.pantimes+"/8",a1232.pantimes-=1,a1228.a1225.applyFunc(10004,5041)),null!=this.endpos&&(this.startpos=this.endpos),this.prizeId=t,this.endpos=t,this.a2444()},e.prototype.a2447=function(){for(var t=0,e=0;e<this.rateArr.length;e++)t+=this.rateArr[e];for(var i=a1228.a1245.random_num(0,t),a=[],e=0;e<this.rateArr.length;e++)if(a[e]=[],this.rateArr[e]<=0)a[e][0]=0,a[e][1]=0;else{for(var n=0,r=0;e>r;r++)n+=this.rateArr[r];a[e][0]=n,a[e][1]=n+this.rateArr[e]}for(var s=0,e=0;e<a.length;e++)if(i>a[e][0]&&i<=a[e][1]){s=e;break}return s},e.prototype.a2448=function(){return a1232.seevideotimes<=0&&a1232.pantimes<=0?void a1228.a1245.a2612(langue.timeslimit):a1232.pantimes<=0&&a1232.seevideotimes>0?(a1228.a1245.a2612(langue.zhuantimesno),this.tipsGroup.visible=!0,this.tipsRect.visible=!0,a1228.a1230.a2557(!0,this.tipsGroup),void(platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[116]))):void(this.isRun||(a1228.a1230.interstitialAd(),"android"!=platform.name||a1232.isNewsPlayer||platform.getInterstitialAd2(function(){},null),this.a2446(),this.a2449(),this.a2443(),a1228.a1225.applyFunc(10004,5046,2)))},e.prototype.a2449=function(){var t=this,e=5400,i=this.startpos,a=this.endpos,n=0;i>a?n=i-a:a>i?n=i+(7-a)+1:i==a&&(n=8),e+=45*n,this.isRun=!0;var r=this.panImg.rotation+e;egret.Tween.get(this.panImg).to({rotation:r+4},5e3,egret.Ease.cubicInOut).to({rotation:r+0},70,egret.Ease.cubicInOut).to({rotation:r-7},70,egret.Ease.cubicInOut).to({rotation:r+0},70,egret.Ease.cubicInOut).to({rotation:r+3},30,egret.Ease.cubicInOut).to({rotation:r+0},30,egret.Ease.cubicInOut).to({rotation:r-4},30,egret.Ease.cubicInOut).to({rotation:r+0},10,egret.Ease.cubicInOut).call(function(){if(t.ani)t.ani.animation.play("newAnimation",1);else{var e="zhuanpan";t.ani=a1228.a1245.CreateFrameAnimation(e,e),t.group.addChild(t.ani),t.ani.x=360,t.ani.y=280,t.ani.scaleX=1,t.ani.scaleY=1,t.ani.touchEnabled=!1,t.ani.touchChildren=!1,t.ani.animation.play("newAnimation",1)}a1228.a1252.doTimer(500,1,function(){t.a2451()},t)}),setTimeout(function(){egret.Tween.get(t.pointerImg,{loop:!0}).to({rotation:-4.24},60).to({rotation:0},60).to({rotation:-4.24},60).to({rotation:10.15},60).to({rotation:0},60)},1500),setTimeout(function(){egret.Tween.removeTweens(t.pointerImg),egret.Tween.get(t.pointerImg).to({rotation:0},60)},3800)},e.prototype.a2450=function(){this.isRun||(a1232.seevideotimes<=0?a1228.a1245.a2612(langue.timeslimit):(this.tipsGroup.visible=!0,this.tipsRect.visible=!0,a1228.a1230.a2557(!0,this.tipsGroup)))},e.prototype.a2111=function(){var t=this,e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.handleFunc()},e,["116","增加抽奖次数"])},e.prototype.handleFunc=function(){a1232.seevideotimes-=1,a1232.pantimes+=2,this.tipsGroup.visible=!1,this.tipsRect.visible=!1,this.addBtn.scaleX=0,this.addBtn.visible=!1,this.timesLabel.text=a1232.pantimes+"/8",this.a2444(),a1228.a1245.a2612(langueOfvalue(langue.addzhuanpan,2)),a1228.a1225.applyFunc(10004,5044,9),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2114=function(){this.tipsGroup.visible=!1,this.tipsRect.visible=!1,a1232.pantimes<=0&&a1232.seevideotimes>0?(this.addBtn.scaleX=1,this.addBtn.visible=!0):(this.addBtn.scaleX=0,this.addBtn.visible=!1)},e.prototype.a2451=function(){var t=this;a1228.a1252.doTimer(300,1,function(){t.isRun=!1,a1228.a1230.showFullVideo(),a1228.a1225.applyFunc(10004,5107,t.prizeId,a1232.curbeishu)},this)},e.prototype.a2095=function(){this.isRun||a1228.a1230.a2557(!1,this.group,5104)},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1251.a1413(this),a1228.a1252.removeAll(this),egret.Tween.removeTweens(this.pointerImg),a1228.a1245.closeBanner(),this._controller.a1917(5108,this.a2445,this),t.prototype.close.call(this)},e.prototype.a2097=function(){var t=this;if(10==a1232.guideStep&&a1232.pantimes>0&&a1232.curLevel>5){var e=this.group.x+this.startBtn.x-this.group.anchorOffsetX-this.startBtn.anchorOffsetX,i=this.group.y+this.startBtn.y-this.group.anchorOffsetY-this.startBtn.anchorOffsetY;a1228.a1233.a2570(),a1228.a1233.a2572(this,140,140,e,i,function(){t.a2448(),a1228.a1233.a2571(a1232.guideStep),a1227.getPoint("1112","引导转盘结束",7)}),a1228.a1233.a2565(this,e+40,i+70)}},e}(a1116);__reflect(a1206.prototype,"a1206");var a1207=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r._skin=a1243.unlockNewFoodSkin,r.foodLevel=a,r.ID=n,r}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2452(),this.a2115(),this.a2090(),a1228.a1230.a2557(!0,this.group),this._controller.a1916(5044,this.a2078,this),a1227.getPoint(""+(4e3+this.foodLevel),"解锁新食物等级"+this.foodLevel,7)},e.prototype.setVisible=function(t){this.visible=t},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.xuanyaoBtn,egret.TouchEvent.TOUCH_TAP,this.a2364)},e.prototype.a2126=function(){void 0!=this.BGAnim&&this.Backlight_Group.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=-150,t.y=-400,t.scaleX=2,t.scaleY=2,this.Backlight_Group.addChild(t),this.BGAnim=t},e.prototype.a2452=function(){platform.isLocal()||"wxgame"==platform.name?(this.xuanImg.visible=!0,this.zlyfenGroup.visible=!1):(this.xuanImg.visible=!1,this.zlyfenGroup.visible=!0);for(var t in a1228.g_PropsData)a1228.g_PropsData[t].level&&this.foodLevel==a1228.g_PropsData[t].level&&(this.foodImg.source=a1228.g_PropsData[t].icon,this.nameLabel.text=a1228.g_PropsData[t].name,this.iconImg.source=a1228.g_PropsData[t].icon,this.iconImg1.source=a1228.g_PropsData[t].icon,this.scrLabel.text=a1228.g_PropsData[t].desc+langue.tsdj)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5112),5==a1232.maxLevelFood&&a1228.a1252.doTimer(100,1,function(){a1228.a1225.applyFunc(10004,5129,1)},this)},e.prototype.a2078=function(t){if(!platform.isLocal()&&10==t)for(var e in a1228.g_PropsData)if(a1228.g_PropsData[e].level&&this.foodLevel==a1228.g_PropsData[e].level){a1228.a1225.applyFunc(10004,5035,a1228.g_PropsData[e].index,1),this.a2095();break}},e.prototype.a2364=function(){var t=this;if(platform.isLocal())this.getfood(),this.a2095();else if(platform.isLocal()||"wxgame"==platform.name)setTimeout(function(){({gameId:a1232.gameID,trackId:a1232.trackId});a1227.getPoint("22","获得新食物微信分享",4)},200);else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.getOneHandleFunc()},e,["143","解锁新食物再来一份"])}},e.prototype.getOneHandleFunc=function(){this.getfood(),this.a2095()},e.prototype.getfood=function(){for(var t in a1228.g_PropsData)if(a1228.g_PropsData[t].level&&this.foodLevel==a1228.g_PropsData[t].level){a1228.a1225.applyFunc(10004,5035,a1228.g_PropsData[t].index,1);break}},e.prototype.close=function(){egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),a1228.a1245.closeBanner(),this._controller.a1917(5044,this.a2078,this),a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=250,t.y=250,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(a1207.prototype,"a1207");var VideoSureView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.videoSureSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.contentLabel.text=this.data.src},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.cancleBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2112)},e.prototype.a2112=function(){this.data&&this.data.callback&&(this.data.callback(),this.a2095())},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5318)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(VideoSureView.prototype,"VideoSureView");var a1208=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.worldMapSkinView,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.initialize(),this.scroller.width=a1228.a1122.a1872(),this.scroller.height=a1228.a1122.a1873(),this.a2453()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5071)},e.prototype.initialize=function(){if(a1232.curLevel>0&&a1232.curLevel<=400){var t=a1232.curLevel/10;if(t>0&&10>=t)for(var e=Math.ceil(t),i=1;10>=i;i++)0==e?(1==i?this["Course1_"+i].source="MapGreenDot_png":this["Course1_"+i].source="MapWhiteDot_png",10>i&&(this["Line1_"+i].source="MapWhiteLine_png")):i>e?(this["Course1_"+i].source="MapWhiteDot_png",10>i&&(this["Line1_"+i].source="MapWhiteLine_png")):i==e?(this["Course1_"+i].source="MapGreenDot_png",this.a2454(this["Course1_"+i].x,this["Course1_"+i].y),10>i&&(this["Line1_"+i].source="MapWhiteLine_png")):e>i&&(this["Course1_"+i].source="MapOrangeDot_png",10>i&&(this["Line1_"+i].source="MapOrangeLine_png")),this["Course2_"+i].source="MapWhiteDot_png",this["Course3_"+i].source="MapWhiteDot_png",this["Course4_"+i].source="MapWhiteDot_png",this["Course5_"+i].source="MapWhiteDot_png",10>i&&(this["Line2_"+i].source="MapWhiteLine_png",this["Line3_"+i].source="MapWhiteLine_png",this["Line4_"+i].source="MapWhiteLine_png",this["Line5_"+i].source="MapWhiteLine_png");else if(t>10&&20>=t)for(var e=Math.ceil(t)-10,i=1;10>=i;i++)i>e?(this["Course2_"+i].source="MapWhiteDot_png",10>i&&(this["Line2_"+i].source="MapWhiteLine_png")):i==e?(this["Course2_"+i].source="MapGreenDot_png",this.a2454(this["Course2_"+i].x,this["Course2_"+i].y),10>i&&(this["Line2_"+i].source="MapWhiteLine_png")):e>i&&(this["Course2_"+i].source="MapOrangeDot_png",10>i&&(this["Line2_"+i].source="MapOrangeLine_png")),this["Course1_"+i].source="MapOrangeDot_png",this["Course3_"+i].source="MapWhiteDot_png",this["Course4_"+i].source="MapWhiteDot_png",this["Course5_"+i].source="MapWhiteDot_png",10>i&&(this["Line1_"+i].source="MapOrangeLine_png",this["Line3_"+i].source="MapWhiteLine_png",this["Line4_"+i].source="MapWhiteLine_png",this["Line5_"+i].source="MapWhiteLine_png");else if(t>20&&30>=t)for(var e=Math.ceil(t)-20,i=1;10>=i;i++)i>e?(this["Course3_"+i].source="MapWhiteDot_png",10>i&&(this["Line3_"+i].source="MapWhiteLine_png")):i==e?(this["Course3_"+i].source="MapGreenDot_png",this.a2454(this["Course3_"+i].x,this["Course3_"+i].y),10>i&&(this["Line3_"+i].source="MapWhiteLine_png")):e>i&&(this["Course3_"+i].source="MapOrangeDot_png",10>i&&(this["Line3_"+i].source="MapOrangeLine_png")),this["Course1_"+i].source="MapOrangeDot_png",this["Course2_"+i].source="MapOrangeDot_png",this["Course4_"+i].source="MapWhiteDot_png",this["Course5_"+i].source="MapWhiteDot_png",10>i&&(this["Line1_"+i].source="MapOrangeLine_png",this["Line2_"+i].source="MapOrangeLine_png",this["Line4_"+i].source="MapWhiteLine_png",this["Line5_"+i].source="MapWhiteLine_png");else if(t>30&&40>=t)for(var e=Math.ceil(t)-30,i=1;10>=i;i++)i>e?(this["Course4_"+i].source="MapWhiteDot_png",10>i&&(this["Line4_"+i].source="MapWhiteLine_png")):i==e?(this["Course4_"+i].source="MapGreenDot_png",this.a2454(this["Course4_"+i].x,this["Course4_"+i].y),10>i&&(this["Line4_"+i].source="MapWhiteLine_png")):e>i&&(this["Course4_"+i].source="MapOrangeDot_png",10>i&&(this["Line4_"+i].source="MapOrangeLine_png")),this["Course1_"+i].source="MapOrangeDot_png",this["Course2_"+i].source="MapOrangeDot_png",this["Course3_"+i].source="MapOrangeDot_png",this["Course5_"+i].source="MapWhiteDot_png",10>i&&(this["Line1_"+i].source="MapOrangeLine_png",this["Line2_"+i].source="MapOrangeLine_png",this["Line3_"+i].source="MapOrangeLine_png",this["Line5_"+i].source="MapWhiteLine_png")}else if(a1232.curLevel>400&&a1232.curLevel<=3e3)for(var t=(a1232.curLevel-400)/110,e=Math.ceil(t),i=1;10>=i;i++)i>e?(this["Course5_"+i].source="MapWhiteDot_png",10>i&&(this["Line5_"+i].source="MapWhiteLine_png")):i==e?(this["Course5_"+i].source="MapGreenDot_png",this.a2454(this["Course5_"+i].x,this["Course5_"+i].y),10>i&&(this["Line5_"+i].source="MapWhiteLine_png")):e>i&&(this["Course5_"+i].source="MapOrangeDot_png",10>i&&(this["Line5_"+i].source="MapOrangeLine_png")),this["Course1_"+i].source="MapOrangeDot_png",this["Course2_"+i].source="MapOrangeDot_png",this["Course3_"+i].source="MapOrangeDot_png",this["Course4_"+i].source="MapOrangeDot_png",10>i&&(this["Line1_"+i].source="MapOrangeLine_png",this["Line2_"+i].source="MapOrangeLine_png",this["Line3_"+i].source="MapOrangeLine_png",this["Line4_"+i].source="MapOrangeLine_png")},e.prototype.a2453=function(){a1232.curLevel>0&&a1232.curLevel<=100?this.Coords.scrollH=this.group.width-a1228.a1122.a1872()-200:a1232.curLevel>100&&a1232.curLevel<=300?this.Coords.scrollH=0:a1232.curLevel>300&&a1232.curLevel<=400?this.Coords.scrollH=this.group.width-a1228.a1122.a1872()-200:a1232.curLevel>400&&a1232.curLevel<=3e3&&(this.Coords.scrollH=this.group.width-a1228.a1122.a1872())},e.prototype.a2454=function(t,e){this.Arrows.x=t-23,this.Arrows.y=e-85,egret.Tween.get(this.Arrows,{loop:!0}).to({y:e-150},400).to({y:e-85},400)},e.prototype.close=function(){a1251.a1413(this),egret.Tween.removeTweens(this.Arrows),RES.getRes("MapBG_jpg")&&RES.a1530("MapBG_jpg"),RES.getRes("MAP_YUN_png")&&RES.a1530("MAP_YUN_png"),t.prototype.close.call(this)},e}(a1116);__reflect(a1208.prototype,"a1208");var a1209=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a._skin=a1243.worldoFwarSkin,a}return __extends(e,t),e.prototype.initUI=function(){if(!this.openGroup)return void a1228.Main.a2479();this.event(),this.animation1();a1228.a1226.a2525(102);a1227.getPoint("1004","开场动画",7)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2116=function(){this.animation1()},e.prototype.animation1=function(){var t=this;this.img2.visible=!1,this.img3.visible=!1,this.img4.visible=!1,this.img5.visible=!1,this.img6.visible=!1,this.img7.visible=!1,egret.Tween.get(this.img1).to({x:1080},0).to({x:360.5},600),egret.Tween.get(this.img2).wait(800).call(function(){t.img2.visible=!0}).to({x:272,y:412},0).to({scaleX:1.2,scaleY:1.2},200).wait(200).to({scaleX:1,scaleY:1},200).wait(200).to({x:216,y:354},200),egret.Tween.get(this.img3).wait(2e3).call(function(){t.img3.visible=!0}).to({x:462,y:304},0).to({scaleX:1.2,scaleY:1.2},200).wait(200).to({scaleX:1,scaleY:1},200).wait(200).to({x:534,y:368},200),egret.Tween.get(this.img4).wait(3200).call(function(){t.img4.visible=!0}).to({x:-370},0).to({x:360.5},600),egret.Tween.get(this.img5).wait(4e3).call(function(){t.img5.visible=!0}).to({x:228,y:780},0).to({scaleX:1.2,scaleY:1.2},200).wait(200).to({scaleX:1,scaleY:1},200).wait(200).to({x:142,y:806},200),egret.Tween.get(this.img6).wait(5e3).call(function(){t.img6.visible=!0}).to({x:400,y:910},0).to({scaleX:1.2,scaleY:1.2},200).wait(200).to({scaleX:1,scaleY:1},200).wait(200).to({x:482,y:850},200),egret.Tween.get(this.img7).wait(6200).call(function(){t.img7.visible=!0}).to({x:-366},0).to({x:360},600).wait(100).call(function(){t.closeBtn.visible=!0,a1228.a1252.doTimer(4e3,1,t.a2095,t)}),egret.Tween.get(this.closeBtn,{loop:!0}).to({scaleX:1.2,scaleY:1.2},400).to({scaleX:1,scaleY:1},400)},e.prototype.a2095=function(){a1227.getPoint("1005","开场动画关闭",7),a1228.a1230.a2557(!1,this.group,5090);a1228.a1226.a2525(102)},e.prototype.close=function(){a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1209.prototype,"a1209");var YuanDanItemksView=function(t){function e(){var e=t.call(this)||this;return e.lqState=0,e.skinName=a1243.yuanDanItemksSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGetScore,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onClickGetScore=function(){var t=this;if(a1228.a1245.a2619(this,this.getBtn,1e3)){if(1==this.lqState||1==a1232.yuandantask_ks[this.data.day][this.data.index][2])return void a1228.a1245.a2612("已领取");if(2==this.lqState&&1!=a1232.yuandantask_ks[this.data.day][this.data.index][2]){var e={trackId:a1232.trackId,gameId:a1232.gameID,num:a1228.g_yuandanDataks[this.data.day].score[this.data.index],rewardId:a1228.g_yuandanDataks[this.data.day].reward_id[this.data.index]};a1228.a1247.a2623(a1232.URL_KSCOIN_GET,egret.URLRequestMethod.POST,e,function(i){if(i&&i.data){var a=i.data;console.log("<<<<<<<<<领取类型",JSON.stringify(a));var n="";if(a1232.isDebug&&(a.type=0),1==a.type){if(a.coin){if(1!=a.coin.result)return void a1228.a1245.a2612("金币领取失败");var r=a.coin.num;a.coin.amount,a.coin.result;n="ksjbdtb_png",a1228.a1230.reflshKsCoin(),a1232.yuandantask_ks[t.data.day][t.data.index][2]=1,a1228.a1225.applyFunc(10004,5042);var s=a1228.a1226.a2525(253);s&&s.a2141(),t.reflesh()}}else{if(0!=a.type)return void a1228.a1245.a2612("领取失败");n="panzs_png";var r=e.num;a1232.yuandantask_ks[t.data.day][t.data.index][2]=1,a1228.a1225.applyFunc(10004,5035,1,r,13,!1,!0,!1,!1),a1228.a1225.applyFunc(10004,5042);var s=a1228.a1226.a2525(253);s&&s.a2141(),t.reflesh()}var o=[{num:e.num,icon:n}];a1228.a1225.applyFunc(10004,5309,o)}},null)}if(5==this.lqState&&1!=a1232.yuandantask_ks[this.data.day][this.data.index][2]){var i=a1232.yuandantask_ks[this.data.day][this.data.index][0];2==i?a1228.a1225.applyFunc(10004,5117):3==i&&a1228.a1225.applyFunc(10004,5056)}}},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=a1228.g_yuandanDataks[this.data.day],e=a1232.yuandantask_ks[this.data.day];if(t){this.scoreLabel.text=t.score[this.data.index]+"";var i=t.concretetask.split("/");this.srcLabel.text=i[this.data.index];var a=e[this.data.index][1],n=t.count[this.data.index],r=e[this.data.index][0];if(a>n&&(a=n),this.countLabel.text=a+"/"+t.count[this.data.index],this.lqState=0,a>=n)0==e[this.data.index][2]?(this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="领 取",this.statedbImg.source="TiaoZhanLabel_png",this.lqState=2):(this.wanchengImg.visible=!0,this.getBtn.visible=!1,this.statedbImg.source="an_2_png",this.lqState=1);
else{var s=a1228.a1230.getYaunActiveDay_ks();s>this.data.day?(this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="已过时",this.statedbImg.source="an_2_png",this.lqState=4):2==r||3==r?(this.lqState=5,this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="前 往",this.statedbImg.source="TiaoZhanLabel_png"):(this.lqState=3,this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="未完成",this.statedbImg.source="an_2_png")}}},e}(eui.ItemRenderer);__reflect(YuanDanItemksView.prototype,"YuanDanItemksView");var YuanDanItemView=function(t){function e(){var e=t.call(this)||this;return e.lqState=0,e.skinName=a1243.yuanDanItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.onClickGetScore,!1),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onClickGetScore=function(){if(a1228.a1245.a2619(this,this.getBtn,1e3)){if(1==this.lqState||1==a1232.yuandantask4[this.data.day][this.data.index][2])return void a1228.a1245.a2612("已领取");if(2==this.lqState&&1!=a1232.yuandantask4[this.data.day][this.data.index][2]){a1232.yuandantask4[this.data.day][this.data.index][2]=1;var t=a1228.a1226.a2525(225);t&&t.a2141(),this.reflesh(),a1228.a1225.applyFunc(10004,5042)}if(5==this.lqState&&1!=a1232.yuandantask4[this.data.day][this.data.index][2]){var e=a1232.yuandantask4[this.data.day][this.data.index][0];1==e?a1228.a1225.applyFunc(10004,5117):2==e?a1228.a1225.applyFunc(10004,5103):3==e?a1228.a1225.applyFunc(10004,5054):4==e?a1228.a1225.applyFunc(10004,5119):5==e?a1228.a1225.applyFunc(10004,5056):8==e&&a1228.a1225.applyFunc(10004,5176)}}},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t=a1228.g_yuandanData[this.data.day],e=a1232.yuandantask4[this.data.day];if(t){this.scoreLabel.text=t.score[this.data.index]+"";var i=t.concretetask.split("/");this.srcLabel.text=i[this.data.index];var a=e[this.data.index][1],n=t.count[this.data.index],r=e[this.data.index][0];if(a>n&&(a=n),this.countLabel.text=a+"/"+t.count[this.data.index],this.lqState=0,a>=n)0==e[this.data.index][2]?(this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="领 取",this.statedbImg.source="TiaoZhanLabel_png",this.lqState=2):(this.wanchengImg.visible=!0,this.getBtn.visible=!1,this.statedbImg.source="an_2_png",this.lqState=1);else{var s=a1228.a1230.getYaunActiveDay();s>this.data.day?(this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="已过时",this.statedbImg.source="an_2_png",this.lqState=4):1==r||2==r||3==r||4==r||5==r?(this.lqState=5,this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="前 往",this.statedbImg.source="TiaoZhanLabel_png"):(this.lqState=3,this.wanchengImg.visible=!1,this.getBtn.visible=!0,this.stateLabel.text="未完成",this.statedbImg.source="an_2_png")}}},e}(eui.ItemRenderer);__reflect(YuanDanItemView.prototype,"YuanDanItemView");var YuanDanksView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.selectDay=0,a._skin=a1243.yuanDanksSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event();var t=a1228.a1230.getYaunActiveDay_ks();t>3?this.onClickDays(3):this.onClickDays(t),this.a2141(),this.reflshTimeView(),a1228.a1252.doTimer(1e3,0,this.reflshTimeView,this),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.getAllScore=function(){var t=0;for(var e in a1232.yuandantask_ks)for(var i=a1232.yuandantask_ks[e],a=0;a<i.length;a++)i[a][2]&&(t+=a1228.g_yuandanDataks[e].score[a]);return t},e.prototype.a2141=function(){var t=this.getAllScore();this.scoreLabel.text=t+"";for(var e=a1228.a1230.getYaunActiveDay_ks(),i=1;3>=i;i++)this.isOpenTask(i)||e>3?(this["daylockImg"+i].visible=!1,this["dayLabel"+i].x=42):(this["daylockImg"+i].visible=!0,this["dayLabel"+i].x=27),this.selectDay==i?this["daydbImg"+i].source="TiaoZhanLabel_png":this["daydbImg"+i].source="an_2_png";for(var i=0;i<a1232.yuanrewardArr_ks.length;i++)1==a1232.yuanrewardArr_ks[i][0]?this["chipImg"+(i+1)].source="zs_png":this["chipImg"+(i+1)].source=a1228.g_PropsData[a1232.yuanrewardArr_ks[i][0]].icon,this["chipLabel"+(i+1)].text=a1232.yuanrewardArr_ks[i][1]+"",this["fenLabel"+(i+1)].text=a1232.yuanrewardArr_ks[i][2]+"",-1!=a1232.yuanhasget_ks.indexOf(a1232.yuanrewardArr_ks[i][2])?(this["chipgetImg"+(i+1)].visible=!0,this["chipwaikImg"+(i+1)].visible=!1):t>=a1232.yuanrewardArr_ks[i][2]?(this["chipgetImg"+(i+1)].visible=!1,this["chipwaikImg"+(i+1)].visible=!0):(this["chipgetImg"+(i+1)].visible=!1,this["chipwaikImg"+(i+1)].visible=!1);var a=this.jingduheiImg.width-5,n=t/a1232.yuanrewardArr_ks[2][2];n>1&&(n=1),this.jindutiaoImg.width=n*a;for(var i=0;i<a1232.yuanrewardArr_ks.length;i++)t>=a1232.yuanrewardArr_ks[i][2]?this["jiedianImg"+(i+1)].source="yuandian2_png":this["jiedianImg"+(i+1)].source="yuandian1_png"},e.prototype.reflshTimeView=function(){if(this.scrollerList.numChildren>0)for(var t=0;t<this.scrollerList.numChildren;t++){var e=this.scrollerList.getChildAt(t);e&&e.reflesh()}},e.prototype.isOpenTask=function(t){var e=a1228.a1230.getYaunActiveDay_ks();return e>=1&&3>=e&&e>=t?!0:!1},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.ruleBtn,egret.TouchEvent.TOUCH_TAP,this.a2465),a1251.a1412(this,this.dayBtn1,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(1)}),a1251.a1412(this,this.dayBtn2,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(2)}),a1251.a1412(this,this.dayBtn3,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(3)}),a1251.a1412(this,this.rewardBtn1,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(1)},!1),a1251.a1412(this,this.rewardBtn2,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(2)},!1),a1251.a1412(this,this.rewardBtn3,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(3)},!1)},e.prototype.a2465=function(){a1228.a1225.applyFunc(10004,5272,2)},e.prototype.onClickDays=function(t){if(!this.isOpenTask(t)){var e=a1228.a1230.getYaunActiveDay_ks();if(1==e){if(2==t)return void a1228.a1245.a2612("明日开启");if(3==t)return void a1228.a1245.a2612("暂未开启")}else if(2==e&&3==t)return void a1228.a1245.a2612("明日开启")}if(this.selectDay!=t){this.selectDay=t;var i=a1228.g_yuandanDataks[t];if(i){for(var a=[],n=0;n<i.task.length;n++)a.push({index:n,day:t});this.scrollerList.dataProvider=new eui.ArrayCollection(a),this.scrollerList.itemRenderer=YuanDanItemksView}this.a2141()}},e.prototype.a2469=function(t){if(a1228.a1245.a2619(this,this["rewardBtn"+t],1e3)){var e=this.getAllScore();if(-1==a1232.yuanhasget_ks.indexOf(a1232.yuanrewardArr_ks[t-1][2])&&!(e<a1232.yuanrewardArr_ks[t-1][2])){a1232.yuanhasget_ks.push(a1232.yuanrewardArr_ks[t-1][2]);var i=a1232.yuanrewardArr_ks[t-1][0],a=a1232.yuanrewardArr_ks[t-1][1];a1228.a1225.applyFunc(10004,5083,[[i,a]]),a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,i,a,118),this.a2141()}}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5316)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(YuanDanksView.prototype,"YuanDanksView");var YuanDanRuleView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.type=0,n._skin=a1243.yuanDanRuleSkin,n.type=a,n}return __extends(e,t),e.prototype.initUI=function(){if(this.event(),1==this.type)this.timeLabel1.text="1. 活动时间："+a1232.openYuanTime+"-"+a1232.closeYuanTime,this.timeLabel2.text="2. "+a1232.closeYuanTime+"前进入活动都可完成三天奖励，"+a1232.closeYuanTime+"后进入的用户活动将不再开启。";else if(2==this.type){new Date(a1232.yuandanEnterDay_ks);this.timeLabel1.text="1. 活动时间：进入游戏的前三天，可通过完成任务，获得金币奖励，积累金币还可获得对应物",this.timeLabel2.text="2. 每日的任务结算时间为次日零点，结算之后当日的任务不可再完成",this.timeLabel3.visible=!1,this.timeLabel4.visible=!1,this.timeLabel5.visible=!1,this.timeLabel3.scaleY=0,this.timeLabel4.scaleY=0,this.timeLabel5.scaleY=0}a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5273)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(YuanDanRuleView.prototype,"YuanDanRuleView");var YuanDanView=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.selectDay=0,a._skin=a1243.yuanDanSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event();var t=a1228.a1230.getYaunActiveDay();this.onClickDays(t),this.a2141(),this.reflshTimeView(),a1228.a1252.doTimer(1e3,0,this.reflshTimeView,this),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.getAllScore=function(){var t=0;for(var e in a1232.yuandantask4)for(var i=a1232.yuandantask4[e],a=0;a<i.length;a++)i[a][2]&&(t+=a1228.g_yuandanData[e].score[a]);return t},e.prototype.a2141=function(){var t=this.getAllScore();this.scoreLabel.text=t+"";for(var e=1;3>=e;e++)this.isOpenTask(e)?(this["daylockImg"+e].visible=!1,this["dayLabel"+e].x=42):(this["daylockImg"+e].visible=!0,this["dayLabel"+e].x=27),this.selectDay==e?this["daydbImg"+e].source="TiaoZhanLabel_png":this["daydbImg"+e].source="an_2_png";for(var e=0;e<a1232.yuanrewardArr.length;e++)1==a1232.yuanrewardArr[e][0]?this["chipImg"+(e+1)].source="zs_png":this["chipImg"+(e+1)].source=a1228.g_PropsData[a1232.yuanrewardArr[e][0]].icon,this["chipLabel"+(e+1)].text=a1232.yuanrewardArr[e][1]+"",this["fenLabel"+(e+1)].text=a1232.yuanrewardArr[e][2]+"",-1!=a1232.yuanhasget4.indexOf(a1232.yuanrewardArr[e][2])?(this["chipgetImg"+(e+1)].visible=!0,this["chipwaikImg"+(e+1)].visible=!1):t>=a1232.yuanrewardArr[e][2]?(this["chipgetImg"+(e+1)].visible=!1,this["chipwaikImg"+(e+1)].visible=!0):(this["chipgetImg"+(e+1)].visible=!1,this["chipwaikImg"+(e+1)].visible=!1);var i=this.jingduheiImg.width-5,a=t/1e3;a>1&&(a=1),this.jindutiaoImg.width=a*i;for(var e=0;e<a1232.yuanrewardArr.length;e++)t>=a1232.yuanrewardArr[e][2]?this["jiedianImg"+(e+1)].source="yuandian2_png":this["jiedianImg"+(e+1)].source="yuandian1_png"},e.prototype.reflshTimeView=function(){if(this.scrollerList.numChildren>0)for(var t=0;t<this.scrollerList.numChildren;t++){var e=this.scrollerList.getChildAt(t);e&&e.reflesh()}},e.prototype.isOpenTask=function(t){var e=a1228.a1230.getYaunActiveDay();return e>=1&&3>=e&&e>=t?!0:!1},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.ruleBtn,egret.TouchEvent.TOUCH_TAP,this.a2465),a1251.a1412(this,this.dayBtn1,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(1)}),a1251.a1412(this,this.dayBtn2,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(2)}),a1251.a1412(this,this.dayBtn3,egret.TouchEvent.TOUCH_TAP,function(){t.onClickDays(3)}),a1251.a1412(this,this.rewardBtn1,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(1)},!1),a1251.a1412(this,this.rewardBtn2,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(2)},!1),a1251.a1412(this,this.rewardBtn3,egret.TouchEvent.TOUCH_TAP,function(){t.a2469(3)},!1)},e.prototype.a2465=function(){a1228.a1225.applyFunc(10004,5272,1)},e.prototype.onClickDays=function(t){if(!this.isOpenTask(t)){var e=a1228.a1230.getYaunActiveDay();return void(1==e?2==t?a1228.a1245.a2612("明日开启"):3==t&&a1228.a1245.a2612("暂未开启"):2==e&&3==t&&a1228.a1245.a2612("明日开启"))}if(this.selectDay!=t){this.selectDay=t;var i=a1228.g_yuandanData[t];if(i){for(var a=[],n=0;n<i.task.length;n++)a.push({index:n,day:t});this.scrollerList.dataProvider=new eui.ArrayCollection(a),this.scrollerList.itemRenderer=YuanDanItemView}this.a2141()}},e.prototype.a2469=function(t){if(a1228.a1245.a2619(this,this["rewardBtn"+t],1e3)){var e=this.getAllScore();if(-1==a1232.yuanhasget4.indexOf(a1232.yuanrewardArr[t-1][2])&&!(e<a1232.yuanrewardArr[t-1][2])){a1232.yuanhasget4.push(a1232.yuanrewardArr[t-1][2]);var i=a1232.yuanrewardArr[t-1][0],a=a1232.yuanrewardArr[t-1][1];a1228.a1225.applyFunc(10004,5083,[[i,a]]),a1228.a1225.applyFunc(10004,5042),a1228.a1225.applyFunc(10004,5035,i,a,118),this.a2141()}}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5271)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(YuanDanView.prototype,"YuanDanView");var ZhengbaCheerInfoItemView=function(t){function e(){var e=t.call(this)||this;return e.beginTime=0,e.skinName=a1243.dinosaursCheerInfoItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){var t=this;a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.group1,egret.TouchEvent.TOUCH_BEGIN,function(e){t.a2143(0,e)},!1),a1251.a1412(this,this.group2,egret.TouchEvent.TOUCH_BEGIN,function(e){t.a2143(1,e)},!1),a1251.a1412(this,this,egret.TouchEvent.TOUCH_TAP,this.touchEnd,!1),a1251.a1412(this,this.suoImg1,egret.TouchEvent.TOUCH_TAP,this.a2142.bind(this,0),!1),a1251.a1412(this,this.suoImg2,egret.TouchEvent.TOUCH_TAP,this.a2142.bind(this,1),!1)},e.prototype.a2142=function(t){var e=this;if(!(a1232.zhengbaCheer[this.itemIndex][t]>=0)){var i=a1228.a1230.a2548();a1228.a1230.a2549(function(){e.handleFunc(t)},i,["118","争霸解锁助阵"])}},e.prototype.handleFunc=function(t){a1232.zhengbaCheer[this.itemIndex][t]=0,this.reflesh2(),a1228.a1245.a2612(langue.unlock),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5044,9)},e.prototype.a2143=function(t,e){var i=a1228.a1226.a2525(193);i&&(i.cheerid=a1232.zhengbaCheer[this.itemIndex][t],i.clickGroup=this["group"+(t+1)],i.cheerIndex=this.itemIndex,i.gridid=t,i.addImg=this["addImg"+(t+1)],i.srcGroup=this["srcGroup"+(t+1)],i.a2153(this,e)),this.beginTime=egret.getTimer()},e.prototype.touchEnd=function(t){var e=a1228.a1226.a2525(193);if(e&&e.a2153(null,t),egret.getTimer()-this.beginTime<130){var i=a1232.zhengbaCheer[this.itemIndex][e.gridid];if(i&&i>0){var a=a1232.playerIDs[i];a&&a1228.a1225.applyFunc(10004,5099,a)}}},e.prototype.onclean=function(){a1251.a1413(this),this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){if(this.data.id>0&&a1232.playerIDs[this.data.id]){var t=a1232.playerIDs[this.data.id],e=t.level;this.levelGroup.visible=!0,this.a2146(t);var i=a1228.a1230.a1921(t);this.levelGroup.y=Math.max(-a1228.g_ModelSize[i].height+270,20),this.bitNameLabel.text="lv."+e+" "+a1228.a1230.a2554(t),this.bghImg.width=this.bitNameLabel.width+33}else this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.levelGroup.visible=!1;this.reflesh2()},e.prototype.reflesh2=function(){this.videoImg1.touchEnabled=!1,this.videoImg2.touchEnabled=!1;var t=a1232.zhengbaCheer[this.itemIndex][0],e=a1232.zhengbaCheer[this.itemIndex][1];if(t>0){var i=a1232.playerIDs[t],a=i.index;this.group1.visible=!0,this.srcGroup1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.addImg1.visible=!1,this.limitLabel1.visible=!1,this.levelLabel1.text=i.level+"",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[a].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[a].xiyou+"_png";var n=a1228.a1230.a2554(i);this.nameLabel1.text=n,this.dinosaurImg1.source=a1228.a1230.a2555(i);var r=a1228.g_PlayerData[i.skillIndex].skills[0];this.srcLabel1_1.text=langue.cheerskill+a1228.g_Skil[r].skilName,this.srcLabel1_2.text=langue.shuxing}if(0==t?(this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.limitLabel1.visible=!1):0>t&&(this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!1,this.suoImg1.visible=!0,this.videoImg1.visible=!0,this.limitLabel1.visible=!1),e>0){var i=a1232.playerIDs[e],a=i.index;this.group2.visible=!0,this.srcGroup2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1,this.addImg2.visible=!1,this.limitLabel2.visible=!1,this.levelLabel2.text=i.level+"",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[a].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[a].xiyou+"_png";var s=a1228.a1230.a2554(i);this.nameLabel2.text=s,this.dinosaurImg2.source=a1228.a1230.a2555(i);var r=a1228.g_PlayerData[i.skillIndex].skills[0];this.srcLabel2_1.text=langue.cheerskill+a1228.g_Skil[r].skilName,this.srcLabel2_2.text=langue.shuxing}else 0==e?(this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1):0>e&&(this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!1,this.suoImg2.visible=!0,this.videoImg2.visible=!0,this.limitLabel2.visible=!1)},e.prototype.a2146=function(t){var e=this;this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var i=a1228.a1230.a1921(t),a=a1228.a1245.CreateFrameAnimation(i,i);this.dinosaurGroup.addChild(a),a.x=-180,a.y=80,a.scaleX=-.6,a.scaleY=.6,a.touchEnabled=!0,a.touchChildren=!1,a.animation&&a.animation.play("daiji",0),this.ani=a,a1251.a1412(this,this.ani,egret.TouchEvent.TOUCH_TAP,function(){a1228.a1225.applyFunc(10004,5099,a1232.playerIDs[e.data.id],!0)},!1)},e}(eui.ItemRenderer);__reflect(ZhengbaCheerInfoItemView.prototype,"ZhengbaCheerInfoItemView");var a1210=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.saiXun=1,a._skin=a1243.ZhengbaCheerSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2155(),this.a2138(1),a1228.a1230.a2557(!0,this.group),this._controller.a1916(5100,this.a2154,this)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.scroll2,egret.Event.CHANGE,this.clearData,!1),a1251.a1412(this,this.scroll1,egret.Event.CHANGE,this.clearData,!1),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll2.a1621(),this.a2156()},e.prototype.clearData=function(){this.cheerData=null,this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5041),a1228.a1230.a2557(!1,this.group,5219)},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.ani&&(this.ani.x=this.ani.baseX+(t.stageX-this.beginPos[0]),this.ani.y=this.ani.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(t){if(this.cheerData&&this.ani){if(this.cheerData instanceof DinosaursCheerItemView){for(var e=[],i=0;i<this.scrollList1.numChildren;i++){var a=this.scrollList1.getChildAt(i),n=a.group1.a1263(0,0),r=a.group2.a1263(0,0);e.push([n,r,a.itemIndex])}for(var i=0;i<e.length;i++){var s=Math.sqrt(Math.pow(e[i][0].x-t.stageX,2)+Math.pow(e[i][0].y-t.stageY,2)),o=Math.sqrt(Math.pow(e[i][1].x-t.stageX,2)+Math.pow(e[i][1].y-t.stageY,2)),l=e[i][2];120>=s&&t.stageX>e[i][0].x&&t.stageY>e[i][0].y?a1232.zhengbaCheer[l][0]>=0?(a1232.zhengbaCheer[l][0]=this.cheerData.data.id,a1228.a1225.applyFunc(10004,5041),this.a2152()):a1232.zhengbaCheer[l][0]<0&&a1228.a1245.a2612(langue.unlock):120>=o&&t.stageX>e[i][1].x&&t.stageY>e[i][1].y&&(a1232.zhengbaCheer[l][1]>=0?(a1232.zhengbaCheer[l][1]=this.cheerData.data.id,a1228.a1225.applyFunc(10004,5041),this.a2152()):a1232.zhengbaCheer[l][1]<0&&a1228.a1245.a2612(langue.unlock))}this.scroll2.scrollPolicyV=eui.ScrollPolicy.ON}else if(this.cheerData instanceof ZhengbaCheerInfoItemView){var h=this.clickGroup.a1263(0,0);t.stageX>=h.x&&t.stageX<=h.x+this.clickGroup.width&&t.stageY>=h.y&&t.stageY<=h.y+this.clickGroup.height?(this.clickGroup.visible=!0,this.srcGroup.visible=!0):(a1232.zhengbaCheer[this.cheerIndex][this.gridid]=0,a1228.a1225.applyFunc(10004,5041),this.a2152()),this.scroll1.scrollPolicyV=eui.ScrollPolicy.ON}this.clearData()}},e.prototype.a2152=function(){for(var t=0;t<this.scrollList1.$children.length;t++){var e=this.scrollList1.$children[t];e.reflesh2()}this.a2156();for(var t=0;t<this.scrollList2.$children.length;t++){var e=this.scrollList2.$children[t];e.refresh()}var i=a1228.a1226.a2525(102);i&&i.a2267()},e.prototype.a2153=function(t,e){var i=this;this.clearData(),t instanceof DinosaursCheerItemView?this.delayID=egret.setTimeout(function(){i.cheerData=t,i.a2146(t.data.info);var a=(t.a1263(0,0),a1228.a1230.a1921(t.data.info)),n=i.dinosaurGroup.globalToLocal(e.stageX,e.stageY);i.ani.x=n.x,i.ani.y=n.y+a1228.g_ModelSize[a].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll2.scrollPolicyV=eui.ScrollPolicy.OFF},this,130):t instanceof ZhengbaCheerInfoItemView&&(this.delayID=egret.setTimeout(function(){i.cheerData=t;var a=a1232.playerIDs[i.cheerid];i.a2146(a);var n=a1228.a1230.a1921(a),r=i.dinosaurGroup.globalToLocal(e.stageX,e.stageY);i.ani.x=r.x,i.ani.y=r.y+a1228.g_ModelSize[n].height/2*.5,i.ani.baseX=i.ani.x,i.ani.baseY=i.ani.y,i.scroll1.scrollPolicyV=eui.ScrollPolicy.OFF,i.clickGroup.visible=!1,i.addImg.visible=!0,i.srcGroup.visible=!1},this,130))},e.prototype.a2146=function(t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.dinosaurGroup.addChild(i),i.x=0,i.y=0,i.scaleX=-.9,i.scaleY=.9,i.touchEnabled=!1,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i},e.prototype.a2154=function(){for(var t=0;t<this.scrollList1.$children.length;t++){var e=this.scrollList1.$children[t];e.reflesh()}for(var t=0;t<this.scrollList2.$children.length;t++){var e=this.scrollList2.$children[t];e.refresh()}},e.prototype.a2155=function(){this.data1=[];for(var t=0;5>t;t++){var e={id:a1232.zhengbaPos[t]};this.data1.push(e)}this.scrollList1.dataProvider=new eui.ArrayCollection(this.data1),this.scrollList1.itemRenderer=ZhengbaCheerInfoItemView},e.prototype.a2156=function(){this.data2=[];for(var t in a1232.playerIDs){var e=a1232.playerIDs[t],i=e.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[i].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[i].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[i].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[i].xiyou){for(var a=-1!=a1232.zhengbaPos.indexOf(Number(t))&&1||0,n=0,r=0;r<a1232.zhengbaCheer.length;r++)if(Number(t)==a1232.zhengbaCheer[r][0]||Number(t)==a1232.zhengbaCheer[r][1]){n=1;break}if(!a&&!n){var s={id:Number(t),index:i,level:e.level,star:e.star,jinhua:e.jinhua,xiyou:a1228.g_PlayerData[i].xiyou,info:e,cheer:n,bianyi:e.bianyi};this.data2.push(s)}}}this.data2.sort(function(t,e){return t.cheer==e.cheer?t.xiyou==e.xiyou?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.xiyou<e.xiyou&&1||-1:t.cheer<e.cheer&&1||-1}),this.scrollList2.dataProvider=new eui.ArrayCollection(this.data2),this.scrollList2.itemRenderer=DinosaursCheerItemView,DinosaursCheerItemView.parentView=193},e.prototype.close=function(){this._controller.a1917(5100,this.a2154,this),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1210.prototype,"a1210");var ZhengbaChuJiangView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n._skin=a1243.zhengbaChuJiangSkin,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2115(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){if(this.data)for(var t=0;t<this.data.length;t++){var e=this.data[t][0],i=this.data[t][1];e>300&&400>e||e>200&&300>e?(this["daoImg"+(t+1)].source=a1228.g_PropsData[e].icon,this["daoxImg"+(t+1)].source=a1228.g_PropsData[e].icon):1==e&&(this["daoImg"+(t+1)].source="panzs_png",this["daoxImg"+(t+1)].source="panzs_png"),this["numLabel"+(t+1)].text="x"+i}},e.prototype.event=function(){a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5239)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e.prototype.a2115=function(){egret.Tween.get(this.img1,{loop:!0}).to({rotation:360},1e4),egret.Tween.get(this.img2,{loop:!0}).to({rotation:-360},6900),this.a2116()},e.prototype.a2116=function(){void 0!=this.BGAnim&&this.aniGroup.removeChild(this.BGAnim);var t=ObjectPool.pop("a1239");t.initData("beiguang",-1,1,0,!0,"beiguang"),t.x=150,t.y=150,t.scaleX=2.5,t.scaleY=2.5,this.aniGroup.addChild(t),this.aniGroup.setChildIndex(t,2),this.BGAnim=t},e}(a1116);__reflect(ZhengbaChuJiangView.prototype,"ZhengbaChuJiangView");var a1211=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;n.lefttime=90,n._skin=a1243.ZhengbaFightSkin;var r=a1228.a1226.a2525(102);r&&(r.visible=!1);var s=a1228.SceneMgr.a2516();n.mapbg=new eui.Image("zhengbabg_jpg"),s.addChildAt(n.mapbg,99999);var o=a1228.a1122.a1872(),l=a1228.a1122.a1873();if(o/l>.5625){var h=o/l/720*1280;n.mapbg.scaleX=h,n.mapbg.scaleY=h,n.mapbg.x=0,n.mapbg.y=-l*h/2+640}else{var h=l/o/1280*720;n.mapbg.scaleX=h,n.mapbg.scaleY=h,n.mapbg.x=-o*h/2+360}return n.mapbg.x+=a1228.SceneMgr.getCamera().a2514().x,n.data=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.a2456(),this.a2201(),this.updateTime(),a1228.a1252.doTimer(1e3,0,this.updateTime,this)},e.prototype.a2456=function(){var t=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0];this.huiflilter=[new egret.ColorMatrixFilter(t)]},e.prototype.updateTime=function(){if(this.lefttime<0){for(var t=0,e=0,i=a1228.ActorMgr.a2502(1),a=0,n=i;a<n.length;a++){var r=n[a];t+=r.a1886()/r.a1909()}for(var s=a1228.ActorMgr.a2502(2),o=0,l=s;o<l.length;o++){var r=l[o];e+=r.a1886()/r.a1909()}if(t>e)for(var h=0,p=s;h<p.length;h++){var r=p[h];r.setHp(0)}else for(var u=0,c=i;u<c.length;u++){var r=c[u];r.setHp(0)}return void a1228.a1229.a2538()}this.leftTimeLabel.text=langue.lasttime+this.lefttime+"s",this.lefttime-=1;for(var d=a1228.ActorMgr.a2502(1),g={},f=0;f<d.length;++f)g[d[f].a1861()]=d[f];for(var f=0;f<a1232.zhengbaPos.length;++f){var m=a1232.zhengbaPos[f];if(m){var v=g[m];v?(this["hpBar"+(f+1)].width=106*v.a1886()/v.a1909(),v.a1886()<=0&&(this["toudbImg"+(f+1)].filters=this.huiflilter,this["toubgImg"+(f+1)].filters=this.huiflilter,this["touImg"+(f+1)].filters=this.huiflilter,this["toudbImg"+(f+1)].filters=this.huiflilter,this["hpBar"+(f+1)].filters=this.huiflilter,this["levelLabel"+(f+1)].textColor=3815737)):this["hpBar"+(f+1)].width=0}}},e.prototype.a2201=function(){this.myNameLabel.text=a1232.userInfo&&a1228.a1230.getLength(a1232.userInfo.nickName)||langue.myname,this.myScoreLabel.textFlow=[{text:langue.jifen,style:{size:21,textColor:16777215,stroke:2,strokeColor:3743752}},{text:this.data.myScore+"",style:{size:21,textColor:16613197,stroke:2,strokeColor:3743752}}],a1232.userInfo&&a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.myheadImage),this.duiNameLabel.text=a1228.a1230.getLength(this.data.roleName),this.duiScoreLabel.textFlow=[{text:langue.jifen,style:{size:21,textColor:16777215,stroke:2,strokeColor:3743752}},{text:this.data.roleScore+"",style:{size:21,textColor:16613197,stroke:2,strokeColor:3743752}}],this.data.pkId<0?this.duiheadImage.source=a1228.g_zbRobotData[Math.abs(this.data.pkId)]&&a1228.g_zbRobotData[Math.abs(this.data.pkId)].headUrl||"":a1228.a1230.getPlayerAvatar(this.data.headUrl,this.duiheadImage);for(var t=0;t<a1232.zhengbaPos.length;++t){var e=a1232.zhengbaPos[t];if(e){var i=a1232.playerIDs[e];this["touImg"+(t+1)].source=a1228.a1230.a2555(i),this["levelLabel"+(t+1)].text=""+i.level;var a=a1228.g_PlayerData[i.index].xiyou;this["toudbImg"+(t+1)].source="zbkld"+a+"_png",this["toubgImg"+(t+1)].source="zbkltk"+a+"_png";var n=this["hpBar"+(t+1)];n.width=106,this["group"+(t+1)].visible=!0}else this["group"+(t+1)].visible=!1}this.a2457()},e.prototype.a2457=function(){for(var t=[],e=0;e<a1232.zhengbaPos.length;++e){var i=a1232.zhengbaPos[e];i&&t.push(this["group"+(e+1)])}for(var a=5,n=t.length*(140+a),r=this.rootGroup.width/2-n/2,e=0;e<t.length;e++)t[e].x=r+e*t[e].width+e*a},e.prototype.event=function(){},e.prototype.close=function(){a1228.a1252.removeAll(this);var e=a1228.a1226.a2525(102);e&&(e.visible=!0),this.mapbg&&(this.mapbg.parent.removeChild(this.mapbg),this.mapbg=null),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1211.prototype,"a1211");var a1212=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.zhengbaItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.fightBtn,egret.TouchEvent.TOUCH_TAP,this.a2460),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean),a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158)},e.prototype.dataInit=function(){this.Info=null,this.Info2=null},e.prototype.a2158=function(){var t=this;if(this.data.pgid>0){var e={gameId:a1232.gameID,trackId:a1232.trackId,areaId:a1232.gameAreaId,pgid:this.data.pgid},i=a1232.URL_ZB_CHEER;this.data.isCross&&(i=a1232.URL_ZB_CHEER2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data.extInfo,a=e.data.extAttr;
if(t.a2461(i,a),!t.Info||0==t.Info.length)return;var n={posData:t.Info,cheerData:t.Info2};a1228.a1225.applyFunc(10004,5230,n)}},null)}else if(this.data.pgid<0){for(var a=[],n=0;5>n;++n){var r=void 0;this.data.fight&&(r=this.data.fight[n]),r||(r=a1228.g_zbRobotData[Math.abs(this.data.pgid)].fight[n]),r&&a1228.g_PlayerData[r[0]]&&a.push(new a1231(null,[r[0],r[1]]))}if(a&&(this.Info=a),!this.Info||0==this.Info.length)return;var s={posData:this.Info,cheerData:this.Info2};a1228.a1225.applyFunc(10004,5230,s)}},e.prototype.a2460=function(){a1228.a1245.a2619(this,this.fightBtn,1e3)&&(this.data.isCross?a1232.zhengbatimes2>0?this.a2204():a1228.a1245.a2612(langue.cishuwan):a1232.zhengbatimes>0?this.a2204():a1228.a1245.a2612(langue.cishuwan))},e.prototype.handleFunc=function(){this.a2204(),a1228.a1225.applyFunc(10004,5041)},e.prototype.a2204=function(){for(var t=this,e=0,i=0;i<a1232.zhengbaPos.length;++i)a1232.zhengbaPos[i]&&(e+=1);if(0==e)return void a1228.a1245.a2612(langue.plshang);if(this.data.pgid>0){var a={gameId:a1232.gameID,trackId:a1232.trackId,areaId:a1232.gameAreaId,pgid:this.data.pgid},n=a1232.URL_ZB_CHEER;this.data.isCross&&(n=a1232.URL_ZB_CHEER2),a1228.a1247.a2623(n,egret.URLRequestMethod.POST,a,function(e){if(e&&e.data){var i=e.data.extInfo,a=e.data.extAttr;if(t.a2461(i,a),!t.Info||0==t.Info.length)return;var n={monster:t.Info,cheerInfos:t.Info2,pkId:t.data.pgid||0,roleName:t.data.nickname||t.data.name,roleScore:t.data.score,headUrl:t.data.avatarUrl,myScore:0,isCross:t.data.isCross,roleAreaId:t.data.areaId,roleAreaName:t.data.areaName},r=a1228.a1226.a2525(191);r&&(n.myScore=r.myScore),t.data.isCross?a1232.zhengbatimes2>0?a1232.zhengbatimes2-=1:a1232.zhengbatimes2<=0&&a1232.zhengbavideotimes2>0&&(a1232.zhengbavideotimes2-=1):a1232.zhengbatimes>0?a1232.zhengbatimes-=1:a1232.zhengbatimes<=0&&a1232.zhengbavideotimes>0&&(a1232.zhengbavideotimes-=1);var s=a1228.a1226.a2525(191);s&&s.a2463(),a1228.a1225.applyFunc(10004,5215),a1228.a1225.applyFunc(10004,5177),a1228.a1225.applyFunc(10004,5063),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5320,3,n),a1228.a1225.applyFunc(10004,5220,n)}},null)}else if(this.data.pgid<0){for(var r=[],i=0;5>i;++i){var s=void 0;this.data.fight&&(s=this.data.fight[i]),s||(s=a1228.g_zbRobotData[this.itemIndex+1].fight[i]),s&&a1228.g_PlayerData[s[0]]&&r.push(new a1231(null,[s[0],s[1]]))}r&&(this.Info=r);var o={monster:this.Info,cheerInfos:this.Info2,pkId:this.data.pgid||0,roleName:this.data.nickname||this.data.name,roleScore:this.data.score,headUrl:this.data.avatarUrl,myScore:0,isCross:this.data.isCross},l=a1228.a1226.a2525(191);l&&(o.myScore=l.myScore),this.data.isCross?a1232.zhengbatimes2>0?a1232.zhengbatimes2-=1:a1232.zhengbatimes2<=0&&a1232.zhengbavideotimes2>0&&(a1232.zhengbavideotimes2-=1):a1232.zhengbatimes>0?a1232.zhengbatimes-=1:a1232.zhengbatimes<=0&&a1232.zhengbavideotimes>0&&(a1232.zhengbavideotimes-=1);var h=a1228.a1226.a2525(191);h&&h.a2463(),a1228.a1225.applyFunc(10004,5215),a1228.a1225.applyFunc(10004,5177),a1228.a1225.applyFunc(10004,5063),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5320,3,o),a1228.a1225.applyFunc(10004,5220,o)}},e.prototype.a2461=function(t,e){var i=[];if(t){var a=JSON.parse(t),n=e&&JSON.parse(e)||{},r=void 0;n.playerIDs?(r=n.playerIDs,"string"==typeof n.playerIDs&&(r=JSON.parse(n.playerIDs))):a.playerIDs&&(r=a.playerIDs,"string"==typeof a.playerIDs&&(r=JSON.parse(a.playerIDs)));var s=0;if(a.zhengbaPos){this.Info2=[];var o=a.zhengbaPos||[];"string"==typeof a.zhengbaPos&&(o=a.zhengbaPos&&JSON.parse(a.zhengbaPos)||[]);for(var l=a.zhengbaCheer2||[],h=0;5>h;++h){var p=r[o[h]];if(o[h]&&p){i.push(new a1231(null,p));var u=[null,null];if(this.Info2.push(u),l[h])for(var c=0;c<l[h].length;++c){var d=l[h][c],g=r[d];d&&g&&(u[c]=new a1231(null,g))}s+=1}else i.push(null),this.Info2.push([null,null])}}0==s&&(i=[new a1231(null,[1,5])])}else for(var h=0;5>h;++h){var f=void 0;this.data.fight&&(f=this.data.fight[h]),f||(f=a1228.g_zbRobotData[this.itemIndex+1].fight[h]),f&&a1228.g_PlayerData[f[0]]&&i.push(new a1231(null,[f[0],f[1]]))}i&&(this.Info=i)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.data&&(this.dataInit(),this.reflesh())},e.prototype.reflesh=function(){this.scoreLabel.visible=this.data.pgid>0&&!0||!1,this.scoreLabel.textFlow=[{text:langue.jifen,style:{size:25,textColor:5393990}},{text:(this.data.score||0)+"",style:{size:25,textColor:14708264}}],this.data.isCross&&this.data.areaName?(a1232.gameAreaId==this.data.areaId&&(this.data.areaName=langue.benfu),this.nameLabel.textFlow=[{text:"["+this.data.areaName+"]",style:{size:20,textColor:11560785}},{text:a1228.a1230.getLength(this.data.nickname),style:{size:20,textColor:5393990}}]):this.nameLabel.text=a1228.a1230.getLength(this.data.nickname),this.data.pgid<0?this.headImage.source=a1228.g_zbRobotData[Math.abs(this.data.pgid)]&&a1228.g_zbRobotData[Math.abs(this.data.pgid)].headUrl:a1228.a1230.getPlayerAvatar(this.data.avatarUrl,this.headImage),this.videoGroup.visible=!1,this.fightImg.visible=!0},e}(eui.ItemRenderer);__reflect(a1212.prototype,"a1212");var ZhengbaOtherPosItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.dinosaursCheerInfoItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this),this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){if(this.data.posData){var t=this.data.posData,e=t.level;this.levelGroup.visible=!0,this.a2146(t);var i=a1228.a1230.a1921(t);this.levelGroup.y=Math.max(-a1228.g_ModelSize[i].height+270,20),this.bitNameLabel.text="lv."+e+" "+a1228.a1230.a2554(t),this.bghImg.width=this.bitNameLabel.width+33}else this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null),this.levelGroup.visible=!1;this.reflesh2()},e.prototype.reflesh2=function(){if(this.videoImg1.touchEnabled=!1,this.videoImg2.touchEnabled=!1,this.data.cheerData&&this.data.cheerData[0]){var t=this.data.cheerData[0],e=t.index;this.group1.visible=!0,this.srcGroup1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.addImg1.visible=!1,this.limitLabel1.visible=!1,this.levelLabel1.text=t.level+"",this.Rarity_Image1.source="Level"+a1228.g_PlayerData[e].xiyou+"_png",this.leveldbImg1.source="dbdj"+a1228.g_PlayerData[e].xiyou+"_png";var i=a1228.a1230.a2554(t);this.nameLabel1.text=i,this.dinosaurImg1.source=a1228.a1230.a2555(t);var a=a1228.g_PlayerData[t.skillIndex].skills[0];this.srcLabel1_1.text=langue.cheerskill+a1228.g_Skil[a].skilName,this.srcLabel1_2.text=langue.shuxing}else this.group1.visible=!1,this.srcGroup1.visible=!1,this.addImg1.visible=!0,this.suoImg1.visible=!1,this.videoImg1.visible=!1,this.limitLabel1.visible=!1;if(this.data.cheerData&&this.data.cheerData[1]){var t=this.data.cheerData[1],e=t.index;this.group2.visible=!0,this.srcGroup2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1,this.addImg2.visible=!1,this.limitLabel2.visible=!1,this.levelLabel2.text=t.level+"",this.Rarity_Image2.source="Level"+a1228.g_PlayerData[e].xiyou+"_png",this.leveldbImg2.source="dbdj"+a1228.g_PlayerData[e].xiyou+"_png";var n=a1228.a1230.a2554(t);this.nameLabel2.text=n,this.dinosaurImg2.source=a1228.a1230.a2555(t);var a=a1228.g_PlayerData[t.skillIndex].skills[0];this.srcLabel2_1.text=langue.cheerskill+a1228.g_Skil[a].skilName,this.srcLabel2_2.text=langue.shuxing}else this.group2.visible=!1,this.srcGroup2.visible=!1,this.addImg2.visible=!0,this.suoImg2.visible=!1,this.videoImg2.visible=!1,this.limitLabel2.visible=!1},e.prototype.a2146=function(t){this.ani&&(this.dinosaurGroup.removeChild(this.ani),this.ani.dispose(),this.ani=null);var e=a1228.a1230.a1921(t),i=a1228.a1245.CreateFrameAnimation(e,e);this.dinosaurGroup.addChild(i),i.x=-180,i.y=80,i.scaleX=-.6,i.scaleY=.6,i.touchEnabled=!0,i.touchChildren=!1,i.animation&&i.animation.play("daiji",0),this.ani=i,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.a1865,this)},e.prototype.a1865=function(){var t=a1228.a1226.a2525(195);t&&t.a2185(this.itemIndex+1)},e}(eui.ItemRenderer);__reflect(ZhengbaOtherPosItemView.prototype,"ZhengbaOtherPosItemView");var ZhengbaOtherPosView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.anis={},n._skin=a1243.zhengbaPosOtherSkin,n.posData=a.posData||[],n.cheerData=a.cheerData||[],n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.refreshAllItem(),this.a2107(),a1228.a1230.a2557(!0,this.group)},e.prototype.refreshAllItem=function(){for(var t=0;5>t;++t)this.a2177(t+1)},e.prototype.a2177=function(t){if(!(1>t||t>5)){if(this.posData[t-1]){var e=this.posData[t-1];this["itemAddImg"+t].visible=!1,this["itembgImg"+t].visible=!1,this["nameLabel"+t].text="lv."+e.level+" "+a1228.a1230.a2554(e),this["levelGroup"+t].visible=!0,this["bghImg"+t].width=this["nameLabel"+t].width+40}else this["itemAddImg"+t].visible=!0,this["itembgImg"+t].visible=!0,this["nameLabel"+t].text="",this["levelGroup"+t].visible=!1;this.a2146(this["itemGroup"+t],t,this.posData[t-1])}},e.prototype.a2146=function(t,e,i){var a=this;if(this.anis[e]&&(this.anis[e].parent.removeChild(this.anis[e]),this.anis[e].dispose(),this.anis[e]=null),i){var n=a1228.a1230.a1921(i),r=a1228.a1245.CreateFrameAnimation(n,n);t.addChild(r),r.x=80,r.y=150,r.scaleX=-.6,r.scaleY=.6,r.touchEnabled=!1,r.touchChildren=!1,r.animation&&r.animation.play("daiji",0),r.baseX=r.x,r.baseY=r.y,r.index=e,t.ani=r,this.anis[e]=r,e>=1&&5>=e&&(this["levelGroup"+e].y=-a1228.g_ModelSize[n].height+220,this["levelGroup"+e].x=-20),e&&!t.hasEvent&&(t.hasEvent=!0),a1251.a1412(this,t,egret.TouchEvent.TOUCH_END,function(t){a.a2185(e)},!1)}else t.ani=null},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.a2185=function(t){var e=this.posData[t-1];if(e){var i={atk:0,def:0,hp:0},a=this.cheerData&&this.cheerData[t-1];if(a)for(var n=0;n<a.length-1;++n){var r=a[n];r&&(i.atk+=Math.floor(.05*a1232.getAttack(r)),i.def+=Math.floor(.05*a1232.getDefence(r)),i.hp+=Math.floor(.05*a1232.a1886(r)))}var s=a1232.getSkills(e,this.cheerData,this.posData);e.extdata={atk:a1232.getAttack(e,s)+i.atk,def:a1232.getDefence(e,s)+i.def,hp:a1232.a1886(e,s)+i.hp,crit:10*a1232.getBaoji(e,s),dodge:10*a1232.getShanbi(e,s),atktime:Math.floor(1e3/Number(a1232.getGongsu(e,s))),skills:a1232.getSkills(e,[[]],[]),showGrow:!0,showProduce:!0},a1228.a1225.applyFunc(10004,5099,e)}},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5231)},e.prototype.a2107=function(){for(var t=[],e=0;5>e;++e)t.push({posData:this.posData[e],cheerData:this.cheerData[e]});this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=ZhengbaOtherPosItemView},e.prototype.close=function(){for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}this.anis=null,this.curItem=null,a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ZhengbaOtherPosView.prototype,"ZhengbaOtherPosView");var a1213=function(t){function e(e,i){var a=t.call(this,e,i,null)||this;return a.anis={},a.clickTime=0,a.guideFlag=!1,a.saiXun=1,a._skin=a1243.ZhengbaPosSkin,a}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.refreshAllItem(),this.a2138(1),a1228.a1230.a2557(!0,this.group);for(var t=0;t<a1232.zhengbaCheer.length;++t)for(var e=0;e<a1232.zhengbaCheer[t].length;++e){var i=a1232.zhengbaCheer[t][e];i>0&&!a1232.playerIDs[i]&&(a1232.zhengbaCheer[t][e]=0)}this.cheerRed(),this._controller.a1916(5219,this.cheerRed,this)},e.prototype.refreshAllItem=function(){for(var t=0;5>t;++t)this.a2177(t+1)},e.prototype.a2177=function(t){if(!(1>t||t>5)){if(a1232.zhengbaPos[t-1]){var e=a1232.playerIDs[a1232.zhengbaPos[t-1]];this["itemAddImg"+t].visible=!1,this["itembgImg"+t].visible=!1,this["nameLabel"+t].text="lv."+e.level+" "+a1228.a1230.a2554(e),this["levelGroup"+t].visible=!0,this["bghImg"+t].width=this["nameLabel"+t].width+40}else this["itemAddImg"+t].visible=!0,this["itembgImg"+t].visible=!0,this["nameLabel"+t].text="",this["levelGroup"+t].visible=!1;this.a2146(this["itemGroup"+t],t,a1232.zhengbaPos[t-1])}},e.prototype.a2146=function(t,e,i){var a=this;if(this.anis[e]){if(i&&i==t.id)return;this.anis[e].parent.removeChild(this.anis[e]),this.anis[e].dispose(),this.anis[e]=null}if(i){var n=a1232.playerIDs[i],r=a1228.a1230.a1921(n),s=a1228.a1245.CreateFrameAnimation(r,r);t.addChild(s),s.x=80,s.y=150,s.scaleX=-.6,s.scaleY=.6,s.touchEnabled=!1,s.touchChildren=!1,s.animation&&s.animation.play("daiji",0),s.baseX=s.x,s.baseY=s.y,s.id=i,s.index=e,t.id=i,t.ani=s,this.anis[e]=s,e>=1&&5>=e&&(this["levelGroup"+e].y=-a1228.g_ModelSize[r].height+220,this["levelGroup"+e].x=-20),e&&!t.hasEvent&&(t.hasEvent=!0,a1251.a1412(this,t,egret.TouchEvent.TOUCH_BEGIN,function(){a.a2184(t)},!1),a1251.a1412(this,t,egret.TouchEvent.TOUCH_END,function(e){a.a2185(t)},!1))}else t.id=i,t.ani=null},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_BEGIN,this.a2149,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_MOVE,this.a2150,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_END,this.a2151,!1),a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_CANCEL,this.a2151,!1),a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158),a1251.a1412(this,this.SuoBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(1)}),a1251.a1412(this,this.SBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(2)}),a1251.a1412(this,this.ABtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(3)}),a1251.a1412(this,this.BBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(4)}),a1251.a1412(this,this.CBtn,egret.TouchEvent.TOUCH_TAP,function(){t.a2138(5)})},e.prototype.a2138=function(t){this.saiXun=t;var e="TiaoZhanLabel_png",i="an_2_png";1==t?(this.SuoImg.source=e,this.SImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):2==t?(this.SImg.source=e,this.SuoImg.source=this.AImg.source=this.BImg.source=this.CImg.source=i):3==t?(this.AImg.source=e,this.SuoImg.source=this.SImg.source=this.BImg.source=this.CImg.source=i):4==t?(this.BImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.CImg.source=i):5==t&&(this.CImg.source=e,this.SuoImg.source=this.SImg.source=this.AImg.source=this.BImg.source=i),this.scroll.a1621(),this.a2107()},e.prototype.a2184=function(t){this.curItem||(this.curItem=t.ani,this.clickTime=egret.getTimer(),t.parent.setChildIndex(t,999))},e.prototype.a2185=function(t){var e=t.id;if(e){var i=a1228.a1226.a2525(137);i&&i.a2153(null);var a=egret.getTimer();if(a-this.clickTime<130){if(this.curItem&&Math.abs(this.curItem.x-this.curItem.baseX)>10)return;var n=a1232.playerIDs[e];this.clickTime=0,a1228.a1225.applyFunc(10004,5099,n,!0)}}},e.prototype.a2149=function(t){this.beginPos=[t.stageX,t.stageY]},e.prototype.a2150=function(t){this.curItem&&(this.curItem.x=this.curItem.baseX+(t.stageX-this.beginPos[0]),this.curItem.y=this.curItem.baseY+(t.stageY-this.beginPos[1]))},e.prototype.a2151=function(){if(this.curItem&&this.curItem.parent){for(var t=0,e=0;5>e;++e)a1232.zhengbaPos[e]&&(t+=1);var i=a1232.zhengbaPos.indexOf(this.curItem.id);if(this.scroll.scrollPolicyV=eui.ScrollPolicy.ON,this.curItem.index){if(-1!=i&&this.curItem.parent.y+this.curItem.y>this.fightGroup.height+100){if(1>=t)return a1228.a1245.a2612(langue.shangtip),this.curItem.x=this.curItem.baseX,this.curItem.y=this.curItem.baseY,void(this.curItem=null);a1232.zhengbaPos[i]=0,a1228.a1225.applyFunc(10004,5041),this.a2177(i+1),this.a2107()}else if(-1!=i)for(var a=this["itemGroup"+(i+1)],n=this.curItem.x+a.x,r=this.curItem.y+a.y,e=1;5>=e;++e){var s=this["itemGroup"+e];if(i!=e-1&&n>s.x-20&&n<s.x+s.width+60&&r>s.y+20&&r<s.y+s.height+100){var o=a1232.zhengbaPos[e-1];a1232.zhengbaPos[e-1]=this.curItem.id,a1232.zhengbaPos[i]=o,a1228.a1225.applyFunc(10004,5041),this.refreshAllItem();break}}this.curItem.x=this.curItem.baseX,this.curItem.y=this.curItem.baseY,this.curItem=null}else{for(var a=this["itemGroup"+(i+1)],e=1;5>=e;++e){var s=this["itemGroup"+e],n=this.curItem.x,r=this.curItem.y;if(i!=e-1&&n>s.x-20&&n<s.x+s.width+60&&r>s.y+20&&r<s.y+s.height+100){if(-1!=i){var l=a1232.zhengbaPos[e-1];a1232.zhengbaPos[e-1]=this.curItem.id,a1232.zhengbaPos[i]=l}else a1232.zhengbaPos[e-1]=this.curItem.id;for(var h=0;h<a1232.zhengbaCheer.length;++h)for(var p=0;p<a1232.zhengbaCheer[h].length;++p)a1232.zhengbaCheer[h][p]==this.curItem.id&&(a1232.zhengbaCheer[h][p]=0);a1228.a1225.applyFunc(10004,5041),this.refreshAllItem(),this.a2107();break}}this.curItem.parent.removeChild(this.curItem),this.curItem.dispose(),this.curItem=null,this.anis[0]=null}}},e.prototype.a2158=function(){a1232.curLevel>24?a1228.a1225.applyFunc(10004,5218):a1228.a1245.a2612(langueOfvalue(langue.cheertip,24))},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5217)},e.prototype.a2107=function(){var t=[];for(var e in a1232.playerIDs){var i=a1232.playerIDs[e],a=i.index;if(1==this.saiXun||2==this.saiXun&&4==a1228.g_PlayerData[a].xiyou||3==this.saiXun&&3==a1228.g_PlayerData[a].xiyou||4==this.saiXun&&2==a1228.g_PlayerData[a].xiyou||5==this.saiXun&&1==a1228.g_PlayerData[a].xiyou){var n=-1!=a1232.zhengbaPos.indexOf(Number(e))&&1||0;t.push({id:Number(e),index:a,level:i.level,star:i.star,jinhua:i.jinhua,xiyou:a1228.g_PlayerData[a].xiyou,fight:n,bianyi:i.bianyi,parentView:192})}}t.sort(function(t,e){return t.fight==e.fight?t.xiyou==e.xiyou?t.star==e.star?t.level<e.level&&1||-1:t.star<e.star&&1||-1:t.xiyou<e.xiyou&&1||-1:t.fight<e.fight&&1||-1}),this.scrollList.dataProvider=new eui.ArrayCollection(t),this.scrollList.itemRenderer=DinosaursPosItemView},e.prototype.a2153=function(t){var e=this;if(this.delayID&&(egret.clearTimeout(this.delayID),this.delayID=null),t){this.beginScrollV=this.scrollList.scrollV;var i=130;this.delayID=egret.setTimeout(function(){if(!(Math.abs(e.beginScrollV-e.scrollList.scrollV)>10)){var i=t.a1263(0,0);e.a2146(e.fightGroup,0,t.data.id),e.curItem=e.anis[0],e.curItem.x=i.x+70-e.group.x-e.fightGroup.x+e.group.anchorOffsetX,e.curItem.y=i.y+130-e.group.y-e.fightGroup.y+e.group.anchorOffsetY,e.curItem.baseX=e.curItem.x,e.curItem.baseY=e.curItem.y,e.curItem.scaleX=-1,e.curItem.scaleY=1,e.scroll.scrollPolicyV=eui.ScrollPolicy.OFF}},this,i)}},e.prototype.cheerRed=function(){var t=!1;this.fightRedImg.visible=t},e.prototype.close=function(){this._controller.a1917(5219,this.cheerRed,this);for(var e in this.anis){var i=this.anis[e];i&&(i.parent.removeChild(i),i.dispose(),i=null,this.anis[e]=null)}this.anis=null,this.curItem=null,a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1213.prototype,"a1213");var ZhengbaRankItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.zhengbaRankItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this.cheerBtn,egret.TouchEvent.TOUCH_TAP,this.a2158),a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.dataInit=function(){this.Info=null,this.Info2=null},e.prototype.a2158=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,areaId:a1232.gameAreaId,pgid:this.data.pgid},i=a1232.URL_ZB_CHEER;this.data.isCross&&(i=a1232.URL_ZB_CHEER2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data.extInfo,a=e.data.extAttr;if(t.a2461(i,a),!t.Info||0==t.Info.length)return;var n={posData:t.Info,cheerData:t.Info2};a1228.a1225.applyFunc(10004,5230,n)}},null)},e.prototype.a2461=function(t,e){var i=[];if(t){var a=JSON.parse(t),n=e&&JSON.parse(e)||{},r=void 0;n.playerIDs?(r=n.playerIDs,"string"==typeof n.playerIDs&&(r=JSON.parse(n.playerIDs))):a.playerIDs&&(r=a.playerIDs,"string"==typeof a.playerIDs&&(r=JSON.parse(a.playerIDs)));if(a.zhengbaPos){this.Info2=[];var s=a.zhengbaPos||[];"string"==typeof a.zhengbaPos&&(s=a.zhengbaPos&&JSON.parse(a.zhengbaPos)||[]);for(var o=a.zhengbaCheer2||[],l=0;5>l;++l){var h=r[s[l]];if(s[l]&&h){i.push(new a1231(null,h));var p=[null,null];if(this.Info2.push(p),o[l])for(var u=0;u<o[l].length;++u){var c=o[l][u],d=r[c];c&&d&&(p[u]=new a1231(null,d))}}else i.push(null),this.Info2.push([null,null])}}}i&&(this.Info=i)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.dataInit(),this.reflesh()},e.prototype.reflesh=function(){this.data.isCross&&this.data.areaName?this.nameLabel.textFlow=[{text:"["+this.data.areaName+"]",style:{size:22,textColor:8684158}},{text:a1228.a1230.getLength(this.data.nickname),style:{size:22,textColor:5393990}}]:this.nameLabel.text=a1228.a1230.getLength(this.data.nickname),this.scoreLabel.textFlow=[{text:langue.jifen,style:{size:25,textColor:5393990}},{text:this.data.score+"",style:{size:25,textColor:14708264}}],this.rankLabel.text=this.itemIndex+1+"",this.rankLabel.visible=this.itemIndex+1>3&&!0||!1,this.rankiconImg.source=this.itemIndex+1<=3&&"pai"+(this.itemIndex+1)+"_png"||"",this.rankiconImg.visible=this.itemIndex+1<=3&&!0||!1,a1228.a1230.getPlayerAvatar(this.data.avatarUrl,this.headImage)},e}(eui.ItemRenderer);__reflect(ZhengbaRankItemView.prototype,"ZhengbaRankItemView");var a1214=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.isCross=!1,n._skin=a1243.zhengbaRankSkin,n.isCross=a,n}return __extends(e,t),e.prototype.initUI=function(){this.showInfo(),this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.showInfo=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,num:100},i=a1232.URL_ZB_RANK;this.isCross&&(i=a1232.URL_ZB_RANK2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data;if(t.isCross)for(var a in i)i[a].isCross=t.isCross;t.scrollList.dataProvider=new eui.ArrayCollection(i),t.scrollList.itemRenderer=ZhengbaRankItemView}},null),this.a2462()},e.prototype.a2462=function(){a1232.userInfo?(a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.myHeadImg),this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName)):this.myNameLabel.text=langue.myname;var t=a1228.a1226.a2525(191);t&&(this.myScoreLabel.textFlow=[{text:langue.jifen,style:{size:25,textColor:5393990}},{text:t.myScore+"",style:{size:25,textColor:14708264}}],this.myRankLabel.text=t.myRank>0&&t.myRank+""||langue.nopaihang)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5235)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1214.prototype,"a1214");var ZhengbaRecordItemView=function(t){function e(){var e=t.call(this)||this;return e.duiPgid=0,e.duiName="",e.duiAvatarUrl="",e.duiExtAttr=null,e.duiExtInfo=null,e.result=0,e.skinName=a1243.zhengbaRecordItemSkin,e.event(),e}return __extends(e,t),e.prototype.dataInit=function(){this.Info=null,this.Info2=null,this.duiPgid=0,this.duiName="",this.duiAvatarUrl="",this.duiExtAttr=null,this.duiExtInfo=null,this.result=0},e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.dataInit(),this.reflesh()},e.prototype.reflesh=function(){var t=(this.data.mainPgid,this.data.mainName),e=this.data.mainAvatarUrl,i=this.data.mainScore,a=this.data.mainUpScore,n=this.data.mainAreaName,r=this.data.mainAreaId,s=this.data.fromPgid,o=this.data.fromName,l=this.data.fromAvatarUrl,h=this.data.fromUpScore,p=this.data.fromScore,u=this.data.fromAreaName,c=this.data.fromAreaId,d=this.data.result;0>s&&(l=a1228.g_zbRobotData[Math.abs(s)]&&a1228.g_zbRobotData[Math.abs(s)].headUrl||"",o=a1228.g_zbRobotData[Math.abs(s)]&&a1228.g_zbRobotData[Math.abs(s)].nickname||"");var g=1,f=2,m="",v="",y=0,b=0,_="",A="",T="",C=0,w=0,x="";0==d?(0>s&&(h=1e3,p=999),m=t,v=e,y=i,b=a,_=a1232.gameAreaId==r&&langue.benfu||n,A=o,T=l,C=p,w=h,x=a1232.gameAreaId==c&&langue.benfu||u):(0>s&&(h=1e3,p=1013),m=o,v=l,y=p,b=h,_=a1232.gameAreaId==c&&langue.benfu||u,A=t,T=e,C=i,w=a,x=a1232.gameAreaId==r&&langue.benfu||n),a1228.a1230.getPlayerAvatar(v,this["headImg"+g]),a1228.a1230.getPlayerAvatar(T,this["headImg"+f]),this.data.isCross?(_?this["nameLabel"+g].textFlow=[{text:"["+_+"]",style:{size:18,textColor:11560785}},{text:a1228.a1230.getLength(m),style:{size:18,textColor:5393990}}]:this["nameLabel"+g].text=a1228.a1230.getLength(m),x?this["nameLabel"+f].textFlow=[{text:"["+x+"]",style:{size:18,textColor:11560785}},{text:a1228.a1230.getLength(A),style:{size:18,textColor:5393990}}]:this["nameLabel"+f].text=a1228.a1230.getLength(A)):(this["nameLabel"+g].text=a1228.a1230.getLength(m),this["nameLabel"+f].text=a1228.a1230.getLength(A)),this["scoreLabel"+g].textFlow=[{text:langue.jifen,style:{size:25}},{text:"+"+(y-b),style:{size:25,textColor:6291295,stroke:2,strokeColor:3381027}}],this["scoreLabel"+f].textFlow=[{text:langue.jifen,style:{size:25}},{text:"-"+(w-C),style:{size:25,textColor:16546632,stroke:2,strokeColor:8158024}}]},e}(eui.ItemRenderer);__reflect(ZhengbaRecordItemView.prototype,"ZhengbaRecordItemView");var a1215=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.isCross=!1,n._skin=a1243.zhengbaRecordSkin,n.isCross=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),a1228.a1230.a2557(!0,this.group)},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.showInfo=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,num:50},i=a1232.URL_ZB_RECORD;this.isCross&&(i=a1232.URL_ZB_RECORD2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data;for(var a in i)i[a].isCross=t.isCross;t.scrollList.dataProvider=new eui.ArrayCollection(e.data),t.scrollList.itemRenderer=ZhengbaRecordItemView}},null)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5237)},e.prototype.close=function(){a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1215.prototype,"a1215");var a1216=function(t){function e(e,i,a,n,r){var s=t.call(this,e,i,null)||this;return s.isCross=!1,s._skin=a1243.zhengbaResultSkin,s.isWin=n,s.data=a,s.isCross=r,s}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2115(),a1228.a1230.a2557(!0,this.group)},e.prototype.showInfo=function(){var t=this.data.mainUpScore,e=this.data.mainScore,i=this.data.mainUpRank,a=this.data.mainRank,n=this.data.fromUpScore,r=this.data.fromScore,s=(this.data.fromUpRank,this.data.fromRank,this.data.frompgid),o=(this.data.roleName,this.isWin&&2||1),l=this.isWin&&1||2;0>s?(this.isWin?(n=1e3,r=999):(n=1e3,r=1013),this["headImg"+l].source=a1228.g_zbRobotData[Math.abs(s)]&&a1228.g_zbRobotData[Math.abs(s)].headUrl||"bawanglongtouxiang1_png"):a1228.a1230.getPlayerAvatar(this.data.headUrl,this["headImg"+l]),a1232.userInfo&&a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this["headImg"+o]),this.isCross&&this.data.roleAreaName?(a1232.gameAreaId==this.data.roleAreaId&&(this.data.roleAreaName=langue.benfu),this["nameLabel"+l].textFlow=[{text:"["+this.data.roleAreaName+"]",style:{size:20,textColor:11560785}},{text:a1228.a1230.getLength(this.data.roleName),style:{size:20,textColor:5393990}}]):this["nameLabel"+l].text=a1228.a1230.getLength(this.data.roleName),this.isCross&&(this["nameLabel"+o].textFlow=[{text:"["+langue.benfu+"]",style:{size:20,textColor:11560785}},{text:a1232.userInfo&&a1228.a1230.getLength(a1232.userInfo.nickName)||langue.myname,style:{size:20,textColor:5393990}}]),this["scoreLabel"+o].text=e+"",this["scoreLabel"+l].text=r+"",this["fenLabel"+o].text=e-t>0&&"+"+Math.abs(e-t)||"-"+Math.abs(e-t),this["fenLabel"+l].text=r-n>0&&"+"+Math.abs(r-n)||"-"+Math.abs(r-n);var h="";h=i?a-i>0&&"-"+Math.abs(a-i)||"+"+Math.abs(i-a):"+"+a,this.rankLabel.textFlow=[{text:langue.paiming1+a,style:{size:33,textColor:8742486}},{text:"（"+h+"）",style:{size:33,textColor:4240940}}]},e.prototype.event=function(){a1251.a1412(this,this.group,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){this.timesLabel.visible&&(a1228.a1229.a2536(),a1228.a1225.applyFunc(10004,5221),a1228.a1225.applyFunc(10004,5227),a1228.a1225.applyFunc(10004,5e3),a1228.a1225.applyFunc(10004,5212,this.isCross))},e.prototype.a2115=function(){var t=this,e=this.isWin&&"zhandoushengli"||"zhandoushibai2";this.ani=a1228.a1245.CreateFrameAnimation(e,e),this.group.addChild(this.ani),this.isWin?(this.ani.x=360,this.ani.y=155):(this.ani.x=360,this.ani.y=210),this.ani.scaleX=1,this.ani.scaleY=1,this.ani.touchEnabled=!1,this.ani.touchChildren=!1,this.ani.animation&&this.ani.animation.play("newAnimation",1),egret.Tween.get(this.bgImg).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:1.1,scaleY:1.1},50).to({scaleX:1,scaleY:1},50).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50).to({scaleX:.95,scaleY:.95},20).to({scaleX:1,scaleY:1},20),egret.Tween.get(this.infoGroup).to({alpha:0},0).wait(740).to({alpha:1},50).call(function(){t.timesLabel.visible=!0}),this.timesLabel.visible=!1},e.prototype.close=function(){this.ani&&(this.group.removeChild(this.ani),this.ani.dispose(),this.ani=null),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1216.prototype,"a1216");var ZhengbaRewardItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.zhengbaRewardItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){this.data.id>300&&this.data.id<400?this.iconImg.source=a1228.g_PropsData[this.data.id].icon:1==this.data.id&&(this.iconImg.source="panzs_png"),this.numLabel.text="x"+this.data.num},e}(eui.ItemRenderer);__reflect(ZhengbaRewardItemView.prototype,"ZhengbaRewardItemView");
var ZhengbaRewardRuleItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.zhengbaRewardRuleItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.reflesh()},e.prototype.reflesh=function(){var t="";this.data.rank[0]==this.data.rank[1]?t=this.data.rank[0]+"":this.data.rank[1]>0&&(t=this.data.rank[0]+"~"+this.data.rank[1]),this.rankLabel.textFlow=[{text:langue.di,style:{size:24,textColor:16777215,stroke:2,strokeColor:6381136}},{text:t,style:{size:24,textColor:16766796,stroke:2,strokeColor:6381136}},{text:langue.ming,style:{size:24,textColor:16777215,stroke:2,strokeColor:6381136}}],this.group1.visible=!1,this.group2.visible=!1,this.group3.visible=!1;for(var e=0;e<this.data.reward.length;e++){var i=this.data.reward[e][0];i>300&&400>i?this["iconImg"+(e+1)].source=a1228.g_PropsData[i].icon:1==i&&(this["iconImg"+(e+1)].source="panzs_png"),this["numLabel"+(e+1)].text="x"+this.data.reward[e][1],this["group"+(e+1)].visible=!0}},e}(eui.ItemRenderer);__reflect(ZhengbaRewardRuleItemView.prototype,"ZhengbaRewardRuleItemView");var ZhengbaRewardRuleView=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.isCross=!1,n._skin=a1243.zhengbaRewardRuleSkin,n.isCross=a,n}return __extends(e,t),e.prototype.initUI=function(){this.showInfo(),this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.showInfo=function(){var t=[];if(this.isCross){for(var e in a1228.g_zhengbaData2){var i={reward:a1228.g_zhengbaData2[e].reward,rank:a1228.g_zhengbaData2[e].rank};t.push(i)}this.titleImg.source="kfjlgz_png",this.srcGroup.visible=!1}else{for(var e in a1228.g_zhengbaData){var i={reward:a1228.g_zhengbaData[e].reward,rank:a1228.g_zhengbaData[e].rank};t.push(i)}this.titleImg.source="zbjlgz_png",this.srcGroup.visible=!0}this.scrollerList.dataProvider=new eui.ArrayCollection(t),this.scrollerList.itemRenderer=ZhengbaRewardRuleItemView},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095,!1)},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5233)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(ZhengbaRewardRuleView.prototype,"ZhengbaRewardRuleView");var a1217=function(t){function e(e,i,a,n){var r=t.call(this,e,i,null)||this;return r.data2=[],r.isCross=!1,r._skin=a1243.zhengbaRewardSkin,r.data=a,r.isCross=n,r}return __extends(e,t),e.prototype.initUI=function(){this.showInfo(),this.event(),this.a2090(),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.showInfo=function(){if(this.data){var t=this.data.lastRank;this.data.lastScore;if(this.rankLabel.text=langue.di+t+langue.ming,this.isCross){for(var e in a1228.g_zhengbaData2){var i=a1228.g_zhengbaData2[e].rank[0],a=a1228.g_zhengbaData2[e].rank[1];if(t>=i&&a>=t){for(var n in a1228.g_zhengbaData2[e].reward){var r={id:a1228.g_zhengbaData2[e].reward[n][0],num:a1228.g_zhengbaData2[e].reward[n][1]};this.data2.push(r)}this.scrollerList.dataProvider=new eui.ArrayCollection(this.data2),this.scrollerList.itemRenderer=ZhengbaRewardItemView;break}}this.titleImg.source="kfpalb_png"}else{for(var e in a1228.g_zhengbaData){var i=a1228.g_zhengbaData[e].rank[0],a=a1228.g_zhengbaData[e].rank[1];if(t>=i&&a>=t){for(var n in a1228.g_zhengbaData[e].reward){var r={id:a1228.g_zhengbaData[e].reward[n][0],num:a1228.g_zhengbaData[e].reward[n][1]};this.data2.push(r)}this.scrollerList.dataProvider=new eui.ArrayCollection(this.data2),this.scrollerList.itemRenderer=ZhengbaRewardItemView;break}}this.titleImg.source="zblb_png"}this.data.lq?(this.getdbImg.source="sjbtn3_png",this.getwzImg.source="ylq_png"):(this.getdbImg.source="sjbtn2_png",this.getwzImg.source="GetAwardLabel_png")}},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.getBtn,egret.TouchEvent.TOUCH_TAP,this.a2111)},e.prototype.a2111=function(){var t=this;if(a1228.a1245.a2619(this,this.getBtn,2e3)&&0==this.data.lq){var e={gameId:a1232.gameID,trackId:a1232.trackId},i=a1232.URL_ZB_AWARED;this.isCross&&(i=a1232.URL_ZB_AWARED2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&0==e.status){for(var i=0;i<t.data2.length;i++)t.isCross?a1228.a1225.applyFunc(10004,5035,t.data2[i].id,t.data2[i].num,30):a1228.a1225.applyFunc(10004,5035,t.data2[i].id,t.data2[i].num,11);a1228.a1225.applyFunc(10004,5042);for(var a=[],i=0;i<t.data2.length;i++)t.data2[i]&&t.data2[i].id&&a.push([t.data2[i].id,t.data2[i].num]);a1228.a1225.applyFunc(10004,5238,a),t.getdbImg.source="sjbtn3_png",t.getwzImg.source="ylq_png",t.data.lq=1;var n=a1228.a1226.a2525(191);n&&n.data&&(n.data.lq=1,n.rewardRedImg.visible=!1),t.isCross?a1232.zhengbaReward2=!1:a1232.zhengbaReward=!1}else a1228.a1245.a2612(langue.getFail)},null)}},e.prototype.a2095=function(){a1228.a1225.applyFunc(10004,5229)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1217.prototype,"a1217");var a1218=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.isCross=!1,n._skin=a1243.zhengbaRuleSkin,n.isCross=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.showInfo(),this.a2090(),a1228.a1230.a2557(!0,this.group),this.isCross?(a1232.zhengbaStartTime2&&a1232.zhengbaEndTime2&&(this.activeTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaStartTime2)+"-"+a1228.a1240.a2604(a1232.zhengbaEndTime2)),a1232.zhengbaResultTime2&&(this.resultTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaResultTime2))):(a1232.zhengbaStartTime&&a1232.zhengbaEndTime&&(this.activeTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaStartTime)+"-"+a1228.a1240.a2604(a1232.zhengbaEndTime)),a1232.zhengbaResultTime&&(this.resultTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaResultTime)))},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner():a1228.a1245.closeBanner()},e.prototype.event=function(){a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.sureBtn,egret.TouchEvent.TOUCH_TAP,this.a2095)},e.prototype.showInfo=function(){this.isCross?this.srcLabel.text=a1228.g_functionData[5].src:this.srcLabel.text=a1228.g_functionData[1].src},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5241)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1251.a1413(this),t.prototype.close.call(this)},e}(a1116);__reflect(a1218.prototype,"a1218");var ZhengbaScoreItemView=function(t){function e(){var e=t.call(this)||this;return e.skinName=a1243.zhengbaScoreItemSkin,e.event(),e}return __extends(e,t),e.prototype.event=function(){a1251.a1412(this,this,egret.Event.REMOVED_FROM_STAGE,this.onclean)},e.prototype.dataInit=function(){this.Info=null,this.Info2=null},e.prototype.onclean=function(){a1228.a1252.removeAll(this),a1251.a1413(this)},e.prototype.dataChanged=function(){this.data&&(this.dataInit(),this.reflesh())},e.prototype.reflesh=function(){this.rankLabel.text="第"+(this.itemIndex+1)+"名",this.scoreLabel.visible=this.data.pgid>0&&!0||!1,this.scoreLabel.textFlow=[{text:langue.jifen,style:{size:25,textColor:5393990}},{text:(this.data.score||0)+"",style:{size:25,textColor:14708264}}],this.nameLabel.text=a1228.a1230.getLength(this.data.nickname||"")},e}(eui.ItemRenderer);__reflect(ZhengbaScoreItemView.prototype,"ZhengbaScoreItemView");var a1219=function(t){function e(e,i,a){var n=t.call(this,e,i,null)||this;return n.myRank=0,n.myScore=0,n.isClickClose=!1,n.openFlag=!1,n.isCross=!1,n._skin=a1243.zhengbaSkin,n.isCross=a,n}return __extends(e,t),e.prototype.initUI=function(){this.event(),this.init(),this.a2304(!0),this.a2470(),this.a2090(),a1228.a1252.doTimer(1e3,0,this.a2470,this),a1228.a1230.a2557(!0,this.group)},e.prototype.setVisible=function(t){this.visible=t,this.a2090()},e.prototype.a2090=function(){this.visible?a1228.a1245.openBanner(.8):a1228.a1245.closeBanner()},e.prototype.init=function(){for(var t=this,e=1;3>=e;e++)this["nameLabel"+e].text="",this["cheerImg"+e].source="zbxwyd_png",this["headImg"+e].source="zbtxwh_png";if(this.isCross){a1232.zhengbaStartTime2&&(this.starTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaStartTime2)),a1232.zhengbaEndTime2&&(this.endTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaEndTime2)),a1232.zhengbaResultTime2&&(this.resultTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaResultTime2));var i=a1232.zhengbatimes2+a1232.zhengbavideotimes2;if(this.refleshImg.source=a1232.zhengbaRefleshtimes2>0&&"zbsx_png"||"spicon_png",this.timesLabel.text=i>=0&&i+""||"0",this.titleImg.source="kfzbsss_png",a1232.zhengbaIsOpen2){this.topdbImg.source="kfdbdb_png",this.top3Group.visible=!1,this.serverGroup.visible=!0,this.openGroup.visible=!1;for(var e=1;4>=e;e++)this["serverRankLabel"+e].text="",this["serverNameLabel"+e].text="",this["serverScorceLabel"+e].text="",this["serverInfoGroup"+e].visible=""}else this.top3Group.visible=!0,this.openGroup.visible=!0}else{a1232.zhengbaStartTime&&(this.starTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaStartTime)),a1232.zhengbaEndTime&&(this.endTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaEndTime)),a1232.zhengbaResultTime&&(this.resultTimeLabel.text=a1228.a1240.a2604(a1232.zhengbaResultTime));var i=a1232.zhengbatimes+a1232.zhengbavideotimes;this.refleshImg.source=a1232.zhengbaRefleshtimes>0&&"zbsx_png"||"spicon_png",this.timesLabel.text=i>=0&&i+""||"0",this.titleImg.source="zbtitle_png",a1232.zhengbaIsOpen?this.openGroup.visible=!1:this.openGroup.visible=!0,this.top3Group.visible=!0}a1232.userInfo?(a1228.a1230.getPlayerAvatar(a1232.userInfo.avatarUrl,this.myHeadImage),this.myNameLabel.text=a1228.a1230.getLength(a1232.userInfo.nickName)):this.myNameLabel.text=langue.myname;for(var e=0;e<a1232.zhengbaPos.length;++e){var a=a1232.zhengbaPos[e],n=a1232.zhengbaCheer[e][0],r=a1232.zhengbaCheer[e][1];-1==a||a1232.playerIDs[a]||(a1232.zhengbaPos[e]=0),-1==n||a1232.playerIDs[n]||(a1232.zhengbaCheer[e][0]=0),-1==r||a1232.playerIDs[r]||(a1232.zhengbaCheer[e][1]=0)}var s={gameId:a1232.gameID,trackId:a1232.trackId,old:0},o=a1232.URL_ZB_INIT;this.isCross&&(o=a1232.URL_ZB_INIT2),a1228.a1247.a2623(o,egret.URLRequestMethod.POST,s,function(e){e&&e.data&&(t.data=e.data,t.isCross&&t.data.startTime&&(a1232.zhengbaStartTime2=Math.floor(t.data.startTime[0]/1e3),a1232.zhengbaEndTime2=Math.floor(t.data.startTime[1]/1e3),a1232.zhengbaResultTime2=Math.floor(t.data.startTime[2]/1e3)),t.a2152())},null)},e.prototype.a2152=function(){if(this.data){for(var t=1;3>=t;t++){var e=this.data.top3&&this.data.top3[t-1];e?(a1228.a1230.getPlayerAvatar(e.avatarUrl,this["headImg"+t]),this["nameLabel"+t].text=a1228.a1230.getLength(e.nickname),this["cheerImg"+t].source="zbckzr_png"):(this["nameLabel"+t].text="",this["cheerImg"+t].source="zbxwyd_png",this["headImg"+t].source="zbtxwh_png")}if(this.data.isGo){if(this.myScore=this.data.self&&this.data.self.score&&this.data.self.score||1e3,this.myScoreLabel.textFlow=[{text:langue.jifen,style:{size:25,textColor:5393990}},{text:this.myScore+"",style:{size:25,textColor:14708264}}],this.myRank=this.data.self&&this.data.self.num&&this.data.self.num||0,this.myRankLabel.text=this.myRank>0&&this.myRank+""||langue.nopaihang,this.data.fight&&this.data.fight.length>0){if(this.isCross)for(var t in this.data.fight){var i=this.data.fight[t];i.isCross=!0}this.scrollList.dataProvider=new eui.ArrayCollection(this.data.fight),this.scrollList.itemRenderer=a1212}else{var a=[],n=0;for(var t in a1228.g_zbRobotData)n-=1,a1228.g_zbRobotData[t].pgid=n,this.isCross&&(a1228.g_zbRobotData[t].isCross=!0,a1228.g_zbRobotData[t].areaName=""),a.push(a1228.g_zbRobotData[t]);this.scrollList.dataProvider=new eui.ArrayCollection(a),this.scrollList.itemRenderer=a1212}if(this.rewardRedImg.visible=!1,this.openGroup.visible=!1,this.isCross){if(this.topdbImg.source="kfdbdb_png",this.top3Group.visible=!1,this.serverGroup.visible=!0,this.data.areas)for(var t=1;4>=t;t++)this.data.areas[t-1]?(this["serverInfoGroup"+t].visible=!0,this["serverRankLabel"+t].text=t+"",this.data.areas[t-1].id&&this.data.areas[t-1].id==a1232.gameAreaId?this["serverNameLabel"+t].text=langue.benfu:this["serverNameLabel"+t].text=this.data.areas[t-1].areaName+"",this["serverScorceLabel"+t].text=this.data.areas[t-1].score+""):this["serverInfoGroup"+t].visible=!1}else this.topdbImg.source="zbrankbg_png",this.top3Group.visible=!0,this.serverGroup.visible=!1}else this.openGroup.visible=!0,this.serverGroup.visible=!1,!this.data.lq&&this.data.self&&this.data.self.num>0&&this.data.self.num<=1e3?this.rewardRedImg.visible=!0:this.rewardRedImg.visible=!1,this.isCross?(this.topdbImg.source="zbrankbg_png",this.top3Group.visible=!0):(this.topdbImg.source="zbrankbg_png",this.top3Group.visible=!0)}},e.prototype.a2463=function(){var t=this,e={gameId:a1232.gameID,trackId:a1232.trackId,old:1},i=a1232.URL_ZB_INIT;this.isCross&&(i=a1232.URL_ZB_INIT2),a1228.a1247.a2623(i,egret.URLRequestMethod.POST,e,function(e){if(e&&e.data){var i=e.data;if(i.fight&&i.fight.length>0){if(t.isCross)for(var a in i.fight){var n=i.fight[a];n.isCross=!0}t.scrollList.dataProvider=new eui.ArrayCollection(i.fight),t.scrollList.itemRenderer=a1212}else{var r=[],s=0;for(var a in a1228.g_zbRobotData)s-=1,t.isCross&&(a1228.g_zbRobotData[a].isCross=!0,a1228.g_zbRobotData[a].areaName=""),a1228.g_zbRobotData[a].pgid=s,r.push(a1228.g_zbRobotData[a]);t.scrollList.dataProvider=new eui.ArrayCollection(r),t.scrollList.itemRenderer=a1212}}},null)},e.prototype.event=function(){var t=this;a1251.a1412(this,this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.a2095),a1251.a1412(this,this.recordBtn,egret.TouchEvent.TOUCH_TAP,this.a2309),a1251.a1412(this,this.battleBtn,egret.TouchEvent.TOUCH_TAP,this.a2310),a1251.a1412(this,this.rankBtn,egret.TouchEvent.TOUCH_TAP,this.a2468),a1251.a1412(this,this.rewardBtn,egret.TouchEvent.TOUCH_TAP,this.a2469),a1251.a1412(this,this.refleshBtn,egret.TouchEvent.TOUCH_TAP,this.a2466),a1251.a1412(this,this.ruleBtn,egret.TouchEvent.TOUCH_TAP,this.a2465),a1251.a1412(this,this.ruleBtn,egret.TouchEvent.TOUCH_TAP,this.a2465),a1251.a1412(this,this.yulanBtn,egret.TouchEvent.TOUCH_TAP,this.a2464),a1251.a1412(this,this.cheerBtn1,egret.TouchEvent.TOUCH_TAP,function(){t.a2467(1)},!1),a1251.a1412(this,this.cheerBtn2,egret.TouchEvent.TOUCH_TAP,function(){t.a2467(2)},!1),a1251.a1412(this,this.cheerBtn3,egret.TouchEvent.TOUCH_TAP,function(){t.a2467(3)},!1)},e.prototype.a2464=function(){a1228.a1225.applyFunc(10004,5232,this.isCross)},e.prototype.a2465=function(){a1228.a1225.applyFunc(10004,5240,this.isCross)},e.prototype.a2466=function(){var t=this;if(a1228.a1245.a2619(this,this.refleshBtn,2e3))if(this.isCross)if(a1232.zhengbaRefleshtimes2>0)this.a2463(),a1232.zhengbaRefleshtimes2-=1,this.refleshImg.source=a1232.zhengbaRefleshtimes2>0&&"zbsx_png"||"spicon_png",a1228.a1225.applyFunc(10004,5041);else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2463()},e,["136","争霸赛刷新挑战列表"])}else if(a1232.zhengbaRefleshtimes>0)this.a2463(),a1232.zhengbaRefleshtimes-=1,this.refleshImg.source=a1232.zhengbaRefleshtimes>0&&"zbsx_png"||"spicon_png",a1228.a1225.applyFunc(10004,5041);else{var e=a1228.a1230.a2548();a1228.a1230.a2549(function(){t.a2463()},e,["136","争霸赛刷新挑战列表"])}},e.prototype.a2467=function(t){if(this.data&&this.data.top3&&this.data.top3[t-1]){var e,i,a=this.data.top3[t-1],n={gameId:a1232.gameID,trackId:a1232.trackId,areaId:a1232.gameAreaId,pgid:a.pgid},r=a1232.URL_ZB_CHEER;this.isCross&&(r=a1232.URL_ZB_CHEER2),a1228.a1247.a2623(r,egret.URLRequestMethod.POST,n,function(t){if(t&&t.data){var a=t.data.extInfo,n=t.data.extAttr,r=[];if(a){var s=JSON.parse(a),o=n&&JSON.parse(n)||{},l=void 0;o.playerIDs?(l=o.playerIDs,"string"==typeof o.playerIDs&&(l=JSON.parse(o.playerIDs))):s.playerIDs&&(l=s.playerIDs,"string"==typeof s.playerIDs&&(l=JSON.parse(s.playerIDs)));var h=0;if(s.zhengbaPos){i=[];var p=s.zhengbaPos||[];"string"==typeof s.zhengbaPos&&(p=s.zhengbaPos&&JSON.parse(s.zhengbaPos)||[]);for(var u=s.zhengbaCheer2||[],c=0;5>c;++c){var d=l[p[c]];if(p[c]&&d){r.push(new a1231(null,d));var g=[null,null];if(i.push(g),u[c])for(var f=0;f<u[c].length;++f){var m=u[c][f],v=l[m];m&&v&&(g[f]=new a1231(null,v))}h+=1}else r.push(null),i.push([null,null])}}0==h&&(r=[new a1231(null,[1,5])])}else r.push(new a1231(null,[1,5]));if(r&&(e=r),!e||0==e.length)return;var y={posData:e,cheerData:i};a1228.a1225.applyFunc(10004,5230,y)}},null)}},e.prototype.a2309=function(){a1228.a1225.applyFunc(10004,5236,this.isCross)},e.prototype.a2468=function(){a1228.a1225.applyFunc(10004,5234,this.isCross)},e.prototype.a2469=function(){if(!this.data||this.data.isGo)return void a1228.a1245.a2612(langue.noeward);var t=0;if(this.data&&this.data.self){if(!(this.data.self.num>0))return void a1228.a1245.a2612(langue.noeward);t=this.data.self.num;var e=0;for(var i in a1228.g_zhengbaData)a1228.g_zhengbaData[i]&&(a1228.g_zhengbaData[Number(i)+1]||(e=a1228.g_zhengbaData[i].rank[1]));if(t>e)return void a1228.a1245.a2612(langue.noeward)}var a=0;this.data&&this.data.self&&this.data.self.score&&(a=this.data.self.score);var n={lastRank:t,lastScore:a,lq:this.data.lq};a1228.a1225.applyFunc(10004,5228,n,this.isCross)},e.prototype.a2095=function(){a1228.a1230.a2557(!1,this.group,5215),this.isClickClose=!0;var t=a1228.a1226.a2525(102);t&&t.a2269(t.zbRedImg)},e.prototype.a2310=function(){a1228.a1225.applyFunc(10004,5216)},e.prototype.a2304=function(t){var e=a1228.a1226.a2525(101);t?a1228.SceneMgr.a2517().visible=!0:a1228.SceneMgr.a2517().visible=!e},e.prototype.a2470=function(){var t=this,e=a1232.zhengbaIsOpen;this.isCross&&(e=a1232.zhengbaIsOpen2),e?this.openFlag=!0:(this.openGroup.visible=!0,this.openFlag&&(a1228.a1225.applyFunc(10004,5041),setTimeout(function(){t.init()},1e3)),this.openFlag=!1)},e.prototype.close=function(){a1228.a1245.closeBanner(),a1228.a1252.removeAll(this),this.a2304(!1),a1251.a1413(this),t.prototype.close.call(this),this.isClickClose&&a1232.releaseZhengbaRes()},e}(a1116);__reflect(a1219.prototype,"a1219");var a1220=function(){function t(){}return t.Game_Main=new a1119,t.UI_Main_Down=new a1117,t.UI_Main_Down2=new a1117,t.UI_Main=new a1117,t.UI_Main_UP=new a1117,t.UI_Popup=new a1117,t.UI_Message=new a1117,t.UI_Tips=new a1117,t}();__reflect(a1220.prototype,"a1220");var a1221=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),a1228.a1229=null,a1228.ActorMgr=null,a1228.SceneMgr=null,this.addLayer(a1220.UI_Main),this.addLayer(a1220.UI_Main_UP),this.addLayer(a1220.UI_Tips),a1228.a1225.applyFunc(10004,5006)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(a1118);__reflect(a1221.prototype,"a1221");var a1222=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.addLayer(a1220.Game_Main),this.addLayer(a1220.UI_Main_Down),this.addLayer(a1220.UI_Main_Down2),this.addLayer(a1220.UI_Main),this.addLayer(a1220.UI_Main_UP),this.addLayer(a1220.UI_Tips),a1228.a1225.applyFunc(10004,5014)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(a1118);__reflect(a1222.prototype,"a1222");var a1223=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function a(t,i){e.call(this,t,i)}function n(i,a){i&&i._textureMap&&i._textureMap[t]&&e.call(this,i._textureMap[t],t)}if(RES.hasRes(t)){var r=RES.getRes(t),s=RES.config.getResourceWithSubkey(t);if(s.subkey){var o=s.key,l=(s.key.replace("json","png"),RES.getRes(o));if(!l)return void RES.a1528(o,n,i);if(!l.$texture||!l.$texture.$bitmapData)return RES.a1530(o),void RES.a1528(o,n,i);e.call(this,l._textureMap[t],t)}r?e.call(i,r,t):RES.a1528(t,a,i)}else RES.a1529(t,a,i,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(a1223.prototype,"a1223",["eui.IAssetAdapter"]);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,a){function n(t){e.call(a,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(a))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(a,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.a1529(a1232.getResUrl()+"gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(a,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var o=t.split("/");o.pop();var l=o.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(a,generateJSON.paths[t])},this):RES.a1529(l,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(a,generateJSON.paths[t])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(a,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.a1529(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var FB_MAX_AD_INSTANCE=3,FB_INIT_AD_COUNT=3,FB_BANNER_REFRESH_INTERVAL=40,FB_INTERSTITIAL_REFRESH_INTERVAL=40,FB_REWARDED_VIDEO_REFRESH_INTERVAL=0,FB_MAX_BANNER_ERROR=1,FB_MAX_INTERSTITIAL_ERROR=3,FB_MAX_REWARDED_VIDEO_ERROR=3,FB_AUTO_LOAD_ON_PLAY=!0,FB_AUTO_RELOAD_DELAY=1,FB_AD_DELAY_FOR_FIRST_BANNER=0,FB_AD_DELAY_FOR_FIRST_INTERSTITIAL=30,FB_AD_DELAY_FOR_FIRST_REWARDED_VIDEO=0,FB_AD_TYPE;!function(t){t[t.INTERSTITIAL=0]="INTERSTITIAL",t[t.REWARDED_VIDEO=1]="REWARDED_VIDEO",t[t.BANNER=2]="BANNER"}(FB_AD_TYPE||(FB_AD_TYPE={}));var FB_AD_STATE;!function(t){t[t.NONE=0]="NONE",t[t.NEW=1]="NEW",t[t.LOADING=2]="LOADING",t[t.LOADED=3]="LOADED",t[t.PLAYING=4]="PLAYING"}(FB_AD_STATE||(FB_AD_STATE={}));var ErrorTooManyAdInstance={code:"EXCEED_MAX_AD_INSTANCE",message:"广告对象不允许超过 "+FB_MAX_AD_INSTANCE},ErrorNoReadyAdInstance={code:"NO_READY_AD_INSTANCE",message:"没有加载完毕的广告，或者广告播放太频繁"},ErrorNotReadyForLoad={code:"NOT_READY_FOR_LOAD",message:"当前状态不允许再次加载"},ErrorAdIsLoading={code:"AD_IS_LOADING",message:"广告正在加载"},ErrorNotReadyForPlay={code:"NOT_READY_FOR_PLAYING",message:"没有可以播放的广告"},ErrorAdIsPlaying={code:"AD_IS_PLAYING",message:"广告正在播放"},ErrorNoBannerAdInstance={code:"NO_BANNER_AD",message:"没有添加Banner广告"},ErrorApiNotSupport={code:"API_NOT_SUPPORT",message:"广告接口不支持"},ErrorTooFastShow={code:"TOO_FAST_SHOW",message:"广告播放太频繁"},ErrorNotPlaying={code:"NOT_PLAYING",message:"广告没有播放"},ErrorTooManyErrors={code:"TOO_MANY_ERRORS",message:"太多错误, 停止操作"},FB_API_BANNER="loadBannerAdAsync",FB_ERROR_CODE_RATE_LIMITED="RATE_LIMITED",FB_ERROR_CLIENT_UNSUPPORTED_OPERATION="CLIENT_UNSUPPORTED_OPERATION",FB_ERROR_ADS_NO_FILL="ADS_NO_FILL",AdTimer=function(){function t(t,e){this._lastShowTime=0,this._refreshInterval=0,this._refreshInterval=t>0?t:0,this._lastShowTime=0,e>0&&(this._lastShowTime=Date.now()+1e3*e-1e3*this._refreshInterval)}return t.prototype.isReadyToRefresh=function(){return this.getNextRefreshInterval()<=0},t.prototype.getNextRefreshInterval=function(){var t=0;if(this._refreshInterval>0&&this._lastShowTime>0){var e=Date.now();t=this._refreshInterval-(e-this._lastShowTime)/1e3}return t},t.prototype.updateLastShowTime=function(){this._lastShowTime=Date.now()},t}();__reflect(AdTimer.prototype,"AdTimer");var FBAdUnitBase=function(){function t(t,e,i,a){this._maxLoadError=0,this._errorCounter=0,this._fatalError=!1,this._sharedTimer=null,this._adId=t,this._state=FB_AD_STATE.NONE,this._type=e,this._sharedTimer=i,this._fatalError=!1,console.assert(!!i,"sharedTimer is invalid",i),this._maxLoadError=getOption(a,"maxLoadError",0)}return t.prototype.getStateName=function(){return getStateName(this._state)},t.prototype.getAdTypeName=function(){return this._type==FB_AD_TYPE.INTERSTITIAL?"插屏广告":this._type==FB_AD_TYPE.REWARDED_VIDEO?"激励视频广告":this._type==FB_AD_TYPE.BANNER?"Banner":"UNKNOWN"},t.prototype.a2564=function(){return"["+this.getAdTypeName()+":"+this._adId+":"+this.getStateName()+"]"},t.prototype.isReadyToRefresh=function(){return this._sharedTimer.isReadyToRefresh()},t.prototype.getNextRefreshInterval=function(){return this._sharedTimer.getNextRefreshInterval()},t.prototype.updateLastShowTime=function(){this._sharedTimer.updateLastShowTime()},t.prototype.increaseErrorCounter=function(){this._errorCounter++},t.prototype.resetErrorCounter=function(){this._errorCounter=0},t.prototype.setFatalError=function(){this._fatalError=!0},t.prototype.isErrorTooMany=function(){return this._fatalError||this._maxLoadError>0&&this._errorCounter>=this._maxLoadError},t}();__reflect(FBAdUnitBase.prototype,"FBAdUnitBase");var FBStatefulAdUnit=function(t){function e(e,i,a,n){var r=t.call(this,e,i,a,n)||this;return r._adInstance=null,r._autoLoadOnPlay=getOption(n,"autoLoadOnPlay",!1),r}return __extends(e,t),e.prototype.loadAsync=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i;return __generator(this,function(a){switch(a.label){case 0:return null!=this._adInstance?[3,4]:this._state!=FB_AD_STATE.NONE?[3,2]:(this._state=FB_AD_STATE.NEW,console.log("获取广告对象: "+this.a2564()),t=this,[4,this.createAdInstanceAsync(this._adId)]);case 1:return t._adInstance=a.sent(),[3,3];case 2:return console.log("当前状态未满足加载条件, 正在获取广告对象: "+this.a2564()),[2];case 3:return[3,4];case 4:if(this._state!=FB_AD_STATE.NEW)throw console.log("当前状态未满足加载条件: "+this.a2564()),this._state==FB_AD_STATE.LOADING?(console.log("广告正在加载中，不要重复加载"+this.a2564()),ErrorAdIsLoading):ErrorNotReadyForLoad;if(this.isErrorTooMany())throw console.log("太多错误，停止加载: "+this.a2564()),ErrorTooManyErrors;a.label=5;case 5:return a.trys.push([5,7,,8]),this._state=FB_AD_STATE.LOADING,console.log("开始加载广告: "+this.a2564()),[4,this._adInstance.loadAsync()];case 6:return a.sent(),this._state=FB_AD_STATE.LOADED,this.resetErrorCounter(),console.log("广告加载成功: "+this.a2564()),[2,!0];case 7:throw e=a.sent(),console.error("广告加载失败: "+this.a2564(),e),e.code==FB_ERROR_ADS_NO_FILL?(console.error("广告无法填充，不再继续请求: "+this.a2564()),this.setFatalError()):(this.increaseErrorCounter(),this._state=FB_AD_STATE.NEW,i=10*this._errorCounter+FB_AUTO_RELOAD_DELAY,console.log("延迟"+i+"秒后, 自动重新加载: "+this.a2564()),waitTimeSecond(i,this.loadAsync.bind(this))),e;case 8:return[2]}})})},e.prototype.isReady=function(){return null!=this._adInstance&&this._state==FB_AD_STATE.LOADED},e.prototype.showAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:if(!this.isReady())throw console.log("当前状态未满足播放条件: "+this.a2564()),this._state==FB_AD_STATE.PLAYING?ErrorAdIsPlaying:ErrorNotReadyForPlay;if(!this.isReadyToRefresh())throw console.log("播放太频繁，还需间隔"+this.getNextRefreshInterval()+" 秒: "+this.a2564()),ErrorTooFastShow;e.label=1;case 1:return e.trys.push([1,3,,4]),this._state=FB_AD_STATE.PLAYING,console.log("开始播放广告: "+this.a2564()),[4,this._adInstance.showAsync()];case 2:return e.sent(),console.log("播放广告完毕: "+this.a2564()),this._adInstance=null,this._state=FB_AD_STATE.NONE,this.updateLastShowTime(),this._autoLoadOnPlay&&(console.log("延迟"+FB_AUTO_RELOAD_DELAY+"秒后, 自动重新加载: "+this.a2564()),waitTimeSecond(FB_AUTO_RELOAD_DELAY,this.loadAsync.bind(this))),[2,!0];case 3:throw t=e.sent(),console.log("播放广告失败: "+this.a2564(),t),t.code==FB_ERROR_CODE_RATE_LIMITED?this._state=FB_AD_STATE.LOADED:(this._adInstance=null,this._state=FB_AD_STATE.NONE,this._autoLoadOnPlay&&(console.log("延迟"+FB_AUTO_RELOAD_DELAY+"秒后, 自动重新加载: "+this.a2564()),waitTimeSecond(FB_AUTO_RELOAD_DELAY,this.loadAsync.bind(this)))),t;case 4:return[2]}})})},e}(FBAdUnitBase);__reflect(FBStatefulAdUnit.prototype,"FBStatefulAdUnit");var FBInterstitialUnit=function(t){function e(e,i,a){return t.call(this,e,FB_AD_TYPE.INTERSTITIAL,i,a)||this}return __extends(e,t),e.prototype.createAdInstanceAsync=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,FBInstant.getInterstitialAdAsync(this._adId)];case 1:return[2,t.sent()]}})})},e}(FBStatefulAdUnit);__reflect(FBInterstitialUnit.prototype,"FBInterstitialUnit");var FBRewardedVideoUnit=function(t){function e(e,i,a){return t.call(this,e,FB_AD_TYPE.REWARDED_VIDEO,i,a)||this}return __extends(e,t),e.prototype.createAdInstanceAsync=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,FBInstant.getRewardedVideoAsync(this._adId)];case 1:return[2,t.sent()]}})})},e}(FBStatefulAdUnit);__reflect(FBRewardedVideoUnit.prototype,"FBRewardedVideoUnit");var FBBannerUnit=function(t){function e(e,i,a){return t.call(this,e,FB_AD_TYPE.BANNER,i,a)||this}return __extends(e,t),e.prototype.showAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:if(!this.isReadyToRefresh())throw console.log("播放太频繁，还需间隔"+this.getNextRefreshInterval()+" 秒: "+this.a2564()),ErrorTooFastShow;if(this.isErrorTooMany())throw console.log("太多错误，停止加载: "+this.a2564()),ErrorTooManyErrors;e.label=1;case 1:return e.trys.push([1,3,,4]),this._state=FB_AD_STATE.PLAYING,console.log("开始显示广告: "+this.a2564()),[4,FBInstant.loadBannerAdAsync(this._adId)];case 2:return e.sent(),console.log("显示广告成功: "+this.a2564()),this.updateLastShowTime(),this.resetErrorCounter(),[3,4];case 3:throw t=e.sent(),console.error("显示广告失败: "+this.a2564(),t),t.code==FB_ERROR_CODE_RATE_LIMITED||(t.code==FB_ERROR_ADS_NO_FILL?(console.error("广告无法填充，不再继续请求: "+this.a2564()),this.setFatalError()):this.increaseErrorCounter()),t;case 4:return[2]}})})},e.prototype.hideAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,FBInstant.hideBannerAdAsync()];case 1:return e.sent(),this._state=FB_AD_STATE.NONE,[3,3];case 2:return t=e.sent(),[3,3];case 3:return[2]}})})},e}(FBAdUnitBase);__reflect(FBBannerUnit.prototype,"FBBannerUnit");var FBAdManager=function(){function t(){}return t.getVersion=function(){return"1.0.2"},t.addInterstitial=function(t,e){void 0===e&&(e=FB_INIT_AD_COUNT),null==this._interstitialTimer&&(this._interstitialTimer=new AdTimer(this.defaultInterstitialTimerOption.refreshInterval,this.defaultInterstitialTimerOption.delayForFirstAd));
for(var i=0;e>i;i++){if(this._interstitialAds.length>=FB_MAX_AD_INSTANCE)throw console.log("添加插屏广告失败, 超出限制: "+this._interstitialAds.length,t),ErrorTooManyAdInstance;var a=new FBInterstitialUnit(t,this._interstitialTimer,this.defaultInterstitialOption);this._interstitialAds.push(a),console.log("添加插屏广告: "+t,"count: "+this._interstitialAds.length)}return this._interstitialAds.length},t.addRewardedVideo=function(t,e){void 0===e&&(e=FB_INIT_AD_COUNT),null==this._rewardedVideoTimer&&(this._rewardedVideoTimer=new AdTimer(this.defaultRewardedVideoTimerOption.refreshInterval,this.defaultRewardedVideoTimerOption.delayForFirstAd));for(var i=0;e>i;i++){if(this._rewardedVideos.length>=FB_MAX_AD_INSTANCE)throw console.log("添加激励视频广告失败, 超出限制: "+this._rewardedVideos.length,t),ErrorTooManyAdInstance;var a=new FBRewardedVideoUnit(t,this._rewardedVideoTimer,this.defaultRewardedVideoOption);this._rewardedVideos.push(a),console.log("添加激励视频广告: "+t,"count: "+this._rewardedVideos.length)}return this._rewardedVideos.length},t.addBanner=function(t){null==this._bannerTimer&&(this._bannerTimer=new AdTimer(this.defaultBannerTimerOption.refreshInterval,this.defaultBannerTimerOption.delayForFirstAd));var e=new FBBannerUnit(t,this._bannerTimer,this.defaultBannerOption);return this._banners.push(e),console.log("添加Banner广告: "+t,"count: "+this._banners.length),e},t.loadAll=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return console.log("初始化广告队列"),[4,this.loadAllAsync()];case 1:return[2,t.sent()]}})})},t.loadAllAsync=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i,t,e,a;return __generator(this,function(n){switch(n.label){case 0:console.log("FBAdManager Version: "+this.getVersion()),console.log("初始化广告队列"),t=0,n.label=1;case 1:return t<this._rewardedVideos.length?(e=this._rewardedVideos[t],t>0?[4,waitTimeSecond(.1)]:[3,3]):[3,7];case 2:n.sent(),n.label=3;case 3:return n.trys.push([3,5,,6]),[4,e.loadAsync()];case 4:return n.sent(),[3,6];case 5:return i=n.sent(),[3,6];case 6:return t++,[3,1];case 7:t=0,n.label=8;case 8:return t<this._interstitialAds.length?(e=this._interstitialAds[t],t>0?[4,waitTimeSecond(.1)]:[3,10]):[3,14];case 9:n.sent(),n.label=10;case 10:return n.trys.push([10,12,,13]),[4,e.loadAsync()];case 11:return n.sent(),[3,13];case 12:return a=n.sent(),[3,13];case 13:return t++,[3,8];case 14:return[2]}})})},t._isAdReady=function(t){for(var e=t==FB_AD_TYPE.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=!1,a=0;a<e.length;a++){var n=e[a];if(n.isReady()&&n.isReadyToRefresh()){i=!0;break}}return i},t._showAsync=function(t){for(var e=t==FB_AD_TYPE.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=null,a=0;a<e.length;a++){var n=e[a];if(n.isReady()&&n.isReadyToRefresh()){i=n;break}}if(null!=i)return i.showAsync();throw ErrorNoReadyAdInstance},t._getAdTimer=function(t){return t==FB_AD_TYPE.INTERSTITIAL?this._interstitialTimer:t==FB_AD_TYPE.REWARDED_VIDEO?this._rewardedVideoTimer:this._bannerTimer},t.isInterstitialAdReady=function(){return this._isAdReady(FB_AD_TYPE.INTERSTITIAL)},t.showInterstitialAd=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this._showAsync(FB_AD_TYPE.INTERSTITIAL)];case 1:return[2,t.sent()]}})})},t.isRewardedVideoReady=function(){return this._isAdReady(FB_AD_TYPE.REWARDED_VIDEO)},t.showRewardedVideo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this._showAsync(FB_AD_TYPE.REWARDED_VIDEO)];case 1:return[2,t.sent()]}})})},t.checkApiSupport=function(t){return FBInstant.getSupportedAPIs().indexOf(t)>=0?!0:!1},t.isBannerSupport=function(){return"undefined"==typeof this._bannerSupport&&(this._bannerSupport=this.checkApiSupport(FB_API_BANNER)),this._bannerSupport},t.isBannerReady=function(){if(this._banners.length<=0)throw ErrorNoBannerAdInstance;var t=this._banners[0];return t.isReadyToRefresh()},t.showBannerAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:if(!this.isBannerSupport())throw ErrorApiNotSupport;if(this._banners.length<=0)throw ErrorNoBannerAdInstance;return t=this._banners[0],[4,t.showAsync()];case 1:return[2,e.sent()]}})})},t.hideBannerAsync=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:if(!this.isBannerSupport())throw ErrorApiNotSupport;if(this._banners.length<=0)throw ErrorNoBannerAdInstance;return t=this._banners[0],[4,t.hideAsync()];case 1:return[2,e.sent()]}})})},t._interstitialAds=[],t._rewardedVideos=[],t._banners=[],t._interstitialTimer=null,t._rewardedVideoTimer=null,t._bannerTimer=null,t._bannerSupport=void 0,t.defaultInterstitialOption={autoLoadOnPlay:FB_AUTO_LOAD_ON_PLAY,maxLoadError:FB_MAX_INTERSTITIAL_ERROR},t.defaultRewardedVideoOption={autoLoadOnPlay:FB_AUTO_LOAD_ON_PLAY,maxLoadError:FB_MAX_REWARDED_VIDEO_ERROR},t.defaultBannerOption={autoLoadOnPlay:FB_AUTO_LOAD_ON_PLAY,maxLoadError:FB_MAX_BANNER_ERROR},t.defaultInterstitialTimerOption={refreshInterval:FB_INTERSTITIAL_REFRESH_INTERVAL,delayForFirstAd:FB_AD_DELAY_FOR_FIRST_INTERSTITIAL},t.defaultRewardedVideoTimerOption={refreshInterval:FB_REWARDED_VIDEO_REFRESH_INTERVAL,delayForFirstAd:FB_AD_DELAY_FOR_FIRST_REWARDED_VIDEO},t.defaultBannerTimerOption={refreshInterval:FB_BANNER_REFRESH_INTERVAL,delayForFirstAd:FB_AD_DELAY_FOR_FIRST_BANNER},t}();__reflect(FBAdManager.prototype,"FBAdManager");var a1184=function(t){function e(e,i,a){void 0===a&&(a=null);var n=t.call(this,e,i,a)||this;return n.current=0,n}return __extends(e,t),e.prototype.initUI=function(){platform.hideCustomAd(),setTimeout(function(){platform.hideCustomAd()},200),this.a2389()},e.prototype.a2389=function(){var t=this;this.bg=new eui.Image,this.bg.percentWidth=100,this.bg.percentHeight=100,this.addChild(this.bg);var e=a1228.a1122.a1872(),i=a1228.a1122.a1873();this.cao=new eui.Image,this.cao.percentWidth=100,this.addChild(this.cao),this.barbg=new eui.Image,this.addChild(this.barbg),this.bar=new eui.Image,this.addChild(this.bar),this.barText=new eui.Image,this.addChild(this.barText),this.logo=new eui.Image,this.logo.scaleX=.7,this.logo.scaleY=.7,this.addChild(this.logo),this.bg.source="bj_jpg",this.cao.source="cao_png",this.barbg.source="barbg_png",this.bar.source="bar_png",this.barText.source="wenzi_png",this.logo.source="logo_png",this.bg.visible=!1,this.cao.visible=!1,this.logo.visible=!1,setTimeout(function(){t.bg.visible=!0,t.cao.visible=!0,t.logo.visible=!0,t.logo.horizontalCenter=0},500),this.barbg.width=592,this.bar.width=573,this.bar.width2=573,this.bar.scale9Grid=new egret.Rectangle(40,0,2,0),this.barbg.scale9Grid=new egret.Rectangle(40,0,2,0),this.barbg.x=e/2-this.barbg.width/2,this.barbg.y=6*i/7-this.barbg.height/2+78,this.bar.x=e/2-this.bar.width/2,this.bar.y=6*i/7-this.bar.height/2+78,this.barText.x=e/2-this.barText.width/2,this.barText.y=6*i/7-this.barText.height/2-this.barbg.height+75,"ios"!=platform.name&&"android"!=platform.name&&"android_qudao"!=platform.name?this.bar.mask=new egret.Rectangle(0,0,0,this.bar.height):this.bar.width=0,this.logo.horizontalCenter=0,this.logo.y=.2*i-this.logo.height/2,this.cao.x=0,this.cao.y=i-this.cao.height+250,"android"==platform.name&&(langue.logintip1="",langue.logintip2="");var a=new eui.Label;a.text="",a.size=22,a.textColor=16777215,a.x=e/2-a.width/2,a.y=i-75,this.addChild(a);var n=new eui.Label;n.text="",n.size=22,n.textColor=16777215,n.x=e/2-n.width/2,n.y=i-35,this.addChild(n);var r=new eui.Label;r.text="v "+a1232.wxVersion,r.size=22,r.textColor=8947848,r.x=10,r.y=a1228.a1122.a1873()>1280?70:10,this.addChild(r)},e.prototype.a2245=function(){},e.prototype.a2390=function(t,i){!e.initFlag&&a1232.trackId&&(e.initFlag=!0,a1227.getPoint("1000","进入加载页",7)),this.total||(this.total=i),this.current=t,"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name?this.bar&&(this.bar.width=this.bar.width2*this.current/this.total):this.bar&&(this.bar.mask.width=this.bar.width*this.current/this.total),platform.setLoadingProgress&&this.current>e.progressValue&&(e.progressValue=this.current,platform.setLoadingProgress(Math.floor(100*e.progressValue/this.total)),this.current>=this.total&&(e.progressValue=100,platform.loadingComplete(null)))},e.prototype.a2391=function(){return this.total&&this.current>=this.total},e.prototype.a2393=function(){var t=a1228.a1122.a1872(),e=a1228.a1122.a1873(),i="bawanglong";this.modelAni&&(this.removeChild(this.modelAni),this.modelAni.dispose(),this.modelAni=null),this.modelAni=a1228.a1245.CreateFrameAnimation(i,i),this.addChild(this.modelAni),this.modelAni.scaleX=-1.9,this.modelAni.scaleY=1.9,this.modelAni.animation&&this.modelAni.animation.play("zou",0),this.modelAni.x=t/2,this.modelAni.bx=this.modelAni.x,this.modelAni.y=.8*e},e.prototype.close=function(){this.modelAni&&(this.removeChild(this.modelAni),this.modelAni.dispose(),this.modelAni=null),this.bar&&(this.bar.mask=null),t.prototype.close.call(this),setTimeout(function(){var t=a1228.a1226.a2525(100);t||(RES.getRes("bj_jpg")&&RES.a1530("bj_jpg"),RES.getRes("barbg_png")&&RES.a1530("barbg_png"),RES.getRes("bar_png")&&RES.a1530("bar_png"),RES.getRes("cao_png")&&RES.a1530("cao_png"),RES.getRes("wenzi_png")&&RES.a1530("wenzi_png"),RES.getRes("logo_png")&&RES.a1530("logo_png"),RES.getRes("bj1_jpg")&&RES.a1530("bj1_jpg"),RES.getRes("barbg1_png")&&RES.a1530("barbg1_png"),RES.getRes("bar1_png")&&RES.a1530("bar1_png"),RES.getRes("wenzi1_png")&&RES.a1530("wenzi1_png"),RES.getRes("logo1_png")&&RES.a1530("logo1_png"))},1e4)},e.progressValue=0,e.initFlag=!1,e}(a1116);__reflect(a1184.prototype,"a1184");var actor;!function(t){var e=function(){function t(t){}return t}();t.ActorBase=e,__reflect(e.prototype,"actor.ActorBase")}(actor||(actor={}));var actor;!function(t){var e=function(){function e(){this.lastPlayers=[0,0,0],this._players=[],this._monstor=[],a1228.ActorMgr=this}return e.prototype.init=function(t){this.reset(),this.sceneMgr=t,this.mainActor=null,this.a2486(!0)},e.prototype.a2486=function(e){if(void 0===e&&(e=!1),3==a1228.a1229.a2547())return void this.a2490();if(a1232.isGuide){this.reset();var i=a1228.g_BossData[-1].monster,a=0;this.mainActor=null;for(var n in i){var r=new actor.Player(0,this);r.init(a1232.baseX+a1232.poses[a][0],a1232.baseY+a1232.poses[a][1],i[n]),a+=1,this.mainActor||(this.mainActor=r,this.a2497(this.mainActor.a1871()))}}else{for(var s=[],o=[],l=this.a2502(1),h=a1228.SceneMgr.getCamera().a2514().x,p=a1232.baseY,u={},c=0,d=0,g=a1232.curPlayers;d<g.length;d++){var f=g[d];this.lastPlayers[c]=f,u[f]=a1232.poses[c],c+=1}for(var n=l.length-1;n>=0;--n){var r=l[n];if(r){var m=r.getID();0!=a1228.a1229.a2547()||-1==a1232.curPlayers.indexOf(m)?this.a2499(r):(s.push(m),o.push(r))}}for(var n=0;n<a1232.curPlayers.length;++n){var f=a1232.curPlayers[n];if(f){var v=a1232.playerIDs[f],y=a1228.g_LvExpData[v.level],b=(a1228.g_PlayerData[v.index].name,a1228.a1230.a1921(v)),_=a1232.getSkills(v),A=s.indexOf(f);if(-1==A){var T=new t.Player(f,this);this.mainActor?T.init(h+u[f][0],p+u[f][1],a1228.g_PlayerData[v.index],b):(T.init(h,p,a1228.g_PlayerData[v.index],b),this.mainActor=T,this.a2497(this.mainActor.a1871())),T.a1860(f),T.a1858(_)}else{var T=o[A];T.a1858(_)}}}for(var C=0,w=l;C<w.length;C++){var r=w[C],x=r.a1861(),v=a1232.playerIDs[x],y=a1228.g_LvExpData[v.level],b=a1228.a1230.a1921(v);if(r.aniName!=b){var I=r.a1870(),D=this.mainActor&&r.getID()==this.mainActor.getID();r.init(I.x,I.y,null,b),D&&this.a2497(this.mainActor.a1871())}r.a1862(v,y.exp),r.a1883(),0==a1232.curPlayers.indexOf(x)&&(this.mainActor=r,this.a2497(this.mainActor.a1871())),r.a1871()&&(r.a1871().alpha=1)}if(l=this.a2502(1),this.mainActor||(this.mainActor=l[0],this.a2497(this.mainActor.a1871())),e){u={},c=0;for(var E=0,S=a1232.curPlayers;E<S.length;E++){var f=S[E];u[f]=a1232.poses[c],c+=1}for(var G=0,P=l;G<P.length;G++){var r=P[G],m=r.getID();r.setPos(a1232.baseX+u[m][0],a1232.baseY+u[m][1])}}a1228.a1225.applyFunc(10004,5321),this.getCamera().offset=0,this.a2488()}},e.prototype.a2487=function(){for(var t=[],e=[],i=this.a2502(1),a=i.length-1;a>=0;--a){var n=i[a];if(n){var r=n.getID();t.push(r),e.push(n)}}for(var a=0;a<a1232.curPlayers.length;++a){var s=a1232.curPlayers[a];if(s){var o=a1232.playerIDs[s],l=t.indexOf(s),h=a1232.getSkills(o);if(-1!=l){var p=e[l];p.a1858(h)}}}},e.prototype.a2488=function(){if(3!=a1228.a1229.a2547()){var t=a1228.ActorMgr.a2501(a1232.curPlayers[0],1),e=a1228.ActorMgr.a2501(a1232.curPlayers[1],1);if(t&&e){var i=a1228.g_ModelSize[e.aniName];t.height<e.height?(t.height=e.height,t.a1906()):i.height!=e.height&&(e.height=i.height,e.a1906())}}},e.prototype.a2489=function(){for(var t=this.a2502(1),e=0,i=t;e<i.length;e++){var a=i[e],n=a.a1861(),r=a1232.playerIDs[n],s=a1228.a1230.a1921(r);if(a.a1886()>0&&!a.isDie&&a.aniName!=s){var o=this.mainActor&&a.getID()==this.mainActor.getID(),l=a.a1870();a.a1857(l.x,l.y,s),a.a1871()&&(a.a1871().alpha=1),o&&this.a2497(this.mainActor.a1871())}}},e.prototype.a2490=function(){for(var e=[],i=this.a2502(1),a=a1228.SceneMgr.getCamera().a2514().x,n={x:a1232.baseX,y:a1232.baseY},r=i.length-1;r>=0;--r){var s=i[r];if(s){s.getID();this.a2499(s)}}for(var r=0;r<a1232.zhengbaPos.length;++r){var o=a1232.zhengbaPos[r];if(o){var l=a1232.playerIDs[o],h=a1228.g_LvExpData[l.level],p=(a1228.g_PlayerData[l.index].name,a1228.a1230.a1921(l)),u=a1232.getSkills(l,null,null,!0),c=(e.indexOf(o),new t.Player(o,this));c.init(n.x+a1232.zhengbaPoses[r][0]+a-340,n.y+a1232.zhengbaPoses[r][1],a1228.g_PlayerData[l.index],p),c.a1862(l,h.exp),c.a1860(o),c.a1858(u)}}i=this.a2502(1),this.mainActor||(this.mainActor=i[0],this.a2497(this.mainActor.a1871())),this.getCamera().offset=0},e.prototype.a2491=function(){return a1232.curPlayers[0]==this.lastPlayers[0]&&a1232.curPlayers[1]==this.lastPlayers[1]&&a1232.curPlayers[2]==this.lastPlayers[2]?!1:!0},e.prototype.a2492=function(t){this.mainActor.setName(t)},e.prototype.reset=function(){this.a2497(null),this.mainActor&&(this.mainActor.a1898(),this.mainActor.release(),this.mainActor=null);for(var t=this._players,e=0,i=t;e<i.length;e++){var a=i[e];a&&(a.a1898(),a.release())}t=this._monstor;for(var n=0,r=t;n<r.length;n++){var s=r[n];s&&(s.a1898(),s.release())}this._players=[],this._monstor=[]},e.prototype.a2493=function(){return this.sceneMgr?this.sceneMgr.a2493():null},e.prototype.getCamera=function(){return this.sceneMgr?this.sceneMgr.getCamera():null},e.prototype.a2495=function(){return this.mainActor},e.prototype.a2496=function(){return this.sceneMgr},e.prototype.a2497=function(t){var e=this.getCamera();null!=e&&(t?e.setFouse(t):e.setFouse(null))},e.prototype.a2498=function(t,e){1==e?this._players.push(t):2==e&&this._monstor.push(t)},e.prototype.a2499=function(t){var e=t.getID(),i=t.getType();this.a2500(e,i)},e.prototype.a2500=function(t,e){t.toString();if(1==e){for(var i=0;i<this._players.length;++i){var a=this._players[i],n=a.getID();if(n==t){a.release(),this._players.splice(i,1);break}}if(this.mainActor&&t==this.mainActor.getID()){var r=this.a2502(1);r.length>0?(this.mainActor=r[0],this.a2497(this.mainActor.a1871())):(this.mainActor=null,this.a2497(null))}}else if(2==e)for(var i=0;i<this._monstor.length;++i){var a=this._monstor[i],s=a.getID();if(s==t){a.release(),this._monstor.splice(i,1);break}}},e.prototype.a2501=function(t,e){var i=(t.toString(),null);if(1==e)for(var a=0;a<this._players.length;++a){var n=this._players[a].getID();if(n==t){i=this._players[a];break}}else if(2==e)for(var a=0;a<this._monstor.length;++a){var r=this._monstor[a].getID();if(r==t){i=this._monstor[a];break}}return i},e.prototype.a2502=function(t){var e;return 1==t?e=this._players:2==t&&(e=this._monstor),e},e.prototype.a2503=function(){},e}();t.ActorMgr=e,__reflect(e.prototype,"actor.ActorMgr")}(actor||(actor={}));var actor;!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,i,2,2)||this;return i.a2498(a,2),a}return __extends(e,t),e.prototype.init=function(e,i,a,n){this.a2504(),t.prototype.init.call(this,e,i,a,n)},e.prototype.a2504=function(){this.stateMachine.a2504(0,new actorState.ActorIdleState(this)),this.stateMachine.a2504(1,new actorState.ActorMoveState(this)),this.stateMachine.a2504(5,new actorState.ActorDeadState(this))},e}(t.Actor);t.Monster=e,__reflect(e.prototype,"actor.Monster")}(actor||(actor={}));var actor;!function(t){var e=function(t){function e(e,i,a){var n=t.call(this,e,i,1,1)||this;return i.a2498(n,1),void 0!=a?n.playerType=a:n.playerType=1,n}return __extends(e,t),e.prototype.init=function(e,i,a,n){this.a2504(),t.prototype.init.call(this,e,i,a,n)},e.prototype.a2504=function(){this.stateMachine.a2504(0,new actorState.ActorIdleState(this)),this.stateMachine.a2504(1,new actorState.ActorMoveState(this)),this.stateMachine.a2504(5,new actorState.ActorDeadState(this))},e.prototype.release=function(){t.prototype.release.call(this)},e}(t.Actor);t.Player=e,__reflect(e.prototype,"actor.Player")}(actor||(actor={}));var actorState;!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.onEnter=function(e){t.prototype.onEnter.call(this,e)},e.prototype.a1915=function(){t.prototype.a1915.call(this)},e.prototype.a1914=function(){t.prototype.a1914.call(this)},e}(state.ActorBaseState);t.ActorDeadState=e,__reflect(e.prototype,"actorState.ActorDeadState")}(actorState||(actorState={}));var actorState;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._movieID=0,i.lastdirection=0,i}return __extends(e,t),e.prototype.onEnter=function(e,i){t.prototype.onEnter.call(this,e),this._movieID=i,this.direction=e,this.owner.a1868("daiji",e),this.a1915()},e.prototype.a1915=function(){t.prototype.a1915.call(this)},e.prototype.a1914=function(){t.prototype.a1914.call(this)},e}(state.ActorBaseState);t.ActorIdleState=e,__reflect(e.prototype,"actorState.ActorIdleState")}(actorState||(actorState={}));var actorState;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._map=new Map,i._pauseTime=0,i._resueTime=0,i}return __extends(e,t),e.prototype.onEnter=function(e,i){t.prototype.onEnter.call(this,e,i),this._movieID=i,this.pathes=e,this.owner.a1868("zou"),this.a1915(i)},e.prototype.a1915=function(e){if(t.prototype.a1915.call(this),this._map.clear(),!this.pathes)return void this.owner.a1904();var i=this.pathes.shift();if(!i)return void this.owner.a1904();var a=this.pathes[0];if(!a)return void this.owner.a1904();this.owner.a1903(!0);var n=(this.owner.a1893().a2496(),this.a2508(i.x,i.y,a.x,a.y)),r=this.owner.tempSpeed||actor.Actor.SPEED,s=n/r*1e3;this.a2507(),this.moveTime=0,this.a2506(i,a,s,this.a2505,[0,e])},e.prototype.a2505=function(t,e){this.a2507(),this.pathes.length<=1?(this.owner.a1891(0,t),this.owner.a1904()):this.a1915(e)},e.prototype.a2506=function(t,e,i,a,n){this.lastTime=egret.getTimer(),this._callback=a,this._callbackArgs=n,this._during=i,this._startPoint=t,this._endPoint=e},e.prototype.a2507=function(){},e.prototype.a2508=function(t,e,i,a){return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e))},e.prototype.update=function(){if(!this._endPoint)return this._callback&&this._callback.apply(this,this._callbackArgs),!0;var t=egret.getTimer(),e=t-this.lastTime-this.a2509();this.lastTime=t;var i=this._endPoint,a=this.owner.a1871();if(i.x-a.x==0&&i.y-a.y==0)return this._callback&&this._callback.apply(this,this._callbackArgs),!0;var n=0,r=0;i.x-a.x!=0&&(n=e/(this._during-this.moveTime)*(i.x-a.x)),i.y-a.y!=0&&(r=e/(this._during-this.moveTime)*(i.y-a.y)),this.moveTime+=e;var s=a.x,o=a.y;return s+=n,o+=r,this._startPoint.x<i.x&&s>i.x&&(s=i.x),this._startPoint.y<i.y&&o>i.y&&(o=i.y),this._startPoint.x>i.x&&s<i.x&&(s=i.x),this._startPoint.y>i.y&&o<i.y&&(o=i.y),this.owner.setPos(s,o),this.moveTime>=this._during&&this._callback.apply(this,this._callbackArgs),!0},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.a2509=function(){var t=this._resueTime-this._pauseTime;return this._pauseTime=0,this._resueTime=0,t},e.prototype.a1914=function(){t.prototype.a1914.call(this),this.a2507()},e.prototype.a2510=function(t,e,i,a,n){var r={len:0,point:null},s=this.a2508(t,e,i,a);if(r.len=s,s>=n){var o=i+n/s*(t-i),l=a+n/s*(e-a);r.point=new egret.Point(o,l)}return r},e}(state.ActorBaseState);t.ActorMoveState=e,__reflect(e.prototype,"actorState.ActorMoveState")}(actorState||(actorState={}));var scene;!function(t){var e=function(){function t(t){this.ease=.0025,this.offset=0,this.isMove=!0,this.sceneMgr=t,this.timeOnEnterFrame=0}return t.prototype.init=function(){this.a2512(new egret.Point(0,0))},t.prototype.setFouse=function(t){if(this.fouseTagert=t,this.lastX&&this.fouseTagert&&this.lastX!=this.fouseTagert.x){var e=this.sceneMgr.a2517(),i=this.camView,a=this.lastX-this.fouseTagert.x;this.offset=a,this.camView=i,e.scrollRect=i,this.update(null)}},t.prototype.a2512=function(t){var e=this.sceneMgr.a2517(),i=a1228.a1122.a1872(),a=a1228.a1122.a1873();e.scrollRect=new egret.Rectangle(t.x,t.y,i,a),this.camView=e.scrollRect},t.prototype.a2513=function(t){this.isMove=t},t.prototype.update=function(t){if(0===this.timeOnEnterFrame)return void(this.timeOnEnterFrame=egret.getTimer());var e=egret.getTimer();if(this.timeOnEnterFrame=e,this.fouseTagert&&this.camView&&this.isMove){var i=Math.floor(this.fouseTagert.x-this.camView.width/2)+120;Math.floor(this.fouseTagert.y-this.camView.height/2);this.lastX=this.fouseTagert.x;var a=this.camView;a.x=i+this.offset,this.offset<-2?this.offset+=2:this.offset>2?this.offset-=2:this.offset=0,this.camView=a;var n=this.sceneMgr.a2517();n.scrollRect=a}},t.prototype.a2514=function(){return this.camView},t.prototype.onResize=function(){},t}();t.Camera2D=e,__reflect(e.prototype,"scene.Camera2D")}(scene||(scene={}));var scene;!function(t){var e=function(){function t(t,e,i){this.imgs=[],this.imgs2=[],this.imgs3=[],this.imgs4=[],this.imgs5=[],this.maxX1=0,this.maxX2=0,this.maxX3=0,this.maxX4=0,this.cloundX=0,this.lastMap=0,this.wd=720,this.yunCount=[1,3,3,3,3],this.yunPosY=[-220,0,-150,0,-150],this.shanCount=[3,3,3,3,3],this.floorPosY=[0,0,0,-100,0],this.shanPosY=[-460,-110,-70,-100,-240],this.grassPosY=[335,343,339,430,340],this.sceneMgr=t,this.mapLayer=e,this.actorLayer=i}return t.prototype.a2515=function(){if(a1232.mapID=a1232.getMapID(),this.lastMap!=a1232.mapID){a1228.ActorMgr.reset(),a1228.SceneMgr.reset(),this.secendb&&this.secendb.parent&&(this.secendb.parent.removeChild(this.secendb),this.secendb=null);for(var t=0;t<this.imgs3.length;t++)this.imgs3[t]&&this.imgs3[t].parent&&this.imgs3[t].parent.removeChild(this.imgs3[t]);this.mapLayer.removeChildren(),this.imgs=[],this.imgs2=[],this.imgs3=[],this.imgs4=[],this.maxX1=0,this.maxX2=0,this.maxX3=0,this.maxX4=0,this.cloundX=0,this.init(),a1228.ActorMgr.a2486()}},t.prototype.init=function(){a1232.mapID=a1232.getMapID(),this.lastMap=a1232.mapID;for(var t=1;5>=t;++t)a1232.mapID!=t&&RES.getRes("map"+t+"_json")&&RES.a1530("map"+t+"_json");var e=a1232.mapID,i=a1228.a1122.a1872(),a=a1228.a1122.a1873(),n="",r=new eui.Image;r.source="secendb"+a1232.mapID+"_png",r.width=i,r.height=a,a1220.Game_Main.addChildAt(r,0),this.secendb=r;for(var t=0;3>t;++t)if(t<this.shanCount[e-1]){var s=new eui.Image;1==e?s.source="shan1_1"+n:s.source="shan"+e+"_"+(t+1)+n,s.x=(t-1)*this.wd,this.mapLayer.addChild(s),this.imgs2.push(s)}else this.imgs2.push({x:(t-1)*this.wd,y:0});for(var t=0;3>t;++t)if(t<this.yunCount[e-1]){var o=new eui.Image;o.source="yun"+e+"_"+(t+1)+n,o.x=(t-1)*this.wd,a1220.Game_Main.addChildAt(o,1),this.imgs3.push(o)}else this.imgs3.push({x:(t-1)*this.wd,y:0});for(var t=0;3>t;++t){var l=new eui.Image;l.source="floor"+e+"_"+(t+1)+n,this.mapLayer.addChild(l),l.x=(t-1)*this.wd,l.y=a-1170+this.floorPosY[e-1],this.imgs.push(l)}for(var t=0;3>t;++t)this.imgs2[t]&&(this.imgs2[t].y=this.imgs[t].y+this.shanPosY[e-1]);for(var t=0;3>t&&(3==e||5==e);++t)if(0==t){var h=new eui.Image;h.source="yue"+e+"_1"+n,h.x=i-h.width-300,h.y=this.imgs[t].y-120,a1220.Game_Main.addChildAt(h,1),this.imgs5.push(h)}else this.imgs5.push({x:(t-1)*this.wd,y:0});for(var t=0;3>t;++t){var p=new eui.Image;p.source="grass"+e+"_1"+n,p.x=(t-1)*this.wd,this.mapLayer.addChild(p),this.imgs4.push(p)}for(var t=0;3>t;++t)this.imgs4[t]&&(this.imgs4[t].y=this.imgs[t].y+this.grassPosY[e-1]);for(var t=0;3>t;++t)this.imgs3[t]&&(2==e?this.imgs3[t].y=0:this.imgs3[t].y=this.imgs[t].y+this.yunPosY[e-1]);this.maxX1=1*this.wd,this.maxX2=1*this.wd,this.maxX3=1*this.wd,this.maxX4=1*this.wd},t.prototype.reset=function(){for(var t=(a1228.a1122.a1872(),a1228.a1122.a1873(),0);t<this.imgs3.length;++t){var e=this.imgs3[t];e.x=(t-1)*this.wd}for(var t=0;t<this.imgs2.length;++t){var i=this.imgs2[t];i.x=(t-1)*this.wd}for(var t=0;t<this.imgs.length;++t){var a=this.imgs[t];a.x=(t-1)*this.wd}for(var t=0;t<this.imgs4.length;++t){var a=this.imgs4[t];a.x=(t-1)*this.wd}this.maxX1=1*this.wd,this.maxX2=1*this.wd,this.maxX3=1*this.wd,this.maxX4=1*this.wd},t.prototype.update=function(t){var e=(a1228.a1122.a1872(),this.sceneMgr.getCamera()),i=e.a2514();if(i){this.cloundX-=.1;for(var a=0;3>a;++a)this.imgs2[a]&&(this.imgs2[a].x=this.maxX2+Math.floor(.75*i.x)+(a-1)*this.wd);for(var a=0;3>a;++a)this.imgs3[a]&&(this.imgs3[a].x=this.maxX3+(a-1)*this.wd+this.cloundX);if(this.imgs[0].x-i.x<1.2*-this.wd){var n=this.imgs.shift();this.imgs.push(n),n.x=this.maxX1+this.wd,this.maxX1+=this.wd}else if(this.imgs[0].x-i.x>.2*-this.wd){var n=this.imgs.pop();this.imgs.unshift(n),n.x=this.imgs[1].x-this.wd,this.maxX1-=this.wd}if(this.imgs2[0].x-i.x<1.2*-this.wd){var n=this.imgs2.shift();this.imgs2.push(n),this.maxX2+=this.wd,n.x=this.maxX2+Math.floor(.75*i.x)+2*this.wd}else if(this.imgs2[0].x-i.x>.2*-this.wd){var n=this.imgs2.pop();this.imgs2.unshift(n),this.maxX2-=this.wd,n.x=this.maxX2+Math.floor(.75*i.x)+2*this.wd}if(this.imgs3[0].x<1.2*-this.wd){var n=this.imgs3.shift();this.imgs3.push(n),this.maxX3+=this.wd,n.x=this.maxX3+2*this.wd+this.cloundX}else if(this.imgs3[0].x>.2*-this.wd){var n=this.imgs3.pop();this.imgs3.unshift(n),this.maxX3-=this.wd,n.x=this.maxX3+2*this.wd+this.cloundX}if(this.imgs4[0].x-i.x<1.2*-this.wd){var n=this.imgs4.shift();this.imgs4.push(n),n.x=this.maxX4+this.wd,this.maxX4+=this.wd}else if(this.imgs4[0].x-i.x>.2*-this.wd){var n=this.imgs4.pop();this.imgs4.unshift(n),n.x=this.imgs4[1].x-this.wd,this.maxX4-=this.wd}}},t.prototype.a2516=function(){return this.mapLayer},t.prototype.a2496=function(){return this.sceneMgr},t}();t.SceneMap=e,__reflect(e.prototype,"scene.SceneMap")}(scene||(scene={}));var scene;!function(t){var e=function(){function e(){this.mapLayer=null,this.actorLayer=null,this.sceneMap=null,a1228.SceneMgr=this}return e.prototype.init=function(){this.scene=new egret.Sprite,a1220.Game_Main.addChild(this.scene),this.mapLayer?this.mapLayer.removeChildren():(this.mapLayer=new egret.DisplayObjectContainer,this.mapLayer.touchEnabled=!0,this.scene.addChild(this.mapLayer)),this.actorLayer||(this.actorLayer=new egret.Sprite,this.actorLayer.touchEnabled=!1,this.actorLayer.touchChildren=!1,this.scene.addChild(this.actorLayer)),this.sceneMap=new t.SceneMap(this,this.mapLayer,this.actorLayer),this.sceneMap.init(),this.scene.x=0,this.scene.y=0,this.camera=new t.Camera2D(this),this.camera.init()},e.prototype.a2517=function(){return this.scene},e.prototype.a2516=function(){return this.mapLayer},e.prototype.a2493=function(){return this.actorLayer},e.prototype.getCamera=function(){return this.camera},e.prototype.reset=function(){this.scene.x=0,this.scene.y=0,this.sceneMap.reset(),this.camera.a2514().x=0,this.camera.lastX=0},e.prototype.update=function(t){this.camera&&this.camera.update(t),this.sceneMap&&this.sceneMap.update(t)},e.prototype.onResize=function(){if(this.camera){a1228.a1122.a1872(),a1228.a1122.a1873();this.scene.x=0,this.scene.y=0,this.camera.onResize()}},e.prototype.a2204=function(t){},e}();t.SceneMgr=e,__reflect(e.prototype,"scene.SceneMgr")}(scene||(scene={}));var Main=function(t){function e(){var e=t.call(this)||this;return e.dis="dinosaur_zz",e.dis2="dinosaur2_zz",e.con="config_zz",e.initWx=!1,e.initRes=!1,e.hasNet=!0,e.loginCount=0,e.dinosaursPngs=[],e.isLogining=!1,e.serverMsg="",e.playerID="",e.trackId="",e.gameAreaId=0,e.timeId=-1,e.initLangue=!1,e.langueTimer=0,e.pauseid=0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){var e=this;platform.triggerGC(),platform.isLocal()?this.initWx=!0:this.initWx=!1,this.initRes=!1;var i=platform.getUpdateManager();if(i&&(i.onCheckForUpdate(function(t){}),i.onUpdateReady(function(){platform.showModal({title:langue.gengtip,content:langue.newversion,success:function(t){t.confirm&&i.applyUpdate()}})})),!platform.isLocal()){var a=platform.getLaunchOptionsSync(),n=platform.getSystemInfoSync(),r=platform.getAccountInfoSync();(!r||!r.miniProgram||"develop"!=r.miniProgram.envVersion&&"trial"!=r.miniProgram.envVersion)&&(a1232.isDebug=!1),a1232.AppPlatform=n&&n.AppPlatform,a1232.isTrial=r&&r.miniProgram&&"trial"==r.miniProgram.envVersion,console.log("--------ver",r&&r.miniProgram&&r.miniProgram.envVersion,a1232.isDebug),this.phoneType=n&&n.model||"",a&&(this.inviteUserId=a.query&&a.query.userId||0,this.channel=a.query&&a.query.channel||0,this.sourceAppid=a.referrerInfo&&a.referrerInfo.appId||""),platform.onShow(function(t){var i=platform.getUpdateManager();if(a1232.checkUpdateT=a1232.checkUpdateT||a1232.getServerTime(),i&&a1232.getServerTime()-a1232.checkUpdateT>300&&(a1232.checkUpdateT=a1232.getServerTime(),i.onCheckForUpdate(function(t){})),!e.inviteUserId&&t.query&&t.query.userId&&(e.inviteUserId=t.query.userId),!e.channel&&t.query&&t.query.channel&&(e.channel=t.query.channel),!e.sourceAppid&&t.referrerInfo&&t.referrerInfo.appId&&(e.sourceAppid=t.referrerInfo.appId),("wxgame"==platform.name&&"1089"==t.scene||"qqgame"==platform.name&&"3003"==t.scene)&&!localStorage.getItem("collect")){try{localStorage.setItem("collect","1")}catch(a){}a1227.getPoint("5","收藏",5)}})}platform.isLocal()&&(a1232.url=a1232.url_win,a1232.URL_BASE=a1232.URL_BASE_WIN),a1228.Main=this,egret.ImageLoader.crossOrigin="anonymous",this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),egret.registerImplementation("eui.IAssetAdapter",new a1223),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.setMaxLoadingThread(8),RES.a1532(5),this.a2485(),this.lifeCycle(),this.a2479(),this.a2471(),a1228.a1122.a1957().frameRate=30,platform.setPreferredFramesPerSecond(30),platform.sourceVersion&&(a1232.version=platform.sourceVersion),platform.gversion&&(a1232.gversion=platform.gversion),platform.reportMonitor&&platform.reportMonitor("game_scene",0),platform.gameID&&(a1232.gameID=platform.gameID)},e.prototype.sendKeyAward=function(){platform&&platform.sendAward(platform.key),this.timeId=-1
},e.prototype.a2471=function(){var t=this,e=3e4;this.timerID&&clearTimeout(this.timerID),this.timerID=setTimeout(function(){t.timerID=null;var e=a1228.a1226.a2525(100);e&&t.a2477()},e)},e.prototype.a2472=function(){var t=this;if(!a1228.GlobalData.closeServerTip){var e=(a1228.a1226.a2525(100),a1228.a1226.a2525(171));if((!e||3!=e.getType()||e.islogin())&&(console.log("----lg---11",platform.isLocal(),this.isLogining,a1232.trackId),!this.isLogining))if(this.isLogining=!0,platform.isLocal()){var i=localStorage.getItem("code");i||(i=a1228.a1230.a2562(32),localStorage.setItem("code",i));this.login(i)}else try{if(a1232.trackId)return;platform.login(function(e,i){e?t.login(e,i):setTimeout(function(){t.isLogining=!1,t.a2472()},3e3)})}catch(a){setTimeout(function(){t.isLogining=!1,t.a2472()},3e3)}}},e.prototype.login=function(t,e,i){var a=this;if(void 0===e&&(e=0),void 0===i&&(i=""),a1232.isDebug,!a1232.trackId){var n={Android:0,iOS:1,"Windows PC":2},r={code:t,type:e,gameId:a1232.gameID,systemType:null!=n[egret.Capabilities.os]&&n[egret.Capabilities.os]||3,phoneType:this.phoneType||"iphone 5",version:a1232.wxVersion};this.inviteUserId&&(r.invitePgid=this.inviteUserId),this.sourceAppid&&(r.appid=this.sourceAppid),this.channel&&(r.channel=this.channel),(platform.isLocal()||platform.openLogin())&&(a1232.URL_CODE_LOGIN=a1232.URL_BASE+"/base/cas/openLogin",r.openid=t),"oppogame"==platform.name&&(a1232.URL_CODE_LOGIN=a1232.URL_BASE+"/base/cas/oppo"),"vivogame"==platform.name&&(a1232.URL_CODE_LOGIN=a1232.URL_BASE+"/base/cas/vivo");var s=a1232.URL_CODE_LOGIN;console.log("--------login begin"),this.serverMsg="",i&&(a1232.iosName=i),console.log("---------login url",s),a1228.a1247.a2623(s,egret.URLRequestMethod.POST,r,function(e){if((a1232.isTrial||a1232.isDebug)&&console.log("--------login end",e),e.data&&e.data.player&&0==e.data.player.state){a.loginCount=0,a1228.a=t,a1232.initdata=!1,a1232.userId=e.data.player.id,a1232.trackId=e.data.player.trackId,a1232.session_key=e.data.session_key,a1232.unionid=e.data.player.openid,a1232.openid=e.data.player.openid,a1232.areas=e.data.games.areas,a1232.myareas=e.data.player.gameArea,a1232.areas&&0!=a1232.areas.length||console.log("--------a1232.areas 没有区服数据"),a1232.gameAreaId=a1232.areas[a1232.areas.length-1].id,a1232.isNewsPlayer=0==e.data.games.newsPlayer,!a1232.userInfo&&e.data.player.nickname&&(a1232.userInfo={nickName:e.data.player.nickname,avatarUrl:e.data.player.avatarUrl}),(platform.isLocal()||platform.openLogin())&&(a1232.openid=e.data.player.openid);var i=e.data.player.gameArea,n=0;if(i&&i.length>0)for(var r=0;r<i.length;++r)i[r].lastTime>n&&(n=i[r].lastTime,a1232.gameAreaId=i[r].areaId);a1232.gameAreaId2&&(a1232.gameAreaId=a1232.gameAreaId2),a1232.loginTime=Math.floor(e.data.currentTime/1e3),a1232.TimeDifference=a1232.loginTime-Math.floor(egret.getTimer()/1e3),a1232.toBackTime=a1232.comeBackTime=a1232.getServerTime(),platform.isLocal()||a.a2474(),a.initWx=!0,a.isLogining=!1,a.a2075(),console.log("--------to init login")}else{if(e&&6==e.status)return a.serverMsg=e.msg,e.data&&e.data.playerId?(a.playerID=e.data.playerId+"",a.trackId=e.data.trackId,a.gameAreaId=e.data.gameAreaId):"object"!=typeof e.data&&(a.playerID=e.data),void a.loadDefaultRes();setTimeout(function(){a.isLogining=!1,a.a2472()},5e3+a.loginCount*a.loginCount*5e3),a.loginCount+=1}},function(t){console.log("--------login end err"),setTimeout(function(){a.isLogining=!1,a.a2472()},5e3+a.loginCount*a.loginCount*5e3),a.loginCount+=1},!1)}},e.prototype.a2075=function(){var t=this;if(a1232.isDebug){var e=localStorage.getItem("code");"xxx"==e&&(a1232.URL_BASE="http://192.168.10.189:30993/game-api")}var i={trackId:a1232.trackId,gameId:a1232.gameID,gameAreaId:a1232.gameAreaId,userId:a1232.userId};a1232.isTrial||a1232.isDebug?console.log("--------init begin",i):console.log("--------init begin",a1232.gameID,a1232.gameAreaId),a1228.a1247.a2623(a1232.URL_INIT,egret.URLRequestMethod.POST,i,function(e){if(a1232.isTrial||a1232.isDebug?console.log("--------init  success",e):console.log("--------init  success",e.status,!!e.data),!e||0!=e.status||!e.data)return setTimeout(function(){t.isLogining=!1,t.a2075()},5e3+t.loginCount*t.loginCount*5e3),void(t.loginCount+=1);t.loginCount=0;var i=e.data.playerConf;if(i&&null!=i.historyScore?a1232.curLevel=i.historyScore||1:a1232.curLevel=1,a1232.guideStep=0,a1232.maxLevelFood=1,a1232.getMapID(),i&&i.extInfo)try{var a=JSON.parse(i.extInfo);a&&(a1232.guideStep=Number(a.guideStep||"0"),a1232.maxLevelFood=Number(a.maxLevelFood||"1"))}catch(n){}a1228.a1225.applyFunc(10004,5094,e),t.loadDefaultRes()},function(){setTimeout(function(){t.isLogining=!1,t.a2075()},5e3+t.loginCount*t.loginCount*5e3),t.loginCount+=1})},e.prototype.a2474=function(){var t=a1228.a1122.a1872(),e=a1228.a1122.a1873();platform.getSetting(t,e,0,0,function(t){a1228.a1225.applyFunc(10004,5051,t)})},e.prototype.lifeCycle=function(){var t=this;egret.lifecycle.onPause=function(){a1232.trackId&&(t.pauseid&&(clearTimeout(t.pauseid),t.pauseid=0),t.pauseid=setTimeout(function(){a1228.a1229&&!platform.isLocal()&&a1228.a1229.pause(),a1228.a1238.a2587(),a1228.a1238.a2582()},2e3),a1228.a1238.a2587(),a1228.a1238.a2582(),a1232.toBackTime=a1232.getServerTime(),platform.triggerGC(),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[1002]))},egret.lifecycle.onResume=function(e){t.pauseid&&(clearTimeout(t.pauseid),t.pauseid=0),a1228.a1229&&a1228.a1229.resume(),a1232.toBackTime=a1232.toBackTime||a1232.getServerTime(),a1232.comeBackTime=a1232.getServerTime();var i=a1228.a1226.a2525(102);if(i&&!platform.isLocal()&&Math.abs(a1232.comeBackTime-a1232.toBackTime)>180&&a1232.trackId&&"999"!=a1232.trackId)return a1228.a1229&&a1228.a1229.clear(),egret.sys.$START_TIME=Date.now(),a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1232.toBackTime=a1232.comeBackTime=a1232.getServerTime(),void a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1232.toBackTime=a1232.comeBackTime=a1232.getServerTime(),a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!0}});a1232.guajiTime=a1232.guajiTime-(a1232.comeBackTime-a1232.toBackTime),a1232.lastGuajiTime=a1232.getServerTime();a1228.a1226.a2525(132);if(i){if(a1232.isShare)a1232.comeBackTime-a1232.toBackTime>=4?(a1228.a1225.applyFunc(10004,5044,10),a1232.shareCallback&&(a1232.shareCallback[0](),a1227.getPoint(a1232.shareCallback[1],a1232.shareCallback[2]+"分享",4),a1232.advLoopNum+=1)):setTimeout(function(){a1228.a1245.a2612(langue.sharequn)},200);else if(a1232.adTaskID){if(a1232.adTaskID&&a1232.comeBackTime-a1232.toBackTime>=30){a1232.adTaskData[a1232.adTaskID]=1;var a=a1228.a1226.a2525(172);a&&a.a2107()}a1232.adTaskID=0}var n=a1228.a1122.a1957();"android"!=platform.name||a1232.isNewsPlayer?(a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)):-1!=e?platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},n):platform.getInterstitialAd(function(){a1228.a1238.a2588(a1228.a1238.a2589()),a1228.a1238.a2583(!0)},n)}a1232.isShare=!1,a1232.adTaskID=0,a1232.shareCallback=null,a1232.toBackTime=a1232.comeBackTime}},e.prototype.a2476=function(t,e){if(t[0]>e[0])return!0;if(t[0]==e[0]){if(t[1]>e[1])return!0;if(t[1]==e[1])return t[2]>e[2]}return!1},e.prototype.a2477=function(){var t=this,e=a1228.a1226.a2525(100);if(e||a1228.a1234.a2573(1),this.hasRmPng=!1,this.hasNet=!0,this.hasNet){var i=a1232.getResUrl();!platform.isLocal()&&a1232.gversion&&a1232.version!=a1232.gversion&&(i=i+a1232.gversion+"/");var a=i+"global.json";RES.a1529(a,function(e){if(!e)return void t.a2477();if(a1232.source=e.source,a1232.langue&&"ch"!=a1232.langue?RES.a1529(i+a1232.langue+".json",function(e){if(!e)return void t.a2477();for(var i in e)langue[i]&&(langue[i]=e[i]);t.initLangue=!0}):t.initLangue=!0,!platform.isLocal()&&!a1232.isDebug){e.baseUrl&&(a1232.URL_BASE="https://"+e.baseUrl),e.slotUrl&&(a1232.URL_AD_BASE="https://"+e.slotUrl),platform.url&&(a1232.URL_BASE=platform.url);var a="game";e[a+"ID"]&&(a1232.gameID=e[a+"ID"])}a1228.GlobalData=e,a1232.isShowAd=e.showAd&&!0||!1,a1232.isShowLimitGift=e.limitgift&&!0||!1,a1232.isOpenNewPlayerActA=e.newPlayerActivityA&&!0||!1,a1232.isOpenNewPlayerActS=e.newPlayerActivityS&&!0||!1,a1232.zhengbasai=e.zhengbasai&&!0||!1,a1232.newPlayerBoss=e.newPlayerBoss&&!0||!1,a1232.clearRoles=e.clearRoles&&!0||!1;var n=a1228.GlobalData.version;n=n&&JSON.parse(n)||[1,0,0];var r=localStorage.getItem("version"),s=JSON.parse(r||"[1,0,0]");if(r&&!t.a2476(n,s)){try{localStorage.setItem("version",JSON.stringify(n))}catch(o){}t.a2478()}else{try{localStorage.setItem("version",JSON.stringify(n)),platform.clearAllAssets()}catch(o){}var l=egret.setInterval(function(){try{platform.checkIsEmpty()&&(egret.clearInterval(l),t.a2478())}catch(e){t.a2478()}},t,100)}},this)}else this.a2478()},e.prototype.a2478=function(){var t=this;return this.langueTimer||(clearTimeout(this.langueTimer),this.langueTimer=0),this.initLangue?void this.a2472():void(this.langueTimer=setTimeout(function(){t.langueTimer=0,t.a2478()},50))},e.prototype.loadDefaultRes=function(){var t=(a1232.getResUrl(),"default.res.json");if(!platform.isLocal()&&a1232.source)for(var e=0;e<a1232.source.length;++e){var i=a1232.source[e],a=i[0];t=a+"default.res.json"}actor.Actor.playerShadowPanels=[],actor.Actor.monsterShadowPanels=[],a1228.a1250.a2627("default.res.json","resource/"),a1228.a1250.loadConfig(this.a2481,this)},e.prototype.a2479=function(){this.timerID2&&(clearTimeout(this.timerID2),this.timerID2=null);var t=egret.localStorage.getItem("langue");t?a1232.langue=t:a1232.langue=a1228.a1230.getLocalLangue();var e=a1232.getResUrl();a1243.resourcePrefix=e+"eui_skins/",this.a2471(),a1228.a1250.clear(),RES.setMaxLoadingThread(8),RES.queue&&(RES.queue.promiseHash={}),RES.queue&&(RES.queue.loadingCount=0),a1228.a1250.a2627("loading.res.json","resource/"),a1228.a1250.loadConfig(this.a2480,this)},e.prototype.a2480=function(){var t=this,e=a1232.getResUrl(),i="loading.res.json";RES.a1529("resource/"+i,function(a){for(var n=0;n<a.resources.length;++n){var r=a.resources[n],s=RES.getResourceInfo(r.name);s.url=r.url,s.root="resource/"}"resource/"!=e?RES.a1529(e+i,function(i){for(var a=0;a<i.resources.length;++a){var n=i.resources[a],r=RES.getResourceInfo(n.name);r.url=n.url,r.root=e}t.loadingResView2()}):t.loadingResView2()})},e.prototype.loadingResView2=function(){var t=RES.a1517("loading");return t&&0!=t.length?(a1228.a1250.a2629(this.a2480,this),a1228.loginInitOK=!1,void a1228.a1250.loadGroup("loading",this.a2477,this.onResourceLoadProgress,this)):void this.a2477()},e.prototype.onResourceLoadProgress=function(t,e,i){if(t===this.dis){var a=RES.getRes(t);if(!a)return void this.a2477();var n=a.byteLength,r=new Uint8Array(a.slice(867,n-14));a1232.dinosaurZip=new JSZip(r.reverse()),RES.a1530(t)}else if(t===this.dis2){var a=RES.getRes(t);if(!a)return void this.a2477();var n=a.byteLength,r=new Uint8Array(a.slice(867,n-14));a1232.dinosaurZip2=new JSZip(r.reverse()),RES.a1530(t)}else if(t===this.con){var a=RES.getRes(t);if(!a)return void this.a2477();var n=a.byteLength,r=new Uint8Array(a.slice(467,n-22)),s=r.reverse(),o=void 0,l=new JSZip(s);a1228.g_playerName=JSON.parse(l.file("playerName.json").asText()),o=JSON.parse(l.file("monster.json").asText()),a1228.g_Monster={};for(var h in o){var p=o[h],u={};for(var c in p)for(var d=1;3>=d;++d)if(c.indexOf(d+"")>0&&p["atk"+d]>0){u[d]||(u[d]={});var g=c.replace(""+d,"");u[d][g]=p[c]}p.monster=u,a1228.g_Monster[p.index]=p}o=JSON.parse(l.file("boss.json").asText()),a1228.g_BossData={};for(var h in o){var p=o[h],u={};for(var c in p)for(var d=1;3>=d;++d)if(c.indexOf(d+"")>0&&p["atk"+d]>0){u[d]||(u[d]={});var g=c.replace(""+d,"");u[d][g]=p[c]}p.monster=u,a1228.g_BossData[p.index]=p}a1228.g_PlayerData=JSON.parse(l.file("player.json").asText()),a1228.g_SignData=JSON.parse(l.file("sign.json").asText()),a1228.g_PropsData=JSON.parse(l.file("props.json").asText()),o=JSON.parse(l.file("fuben.json").asText());for(var h in o){var p=o[h],u={};for(var c in p)for(var d=1;3>=d;++d)if(c.indexOf(d+"")>0){u[d]||(u[d]={});var g=c.replace(""+d,"");u[d][g]=p[c]}p.monster=u}a1228.g_FubenData=o,o=JSON.parse(l.file("newPlayerBoss.json").asText());for(var h in o){var p=o[h],u={};for(var c in p)for(var d=1;3>=d;++d)if(c.indexOf(d+"")>0){u[d]||(u[d]={});var g=c.replace(""+d,"");u[d][g]=p[c]}p.monster=u}a1228.g_newPlayerBossData=o,a1228.g_LvExpData=JSON.parse(l.file("levelexp.json").asText()),a1228.g_TurnTable=JSON.parse(l.file("turntable.json").asText()),a1228.g_extraRewardData=JSON.parse(l.file("extraReward.json").asText()),a1228.g_limitRewardData=JSON.parse(l.file("limitReward.json").asText()),a1228.g_ModelSize=JSON.parse(l.file("modelSize.json").asText()),a1228.g_TaskData=JSON.parse(l.file("dailytask.json").asText()),a1228.g_GiftData=JSON.parse(l.file("gift.json").asText()),a1228.g_choukaData=JSON.parse(l.file("choukaRate.json").asText()),a1228.g_KunShouData=JSON.parse(l.file("kunshou.json").asText()),a1228.g_xiyouData=JSON.parse(l.file("xiyou.json").asText()),a1228.g_RankRewardData=JSON.parse(l.file("rankReward.json").asText()),a1228.g_Skil=JSON.parse(l.file("skill.json").asText()),a1228.g_recoverData=JSON.parse(l.file("recoverDinosaur.json").asText()),a1228.g_GrowData=JSON.parse(l.file("cultivation.json").asText()),a1228.g_zhengbaData=JSON.parse(l.file("zhengba.json").asText()),a1228.g_zhengbaData2=JSON.parse(l.file("zhengba2.json").asText()),a1228.g_zbRobotData=JSON.parse(l.file("zbRobot.json").asText()),a1228.g_functionData=JSON.parse(l.file("functionSrc.json").asText()),a1228.g_systemData=JSON.parse(l.file("systemRelay.json").asText()),a1228.g_choukajifenData=JSON.parse(l.file("choukajifen.json").asText()),a1228.g_jibanData=JSON.parse(l.file("jiban.json").asText()),a1228.g_skyGiftData=JSON.parse(l.file("skyGift.json").asText()),a1228.g_characterData=JSON.parse(l.file("character.json").asText()),a1228.g_yuandanData=JSON.parse(l.file("yuandan.json").asText()),a1228.g_onlineGiftData=JSON.parse(l.file("onlineGift.json").asText()),a1228.g_advGiftData=JSON.parse(l.file("advGift.json").asText()),a1228.g_signGiftData=JSON.parse(l.file("signGift.json").asText()),a1228.g_ksHongBaoData=JSON.parse(l.file("onlineCoin.json").asText()),a1228.g_yuandanDataks=JSON.parse(l.file("yuandan1.json").asText());var f=JSON.parse(l.file("sensitive.json").asText());a1228.g_BanWordData={};for(var h in f)a1228.g_BanWordData[f[h].word]=1;RES.a1530(t)}else"bawanglong_tex_png"!=t&&-1!=t.indexOf("tex_png")&&-1!=t.indexOf("long")?this.dinosaursPngs.push(t):a1232.releaseResByName(t);var m=a1228.a1226.a2525(100);m&&m.a2390(e,i)},e.prototype.destroyDinosaursPngs=function(){for(var t=[],e=0;e<a1232.curPlayers.length;++e){var i=a1232.curPlayers[e];if(i){var a=a1232.playerIDs[i];if(a){var n=a1228.a1230.a1921(a);t.push(n+"_tex_png")}}}var r=a1228.g_BossData[a1232.curLevel].monster;for(var e in r){var s=r[e].shape;t.push(s+"_tex_png")}r=a1228.g_Monster[a1232.curLevel].monster;for(var e in r){var o=r[e].shape;t.push(o+"_tex_png")}if(a1228.ActorMgr){for(var l=a1228.ActorMgr.a2502(1),h=a1228.ActorMgr.a2502(2),p=0,u=l;p<u.length;p++){var c=u[p];t.push(c.aniName+"_tex_png")}for(var d=0,g=h;d<g.length;d++){var c=g[d];t.push(c.aniName+"_tex_png")}}for(var e=0;e<a1228.a1245.actorPool.length;++e){var f=a1228.a1245.actorPool[e];t.push(f.actorName+"_tex_png")}for(var e=0;e<this.dinosaursPngs.length;++e){var m=this.dinosaursPngs[e];if(RES.getRes(m)&&-1==t.indexOf(m)){RES.a1530(m);var v=dragonBones.EgretFactory.factory;v.removeTextureAtlasData(m.replace("_tex_png",""))}}},e.prototype.a2481=function(){var t=this;a1232.releaseLangueRes();var e="default.res.json",i=a1232.getResUrl();RES.a1529("resource/"+e,function(a){for(var n=0;n<a.resources.length;++n){var r=a.resources[n],s=RES.getResourceInfo(r.name);s.url=r.url,s.root="resource/"}"resource/"!=i?RES.a1529(i+e,function(e){for(var a=0;a<e.resources.length;++a){var n=e.resources[a],r=RES.getResourceInfo(n.name);r.url=n.url,r.root=i}t.onThemeLoadComplete3()}):t.onThemeLoadComplete3()})},e.prototype.onThemeLoadComplete3=function(){a1228.a1250.a2629(this.a2481,this),a1232.lastNewPlayer=a1232.isNewPlayer();var t=[];t=a1232.isNewPlayer()?["open","preload2","mini","food"]:["preload","mini","food","dinoimg"],a1228.a1250.loadGroups("default",t,this.a2482,this.onResourceLoadProgress,this),RES.a1528("map"+a1232.mapID+"_json")},e.prototype.a2482=function(){var t,e=a1232.getResUrl(),i="?v="+window.version;t=new eui.Theme(e+"default.thm.json"+i),egret.registerImplementation("eui.Theme",t),t.once(eui.UIEvent.COMPLETE,this.onThemeLoadComplete2,this)},e.prototype.onThemeLoadComplete2=function(){var t=this;if(this.initRes=!0,platform.isLocal())a1228.a1250.loadGroup("game",function(){a1232.releaseFoodRes(),a1232.releaseChoukaRes(),a1232.releaseSignRes(),a1232.releaseFosterRes(),a1232.releaseJinhuaRes(),a1232.releaseNewActRes(),t.a2483()},function(t){a1232.releaseResByName(t)},this);else{var e=["game","dinoimg","dino"];a1232.isNewPlayer()||e.push("sign","dino","shengtang","more","tujian"),a1232.maxLevelFood>35&&e.splice(1,0,"food2"),a1232.curLevel>35&&e.push("foster"),a1232.isNewPlayer()||e.push("newboss"),a1232.curLevel>=60&&e.push("zhengba"),a1228.a1250.loadGroups("game",e,function(){a1232.releaseFoodRes(),a1232.releaseChoukaRes(),a1232.releaseSignRes(),a1232.releaseFosterRes(),a1232.releaseJinhuaRes(),a1232.releaseNewActRes(),t.a2483()},function(t){a1232.releaseResByName(t)},this)}if(console.log("------"+langue.loadcom+"--",this.initWx,a1232.initdata,a1228.a1234.a2574()),a1227.getPoint("1001","加载完成",7),!a1232.dinosaurZip||!a1228.g_Monster)return void this.a2477();if(this.initWx&&this.startGame(),a1228.GlobalData.closeServerTip){var i=0;return this.ssermsg||(this.ssermsg=1,this.a2479(),setTimeout(function(){t.a2479()},2e3)),void a1228.a1225.applyFunc(10004,5170,{content:a1228.GlobalData.closeServerTip,callback:function(){return egret.getTimer()-i<3e3?void 0:(t.a2477(),!0)}})}this.serverMsg&&(this.ssermsg||(this.ssermsg=1,this.a2479(),setTimeout(function(){t.a2479()},2e3)),a1228.a1225.applyFunc(10004,5170,{content:this.serverMsg,playerID:this.playerID,trackId:this.trackId,gameAreaId:this.gameAreaId,type:6,callback:function(){return platform.openCustomerServiceConversation(),!0}}))},e.prototype.a2483=function(){var t=this;this.timerID2&&(clearTimeout(this.timerID2),this.timerID2=null);var e=a1228.a1226.a2525(102);return e?(RES.setMaxLoadingThread(999),void a1228.a1250.loadGroup("sound",function(){RES.queue&&RES.queue.promiseHash&&delete RES.queue.promiseHash.sound,RES.setMaxLoadingThread(8)},null,this)):void(this.timerID2=setTimeout(function(){t.timerID2=null,t.a2483()},2e3))},e.prototype.startGame=function(){if(a1232.initdata){var t=a1228.a1234.a2574();1==t&&(console.log("--------a2573 main"),this.timerID&&(clearTimeout(this.timerID),this.timerID=null),a1232.loginTime||(a1232.loginTime=a1232.getServerTime(),a1232.TimeDifference=a1232.loginTime),a1228.a1234.a2573(0))}},e.prototype.a2485=function(){a1228.a1234.register(1,new a1221),a1228.a1234.register(0,new a1222),a1228.a1225.register(10004,new a1123)},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main"),egret.TextField.prototype.$setText2=egret.TextField.prototype.$setText,egret.TextField.prototype.$setText=function(t){return"ch"!=a1232.langue&&this.name&&langue[this.name]&&(t=langue[this.name]),this.$setText2(t)};var state;!function(t){var e=function(){function t(t){this.curState=null,this.lastState=null,this.owner=t,this.stateMap=new Map}return t.prototype.a1891=function(t,e,i){var a=this.stateMap.get(t);a&&(this.lastState=this.curState,this.lastState&&this.lastState.a1914(),this.curState=a,this.curState.onEnter(e,i))},t.prototype.a2518=function(t){return this.stateMap.get(t)},t.prototype.a2504=function(t,e){this.stateMap.set(t,e)},t.prototype.setOwner=function(t){this.owner=t},t.prototype.a2520=function(){return this.owner},t.prototype.a2521=function(t){this.stateMap.has(t)&&this.stateMap["delete"](t)},t.prototype.clear=function(){this.owner&&(this.lastState=null,this.curState=null,this.owner=null,this.stateMap.clear())},t}();t.StateMachine=e,__reflect(e.prototype,"state.StateMachine")}(state||(state={}));var a1225=function(t){function e(){var e=t.call(this)||this;return e._modules={},e}return __extends(e,t),e.prototype.clear=function(){this._modules={}},e.prototype.register=function(t,e){this.isExists(t)||(this._modules[t]=e)},e.prototype.unregister=function(t){this.isExists(t)&&(this._modules[t]=null,delete this._modules[t])},e.prototype.isExists=function(t){return null!=this._modules[t]},e.prototype.applyFunc=function(t,e){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var n=this._modules[t];if(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return n.applyFunc.apply(n,r)}return console.warn("模块"+t+"不存在"),null},e.prototype.a1924=function(t){var e=this._modules[t];return e?e.a1921():null},e.prototype.a1925=function(t){var e=this._modules[t];return e?e.getProxy():null},e.prototype.a2523=function(t){return this._modules[t]},e}(a1115);__reflect(a1225.prototype,"a1225");var a1226=function(t){function e(){var e=t.call(this)||this;return e.viewKeys=[],e.fullScreenViews=[],e.notHideViews=[100,102,101,124,171,201,199,122,231,242,244,247,249,246,248],e._views={},e._opens=[],e.fullScreenViews=[],e}return __extends(e,t),e.prototype.clear=function(){this.a2527(),this._views={}},e.prototype.register=function(t,e){null!=e&&(this._views[t]||(this._views[t]=e))},e.prototype.unregister=function(t){this._views[t]&&(this._views[t]=null,delete this._views[t])},e.prototype.destroy=function(t,e){void 0===e&&(e=null);var i=this.a2525(t),a=i&&i.parent;this.close(t),i&&(this.unregister(t),i.destroy());var n=this.viewKeys.length;if(n>0&&this.viewKeys[n-1]==t&&this.viewKeys.pop(),n=this.viewKeys.length,n>0){for(var r=0,s=n-1;s>=0;--s){var o=this.viewKeys[s];if(this._views[o]&&a==this._views[o].parent){r=s,this.viewKeys.splice(s,1),this.viewKeys.push(o);break}}this.a2524(this.viewKeys[n-1])}else a1228.a1245.a2615();this.register(t,e)},e.prototype.a2524=function(t){var e=this.viewKeys.length;if(a1228.a1245.a2615(),this._views[t]&&-1==this.notHideViews.indexOf(t)){(0==e||this.viewKeys[e-1]!=t)&&this.viewKeys.push(t);for(var i in this._views){var a=Number(i);this._views[i]&&-1==this.notHideViews.indexOf(a)&&this._views[i].parent==this._views[t].parent&&a!=t&&this._views[i].setVisible(!1)}this._views[t].setVisible(!0)}},e.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=this.a2525(t);return null==a?void console.log("UI_"+t,"不存在"):a.isShow()?(a.open.apply(a,e),a.a1930(),a.setVisible(!0),this.a2524(t),a):(this._opens.push(t),a.isInit()?(a.a1929(),a.open.apply(a,e),this.a2524(t)):a.loadExml(function(){a=this.a2525(t),a&&(a.setVisible(!1),a.a1929(),this.a2524(t))}.bind(this),function(){a=this.a2525(t),a&&(a.initData(),a.initUI(),a.open.apply(a,e),a.setVisible(!0),this.a2524(t))}.bind(this)),a)},e.prototype.close=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this.isShow(t)){var a=this.a2525(t);if(null!=a){var n=this._opens.indexOf(t);t>=0&&this._opens.splice(n,1),a.close.apply(a,e),a.a1931()}}},e.prototype.a2125=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var a,n=Object.keys(this._views),r=n.length-1;r>=0;--r)if(a=parseInt(n[r]),this._views[a]==t){this.close(a,e);break}},e.prototype.a2525=function(t){return this._views[t]},e.prototype.a2526=function(t){return this._views[t]&&this._views[t].visible},e.prototype.a2527=function(){for(var t,e,i=this.a2529(),a=i.length-1;a>=0;--a)t=i[a],e=this.a2525(t),null!=e?this.destroy(t):delete this._views[t];this._opens=[]},e.prototype.a2528=function(){return this._opens.length},e.prototype.isShow=function(t){return-1!==this._opens.indexOf(t)?!0:!1},e.prototype.a2529=function(){return this._opens.slice()},e.prototype.a2530=function(){var t=this._opens.length-1;return this._opens[t]},e}(a1115);__reflect(a1226.prototype,"a1226");var DebugPlatform=function(){function t(){this.videoSwitch=!0,this.bannerSwitch=!0,this.inter1Switch=!0,this.inter2Switch=!0}return t.prototype.isLocal=function(){return!0},t.prototype.openLogin=function(){return!0},t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.getSetting=function(t,e,i,a,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.getSetting2=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.login=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.showShareMenu=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.shareAppMessage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.setUserCloudStorage=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.sendShareData=function(t){},t.prototype.vibrateShort=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.createBannerAd=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.getSystemInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.setUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.createFeedbackButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.createGameClubButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.removethisFeedbackButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.removethisGameclubButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.getInterstitialAd=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.getInterstitialAd2=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.createthisshouquanButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.removethisshouquanButton=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.createRewardedVideoAd=function(t,e){t&&t(1)},t.prototype.getFriendCloudStorage=function(t){},t.prototype.clearAllAssets=function(){},t.prototype.openBanner=function(){},t.prototype.closeBanner=function(){},t.prototype.getOpenDataContext=function(){},t.prototype.getLaunchOptionsSync=function(){},t.prototype.getSystemInfoSync=function(){},t.prototype.getAccountInfoSync=function(){},t.prototype.onShow=function(){},t.prototype.getNetworkType=function(t){},t.prototype.checkIsEmpty=function(){return!0},t.prototype.navigateToMiniProgram=function(t,e,i){},t.prototype.requestSubscribeSystemMessage=function(t,e){},t.prototype.requestSubscribeMessage=function(t,e){},t.prototype.getUpdateManager=function(){},t.prototype.showModal=function(t){},t.prototype.copyText=function(t){},t.prototype.triggerGC=function(){},t.prototype.openCustomerServiceConversation=function(){},t.prototype.setPreferredFramesPerSecond=function(t){},t.prototype.preCreateRewardedVideoAd=function(){},t.prototype.shouCustomAd=function(){},t.prototype.hideCustomAd=function(){},t.prototype.hasFriendList=function(){return!0},t.prototype.showNativeAd=function(t){},t.prototype.addRecentColorSign=function(){},t.prototype.showFullVideo=function(){},t.prototype.showFullVideo2=function(){},t.prototype.msgCheck=function(t,e){},t.prototype.sdkInit=function(){},t.prototype.entryAdScenario=function(t){},t.prototype.initAdSDK=function(t,e){},t.prototype.getAdvert=function(t,e){},t.prototype.setadvert=function(t,e){},t.prototype.sendAward=function(t){},t.prototype.setLoadingProgress=function(t){},t.prototype.loadingComplete=function(t){},t.prototype.installShortcut=function(t){},t.prototype.reportMonitor=function(t,e){},t.prototype.AladinSDKReport=function(t,e,i,a,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=null)},t.prototype.createShortcut=function(){},t.prototype.logEvent=function(){},t.prototype.reportEvent=function(t,e){},t.prototype.toGoogleUrl=function(t){},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform?(window.platform.isLocal||(window.platform.isLocal=function(){return!1}),window.platform.openLogin||(window.platform.openLogin=function(){return!1}),window.platform.hasFriendList||(window.platform.hasFriendList=function(){return!1})):window.platform=new DebugPlatform;var SceneIDs={101:"B0D04DD3191F0F",144:"B0D04DD3191F0F",116:"4E6E0039CFAA50",103:"61A9251EA06784",1002:"6B9787C2E229C1",112:"3330987CF7D356",109:"914EA48511CFC2",130:"75592D14983063",331:"A2D4A3FF2CF24F",108:"B8A262F2D11948",121:"DA1B5249427D7C",151:"F2DDE00F59E86E",16:"5468E30E93488F",118:"BB766ABC74C603",119:"D0BA17F459BE60",135:"D0BA17F459BE60",141:"67F92228B1AF0A",107:"60A6AF4B0227F1",111:"3006A49432F897",115:"24C10E1F198B37",205:"9378CBED3028B7",1001:"BFE4399BCFA4F7",133:"BFE4399BCFA4F7",131:"BFE4399BCFA4F7",132:"BFE4399BCFA4F7",123:"A27266233F4151",104:"BFE4399BCFA4F7",404:"BCF8B33C402DF9",402:"590EF142177DF7",401:"3F690D83F8C588",403:"E87CCC6A1E030E",140:"788F808908BE23"},a1227=function(){function t(){}return t.getPoint=function(t,e,i,a,n){if(void 0===a&&(a=null),void 0===n&&(n=null),a1232.trackId&&!platform.isLocal()){var r=new a1235;r.data.gameId=a1232.gameID,r.data.trackId=a1232.trackId,r.data.userId=a1232.userId,r.data.pageUrl=t,r.data.pageTitle=e,r.data.anchorType=i,r.data.stime=a1232.getServerTime(),null!=a&&(r.data.channel=a),null!=n&&(r.data.appid=n);var s=new egret.HttpRequest;s.responseType=egret.HttpResponseType.TEXT,platform.isLocal()?s.open("http://"+a1232.url+"/base/anchor/data",egret.HttpMethod.POST):s.open(a1232.URL_BASE+"/base/anchor/data",egret.HttpMethod.POST),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.send(encodeURI(r.toString())),s.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),s.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this),"android"==platform.name?platform.reportEvent(t,i):platform.logEvent()
}},t.onPostComplete=function(t){t.currentTarget},t.onPostIOError=function(t){},t.onPostProgress=function(t){},t.isFirst=!0,t.timerID=0,t.timerID2=0,t.lasttime=0,t}();__reflect(a1227.prototype,"a1227");var a1228=function(){function t(){}return Object.defineProperty(t,"a1225",{get:function(){return a1225.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1242",{get:function(){return a1242.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1245",{get:function(){return a1245.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1233",{get:function(){return a1233.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1226",{get:function(){return a1226.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1247",{get:function(){return a1247.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1234",{get:function(){return a1234.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1252",{get:function(){return a1252.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1240",{get:function(){return a1240.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1244",{get:function(){return a1244.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1122",{get:function(){return a1122.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1230",{get:function(){return a1230.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1254",{get:function(){return a1254.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1238",{get:function(){return a1238.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"a1250",{get:function(){return a1250.getInstance()},enumerable:!0,configurable:!0}),t.ProxyUserFlag="",t.g_Monster=null,t.g_PropsData=null,t.g_SignData=null,t.g_PlayerData=null,t.g_BossData=null,t.g_PatientData=null,t.GlobalData=null,t.TalkingData=null,t.g_LvExpData=null,t.g_FubenData=null,t.g_TurnTable=null,t.g_ModelSize=null,t.g_TaskData=null,t.g_GiftData=null,t.g_choukaData=null,t.g_xiyouData=null,t.g_KunShouData=null,t.g_RankRewardData=null,t.g_Skil=null,t.g_recoverData=null,t.g_BanWordData=null,t.g_extraRewardData=null,t.g_limitRewardData=null,t.g_GrowData=null,t.g_zhengbaData=null,t.g_zhengbaData2=null,t.g_zbRobotData=null,t.g_functionData=null,t.g_newPlayerBossData=null,t.g_systemData=null,t.g_playerName=null,t.g_yuandanData=null,t.g_yuandanDataks=null,t.g_choukajifenData=null,t.g_jibanData=null,t.g_skyGiftData=null,t.g_characterData=null,t.g_onlineGiftData=null,t.g_advGiftData=null,t.g_signGiftData=null,t.g_ksHongBaoData=null,t.g_adListData=null,t.g_gameConfig=null,t.MagicJson=null,t.loginInitOK=!1,t.a1229=null,t.ActorMgr=null,t.SceneMgr=null,t.Main=null,t}();__reflect(a1228.prototype,"a1228");var a1229=function(){function t(t,e,i){this.canAtk=!1,this.isCreateBoss=!1,this.a1874=!1,this.a2391=!0,this.fightType=0,this.lastUpdateTime=0,this._status=0,this._scenemgr=e,this._actormgr=i,this._controller=t,this._controller.a1916(5320,this.a2531,this),a1228.a1229=this}return t.prototype.start=function(){this._status=1,this.a2541(),this.a2539()},t.prototype.clear=function(){this.fightType=0,this.lastUpdateTime=0},t.prototype.update=function(){if(0!=this._status&&2!=this._status&&""!==a1232.trackId){var t=a1232.curLevel;if(a1228.g_Monster[t]&&a1228.g_Monster[t].monster&&a1228.g_BossData[t]){var e=egret.getTimer();e-this.lastUpdateTime>100&&(this.lastUpdateTime=e,this.a2533(),2!=this.fightType&&3!=this.fightType&&a1228.SceneMgr.getCamera().a2513(!0)),this.a2543()}}},t.prototype.a2531=function(t,e){if(0!=this.fightType)return a1228.a1245.a2612(langue.fighting),void this.a2532();var i=egret.getTimer();this.fightType=t,this.fightData=e,this.a2391=!0,3==this.fightType&&(a1228.SceneMgr.getCamera().update(null),a1228.SceneMgr.getCamera().a2513(!1)),this.a2541(),this._actormgr.a2486();var a=0;1==this.fightType?(a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5055),a1228.a1225.applyFunc(10004,5156,this.fightData),this.a2540()):2==this.fightType?(a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5120),this.createKunshouMonsters(),a1228.SceneMgr.getCamera().update(null),a1228.SceneMgr.getCamera().a2513(!1),a=1e3):3==this.fightType?(a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5215),this.createZhengbaMonsters(),a=100):4==this.fightType&&(a1228.a1225.applyFunc(10004,5001),a1228.a1225.applyFunc(10004,5261),a1228.a1225.applyFunc(10004,5262,this.fightData),this.createNewBossMonsters());for(var n=this._actormgr.a2502(1),r=n.length-1;r>=0;--r){var s=n[r];if(s){if(s.a1889(),s.a1868("daiji"),2==this.fightType){var o=s.a1870();s.setPos(o.x-100,o.y)}s.lasttime=i-s.a1887()+a;var l=s.a1871(),h=s.a1876();l&&egret.Tween.removeTweens(l),h&&egret.Tween.removeTweens(h)}}for(var p=this._actormgr.a2502(2),r=p.length-1;r>=0;--r){var s=p[r];s&&(s.a1889(),s.lasttime=i-s.a1887()+a)}},t.prototype.a2532=function(){if(1==this.fightType){var t=a1228.a1226.a2525(101);t&&(t.visible=!0);var e=a1228.a1226.a2525(131);e&&(e.visible=!0)}else if(2==this.fightType){var t=a1228.a1226.a2525(101);t&&(t.visible=!0);var e=a1228.a1226.a2525(148);e&&(e.visible=!0)}},t.prototype.a2533=function(){for(var t=this._actormgr.a2502(1),e=this._actormgr.a2502(2),i=(this._actormgr.a2495(),egret.getTimer()),a=0;a<t.length;++a){var n=t[a],r=n.lasttime||0;i-r>=n.a1887()&&n.a1877()&&(this.a2299(n,e),3==this.fightType&&(this.canAtk=!0))}if(this.canAtk)for(var a=0;a<e.length;++a){var s=e[a],r=s.lasttime||0;i-r>=s.a1887()&&s.a1877()&&this.a2299(s,t)}for(var o=[],l=t.length-1;l>=0;--l){var h=t[l];if(h&&h.a1871()){if(h.a1886()<=0&&"siwang"!=h.a1869()){h.a1868("siwang");continue}var p=h.a1870(),r=h.lasttime||0;0==this.fightType&&(p.y<a1232.baseY-160&&i-r>=h.a1887()?(h.setPos(p.x,a1232.baseY-160),h.a1889()):p.y>a1232.baseY+160&&(h.setPos(p.x,a1232.baseY+160),h.a1889())),o.push(h)}}for(var u=null,c=0,l=e.length-1;l>=0;--l){var h=e[l];if(h&&h.a1871()){var d=h.a1886();if(0>=d&&"siwang"!=h.a1869()){var g=a1228.a1226.a2525(102);if(g&&!this.a1874&&0==this.fightType){var f=h.a1871().a1263(0,0),m=a1228.a1226.a2525(101);m?a1228.a1245.Rand_Animation(!1,a1220.UI_Main,"ICON_longgu_png",g.x+g.rootGroup.x+g.BoneGruop.x,g.y+g.rootGroup.y+g.BoneGruop.y,f.x,f.y-80,3):a1228.a1245.Rand_Animation(!0,a1220.UI_Main,"ICON_longgu_png",g.x+g.rootGroup.x+g.BoneGruop.x,g.y+g.rootGroup.y+g.BoneGruop.y,f.x,f.y-80,3),u=f}h.a1868("siwang");continue}d>0&&(c+=1);var p=h.a1870();0==this.fightType&&(p.y<a1232.baseY-160?(h.setPos(p.x,a1232.baseY-160),h.a1889()):p.y>a1232.baseY+160&&(h.setPos(p.x,a1232.baseY+160),h.a1889())),o.push(h)}}u&&0==c&&this.a2542(u.x,u.y),o.sort(function(t,e){return t.a1871().y>e.a1871().y&&1||-1});for(var l=0;l<o.length;++l){var v=o[l].a1871(),y=o[l].a1876();v&&v.parent&&v.parent.setChildIndex(v,l),y&&y.parent&&y.parent.setChildIndex(y,100+l)}this.a2538()},t.prototype.a2299=function(t,e){var i=egret.getTimer(),a=t.a1870();if(e.length>0){var n=99999,r=void 0,s=void 0;if(a=t.a1870(),t.lastTarget&&t.lastTarget.a1886()>0)r=t.lastTarget,s=r.a1870();else for(var o=0;o<e.length;++o){var l=e[o];if(!l||l.a1871()&&0!=l.a1886()){var h=l.a1870(),p=Math.abs(a.y-h.y);n>p&&(n=p,r=l,s=h)}}if(r){var u=t.a1888();t.baseY||(t.baseY=a.y);var c=t.a1872()/2*(t.a1871().scaleX>0&&1||-1),d=r.a1872()/2*(r.a1871().scaleX>0&&1||-1),h={x:s.x-d,y:s.y},g=Math.sqrt(Math.pow(a.x-h.x,2)+Math.pow(a.y-h.y,2));if(u+=Math.abs(c),Math.abs(a.x-h.x)<=u&&Math.abs(a.y-h.y)<=25)t.lasttime=i,t.a1889(),t.attack(r),t.lastTarget=r,1==t.getType()&&(this.canAtk=!0);else{1==t.getType()&&500>g&&(this.canAtk=!0),g>600&&Math.abs(a.y-h.y)<300&&(h.x=h.x-550*t.a1871().scaleX,h.y=a.y),0==this.fightType&&h.y<a1232.baseY-160?h.y=a1232.baseY-160:0==this.fightType&&h.y>a1232.baseY+160&&(h.y=a1232.baseY+160);var f=0;f=Math.abs(a.y-h.y)<200&&Math.abs(a.y-h.y)>20?a.y-h.y>0?Math.atan2(Math.abs(h.x-a.x),h.x-a.x):Math.atan2(-Math.abs(h.x-a.x),h.x-a.x):Math.atan2(a.y-h.y,h.x-a.x),Math.abs(a.y-h.y)>30&&(u-=50),t.lasttime=i-t.a1887()+100,1==t.getType()?t.moveTo(h.x-(u-30)*Math.cos(f),h.y+20*Math.sin(f)+5):t.moveTo(h.x-(u-30)*Math.cos(f),h.y+20*Math.sin(f))}}}},t.prototype.a2534=function(){this.isCreateBoss=!0},t.prototype.a2535=function(t){var e=this;if(""!==a1232.trackId)if(0==this.fightType){var i=a1232.curLevel;if(t){if(this.a1874)if(a1228.a1238.playEffect("lose_mp3"),a1228.a1225.applyFunc(10004,5062),a1228.a1225.applyFunc(10004,5076),a1228.a1225.applyFunc(10004,5085,0,3),a1228.a1225.applyFunc(10004,5044,6),a1227.getPoint(""+(2e4+i),"关卡"+i+"挑战失败",11),"ios"==platform.name||"android"==platform.name)platform.showFullVideo2&&a1232.fullVideoTime2&&a1232.curLevel>3&&a1232.getServerTime()-a1232.fullVideoTime2>a1232.fullVideoLimit2&&(a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),platform.showFullVideo2());else if("android_qudao"==platform.name&&a1232.curLevel>3){var a=a1228.a1122.a1957();platform.getInterstitialAd2(function(){},a),platform.showFullVideo2&&a1232.fullVideoTime2&&a1232.getServerTime()-a1232.fullVideoTime2>a1232.fullVideoLimit2&&(a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),platform.showFullVideo2())}this.a1874=!1}else{var n=void 0;if(this.a1874){"kwaigame"==platform.name&&a1232.curLevel==systemOpenPass.task&&(a1232.guideStep+=1),a1227.getPoint(""+(1e4+i),"关卡"+i+"挑战胜利",10),n=a1228.g_BossData[i],a1228.a1225.applyFunc(10004,5062),a1228.a1225.applyFunc(10004,5077),a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5085,n,1),a1228.a1225.applyFunc(10004,5044,6),a1228.a1225.applyFunc(10004,5045,9),a1232.curLevel+=1,a1232.dayPassCount+=1;var r=Object.keys(a1228.g_Monster).length-1,s=Math.min(r-a1232.curLevel,5);if(a1228.g_BossData&&a1228.g_BossData[a1232.curLevel]&&a1228.g_BossData[a1232.curLevel+s]||a1228.a1225.applyFunc(10004,5327),50==a1232.curLevel&&platform.ios5star&&platform.ios5star(),this.a1874=!1,a1228.a1225.applyFunc(10004,5040),a1228.a1225.applyFunc(10004,5041),a1228.a1238.playEffect("success_mp3"),platform.AladinSDKReport&&platform.AladinSDKReport(a1232.openid,5,a1232.curLevel,null,null),"ios"==platform.name)platform.showFullVideo2&&a1232.fullVideoTime2&&a1232.curLevel>3&&a1232.getServerTime()-a1232.fullVideoTime2>a1232.fullVideoLimit2&&(a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),platform.showFullVideo2());else if("android_qudao"==platform.name&&a1232.curLevel>3){var a=a1228.a1122.a1957();platform.getInterstitialAd2(function(){},a),platform.showFullVideo2&&a1232.fullVideoTime2&&a1232.getServerTime()-a1232.fullVideoTime2>a1232.fullVideoLimit2&&(a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),platform.showFullVideo2())}else if("android"==platform.name&&!a1232.isNewsPlayer){var a=a1228.a1122.a1957();platform.getInterstitialAd2(function(){},a)}}else n=a1228.g_Monster[i];var o="",l=0,h=0;if(n.reward)for(var p=0,u=n.reward;p<u.length;p++){var c=u[p];h=c[0];var d=c[1];o+=a1228.g_PropsData[c[0]].name+"*"+c[1]+" ",this.a1874?a1228.a1225.applyFunc(10004,5035,c[0],c[1],100,!0):(2==c[0]&&a1232.getServerTime()<a1232.longguActTime&&(d=Math.floor(1.1*d)),a1228.a1225.applyFunc(10004,5035,c[0],d,113,!0,!0,!1)),l=d}var g=a1228.a1226.a2525(102);g&&(g.curboshu+=1,g.a2267()),this.a1874||h&&l&&a1228.a1245.a2614(h,l)}}else if(1==this.fightType){var n=this.fightData;t?a1228.a1225.applyFunc(10004,5160):(a1228.a1225.applyFunc(10004,5045,7),a1228.a1225.applyFunc(10004,5158,n),a1228.a1230.showFullVideo()),this.fightType=0}else if(2==this.fightType){var n=this.fightData;if(t?(n.reward=n.failReward,a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5133,n,!1)):(a1228.a1245.a2612(langue.fightSucces),n.reward=n.winReward,a1228.a1230.interstitialAd(),a1228.a1225.applyFunc(10004,5133,n,!0)),a1228.a1230.showFullVideo(),this.fightType=0,n.pkId){var f={pkId:n.pkId,gameId:a1232.gameID,trackId:a1232.trackId,result:t&&2||1};a1228.a1247.a2623(a1232.URL_PK_ADD_LOG,egret.URLRequestMethod.POST,f,function(t){},null)}a1228.a1225.applyFunc(10004,5045,8),a1228.a1225.applyFunc(10004,5126)}else if(3==this.fightType){var m={gameId:a1232.gameID,trackId:a1232.trackId,fromPgid:this.fightData.pkId,result:t&&1||0},v=a1232.URL_ZB_RESULT;this.fightData.isCross&&(v=a1232.URL_ZB_RESULT2),a1228.a1247.a2623(v,egret.URLRequestMethod.POST,m,function(i){var a=null;if(i&&i.data){a=i.data;a.mainUpScore,a.fromUpScore,a.mainUpRank,a.fromUpRank,a.mainScore,a.fromScore,a.mainRank,a.fromRank;a.roleName=e.fightData.roleName,a.headUrl=e.fightData.headUrl,a.frompgid=e.fightData.pkId,a.roleAreaId=e.fightData.roleAreaId,a.roleAreaName=e.fightData.roleAreaName}!t&&a?(a1228.a1245.a2612(langue.fightSucces),a1228.a1225.applyFunc(10004,5226,a,!0,e.fightData.isCross)):a1228.a1225.applyFunc(10004,5226,a,!1,e.fightData.isCross)},null)}else if(4==this.fightType){var n=this.fightData.tgReward;t?a1228.a1225.applyFunc(10004,5266):a1228.a1225.applyFunc(10004,5264,n),this.fightType=0}},t.prototype.a2536=function(){this.fightType=0,this._actormgr.reset(),this.a2541(),this.a2537(),this.a2539()},t.prototype.a2537=function(){for(var t=this,e=egret.getTimer(),i=this._actormgr.a2502(1),a=0,n=i;a<n.length;a++){var r=n[a];r.a1886()<=0&&this._actormgr.a2499(r)}this._actormgr.a2486(),i=this._actormgr.a2502(1);var s,o={},l=0;if(3==this.fightType)for(var h=0,p=a1232.zhengbaPos;h<p.length;h++){var u=p[h];o[u]=a1232.poses[l],l+=1}else for(var c=0,d=a1232.curPlayers;c<d.length;c++){var u=d[c];o[u]=a1232.poses[l],l+=1}for(var g=function(i){var a=i.a1870(),n=i.getID();s||(s=a.x),i.a1903(!0),i.a1868("zou"),i.lasttime=e+1e4,i.baseY=a1232.baseY+o[n][1];var r=Math.sqrt(Math.pow(a.x-(s+o[n][0]+100),2)+Math.pow(a.y-(a1232.baseY+o[n][1]),2));i.tempSpeed=actor.Actor.SPEED*r/200,i.moveTo(s+o[n][0]+100,a1232.baseY+o[n][1]),egret.Tween.get(i.a1871()).wait(1e3).call(function(){i.a1903&&(i.a1903(!1),i.lasttime=0,t.lastUpdateTime=0),i.tempSpeed=0})},f=0,m=i;f<m.length;f++){var r=m[f];g(r)}},t.prototype.a2538=function(){if(!this.a2391){var t=this.fightType;this.a2391=!0;for(var e=this._actormgr.a2502(1),i=0,a=0,n=e;a<n.length;a++){var r=n[a];r.isDie||(i+=1)}var s=0==i;if(s){for(var o=0,l=e;o<l.length;o++){var r=l[o];r.isDie=!1}a1232.isGuide||(a1228.a1245.a2612(langue.fightFail),3!=this.fightType&&this.a2541())}for(var h=0,p=this._actormgr.a2502(2),u=0,c=p;u<c.length;u++){var d=c[u];d.isDie||(h+=1)}if(a1232.isGuide&&(s||0==h))return a1232.isGuide=!1,void a1228.a1225.applyFunc(10004,5092);(0==h||s)&&(this.canAtk=!1,this.a2535(s),3!=this.fightType&&(this.a2537(),this.a2539())),(3!=this.fightType||0!=h&&!s)&&(this.a2391=!1);var g=a1228.a1226.a2525(136);g&&0!=t&&g.setVisible(!1)}},t.prototype.a2539=function(){if(0==this.fightType){this.a2391=!1;var t=this._actormgr.a2495(),e=t.a1870(),i=a1232.curLevel,a=void 0;this.isCreateBoss||a1232.isGuide?(a1232.isGuide&&(i=0),a=a1228.g_BossData[i].monster,setTimeout(function(){a1228.a1225.applyFunc(10004,5086)},2500)):a=a1228.g_Monster[i].monster,this.a1874=this.isCreateBoss;var n=0,r=1600;a1232.isGuide&&(r=700);var s=0;for(var o in a)s+=1;for(var o in a){var l=new actor.Monster(0,this._actormgr);if(1==s&&this.a1874||a1232.isGuide)a[o].isboss=1,l.init(e.x+r+a1232.poses2[n][0],a1232.baseY-23,a[o]),1==a1232.curLevel&&l.a1858([21]);else{var h=a1232.baseY+a1232.poses2[n][1]-3;l.init(e.x+r+a1232.poses2[n][0],h,a[o])}n+=1}this.isCreateBoss=!1}},t.prototype.a2540=function(){var t=this._actormgr.a2495(),e=t.a1870(),i=this.fightData.monster,a=0;for(var n in i){var r=new actor.Monster(0,this._actormgr);r.init(e.x+500+a1232.poses2[a][0],a1232.baseY+a1232.poses2[a][1]-3,i[n]),a+=1}this.isCreateBoss=!1,this.a2391=!1},t.prototype.createNewBossMonsters=function(){var t=this._actormgr.a2495(),e=t.a1870(),i=this.fightData.monster,a=0;for(var n in i){var r=new actor.Monster(0,this._actormgr);r.init(e.x+500+a1232.poses2[a][0],a1232.baseY+a1232.poses2[a][1]-3,i[n]),a+=1}this.isCreateBoss=!1,this.a2391=!1},t.prototype.createKunshouMonsters=function(){var t=this._actormgr.a2495(),e=t.a1870(),i=this.fightData.monster,a=this.fightData.cheerInfos,n=0;this.fightData.skillsList=[],this.fightData.extProps=[];for(var r=0;r<i.length;++r){var s=new actor.Monster(0,this._actormgr),o=i[r].index,l=(i[r].level,a1228.a1230.a1921(i[r])),h=a1228.a1230.a2559(a1228.g_PlayerData[o]);if(h.extProps={atk:0,def:0,hp:0},a&&a[r])for(var p=0;p<a[r].length-1;++p){var u=a[r][p];u&&(h.extProps.atk+=Math.floor(.05*a1232.getAttack(u)),h.extProps.def+=Math.floor(.05*a1232.getDefence(u)),h.extProps.hp+=Math.floor(.05*a1232.a1886(u)))}h.skills=a1232.getSkills(i[r],a||[[]],i),this.fightData.skillsList.push(h.skills),this.fightData.extProps.push(h.extProps),s.init(e.x+550+a1232.poses2[n][0],a1232.baseY+a1232.poses2[n][1]-3,h,l),s.setIndex(o),s.a1862(i[r]),n+=1}this.isCreateBoss=!1,this.a2391=!1},t.prototype.createZhengbaMonsters=function(){var t=(this._actormgr.a2495(),this.fightData.monster),e=this.fightData.cheerInfos,i=a1228.SceneMgr.getCamera().a2514().x,a=0;this.fightData.skillsList=[];for(var n=0;n<t.length;++n)if(t[n]){var r=new actor.Monster(0,this._actormgr),s=t[n].index,o=(t[n].level,a1228.a1230.a1921(t[n])),l=a1228.a1230.a2559(a1228.g_PlayerData[s]);if(l.extProps={atk:0,def:0,hp:0},e&&e[n])for(var h=0;h<e[n].length-1;++h){var p=e[n][h];p&&(l.extProps.atk+=Math.floor(.05*a1232.getAttack(p)),l.extProps.def+=Math.floor(.05*a1232.getDefence(p)),l.extProps.hp+=Math.floor(.05*a1232.a1886(p)))}l.skills=a1232.getSkills(t[n],e||[[]],t),this.fightData.skillsList.push(l.skills),r.init(a1232.baseX+i+560+a1232.zhengbaPoses2[a][0],a1232.baseY+a1232.zhengbaPoses2[a][1]-3,l,o),r.setIndex(s),r.a1862(t[n]),a+=1}this.isCreateBoss=!1,this.a2391=!1},t.prototype.a2541=function(){for(var t=this._actormgr.a2502(2),e=t.length-1;e>=0;--e)this._actormgr.a2499(t[e])},t.prototype.a2542=function(t,e){var i=a1228.a1226.a2525(102);if(i){var a=i.a2218(),n=a1232.getFoodNum(),r="bx_png";if(!a1228.g_GiftData[a]||n>=15)return;if(9==a1232.guideStep&&i.curboshu>i.guideCurboshu+1||i.curboshu+1>=a1228.g_GiftData[a].killmonsterTime&&a1232.maxLevelFood>=a1228.g_GiftData[a].foodLevel&&a1232.curLevel>=a1228.g_GiftData[a].passNum&&a1232.guideStep>9){if(9==a1232.guideStep)a=3,r="ldxiao_png",a1228.a1233.a2571(a1232.guideStep),a1227.getPoint("1037","掉落龙蛋引导",7),platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[331]);else if(null!=a1232.giftCounts[a-1]&&a1228.g_GiftData[a].limit&&a1232.giftCounts[a-1]>=a1228.g_GiftData[a].limit)return;if(!i.giftBox){null!=a1232.giftCounts[a-1]&&(a1232.giftCounts[a-1]+=1),a1232.giftTime=a1232.getServerTime(),a1232.giftID=a,2==a&&platform.entryAdScenario&&platform.entryAdScenario(SceneIDs[108]),i.a2236(998,1),a1228.a1225.applyFunc(10004,5041),i.giftBox.visible=!1;var s=.4;s="bx_png"==r?.4:1,a1228.a1245.Rand_Animation(!0,a1220.UI_Main,r,i.giftBox.x+i.foodGroup.x-i.giftBox.width+50,i.giftBox.y+i.foodGroup.y-i.giftBox.height+50,t-40,e-80,1,s,function(){i&&i.giftBox&&(i.giftBox.visible=!0,i.huodeyan=2e3)},1500)}}}},t.prototype.a2543=function(){for(var t=this._actormgr.a2502(1),e=t.length-1;e>=0;--e)t[e]&&t[e].update();for(var i=this._actormgr.a2502(2),e=i.length-1;e>=0;--e)i[e]&&i[e].update()},t.prototype.pauseMove=function(){for(var t=this._actormgr.a2502(1),e=t.length-1;e>=0;--e)t[e]&&t[e].a1889();for(var i=this._actormgr.a2502(2),e=i.length-1;e>=0;--e)i[e]&&i[e].a1889()},t.prototype.a2545=function(){},t.prototype.a2546=function(){return this.a1874&&this.canAtk},t.prototype.pause=function(){1==this._status&&(this._status=2),this.pauseMove()},t.prototype.a2547=function(){return this.fightType},t.prototype.resume=function(){2==this._status&&(this._status=1,this.a2545())},t}();__reflect(a1229.prototype,"a1229");var a1230=function(t){function e(){var e=t.call(this)||this;return e.lastAdTime=0,e}return __extends(e,t),e.prototype.formatEnglish=function(t,e){var i=t.split(" "),a=new eui.Label,n=new eui.Label;a.size=e.size,n.size=e.size,a.stroke=e.stroke,n.stroke=e.stroke,a.bold=e.bold,n.bold=e.bold;for(var r="",s="",o="",l="",h=0;h<i.length;h++)r+=i[h],h!=i.length-1&&(r+=" "),h+1<i.length&&(s=r+i[h+1],h+1!=i.length-1&&(s+=" ")),a.text=r,n.text=s,a.width<=e.width&&(o=r,n.width>=e.width?(h!=i.length-1&&(o+="\n"),l+=o,o="",r="",s=""):h==i.length-1&&(l+=o));return l},e.prototype.base64Date=function(t){var e=RES.getRes(t),i="";return e&&(i=e.toDataURL("image/png")),i},e.prototype.reflshKsCoin=function(){if("kwaigame"==platform.name){var t={trackId:a1232.trackId,gameId:a1232.gameID};a1228.a1247.a2623(a1232.URL_KSRECODE_GET,egret.URLRequestMethod.POST,t,function(t){var e=a1228.a1226.a2525(102),i=a1228.a1226.a2525(101);t&&t.data?(e&&(e.coinLabel.text=t.data,e.ksjdImg2.width=Math.floor(t.data/1e3*e.ksjdImg1.width)),i&&(i.coinLabel.text=t.data,i.ksjdImg2.width=Math.floor(t.data/1e3*i.ksjdImg1.width))):(e&&(e.coinLabel.text="0",e.ksjdImg2.width=0),i&&(i.coinLabel.text="0",i.ksjdImg2.width=0))},null)}},e.prototype.expFullCounts=function(){for(var t=0,e=1;4>=e;e++){var i=a1232.growIDs[e-1];if(0!=i&&-1!=i){var a=(a1232.playerIDs[i[0]],a1232.getServerTime()-i[1]),n=a1228.g_GrowData[4].obtain;a>=60*n[1]&&t++}}return t},e.prototype.getZhuangKinds=function(){var t=[];return t.length},e.prototype.getRewardState=function(t,e,i){var a,n=a1228.g_jibanData[t][i],r=this.getJiBanState(t,e,i),s=a1232.jiBanData[t][i][1],o=a1232.jiBanData[t][i][0],l=s+1;return 1==r?(n["reward"+l]||(l=2),a=s==a1232.maxjibanLevel?3:o>s?2:1):a=1,[l,a]},e.prototype.getJiBanUp=function(t,e,i){var a=a1228.g_jibanData[t][i],n=0,r=a1232.jiBanData[t][i][0];if(r&&r<a1232.maxjibanLevel){var s=a1232.jiBanData[t][1],o=a1232.jiBanData[t][2],l=a["mainStar"+r],h=a1232.jiBanData[e],p=h[1],u=h[2],c=a["fuStar"+r];n=(!a.mainBy&&s>=l||a.mainBy&&o>=l)&&(!a.fuBy&&p>=c||a.fuBy&&u>=c)?1:2}else n=3;return n},e.prototype.getJiBanState=function(t,e,i){var a=a1228.g_jibanData[t][i],n=0,r=0;if(a1232.jiBanData[t]&&(r=a1232.jiBanData[t][i][0]),r)n=1;else{var s=!1,o=!1;(a1232.jiBanData[t]&&a1232.jiBanData[t][4]&&!a.mainBy||a1232.jiBanData[t]&&a1232.jiBanData[t][3]&&a.mainBy)&&(s=!0),(a1232.jiBanData[e]&&a1232.jiBanData[e][4]&&!a.fuBy||a1232.jiBanData[e]&&a1232.jiBanData[e][3]&&a.fuBy)&&(o=!0),n=s&&o?2:3}return n},e.prototype.getYaunActiveDay=function(){var t=new Date(1e3*a1232.getServerTime()),e=1e3*a1228.a1240.a2605(a1232.openYuanTime),i=1e3*a1228.a1240.a2605(a1232.closeYuanTime);if(!(a1232.yuandanEnterDay4>=e&&a1232.yuandanEnterDay4<i))if(t.getTime()>=e&&t.getTime()<i){a1232.yuandanEnterDay4=t.getTime(),a1232.yuandantask4={},a1232.yuanhasget4=[];for(var a in a1228.g_yuandanData){a1232.yuandantask4[a]=[];for(var n=0;n<a1228.g_yuandanData[a].task.length;n++){var r=[a1228.g_yuandanData[a].task[n],0,0];a1232.yuandantask4[a].push(r)}}}else a1232.yuandanEnterDay4=0;var s=1e3*a1232.getServerTime(),o=new Date(a1232.yuandanEnterDay4),l=new Date(o.toLocaleDateString()),h=s-l.getTime(),p=Math.floor(h/864e5)+1;return a1232.yuandanEnterDay4||(p=2e3),a1228.a1225.applyFunc(10004,5041),p},e.prototype.getYaunActiveDay_ks=function(){("kwaigame"==platform.name||platform.isLocal())&&a1232.isNewPlayer()&&(a1232.yuandanEnterDay_ks||(a1232.yuandanEnterDay_ks=1e3*a1232.getServerTime()));var t=1e3*a1232.getServerTime(),e=new Date(a1232.yuandanEnterDay_ks),i=new Date(e.toLocaleDateString()),a=t-i.getTime(),n=Math.floor(a/864e5)+1;return(n>3||0>=n)&&(a1232.yuandanEnterDay_ks=0),a1228.a1225.applyFunc(10004,5041),n},e.prototype.chunjieRed=function(){var t=a1228.a1230.getYaunActiveDay();if(a1232.yuandanActive&&a1232.curLevel>=14&&t>=1&&3>=t){var e=0;for(var i in a1232.yuandantask4)for(var a=a1232.yuandantask4[i],n=0;n<a.length;n++)a[n][2]&&(e+=a1228.g_yuandanData[i].score[n]);for(var i=0;i<a1232.yuanrewardArr.length;i++)if(-1==a1232.yuanhasget4.indexOf(a1232.yuanrewardArr[i][2])&&e>=a1232.yuanrewardArr[i][2])return!0;for(var i in a1228.g_yuandanData){var r=a1228.g_yuandanData[i],s=a1232.yuandantask4[i];if(r&&s)for(var n=0;n<s.length;n++){var o=s[n][1],l=r.count[n];if(o>=l&&0==s[n][2])return!0}}}return!1},e.prototype.chunjieRed_ks=function(){a1228.a1230.getYaunActiveDay_ks();if(a1232.curLevel>=2){var t=0;for(var e in a1232.yuandantask_ks)for(var i=a1232.yuandantask_ks[e],a=0;a<i.length;a++)i[a][2]&&(t+=a1228.g_yuandanDataks[e].score[a]);for(var e=0;e<a1232.yuanrewardArr_ks.length;e++)if(-1==a1232.yuanhasget_ks.indexOf(a1232.yuanrewardArr_ks[e][2])&&t>=a1232.yuanrewardArr_ks[e][2])return!0;for(var e in a1228.g_yuandanDataks){var n=a1228.g_yuandanDataks[e],r=a1232.yuandantask_ks[e];if(n&&r)for(var a=0;a<r.length;a++){var s=r[a][1],o=n.count[a];if(s>=o&&0==r[a][2])return!0}}}return!1},e.prototype.a2548=function(){for(var t=1,e=0,i=0;i<a1232.advChangeList.length;i++)e+=a1232.advChangeList[i][1];a1232.advLoopNum>=e&&(e=a1232.advLoopNum-e);for(var i=0;i<a1232.advChangeList.length;i++){var a=e;if(e+=a1232.advChangeList[i][1],a1232.advLoopNum>=a&&a1232.advLoopNum<e){t=a1232.advChangeList[i][0];break}}return t=1},e.prototype.showFullVideo=function(){if("ios"==platform.name){if(a1232.curLevel<a1232.fullVideoPassLimit&&a1232.dayPassCount<a1232.fullVideoDayPassLimit)return;platform.showFullVideo&&a1232.fullVideoTime&&a1232.guideStep>8&&a1232.getServerTime()-a1232.fullVideoTime>a1232.fullVideoLimit&&(a1232.fullVideoTime=a1232.getServerTime(),a1232.fullVideoTime2=a1232.getServerTime(),platform.showFullVideo())}},e.prototype.interstitialAd=function(){"android"==platform.name||platform.isLocal()||FBAdManager.isInterstitialAdReady()&&FBAdManager.showInterstitialAd().then(function(){})["catch"](function(t){})},e.prototype.initAds=function(){if(!platform.isLocal()){var t={INTERSTITIAL:"244866797216892_365786148458289",REWARDED_VIDEO:"244866797216892_365776735125897",BANNER:"244866797216892_365788351791402"};try{FBAdManager.addInterstitial(t.INTERSTITIAL)}catch(e){console.info("添加插屏广告失败，错误: "+e.message)}try{FBAdManager.addRewardedVideo(t.REWARDED_VIDEO)}catch(e){console.info("添加激励视频广告失败，错误: "+e.message)}FBAdManager.addBanner(t.BANNER),FBAdManager.loadAll()}},e.prototype.a2549=function(t,e,i){var a=this;if(platform.isLocal())t(),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5046,6),a1228.a1225.applyFunc(10004,5045,10);else if(1!=e&&platform.shareAppMessage)2==e&&setTimeout(function(){var e=a1228.a1230.base64Date("fenxiangimg_png");e&&platform.shareAppMessage(e,t)},200);else if("ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name||"wxgame"==platform.name){var n=a1232.rewardAdCD;a1232.notAdCD&&(n=0),"wxgame"==platform.name&&(n=20);Number(localStorage.getItem("lastAdTime")||"0");a1232.adCountTime<=0?platform.createRewardedVideoAd(function(e){if(-1==e)a1232.adCountTime=10,a1228.a1245.a2612(langue.notAd),a1227.getPoint("6","看广告失败",3);else if(e){if(t(),a1232.adCount+=1,a.lastAdTime=a1232.getServerTime(),i&&i[0]&&a1227.getPoint(i[0],i[1]+"看广告",2),("ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name||"wxgame"==platform.name)&&localStorage.setItem("lastAdTime",""+a1232.getServerTime()),a1232.fullVideoTime=a1232.getServerTime(),a1232.advLoopNum+=1,"ios"==platform.name||"android"==platform.name||"android_qudao"==platform.name)for(var n in a1232.seeAdvTimesArr)a1232.seeAdvTimesArr[n]+=1;a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5046,6),a1228.a1225.applyFunc(10004,5045,10)}else a1227.getPoint("6","看广告失败",3)},SceneIDs[i[0]]):a1228.a1245.a2612(langue.notAd)}else FBAdManager.isRewardedVideoReady()?(egret.lifecycle.onPause(),FBAdManager.showRewardedVideo().then(function(){i&&i[0]&&a1227.getPoint(i[0],i[1]+"看广告",2),t(),a1228.a1225.applyFunc(10004,5041),a1228.a1225.applyFunc(10004,5046,6),a1228.a1225.applyFunc(10004,5045,10),egret.lifecycle.onResume()})["catch"](function(t){a1228.a1245.a2612("Failed to play video advertisement"),a1227.getPoint("6","看广告失败",3),egret.lifecycle.onResume()})):(a1228.a1245.a2612("No advertising"),a1227.getPoint("6","看广告失败",3),egret.lifecycle.onResume())},e.prototype.a2550=function(t){for(var e=-1!=a1232.curPlayers.indexOf(t)&&1||0,i=(-1!=a1232.cheerIDs[0].indexOf(t)||-1!=a1232.cheerIDs[1].indexOf(t))&&2||0,a=-1!=a1232.produce.indexOf(t)&&3||0,n=0,r=0;r<a1232.growIDs.length&&(-1==a1232.growIDs[r]||0==a1232.growIDs[r]||!(n=a1232.growIDs[r][0]==t&&4||0));r++);var s=0,o=0;if(a1232.zhengbaIsOpen||a1232.zhengbaIsOpen2){s=-1!=a1232.zhengbaPos.indexOf(t)&&5||0;for(var l=0;l<a1232.zhengbaCheer.length;l++)if(a1232.zhengbaCheer[l][0]==t||a1232.zhengbaCheer[l][1]==t){o=6;break}}return[e,i,a,n,s,o]},e.prototype.getLength=function(t){if(!t||"string"!=typeof t)return"";var e="";return t.length>5?e=t.slice(0,5)+"...":t},e.prototype.a2552=function(t,e,i,a){if(5>=i)for(var n=1;5>=n;n++)if(i>=n)t[e+n].source="sxdx1_png";else{var r=a&&"sxdx2_png"||"";t[e+n].source=r}else if(i>5&&10>=i)for(var n=6;10>=n;n++)if(i>=n)t[e+(n-5)].source="sxdx3_png";else{var r=a&&"sxdx4_png"||"";t[e+(n-5)].source=r}},e.prototype.a2553=function(t){for(var e=0;e<t.length;e++){var i=t.charCodeAt(e);if(!(i>=48&&57>=i||i>=97&&122>=i||i>=65&&90>=i||i>=19968&&40869>=i))return!1}return!0},e.prototype.a2554=function(t){var e=t.name;if(e)return e;var i=t.index,a=t.jinhua,n=t.star,r="";return r=n>=2&&4>n&&a>0?""+a1228.g_PlayerData[i].name:n>=4&&10>=n&&a>0?""+a1228.g_PlayerData[i].name:1==a||-2==a?""+a1228.g_PlayerData[i].name:2==a?""+a1228.g_PlayerData[i].name:a1228.g_PlayerData[i].name},e.prototype.a2555=function(t){var e=t.index,i=t.jinhua,a=t.star,n=t.bianyi&&!0||!1,r="";return r=n?a>=2&&4>a&&i>0?a1228.g_PlayerData[e].buzhen4_by:a>=4&&10>=a&&i>0?a1228.g_PlayerData[e].buzhen5_by:1==i||-2==i?a1228.g_PlayerData[e].buzhen2_by:2==i?a1228.g_PlayerData[e].buzhen3_by:a1228.g_PlayerData[e].buzhen1_by:a>=2&&4>a&&i>0?a1228.g_PlayerData[e].buzhen4:a>=4&&10>=a&&i>0?a1228.g_PlayerData[e].buzhen5:1==i||-2==i?a1228.g_PlayerData[e].buzhen2:2==i?a1228.g_PlayerData[e].buzhen3:a1228.g_PlayerData[e].buzhen1
},e.prototype.a1921=function(t){var e="",i=t.index,a=t.jinhua,n=t.star,r=t.bianyi&&!0||!1;return e=r?n>=2&&4>n&&a>0?a1228.g_PlayerData[i].upstar_by[0][1]:n>=4&&10>=n&&a>0?a1228.g_PlayerData[i].upstar_by[1][1]:1==a||-2==a?a1228.g_PlayerData[i].jinhua_by[0]:2==a?a1228.g_PlayerData[i].jinhua_by[1]:a1228.g_PlayerData[i].shape_by:n>=2&&4>n&&a>0?a1228.g_PlayerData[i].upstar[0][1]:n>=4&&10>=n&&a>0?a1228.g_PlayerData[i].upstar[1][1]:1==a||-2==a?a1228.g_PlayerData[i].jinhua[0]:2==a?a1228.g_PlayerData[i].jinhua[1]:a1228.g_PlayerData[i].shape},e.prototype.a2556=function(){if(this.blackFilters)return this.blackFilters;var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.6,0];return this.blackFilters=[new egret.ColorMatrixFilter(t)],this.blackFilters},e.prototype.a2557=function(t,e,i,a){0==e.x&&0==e.y&&(e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.y+=e.height/2,e.x+=e.width/2),t?(e.scaleX=.01,e.scaleY=.01,egret.Tween.get(e).to({scaleX:1,scaleY:1.08},170).to({scaleY:.96},120).to({scaleY:1.02},100).to({scaleY:1},100)):(e.scaleX=.99,e.scaleY=.99,egret.Tween.get(e).to({scaleX:.001,scaleY:.001},100).call(function(){i&&a1228.a1225.applyFunc(10004,i,a)}))},e.prototype.a2558=function(t,e,i){t.strokeColor=e,t.stroke=i},e.prototype.a2559=function(t){var e;if(t instanceof Array)e=[];else{if(!(t instanceof Object))return t;e={}}for(var i=Object.keys(t),a=0,n=i.length;n>a;a++){var r=i[a];e[r]=this.a2559(t[r])}return e},e.prototype.a2560=function(t){return parseInt(t.toString())},e.prototype.getSignStr=function(t){var e=Object.keys(t);e.sort();for(var i="",a=0;a<e.length;++a){var n=e[a];i+=a<e.length-1?n+"="+t[n]+"&":n+"="+t[n]}return i},e.prototype.parseInt=function(t){return null==t||0===t.length?0:parseInt(t)},e.prototype.getPlayerAvatar=function(t,e){if(t){var i=RES.getRes(t);if(i||-1==t.indexOf("http"))return void(e.source=t);var a=new egret.ImageLoader;a.addEventListener(egret.Event.COMPLETE,function(t){var i=(t.currentTarget,new egret.Texture);a.data&&(i._setBitmapData(a.data),e.source=i)},this),a.load(t)}else e.source="bawanglongtouxiang1_png"},e.prototype.a2561=function(t){for(var e=0,i=0,a=t.length;a>i;i++){var n=t.charCodeAt(i);n>=1&&126>=n||n>=65376&&65439>=n||e++}return e},e.prototype.a2562=function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=e.length,a="",n=0;t>n;++n)a+=e[Math.floor(Math.random()*i)];return a},e.prototype.a2563=function(t){t=Math.floor(t);var e=t.toString(),i=e.replace(".",""),a=i.split("e+"),n=a[0];if(a[1]){for(var r=Number(a[1]),s=0;r>s;++s)n+="0";n=n.substring(0,r+1)}return n},e.prototype.getLocalLangue=function(){var t=egret.Capabilities.language;return console.log("当前系统语言："+t),"en"==t?"english":"vi"==t?"yuenan":"id"==t?"yinni":"ms"==t?"malai":"english"},e}(a1115);__reflect(a1230.prototype,"a1230");var a1231=function(){function t(t,e,i){void 0===i&&(i=!1),this.id=0,this.index=0,this.isCopy=!1,this.id=t,this.index=e[0]||3,e[1]=e[1]||1,e[2]=e[2]||0,e[3]=e[3]||0,e[4]=e[4]||0,e[5]=e[5]||"",e[6]=e[6]||0,this.isCopy=i,!i&&t&&e[6]&&(e[6][0]>120||e[6][1]>110||e[6][2]>120)&&a1227.getPoint("9999",e[6][0]+e[6][1]+e[6][2]+"-成长-"+e[6][0]+"-"+e[6][1]+"-"+e[6][2],8),e[11]||(e[6]?e[11]=1:e[11]=2),e[7]||(e[7]=Math.floor(2*Math.random())+1),e[8]=e[8]||e[0],e[9]=null==e[9]&&1||e[9],e[10]=e[10]||e[0],this.info=e;for(var a=a1228.g_PlayerData[this.index].jinhuaLevel,n=0;n<a.length;++n)0==n&&this.level>=a[n]&&0==this.jinhua?this.jinhua=n+1:1==n&&this.level>=a[n]&&(0==this.jinhua||1==this.jinhua)&&(this.jinhua=n+1);e[12]=e[12]||a1228.g_characterData[1].index,e[13]=e[13]||[0,0,0]}return t.copyDinosaur=function(e){return new t(e.id,a1228.a1230.a2559(e.info),!0)},t.prototype.a2564=function(){return this.info},Object.defineProperty(t.prototype,"level",{get:function(){return this.info[1]},set:function(t){this.info[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this.info[2]},set:function(t){this.info[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jinhua",{get:function(){return this.info[3]>2&&(1==this.attrIndex||22==this.attrIndex?this.info[3]=2:this.info[3]=1),this.info[3]},set:function(t){this.info[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"star",{get:function(){return this.info[4]},set:function(t){this.info[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.info[5]},set:function(t){this.info[5]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bianyi",{get:function(){return 1==this.info[11]&&1||0},set:function(t){t=1==t&&1||2,this.info[11]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"growAdd",{get:function(){return this.info[6]},set:function(t){this.info[6]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sex",{get:function(){return this.info[7]},set:function(t){this.info[7]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attrIndex",{get:function(){return this.info[8]},set:function(t){this.info[8]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"produceNum",{get:function(){return this.info[9]},set:function(t){this.info[9]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skillIndex",{get:function(){return this.info[10]},set:function(t){this.info[10]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"character",{get:function(){return this.info[12]},set:function(t){this.info[12]=t},enumerable:!0,configurable:!0}),t}();__reflect(a1231.prototype,"a1231");var a1232=function(){function t(){}return t.getServerTime=function(){return t.loginTime?Math.floor(egret.getTimer()/1e3)+t.TimeDifference:Math.floor((new Date).getTime()/1e3)},t.isNewPlayer=function(){return t.curLevel<=1||t.guideStep<=8},t.getAttack=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n],s=e.level,o=e.jinhua,l=e.star,h=e.id;i=i||t.getSkills(e,null,null,a);var p=0,u=r.atkAdd;if(l=l||0,(!o||0>o)&&(o=-2==o?1:0),e.attrIndex){var c=a1228.g_PlayerData[e.attrIndex];u=c.atkAdd,e.growAdd&&e.growAdd[0]&&(u=e.growAdd[0]),p=c.atk+u*s*.1+50}else e.growAdd&&e.growAdd[0]&&(u=e.growAdd[0]),p=r.atk+u*s*.1+50;var d=p;if(5>=l?p+=d*(.15*l+.05*o):l>5&&(p+=d*(.75+.15*(l-5)+.05*o)),t.jiBanData[n])for(var g in t.jiBanData[n])if(Number(g)>=100){var f=t.jiBanData[n][g][0];1==f?p+=a1228.g_jibanData[n][g].atkAdd:2==f?(p+=a1228.g_jibanData[n][g].atkAdd,p+=d*(a1228.g_jibanData[n][g].atkAddpre1/100)):3==f&&(p+=a1228.g_jibanData[n][g].atkAdd,p+=d*(a1228.g_jibanData[n][g].atkAddpre1/100),p+=d*(a1228.g_jibanData[n][g].atkAddpre2/100))}if(e.character){var m=a1228.g_characterData[e.character].atk,v=0;1==Math.abs(m)?v=.1:2==Math.abs(m)&&(v=.2),0>m&&(v=-v),p+=d*v}if(i){if(-1!=i.indexOf(2)){var y=Number(a1228.g_Skil[2].atk/100);p+=p*y}else if(-1!=i.indexOf(102)){var y=Number(a1228.g_Skil[102].atk/100);p+=p*y}if(-1!=i.indexOf(8)){var b=Number(a1228.g_Skil[8].atk/100);p+=p*b}else if(-1!=i.indexOf(108)){var b=Number(a1228.g_Skil[108].atk/100);p+=p*b}if(-1!=i.indexOf(16)){var b=Number(a1228.g_Skil[16].quangong/100);p+=p*b}else if(-1!=i.indexOf(116)){var b=Number(a1228.g_Skil[116].quangong/100);p+=p*b}}if(a){var _=!h&&-1||t.zhengbaPos.indexOf(h);if(-1!=_&&t.zhengbaPos[_])for(var A=0;A<t.zhengbaCheer[_].length;++A){var T=t.zhengbaCheer[_][A];if(T&&t.playerIDs[T]){var C=t.playerIDs[T];p+=Math.floor(.05*t.getAttack(C))}}}else{var _=!h&&-1||t.curPlayers.indexOf(h);if(-1!=_&&t.cheerIDs[_])for(var A=0;A<t.cheerIDs[_].length;++A){var T=t.cheerIDs[_][A];if(T&&t.playerIDs[T]){var C=t.playerIDs[T];p+=Math.floor(.05*t.getAttack(C))}}}return Math.floor(p)},t.getDefence=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n],s=e.level,o=e.jinhua,l=e.star,h=e.id;i=i||t.getSkills(e,null,null,a);var p=0,u=r.defAdd;if(l=l||0,(!o||0>o)&&(o=-2==o?1:0),e.attrIndex){var c=a1228.g_PlayerData[e.attrIndex];u=c.defAdd,e.growAdd&&e.growAdd[1]&&(u=e.growAdd[1]),p=c.def+u*s*.08+30}else e.growAdd&&e.growAdd[0]&&(u=e.growAdd[0]),p=r.def+u*s*.08+30;var d=p;if(5>=l?p+=p*(.15*l+.05*o):l>5&&(p+=p*(.75+.15*(l-5)+.05*o)),t.jiBanData[n])for(var g in t.jiBanData[n])if(Number(g)>=100){var f=t.jiBanData[n][g][0];1==f?p+=a1228.g_jibanData[n][g].defAdd:2==f?(p+=a1228.g_jibanData[n][g].defAdd,p+=d*(a1228.g_jibanData[n][g].defAddpre1/100)):3==f&&(p+=a1228.g_jibanData[n][g].defAdd,p+=d*(a1228.g_jibanData[n][g].defAddpre1/100),p+=d*(a1228.g_jibanData[n][g].defAddpre2/100))}if(e.character){var m=a1228.g_characterData[e.character].def,v=0;1==Math.abs(m)?v=.1:2==Math.abs(m)&&(v=.2),0>m&&(v=-v),p+=d*v}if(i)if(-1!=i.indexOf(14)){var y=Number(a1228.g_Skil[14].def/100);p+=p*y}else if(-1!=i.indexOf(114)){var y=Number(a1228.g_Skil[114].def/100);p+=p*y}if(a){var b=!h&&-1||t.zhengbaPos.indexOf(h);if(-1!=b&&t.zhengbaPos[b])for(var _=0;_<t.zhengbaCheer[b].length;++_){var A=t.zhengbaCheer[b][_];if(A&&t.playerIDs[A]){var T=t.playerIDs[A];p+=Math.floor(.05*t.getDefence(T))}}}else{var b=!h&&-1||t.curPlayers.indexOf(h);if(-1!=b&&t.cheerIDs[b])for(var _=0;_<t.cheerIDs[b].length;++_){var A=t.cheerIDs[b][_];if(A&&t.playerIDs[A]){var T=t.playerIDs[A];p+=Math.floor(.05*t.getDefence(T))}}}return Math.floor(p)},t.a1886=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n],s=e.level,o=e.jinhua,l=e.star,h=e.id;i=i||t.getSkills(e,null,null,a);var p=0,u=r.hpAdd;if(l=l||0,(!o||0>o)&&(o=-2==o?1:0),e.attrIndex){var c=a1228.g_PlayerData[e.attrIndex];u=c.hpAdd,e.growAdd&&e.growAdd[2]&&(u=e.growAdd[2]),p=c.hp+u*s*.62+200}else e.growAdd&&e.growAdd[0]&&(u=e.growAdd[0]),p=r.hp+u*s*.62+200;var d=p;if(5>=l?p+=p*(.15*l+.05*o):l>5&&(p+=p*(.75+.15*(l-5)+.05*o)),t.jiBanData[n])for(var g in t.jiBanData[n])if(Number(g)>=100){var f=t.jiBanData[n][g][0];1==f?p+=a1228.g_jibanData[n][g].hpAdd:2==f?(p+=a1228.g_jibanData[n][g].hpAdd,p+=d*(a1228.g_jibanData[n][g].hpAddpre1/100)):3==f&&(p+=a1228.g_jibanData[n][g].hpAdd,p+=d*(a1228.g_jibanData[n][g].hpAddpre1/100),p+=d*(a1228.g_jibanData[n][g].hpAddpre2/100))}if(e.character){var m=a1228.g_characterData[e.character].hp,v=0;1==Math.abs(m)?v=.1:2==Math.abs(m)&&(v=.2),0>m&&(v=-v),p+=d*v}if(i.length>0)if(-1!=i.indexOf(9)){var y=Number(a1228.g_Skil[9].hp/100);p+=p*y}else if(-1!=i.indexOf(109)){var y=Number(a1228.g_Skil[109].hp/100);p+=p*y}if(a){var b=!h&&-1||t.zhengbaPos.indexOf(h);if(-1!=b&&t.zhengbaPos[b])for(var _=0;_<t.zhengbaCheer[b].length;++_){var A=t.zhengbaCheer[b][_];if(A&&t.playerIDs[A]){var T=t.playerIDs[A];p+=Math.floor(.05*t.a1886(T))}}}else{var b=!h&&-1||t.curPlayers.indexOf(h);if(-1!=b&&t.cheerIDs[b])for(var _=0;_<t.cheerIDs[b].length;++_){var A=t.cheerIDs[b][_];if(A&&t.playerIDs[A]){var T=t.playerIDs[A];p+=Math.floor(.05*t.a1886(T))}}}return Math.floor(p)},t.getGongsu=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n];e.level,e.jinhua,e.star;i=i||t.getSkills(e,null,null,a);var s=Number((1e3/r.atktime).toFixed(2));if(i.length>0)if(-1!=i.indexOf(3)){var o=Number(a1228.g_Skil[3].gongsu/100);s+=s*o}else if(-1!=i.indexOf(103)){var o=Number(a1228.g_Skil[103].gongsu/100);s+=s*o}return s.toFixed(2)},t.getBaoji=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n];i=i||t.getSkills(e,null,null,a);var s=Number(r.crit)/10;if(i.length>0)if(-1!=i.indexOf(4)){var o=Number(a1228.g_Skil[4].crit);s+=o}else if(-1!=i.indexOf(104)){var o=Number(a1228.g_Skil[104].crit);s+=o}return Math.floor(s)},t.getShanbi=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var n=e.index,r=a1228.g_PlayerData[n];i=i||t.getSkills(e,null,null,a);var s=Number(r.dodge)/10;if(i.length>0)if(-1!=i.indexOf(6)){var o=Number(a1228.g_Skil[6].dodge);s+=o}else if(-1!=i.indexOf(106)){var o=Number(a1228.g_Skil[106].dodge);s+=o}return Math.floor(s)},t.getSkills=function(e,i,a,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=!1);var r=[],s=e.index,o=a1228.g_PlayerData[s];if(e.skillIndex){var l=a1228.g_PlayerData[e.skillIndex];if(l.skills)for(var h=0;h<l.skills.length;++h)r.push(l.skills[h])}else if(o.skills)for(var h=0;h<o.skills.length;++h)r.push(o.skills[h]);var p=e.id;if(i){for(var u=a.indexOf(e),c=0;c<i.length;++c)for(var d=0;d<i[c].length;++d){var g=i[c][d];if(g){var l=a1228.g_PlayerData[g.index];if(g.skillIndex&&(l=a1228.g_PlayerData[g.skillIndex]),c==u)for(var h=0;h<l.skills.length;++h)r.push(l.skills[h]+100);l&&-1!=l.skills.indexOf(16)&&r.push(116)}}for(var c=0;c<a.length;++c){var f=a[c];if(f&&a1228.g_PlayerData[f.index]){var l=a1228.g_PlayerData[f.index];f.skillIndex&&(l=a1228.g_PlayerData[f.skillIndex]),l&&-1!=l.skills.indexOf(16)&&r.push(16)}}}else{var m=n?t.zhengbaCheer:t.cheerIDs,v=n?t.zhengbaPos:t.curPlayers,u=!p&&-1||v.indexOf(p);if(-1!=u)for(var h=0;h<v.length;++h){var y=m[h];if(y)for(var c=0;c<y.length;++c){var b=y[c];if(b&&t.playerIDs[b]){var f=t.playerIDs[b],l=a1228.g_PlayerData[f.index];if(f.skillIndex&&(l=a1228.g_PlayerData[f.skillIndex]),l){if(u==h)for(var _=0;_<l.skills.length;++_)r.push(l.skills[_]+100);l&&-1!=l.skills.indexOf(16)&&r.push(116)}}}}for(var c=0;c<v.length;++c){var A=v[c];if(t.playerIDs[A]){var f=t.playerIDs[A],l=a1228.g_PlayerData[f.index];f.skillIndex&&(l=a1228.g_PlayerData[f.skillIndex]),!l||-1==l.skills.indexOf(16)&&-1==l.skills.indexOf(116)||r.push(16)}}}return r},t.getResUrl=function(){var e="resource/";return console.log("----------当前语言:",t.langue),"yuenan"==t.langue&&(e="resource_yuenan/"),"yinni"==t.langue&&(e="resource_yinni/"),"malai"==t.langue&&(e="resource_malai/"),console.log("----------资源路径:",e),e},t.getFoodNum=function(){var e=0;for(var i in t.props)Number(i)>100&&Number(i)<200&&t.props[i]>0&&(e+=t.props[i]);return t.giftID&&(e+=1),e},t.priceFormat=function(t,e){var i="";1e4>t?i=-1!=t.toString().indexOf(".")?t.toFixed(2):""+Math.floor(t):t>=1e19?i=this.priceFormat(t/1e19,e)+langue.zuan:t>=1e16?i=e?""+(t/1e16).toFixed(2)+langue.jing:""+Math.floor(t/1e16)+langue.jing:t>=1e12?i=e?""+(t/1e12).toFixed(2)+langue.zhao:""+Math.floor(t/1e12)+langue.zhao:t>=1e8?i=e?""+(t/1e8).toFixed(2)+langue.yi:""+Math.floor(t/1e8)+langue.yi:t>=1e4&&(i=e?""+(t/1e3).toFixed(2)+langue.wan:""+Math.floor(t/1e3)+langue.wan);try{var a=i.indexOf(".");if(a>=4){var n=i.slice(0,-1),r=Number(n);isNaN(r)&&(n=i.slice(0,-2),r=Number(n)),i=Math.floor(r)+i.slice(-1)}}catch(s){}return i},t.foodPrice=function(e,i){if(!a1228.g_PropsData[e])return t.props[e]&&delete t.props[e],0;var a=0;if(1==i)a=a1228.g_PropsData[e].price[0];else if(2==i){var n=a1228.g_PropsData[e].price[1];a=n}return a},t.addNewDinosaur=function(e,i,a){void 0===i&&(i=null),void 0===a&&(a=null);var n=null,r=.6;if(null!=i&&(r=i),e>0){var s=1;for(var o in t.playerIDs)Number(o)>=s&&(s=Number(o)+1);n=new a1231(s,[e]),t.playerIDs[n.id]=n;var l=Math.floor(100*Math.random());4==a1228.g_PlayerData[e].xiyou?10>l?n.produceNum=0:79>l?n.produceNum=1:99>l?n.produceNum=2:100>l&&(n.produceNum=3):10>l?n.produceNum=0:84>l?n.produceNum=1:99>l?n.produceNum=2:100>l&&(n.produceNum=3);var h=a1228.g_PlayerData[e],p=130;if(a&&2==a.length){var u=a1228.g_PlayerData[a[0].attrIndex],c=a1228.g_PlayerData[a[1].attrIndex],d=a[0].growAdd&&a[0].growAdd[0]||u.atkAdd,g=a[1].growAdd&&a[1].growAdd[0]||c.atkAdd,f=a[0].growAdd&&a[0].growAdd[1]||u.defAdd,m=a[1].growAdd&&a[1].growAdd[1]||c.defAdd,v=a[0].growAdd&&a[0].growAdd[2]||u.hpAdd,y=a[1].growAdd&&a[1].growAdd[2]||c.hpAdd,b=Math.min(d,g)-3,_=Math.max(d,g)+8,A=Math.min(f,m)-3,T=Math.max(f,m)+8,C=Math.min(v,y)-3,w=Math.max(v,y)+8,x=Math.floor(b+Math.random()*(_-b+1)),I=Math.floor(A+Math.random()*(T-A+1)),D=Math.floor(C+Math.random()*(w-C+1));x=Math.min(x,p),I=Math.min(I,p-10),D=Math.min(D,p),n.growAdd=[x,I,D],n.produceNum=Math.min(a[0].produceNum,a[1].produceNum)}else{var x=h.atkAdd+Math.round(h.atkAdd*(-.05+.1*Math.random())),I=h.defAdd+Math.round(h.defAdd*(-.05+.1*Math.random())),D=h.hpAdd+Math.round(h.hpAdd*(-.05+.1*Math.random()));x=Math.min(x,p),I=Math.min(I,p-10),D=Math.min(D,p),n.growAdd=[x,I,D]}if(n.bianyi=2,r>0){var E=Math.floor(1e3*Math.random())<10*r;if(E){var x=n.growAdd[0]+Math.floor(n.growAdd[0]*(h.atkadd_by[0]+Math.random()*(h.atkadd_by[1]-h.atkadd_by[0]))),I=n.growAdd[1]+Math.floor(n.growAdd[1]*(h.defadd_by[0]+Math.random()*(h.defadd_by[1]-h.defadd_by[0]))),D=n.growAdd[2]+Math.floor(n.growAdd[2]*(h.hpadd_by[0]+Math.random()*(h.hpadd_by[1]-h.hpadd_by[0])));x=Math.min(x,p),I=Math.min(I,p-10),D=Math.min(D,p),n.growAdd=[x,I,D],n.bianyi=1}}var S=[];for(var o in a1228.g_characterData)S.push(a1228.g_characterData[o].index);var G=Math.floor(Math.random()*S.length);n.character=S[G],a1228.a1225.applyFunc(10004,5052,[n.id]),a1228.a1225.applyFunc(10004,5041)}return n},t.getMapID=function(){var e=t.curLevel;return e>=0&&100>=e?t.mapID=2:e>=101&&200>=e?t.mapID=1:e>=201&&300>=e?t.mapID=3:e>=301&&400>=e?t.mapID=4:e>=401&&(t.mapID=5),t.mapID},t.releaseResByName=function(e){-1!=t.resList.indexOf(e)&&RES.getRes(e)&&RES.a1530(e),"map1_json"==e&&1!=t.mapID?RES.getRes("map1_json")&&RES.a1530("map1_json"):"map2_json"==e&&2!=t.mapID?RES.getRes("map2_json")&&RES.a1530("map2_json"):"map3_json"==e&&3!=t.mapID?RES.getRes("map3_json")&&RES.a1530("map3_json"):"map4_json"==e&&4!=t.mapID?RES.getRes("map4_json")&&RES.a1530("map4_json"):"map5_json"==e&&5!=t.mapID&&RES.getRes("map5_json")&&RES.a1530("map5_json")},t.releaseRes=function(){for(var e=0;e<t.resList.length;++e)RES.getRes(t.resList[e])&&RES.a1530(t.resList[e])},t.releaseLangueRes=function(){for(var e=0;e<t.resList2.length;++e)RES.getRes(t.resList2[e])&&RES.a1530(t.resList2[e]);var i=dragonBones.EgretFactory.factory;RES.getRes("bosslaixi_tex_png")&&(RES.a1530("bosslaixi_tex_png"),RES.a1530("bosslaixi_tex_json"),RES.a1530("bosslaixi_ske_json"),i.a1851("bosslaixi"),i.removeTextureAtlasData("bosslaixi"),i.removeDragonBonesData("bosslaixi")),RES.getRes("bossxunzhaozhong_tex_png")&&(RES.a1530("bossxunzhaozhong_tex_png"),RES.a1530("bossxunzhaozhong_tex_json"),RES.a1530("bossxunzhaozhong_ske_json"),i.a1851("bossxunzhaozhong"),i.removeTextureAtlasData("bossxunzhaozhong"),i.removeDragonBonesData("bossxunzhaozhong")),RES.getRes("zhandoushengli_tex_png")&&(RES.a1530("zhandoushengli_tex_png"),RES.a1530("zhandoushengli_tex_json"),RES.a1530("zhandoushengli_ske_json"),i.a1851("zhandoushengli"),i.removeTextureAtlasData("zhandoushengli"),i.removeDragonBonesData("zhandoushengli")),RES.getRes("zhandoushibai2_tex_png")&&(RES.a1530("zhandoushibai2_tex_png"),RES.a1530("zhandoushibai2_tex_json"),RES.a1530("zhandoushibai2_ske_json"),i.a1851("zhandoushibai2"),i.removeTextureAtlasData("zhandoushibai2"),i.removeDragonBonesData("zhandoushibai2"))},t.releaseGuideRes=function(){for(var e=0;e<t.guideRes.length;++e)RES.getRes(t.guideRes[e])&&RES.a1530(t.guideRes[e])},t.releaseChoukaRes=function(t){void 0===t&&(t=!1);var e=a1228.a1226.a2525(128);if(!e||t)for(var i=["danposui1_png","dan2_png","danposui2_png","dizuo_png"],a=0;a<i.length;++a)RES.getRes(i[a])&&RES.a1530(i[a])},t.releaseSignRes=function(t){void 0===t&&(t=!1);var e=a1228.a1226.a2525(175);if(!e||t)for(var i=["sign_json"],a=0;a<i.length;++a)RES.getRes(i[a])&&RES.a1530(i[a])},t.releaseShengtangRes=function(){RES.getRes("shengtang_json")&&RES.a1530("shengtang_json"),RES.getRes("xgkldb_png")&&RES.a1530("xgkldb_png"),RES.getRes("xgxlhd_png")&&RES.a1530("xgxlhd_png")},t.releaseMoreRes=function(){RES.getRes("more_json")&&RES.a1530("more_json"),RES.getRes("scjl1_png")&&RES.a1530("scjl1_png")},t.releaseTujianRes=function(){RES.getRes("tujian_json")&&RES.a1530("tujian_json")},t.releaseFosterRes=function(t){void 0===t&&(t=!1);var e=a1228.a1226.a2525(121);(!e||t)&&RES.getRes("foster_json")&&RES.a1530("foster_json")},t.releaseJinhuaRes=function(t){void 0===t&&(t=!1);var e=a1228.a1226.a2525(160);if(e=e||a1228.a1226.a2525(185),!e){var i=dragonBones.EgretFactory.factory;RES.getRes("jinghua_tex_png")&&(RES.a1530("jinghua_tex_png"),i.removeTextureAtlasData("jinghua")),RES.getRes("jinghuadengdai_tex_png")&&(RES.a1530("jinghuadengdai_tex_png"),i.removeTextureAtlasData("jinghuadengdai"))}},t.releaseNewActRes=function(e){void 0===e&&(e=!1);var i=a1228.a1226.a2525(181);(!i||e)&&(!t.newPlayerActivity||!t.newPlayerActivity[1]||t.newPlayerActivity[1][1]&&t.newPlayerActivity[2][1])&&(RES.getRes("newActBg_png")&&RES.a1530("newActBg_png"),RES.getRes("newActBg2_png")&&RES.a1530("newActBg2_png"),RES.getRes("sbtn_png")&&RES.a1530("sbtn_png"),RES.getRes("abtn_png")&&RES.a1530("abtn_png"),RES.getRes("xuanzhong_png")&&RES.a1530("xuanzhong_png"))},t.releaseZhengbaRes=function(){var t=a1228.a1226.a2525(173);RES.getRes("zhengba_json")&&!t&&RES.a1530("zhengba_json")},t.releaseFoodRes=function(){if(t.maxLevelFood<=36)RES.getRes("food2_json")&&RES.a1530("food2_json");else if(t.maxLevelFood>39){var e=!1;for(var i in t.props){var a=Number(i);if(136>=a){e=!0;break}}!e&&RES.getRes("food_json")&&RES.a1530("food_json")}},t.HeatBeatTime=45e3,t.isUnOnlice=!1,t.DesignResolutionWidth=720,t.DesignResolutionHeight=1280,t.IsIntant=!1,t.AutoMove=!0,t.is_cross=!1,t.sceneName="",t.isCollection=!1,t.initdata=!1,t.isDebug=!1,t.AppPlatform="",t.isTestRes=!1,t.version="1.0.50",t.gversion="1.0.51",t.wxVersion="1.1.27",t.loginTime=0,t.appid="wx6b41df41202bce3e",t.isShowAd=!1,t.isShowLimitGift=!1,t.isTrial=!1,t.isShowSDKAd=!1,t.sdkAdAward=50,t.langue="english",t.sdkAdWaiting=-1,t.sdkAdIcons=[],t.sdkAdAllIcons={},t.notAdCD=!1,t.musicState=!0,t.effectState=!0,t.baseX=300,t.baseY=470,t.baseY2=470,t.isShowRecharge=!0,t.gameID=39,t.gameAreaId=0,t.gameAreaId2=0,t.poses=[[230,-60],[100,30],[0,0],[0,0],[0,0]],t.poses2=[[-230,-60],[-100,30],[0,0],[0,0],[0,0]],t.zhengbaPoses=[[0,180],[0,440],[-250,50],[-250,310],[-250,570]],t.zhengbaPoses2=[[0,180],[0,440],[250,50],[250,310],[250,570]],t.isGuide=!1,t.guideStep=0,t.kunshouRank=1001,t.kunshouTimes=5,t.kunshouVedioTimes=0,t.fubenTimes=2,t.pgid=0,t.areas=[],t.myareas=[],t.subscribe={},t.newPlayerActivity={},t.isOpenNewPlayerActA=!1,t.isOpenNewPlayerActS=!1,t.zhengbasai=!0,t.advChangeList=[],t.advLoopNum=0,t.shareCallback=null,t.newPlayerBoss=!0,t.charaRecords={},t.commitDinosaurIDs={},t.diamond=0,t.gold=0,t.props={},t.giftID=0,t.giftTime=0,t.giftCounts=[0,0,0],t.curLevel=1,t.curPlayers=[0,0,0],t.playerIDs={},t.Debris={},t.wanDebris={},t.maildata={},t.maxLevelFood=1,t.zuidaLevelFood=25,t.isShare=!1,t.adTaskID=0,t.curbeishu=1,t.pantimes=0,t.fubenVideos=0,t.seevideotimes=0,t.spvideotimes=0,t.addsptimes=0,t.lastsptime=0,t.lastpantime=0,t.HangAward=0,t.adList=[null,[],[],[],[],[]],t.adTaskData={},t.thirdAdSlot={},t.breakeggTimes=0,t.breakeggAS=0,t.eggprogress=0,t.tujianIDs=[],t.randReward=null,t.cheerIDs=[[0,0],[0,0]],t.cheerLock=[[1,0],[0,0]],t.growIDs=[-1,-1,-1,-1],t.mapID=1,t.refleshtimes=0,t.hasDaySign=!1,t.signDay=1,t.HelpData=[],t.ewPass=0,t.ewtimes=0,t.limitGift=[0,0,0],t.ratetimes=0,t.FriendHelp=[],t.friendHelpDiamond=0,t.collectState=!1,t.maxfoodtime=0,t.registerTime=0,t.serverchange=!1,t.newBossPass=0,t.newBossRdPass=[],t.sysReward=[],t.bossResult=!1,t.clearRoles=!1,t.choukaScore=0,t.choukabx=[],t.jiBanData={},t.adCount=0,t.changeNameNum=0,t.newyearUI=!1,t.newyearUITime=[0,0],t.fullVideoTime=0,t.fullVideoTime2=0,t.fullVideoLimit=180,t.fullVideoLimit2=30,t.fullVideoPassLimit=2e3,t.fullVideoDayPassLimit=20,t.rewardAdCD=30,t.adCountTime=0,t.dayPassCount=0,t.getHongbao=!1,t.yuandantask4={},t.yuandanEnterDay4=0,t.yuandanActive=!1,t.yuanrewardArr=[[1,600,500],[1,1500,800],[304,60,1e3]],t.yuanhasget4=[],t.openYuanTime="",t.closeYuanTime="",t.yuandantask_ks={},t.yuandanEnterDay_ks=0,t.yuanrewardArr_ks=[[1,600,40],[1,1500,110],[304,60,200]],t.yuanhasget_ks=[],t.kachiNeedScore=500,t.kachikaiqi=!1,t.skytime1=3600,t.skytime2=1800,t.skygiftCount=0,t.skygiftgetCount=0,t.offlinecuotime=0,t.offlinetimes=0,t.onlinetimes=0,t.produce=[0,0,0,0,0,0],t.producetime=[0,0,0],t.hatchtime=[0,0,0],t.produceSpeedtimes=[0,0,0],t.produceReduceTime=36e3,t.produceNeedTime=72e3,t.hatchNeedTime=3600,t.zhengbaOpenLevel=65,t.zhengbaPos=[0,0,0,0,0],t.zhengbaCheer=[[0,0],[0,0],[0,0],[0,0],[0,0]],t.zhengbatimes=0,t.zhengbavideotimes=0,t.zhengbaRefleshtimes=0,t.zhengbaIsOpen=!1,t.zhengbaStartTime=0,t.zhengbaEndTime=0,t.zhengbaResultTime=0,t.zhengbaReward=null,t.zhengbaOpenLevel2=100,t.zhengbatimes2=0,t.zhengbavideotimes2=0,t.zhengbaRefleshtimes2=0,t.zhengbaIsOpen2=!1,t.zhengbaStartTime2=0,t.zhengbaEndTime2=0,t.zhengbaResultTime2=0,t.zhengbaReward2=null,t.zhengbaFitOpen2=!1,t.mustStimes=0,t.adListData=null,t.finishAdList=null,t.breakEggState=0,t.lastNewPlayer=!1,t.maxjibanLevel=3,t.starUpLockID={},t.zhuangBeis={},t.zhuangbuwei={},t.zhuangChips={},t.zhuangwanChips={},t.washcardNum=0,t.fenghaoID="",t.star_redflag=!1,t.chiphe_redflag=!1,t.chouka_redflag=!1,t.character_redflag=!1,t.ksOnlineTime=0,t.ksHongBao=[],t.lgtimes=0,t.onlineAct={},t.videoAct={},t.dayTaskTimes=3,t.signActDay=1,t.signActFlag=0,t.signEwActFlag=0,t.longguActTime=0,t.seeAdvTimes=0,t.seeAdvTimesArr={},t.url_win="192.168.10.30:8080/game-api",t.url="dev-gameadmin.qcinterfacet.com/game-api",t.URL_BASE_WIN2="http://192.168.10.173:8087/game-api",t.URL_BASE_WIN="https://dev-gameadmin.qcinterfacet.com/game-api",t.URL_BASE="https://dev-gameadmin.qcinterfacet.com/game-api",t.URL_INIT="/player/login",t.URL_USE_PROPS="/player/updProps",t.URL_UPDATE_CONFIG="/player/ext/updConf",t.URL_RANK="/player/ext/ranking",t.URL_USER_INFO="/tencent/wechat/playerInfo",t.URL_CODE_LOGIN="/base/cas/codeLogin",t.SHARE_CODE_LOGIN="/base/game/material",t.URL_ENCRYPT="/tencent/wechat/encrypted",t.URL_PK_REWARD="/player/award/all",t.URL_PK_ADD_LOG="/player/pvp/upfight",t.URL_PK_LOG_LIST="/player/pvp/pklog",t.URL_PK_GET_REWARD="/player/award/upd",t.URL_PK_INFO="/player/pvp/fight",t.URL_PK_RANK="/player/pvp/rank",t.URL_PK_READY="/player/pvp/ready",t.URL_TOP_ISGET="/player/award/add",t.URL_NOTICE="/player/mail/list",t.URL_NOTICE_READ="/player/mail/upd",t.URL_BUY_PROPS="/player/buyProps",t.URL_SUBSCRIBE="/player/ext/subscribe",t.URL_AD_BASE="https://dev-gameadmin.qcinterfacet.com",t.URL_AD="/open/slot/slots",t.URL_ADLIST="/open/slot/apps",t.URL_SDKAD_LOG="/player/ext/outLog",t.URL_ASK_DATA="/player/ext/inviteDetail",t.URL_HELP_DATA="/player/ext/buddy",t.URL_GETASK_DATA="/player/invite",t.URL_DINO_LOG="/player/ext/water",t.URL_GET_HELP_DATA="/player/inviteBuddy",t.URL_CODE_EXCHANGE="/player/ext/exchange",t.URL_ZB_EGGCOM="/player/award/layEggs",t.URL_ZB_EGGQX="/player/award/cancelLayEggs",t.URL_ZB_INIT="/player/king/init",t.URL_ZB_RESULT="/player/king/upready",t.URL_ZB_AWARED="/player/king/award",t.URL_ZB_RECORD="/player/king/log",t.URL_ZB_RANK="/player/king/rank",t.URL_ZB_CHEER="/player/king/self",t.URL_ZB_INIT2="/player/cors/king/init",t.URL_ZB_RESULT2="/player/cors/king/upready",t.URL_ZB_AWARED2="/player/cors/king/award",t.URL_ZB_RECORD2="/player/cors/king/log",t.URL_ZB_RANK2="/player/cors/king/rank",t.URL_ZB_CHEER2="/player/cors/king/self",t.URL_GET_JSON="/player/json/get",t.URL_CLEAR="/player/logout",t.URL_CLEARJIE="/base/cas/logout",t.URL_GIFT_LIST="/player/award/gift",t.URL_GIFT_GET="/player/award/updGift",t.URL_HONGBAO_GET="/partner/jjhd/redReceive",t.URL_HBRECORD_GET="/partner/jjhd/dayList",t.URL_HBGET_GET="/partner/jjhd/dayReceive",t.URL_KSCOIN_GET="/partner/kuaishou/kcoin",t.URL_KSRECODE_GET="/partner/kuaishou/init",t.CP_GAME_LIST=[{icon:"cp_icon_2_png",url:"https://app.adjust.com/5pp4mv4"},{icon:"cp_icon_1_png",url:"https://app.adjust.com/tli8il9"}],t.guideRes=["fight_1_png","fight_2_png","fight_3_png","fight_4_png","fight_5_png","fight_6_png","open_1_png","open_2_png","open_3_png","open_4_png","open_5_png","open_6_png","open_7_png","open_8_png","open_9_png"],t.resList=["beiguang_png","huoshan_png","MapBG_jpg","MAP_YUN_png","evolution_mp3","dibang_png","jinji_bg_png","kljhdb_png","MailIcon_png","YoKa_png","SevenDays_Reward_png","fbitem1_png","SD_png","scjl1_png","more_json","shengtang_json","tujian_json","dinoimg_json","zhengba_json","xgxlhd_png","xgkldb_png","zhengbabg_jpg","zzdb_png","zdbj_png","yuandan_json"],t.resList2=["mini_json","dino_json","MapBG_jpg","MAP_YUN_png","sign_json","zhengba_json","newboss_json","shengtang_json","foster_json"],t}();__reflect(a1232.prototype,"a1232");var a1234=function(t){function e(){var e=t.call(this)||this;return e._scenes={},e}return __extends(e,t),e.prototype.clear=function(){var t=this._scenes[this._currScene];t&&(t.onExit(),this._currScene=void 0),this._scenes={}},e.prototype.register=function(t,e){this._scenes[t]=e},e.prototype.a2573=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=this._scenes[t];if(null==a)return void console.error("场景"+t+"不存在");var n=this._scenes[this._currScene];n&&(this._lastScene=this._scenes,n.onExit()),a.onEnter.apply(a,e),this._currScene=t},e.prototype.a2574=function(){return this._currScene},e.prototype.a2575=function(){return this._lastScene},e}(a1115);__reflect(a1234.prototype,"a1234");var a1233=function(t){function e(){var e=t.call(this)||this;return e.groups=[],e}return __extends(e,t),e.prototype.a2565=function(t,e,i,a,n,r,s,o,l){if(void 0===l&&(l=!1),!this.ani){this.a2569();var h=ObjectPool.pop("a1239");if(void 0!=a&&void 0!=n&&void 0!=r?h.initData("shou_shou",-1,1,0,!0,"shou_shou",!0):h.initData("shou_shou",-1,1,0,!0,"shou_shou"),h.x=e-110,h.y=i-130,h.guideTime=a1232.getServerTime(),h.baseX=h.x,h.baseY=h.y,t.addChild(h,999),egret.Tween.removeTweens(h),void 0!=a&&void 0!=n&&void 0!=r){var p=o;p||(p=0),h.x-=15,h.baseX=a-110-15,h.baseY=n-130,h.visible=!1,egret.Tween.get(h,{loop:s}).wait(p).call(function(){h.visible=!0}).to({x:h.baseX,y:h.baseY},r).to({alpha:0},0).wait(300).to({alpha:1},0).call(function(){t.setChildIndex(h,999)})}else if(l){var u=h.x,c=h.y,d=t.a1263(0,0);h.x=a1228.a1122.a1872()/2-(d.x-h.anchorOffsetX)-130,h.y=a1228.a1122.a1873()/2-(d.y-h.anchorOffsetY)-150;var g=Math.sqrt(Math.pow(u-h.x,2)+Math.pow(c-h.y,2));h.a2595()&&h.a2595().a1485(0),egret.Tween.get(h).wait(300).to({x:u,y:c},1.2*g).call(function(){t.setChildIndex(h,999),h.a2595().a1484(0)})}return this.ani=h,h}},e.prototype.a2566=function(){var t=this;this.tipsID&&(egret.clearTimeout(this.tipsID),this.tipsID=0),egret.setTimeout(function(){t.tipsID&&(egret.clearTimeout(t.tipsID),t.tipsID=0)},this,10)},e.prototype.a2567=function(){this.tipsID&&egret.clearTimeout(this.tipsID);var t=a1228.a1226.a2525(151);t||(this.tipsID=egret.setTimeout(function(){a1228.a1245.a2612(langue.guideTip)},this,100))},e.prototype.a2568=function(t,e,i){if(!this.Prompt&&!this.ani){var a=ObjectPool.pop("a1239");return a.initData("shou_shou",-1,1,0,!0,"shou_shou"),a.x=e-110,a.y=i-130,t.addChild(a,999),this.Prompt=a,a}},e.prototype.a2569=function(){this.Prompt&&this.Prompt.parent&&this.Prompt.parent.removeChild(this.Prompt),this.Prompt=null},e.prototype.a2570=function(){this.ani&&this.ani.parent&&this.ani.parent.removeChild(this.ani),this.ani=null;for(var t=0;t<this.groups.length;++t){var e=this.groups[t];e&&e.parent&&e.parent.removeChild(e)}this.groups=[]},e.prototype.a2571=function(t){this.ani&&this.ani.parent&&this.ani.parent.removeChild(this.ani),this.ani=null,a1232.guideStep=t+1,"kwaigame"==platform.name&&GuideTaskID>t&&t>GuideTaskID-1&&(a1232.guideStep=GuideTaskID),a1232.isDebug&&localStorage.setItem("guideStep",""+a1232.guideStep),a1228.a1225.applyFunc(10004,5041);for(var e=0;e<this.groups.length;++e){var i=this.groups[e];i&&i.parent&&i.parent.removeChild(i)}this.groups=[]},e.prototype.a2572=function(t,e,i,a,n,r,s){var o=this;void 0===s&&(s=.01),a=Math.floor(a),n=Math.floor(n);var l=a1228.a1122.a1872(),h=a1228.a1122.a1873(),p=new eui.Rect(a,h,0),u=new eui.Rect(e,n,0),c=new eui.Rect(l-a-e,h,0),d=new eui.Rect(e,h-n-i,0),g=new eui.Rect(e,i,0);p.x=0,p.y=0,u.x=a,u.y=0,c.x=a+e,c.y=0,d.x=a,d.y=n+i,g.x=a,g.y=n,p.alpha=u.alpha=c.alpha=d.alpha=s,g.alpha=.01,t.addChild(p),t.addChild(u),t.addChild(c),t.addChild(d),t.addChild(g);
for(var f=0;f<this.groups.length;++f){var m=this.groups[f];m&&m.parent&&m.parent.removeChild(m)}this.groups=[p,u,c,d,g],r&&a1251.a1412(this,g,egret.TouchEvent.TOUCH_TAP,function(){o.a2566(),setTimeout(function(){o.a2566()},10),r&&r()},!1)},e}(a1115);__reflect(a1233.prototype,"a1233");var GuideTaskID=1.5,systemOpenPass={zhuanpan:6,kunshou:7,task:8,tujian:9,breakegg:10,fuben:11,cheer:12,newboss:13,limitfood:14,character:24,produce:38,grow:62,zhenba:66},a1236=function(t){function e(){var e=t.call(this)||this;return e._currBg="",e}return __extends(e,t),e.prototype.stop=function(){this._currSoundChannel&&this._currSoundChannel.stop(),this._currSoundChannel=null,this._currSound=null,this._currBg=""},e.prototype.play=function(t,e){void 0===e&&(e=0),this.stop(),this._currBg=t;var i=this.a1947(t);i&&this.a2576(i,e)},e.prototype.a2576=function(t,e){var i=this;void 0===e&&(e=0),this._currSound=t,this.tid&&(clearTimeout(this.tid),this.tid=0),this.tid=setTimeout(function(){i.tid=0,i._currSoundChannel=t.play(0,e)},1e3)},e.prototype.setVolume=function(t){this._volume=t,this._currSoundChannel&&(this._currSoundChannel.volume=this._volume)},e.prototype.loadedPlay=function(t){this._currBg==t&&this.a2576(RES.getRes(t))},e.prototype.a1949=function(t){return this._currBg!=t},e}(a1120);__reflect(a1236.prototype,"a1236");var a1237=function(t){function e(){var e=t.call(this)||this;return e._channels={},e}return __extends(e,t),e.prototype.play=function(t){var e=this,i=this.a1947(t);if(i){var a=i.play(0,1);a.volume=this._volume,this._channels[t]||(this._channels[t]=[]),a.effectName=t,this._channels[t].push(a),a.addEventListener(egret.Event.SOUND_COMPLETE,this.a2578,this),setTimeout(function(){e.a2578({currentTarget:{effectName:t,channel2:a}})},1e4)}},e.prototype.a2578=function(t){var e=t.currentTarget,i=e&&e.effectName;if(e=e.channel2||e,this._channels[i]){var a=this._channels[i].indexOf(e);-1!=a&&(e.removeEventListener(egret.Event.SOUND_COMPLETE,this.a2578,this),this._channels[i].splice(a,1)),0==this._channels[i].length&&delete this._channels[i]}},e.prototype.stop=function(t){var e=this._channels[t];if(e){for(var i=0;i<e.length;++i)e[i].stop();delete this._channels[t]}},e.prototype.a2579=function(){for(var t in this._channels)this.stop(t);this._channels={}},e.prototype.setVolume=function(t){this._volume=t},e.prototype.loadedPlay=function(t){this.play(t)},e}(a1120);__reflect(a1237.prototype,"a1237");var a1238=function(t){function e(){var e=t.call(this)||this;return e.bgMusicUrl="bg_mp3",e.bgMusicUrl2="chaoxuebgm_mp3",e.bgOn=!0,e.effectOn=!0,e.bgVolume=1,e.effectVolume=.8,e.bg=new a1236,e.bg.setVolume(e.bgVolume),e.effect=new a1237,e.effect.setVolume(e.effectVolume),e}return __extends(e,t),e.prototype.playEffect=function(t){a1232.musicState&&this.effectOn&&this.effect.play(t)},e.prototype.a2581=function(t){this.effect.stop(t)},e.prototype.a2582=function(){this.effect.a2579()},e.prototype.a2583=function(t){void 0===t&&(t=void 0),(t===!0||t===!1)&&(this.isGame=t),this.bgOn&&(this.isGame?this.bg.play(this.bgMusicUrl,0):this.bg.play(this.bgMusicUrl2,0))},e.prototype.a2584=function(){this.bg.stop()},e.prototype.a2585=function(t){this.effectOn=t,this.effectOn||this.a2582()},e.prototype.a2586=function(t,e){void 0===e&&(e=!0),this.bgOn=t,this.bgOn?e&&this.a2583():this.a2584()},e.prototype.a2587=function(){this.bg&&(this.bg.setVolume(0),this.bg.stop())},e.prototype.a2588=function(t){t=Math.min(t,1),t=Math.max(t,0),this.bgVolume=t,this.bg&&this.bg.setVolume(this.bgVolume)},e.prototype.a2589=function(){return this.bgVolume},e.prototype.a2590=function(t){t=Math.min(t,1),t=Math.max(t,0),this.effectVolume=t,this.effect.setVolume(this.effectVolume)},e.prototype.a2591=function(){return this.effectVolume},e.CLEAR_TIME=18e4,e}(a1115);__reflect(a1238.prototype,"a1238");var a1239=function(t){function e(){var e=t.call(this)||this;return e.rate=1,e.frameRate=0,e.id=0,e._movieclip=null,e}return __extends(e,t),e.prototype.initData=function(t,e,i,a,n,r,s){void 0===e&&(e=-1),void 0===i&&(i=1),void 0===a&&(a=12),void 0===n&&(n=!0),void 0===r&&(r="play"),void 0===s&&(s=!1),this.id=t,this.repeat=e,this.rate=i,this.scaleX=i,this.scaleY=i,this.frameRate=a,this.frameName=r,this.initStop=s,this.visible=!0,this.alpha=1;var o=""+t,l=o+"_json",h=o+"_png",p=[l,h];RES.createGroup(o,p,!1),this.resGroupName=o,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),n&&this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1692,this)},e.prototype.a2592=function(t,e){this.scaleX=t,this.scaleY=e},e.prototype.reset=function(){egret.Tween.removeTweens(this),this.name=null,this.resGroupName=null,this.x=0,this.y=0,this.anchorOffsetX=0,this.anchorOffsetY=0,this.rotation=0,this._movieclip&&!this.closeCB&&(this._movieclip.removeEventListener(egret.Event.COMPLETE,this.a2596,this),this._movieclip.stop(),this.removeChild(this._movieclip),ObjectPool.push(this._movieclip),this._movieclip=null)},e.prototype.a2593=function(t){this.closeCB=t},e.prototype.a2594=function(t){this.playCompleteCB=t},e.prototype.a1692=function(){return this.reset(),this.closeCB?void this.closeCB():(this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.a1692,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),void(this.parent&&(this.parent.removeChild(this),ObjectPool.push(this))))},e.prototype.onAddToStage=function(){this.closeCB||this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),RES.a1525(this.resGroupName)?this._doResourceLoadComplete():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup(this.resGroupName))},e.prototype.onResourceLoadComplete=function(t){t.groupName==this.resGroupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this._doResourceLoadComplete())},e.prototype._doResourceLoadComplete=function(){if(this.closeCB&&this._movieclip)return void(this.initStop?this._movieclip.a1485(this.frameName):this._movieclip.a1484(this.frameName,this.repeat));var t=RES.getRes(this.resGroupName+"_json"),e=RES.getRes(this.resGroupName+"_png"),i=new egret.MovieClipDataFactory(t,e);i.enableCache=!1;var a=ObjectPool.pop("egret.MovieClip");a.movieClipData=i.generateMovieClipData(this.resGroupName),a.smoothing=!0,this.frameRate?a.frameRate=this.frameRate:this.frameRate=a.frameRate,this._movieclip=a,this.addChild(a);var n=this.frameName;-1!=this.repeat&&a.addEventListener(egret.Event.COMPLETE,this.a2596,this),this.initStop?a.a1485(n):a.a1484(n,this.repeat)},e.prototype.a2595=function(){return this._movieclip},e.prototype.a2596=function(t,e){this._movieclip&&t.currentTarget.hashCode==this._movieclip.hashCode&&(this.playCompleteCB&&this.playCompleteCB(),this.playCompleteCB=null,this.a1692())},e}(egret.Sprite);__reflect(a1239.prototype,"a1239"),window.a1239=a1239,window["egret.MovieClip"]=egret.MovieClip,window["eui.Image"]=eui.Image;var a1240=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.a2597=function(t,e){void 0===e&&(e=1);var i="";switch(e){case 1:i=this.a2598(t);break;case 2:i=this.a2599(t);break;case 3:i=this.a2600(t);break;case 4:i=this.a2601(t);break;case 5:i=this.a2602(t);break;case 6:i=this.a2603(t)}return i},e.prototype.a2598=function(t){if(void 0===t&&(t=0),t>0){var e=Math.floor(t/3600),i=e>=10?""+e:"0"+e,a=Math.floor(t/60)%60,n=t%60,r=a>=10?""+a:"0"+a,s=n>=10?""+n:"0"+n;return i+":"+r+":"+s}return"00:00:00"},e.prototype.a2599=function(t){if(void 0===t&&(t=0),t>0){var e=Math.floor(t/60),i=t%60,a=e>=10?""+e:"0"+e,n=i>=10?""+i:"0"+i;return a+":"+n}return"00:00"},e.prototype.a2600=function(t){if(t>0){var e=Math.floor(t/3600);if(e>0){if(e>24){var i=Math.floor(e%24),a=i>0?i+langue.xiaoshi:"",n=Math.floor(t/60%60),r=n>0?n+langue.fenzhong:"";return Math.floor(e/24)+langue.time1+a+r}var n=Math.floor(t/60%60),r=n>0?n+langue.fenzhong:"";return e+langue.xiaoshi+r}if(t>60){var s=Math.floor(t%60),o=s>0?s+langue.time4:"";return Math.floor(t/60%60)+langue.fenzhong+o}return t+langue.time4}return"0"},e.prototype.a2601=function(t){if(t>0){var e=Math.floor(t/3600);return e>0?e>24?Math.floor(e/24)+langue.time1:e+langue.xiaoshi:t>60?Math.floor(t/60)+langue.fenzhong:t+langue.time4}return"0"},e.prototype.a2602=function(t){if(t>0){var e=Math.floor(t/3600),i=0,a=0,n=0,r=0,s="";if(e>0)if(e>24){i=Math.floor(e/24);var o=Math.floor(e%24);a=o>0?o:0;var l=Math.floor(t/60%60);n=l>0?l:0;var h=Math.floor(t%60);r=h>0?h:0}else{a=e;var l=Math.floor(t/60%60);n=l>0?l:0;var h=Math.floor(t%60);r=h>0?h:0}else if(t>60){var l=Math.floor(t/60%60);n=l>0?l:0;var h=Math.floor(t%60);r=h>0?h:0}else r=t;return i>0&&(s+=i+langue.time1),a>0&&(s+=a+langue.xiaoshi),n>0&&(s+=n+langue.fenzhong),s}return"0"},e.prototype.a2603=function(t){if(void 0===t&&(t=0),t>0){var e=Math.floor(t/3600),i=Math.floor(t/60)%60,a=e>=10?""+e:"0"+e,n=i>=10?""+i:"0"+i;return a+":"+n}return"00:00"},e.prototype.a2604=function(t){var e=new Date;e.setTime(1e3*t);var i=e.getFullYear(),a=e.getMonth()+1,n=10>a?"0"+a:a,r=e.getDate(),s=10>r?"0"+r:r,o=e.getHours(),l=10>o?"0"+o:o,h=e.getMinutes(),p=10>h?"0"+h:h,u=e.getSeconds(),c=10>u?"0"+u:u;return i+"-"+n+"-"+s+" "+l+":"+p+":"+c},e.prototype.a2605=function(t){var e=t.trim(),i=new Date(e).getTime()/1e3;return i},e}(a1115);__reflect(a1240.prototype,"a1240");var a1241=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(a1113);__reflect(a1241.prototype,"a1241");var a1242=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"IsWxGame",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsHtml5",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMobile",{get:function(){return egret.MainContext.deviceType==egret.MainContext.DEVICE_MOBILE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsPC",{get:function(){return egret.MainContext.deviceType==egret.MainContext.DEVICE_PC},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsQQBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsIEBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFirefoxBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsChromeBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSafariBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOperaBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},enumerable:!0,configurable:!0}),e}(a1115);__reflect(a1242.prototype,"a1242");var a1235=function(){function t(){this.data={}}return t.prototype.toString=function(){var t="";for(var e in this.data)t+=""==t?e+"="+this.data[e]:"&"+e+"="+this.data[e];return t},t}();__reflect(a1235.prototype,"a1235");var a1244=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.a1931=function(t){null!=t.parent&&t.parent.removeChild(t)},e}(a1115);__reflect(a1244.prototype,"a1244");var a1245=function(t){function e(){var e=t.call(this)||this;return e.lastBannerTime=0,e.tipsFlag=!1,e.posList=[],e.posList1=[],e.actorPool=[],e.aniSpritePool=[],e.sideTipsPool=[],e.showbanner=!1,e.bitmapCachs=[],e}return __extends(e,t),e.prototype.a2606=function(t,e){for(var i=[[20,300],[15,300],[10,300],[5,300]],a="egret.Tween.get("+t+")",n=0,r=i.length;r>n;n++)a+=".to({'y':"+e+"-"+i[n][0]+"}, "+i[n][1]+")",a+=".to({'y':"+e+"}, "+i[n][1]+")";return a+=";"},e.prototype.a2607=function(t,e){t.alpha=1,egret.Tween.get(t).to({alpha:0},e).to({alpha:1},e).call(this.a2607,this,[t])},e.prototype.a2608=function(t){t&&egret.Tween.removeTweens(t)},e.prototype.a2609=function(t,e,i,a,n,r,s){var o=RES.getRes(e+"_ske_json"),l=RES.getRes(e+"_tex_json"),h=RES.getRes(e+"_tex_png"),p=dragonBones.EgretFactory.factory;p.parseDragonBonesData(o),p.parseTextureAtlasData(l,h);var u=p.buildArmatureDisplay(e);return t.addChild(u),u.x=i,u.y=a,u.scaleX=n,u.scaleY=r,u.addEventListener(dragonBones.EventObject.COMPLETE,function(e){t.removeChild(u)},this),u.animation.play(e,s),u},e.prototype.a2116=function(t,e){if(e)for(var i in t.items)t.items[i].props={loop:!0};t.play()},e.prototype.CreateFrameAnimation=function(t,e,i,a,n){var r=this,s=!1,o=!1,l=t;-1!=t.indexOf("long")&&(s=!0,-1!=t.indexOf("1")&&(o=!0,l=t.replace("1","")));var h=a1232.dinosaurZip,p=h.file(l+"_ske.json");if(!a1232.dinosaurZip2&&s&&!p){t=t.replace("da","").replace("boss",""),l=t;var u="dinosaur2_zz";RES.a1528(u,function(){var t=RES.getRes(u);if(t){var e=t.byteLength,i=new Uint8Array(t.slice(867,e-14));a1232.dinosaurZip2=new JSZip(i.reverse()),RES.a1530(u);for(var a=a1228.ActorMgr.a2502(1),n=0;n<a.length;++n){var r=a[n].a1871();if(r&&r.actorName!=a[n].aniName){var s=a[n].a1870(),o=a1228.ActorMgr.a2495().getID()==a[n].getID();a[n].init(s.x,s.y,null,a[n].aniName),o&&a1228.ActorMgr.a2497(a[n].a1871())}}}},this)}a1232.dinosaurZip2&&s&&!p&&(h=a1232.dinosaurZip2);var c,d=dragonBones.EgretFactory.factory;try{if(!d.a1825(t)){var g=void 0,f={jilongboss1:1,jiasidunlongboss1:1,jiasidunlongda1:1};if(l=encodeURI(l),o&&!f[t]){g=RES.getRes(l+"_ske_json"),g||(g=JSON.parse(h.file(l+"_ske.json").asText())),g.name=t,d.parseDragonBonesData(g);var m=d.a1825(t),v=m.a1768(l);v.name=t,m.a1767(v)}else g=RES.getRes(t+"_ske_json"),g||(g=JSON.parse(h.file(t+"_ske.json").asText())),d.parseDragonBonesData(g)}var y=RES.getRes(t+"_tex_json"),b=RES.getRes(t+"_tex_png");d.a1827(t)&&y&&b||(y||o||(y=JSON.parse(h.file(t+"_tex.json").asText())),!o||y||b?y&&!b?RES.a1528(t+"_tex_png",function(){var e=RES.getRes(t+"_tex_png");if(y&&e){d.parseTextureAtlasData(y,e);var i=c;if(i&&i._armature&&i._armature._slots)for(var a=0,n=i._armature._slots;a<n.length;a++){var r=n[a];d.replaceSlotDisplayList(i.actorName,i.actorName,r.name,r)}}},this):y&&b&&d.parseTextureAtlasData(y,b):RES.a1528(t+"_tex_json",function(){var e=RES.getRes(t+"_tex_json");RES.a1528(t+"_tex_png",function(){var i=RES.getRes(t+"_tex_png");if(e&&i){d.parseTextureAtlasData(e,i);var a=c;if(a&&a._armature&&a._armature._slots)for(var n=0,r=a._armature._slots;n<r.length;n++){var s=r[n];d.replaceSlotDisplayList(a.actorName,a.actorName,s.name,s)}}},r)},this)),c=d.buildArmatureDisplay(e||t,t,t,t),i&&a?(c.scaleX=i,c.scaleY=a):(c.scaleX=1,c.scaleY=1)}catch(_){if(s&&!n)return this.CreateFrameAnimation(t,e,i,a,!0);c=new dragonBones.EgretArmatureDisplay}if(!c){if(s&&!n)return this.CreateFrameAnimation(t,e,i,a,!0);c=new dragonBones.EgretArmatureDisplay}return c.actorName=t,c},e.prototype.a2610=function(t,e,i,a){for(var n=0;n<this.actorPool.length;++n){var r=this.actorPool[n];if(r.actorName==t)return r.visible=!0,r.alpha=1,this.actorPool.splice(n,1),r}return this.CreateFrameAnimation(t,e,i,a)},e.prototype.a2611=function(t){if(t&&t.animation&&(this.actorPool.push(t),this.actorPool.length>6)){var e=this.actorPool.shift();e.dispose()}},e.prototype.CreateAniSpriteByPool=function(t,e,i,a,n,r,s){var o=this;void 0===e&&(e=-1),void 0===i&&(i=1),void 0===a&&(a=12),void 0===n&&(n=!0),void 0===r&&(r="play"),void 0===s&&(s=!1);for(var l=function(e){var i=h.aniSpritePool[e];return i.aniName==t?(i.reset(),h.aniSpritePool.splice(e,1),i.a2593(function(){i&&(i.parent.removeChild(i),o.aniSpritePool.push(i))}),{value:i}):void 0},h=this,p=0;p<this.aniSpritePool.length;++p){var u=l(p);if("object"==typeof u)return u.value}var c=ObjectPool.pop("a1239");return c.initData(t,e,i,a,!1,r,s),c.aniName=t,c.a2593(function(){c&&(c.parent.removeChild(c),o.aniSpritePool.push(c))}),c},e.prototype.a2612=function(t){var e=this;if(!this.tipsFlag){this.tipsFlag=!0,setTimeout(function(){e.tipsFlag=!1},500);var i=0,a=(a1228.a1122.a1872(),a1228.a1122.a1873()),n=new eui.Group;n.horizontalCenter=0,n.y=a/2,n.y-i<50&&(n.y=i+50),a1220.UI_Tips.addChildAt(n,9999);var r=new eui.Image,s=new eui.Label(t);if(r.source="czcs_png",s.horizontalCenter=0,s.verticalCenter=0,s.bold=!0,s.size=34,s.textColor=16711656,s.width>650&&(s.width=650,n.width=650),s.numLines>1){var o=t.indexOf(" ",25);-1!=o&&(s.text=t.substring(0,o)+"\n"+t.substring(o+1))}s.textAlign=egret.HorizontalAlign.CENTER,r.top=0,r.bottom=0,r.left=0,r.right=0,n.addChild(r),n.addChild(s),egret.Tween.get(n).wait(50).to({y:n.y-120},800).to({alpha:0},50).call(function(){n&&n.parent&&n.parent.removeChild(n)})}},e.prototype.a2613=function(t){var e=this;if(!this.tipsFlag){this.tipsFlag=!0,setTimeout(function(){e.tipsFlag=!1},500);var i=0,a=a1228.a1122.a1872(),n=a1228.a1122.a1873(),r=new eui.Group;r.width=100,r.height=50,r.x=a/2-50,r.y=n/2,r.y-i<50&&(r.y=i+50),a1220.UI_Tips.addChildAt(r,9999);var s=new eui.Image,o=new eui.Image,l=new eui.Label(t);s.source="czcs_png",s.scaleX=50*t.length/380,s.height=60,s.horizontalCenter=0,s.verticalCenter=0,l.horizontalCenter=-25,l.verticalCenter=0,l.bold=!0,l.size=34,l.textColor=16711656,o.source="lg_png",o.scaleX=.8,o.scaleY=.8,o.horizontalCenter=l.width/2+10,o.verticalCenter=0,r.addChild(s),r.addChild(o),r.addChild(l),egret.Tween.get(r).wait(50).to({y:r.y-120},800).to({alpha:0},50).call(function(){r&&r.parent&&r.parent.removeChild(r)})}},e.prototype.a2614=function(t,e){var i=this,a=0,n=this.posList1.length;n>0&&(a=this.posList1[n-1]);var r,s=(a1228.a1122.a1872(),a1228.a1122.a1873());if(this.sideTipsPool.length>0)r=this.sideTipsPool.shift();else{r=new eui.Group;var o=new eui.Image,l=new eui.Label;o.source="blackbg1_png",o.height=50,o.horizontalCenter=0,o.verticalCenter=0,l.verticalCenter=0,l.bold=!0,l.stroke=1,l.size=25,l.textColor=3336923,l.stroke=3,l.strokeColor=1905426;var h=new eui.Image;h.width=45,h.height=45,r.icon=h,r.label=l,r.bg=o,r.addChild(o),r.addChild(h),r.addChild(l)}r.y=s/2-450,r.y-a<50&&s/2-250>a&&(r.y=a+70),a1220.UI_Main.addChildAt(r,9999);var p=r.icon,u=r.label,c=r.bg;1==t?(p.source="ICON_zs_png",u.text=langue.fuwen+" +"+a1232.priceFormat(e,!0)):2==t&&(p.source="ICON_longgu_png",u.text=langue.longgu+" +"+a1232.priceFormat(e,!0)),c.width=p.width+u.width+110,p.verticalCenter=0,r.x=-c.width,p.x=r.width-(p.width+20),u.x=r.width-(p.width+u.width+30),this.posList1.push(r.y),egret.Tween.get(r).to({x:-70},300).to({x:-40},70).to({x:-70},70).wait(2e3).to({alpha:0},1e3).call(function(){i.posList1.shift(),r&&r.parent&&(r.parent.removeChild(r),r.alpha=1,i.sideTipsPool.push(r))})},e.prototype.openBanner=function(t){var e=this;void 0===t&&(t=1),platform.isLocal()||("android"==platform.name?(this.bannerid1&&clearTimeout(this.bannerid1),this.bannerid1=setTimeout(function(){var i=Math.floor(egret.getTimer()/1e3),a=!1;i-e.lastBannerTime>150&&(e.lastBannerTime=i,a=!0);var n=a1228.a1122.a1957(),r=a1228.a1226.a2526(132)||a1228.a1226.a2526(146)||a1228.a1226.a2526(140)||a1228.a1226.a2526(173)||a1228.a1226.a2526(171)||a1228.a1226.a2526(181)||a1228.a1226.a2526(142);platform.openBanner(a,t,n,r)},50)):FBAdManager.isBannerReady()&&!this.showbanner&&(FBAdManager.showBannerAsync().then(function(){})["catch"](function(t){}),this.showbanner=!0))},e.prototype.closeBanner=function(){platform.isLocal()||("android"==platform.name?(this.bannerid2&&clearTimeout(this.bannerid2),platform.closeBanner()):(FBAdManager.hideBannerAsync().then(function(){})["catch"](function(t){}),this.showbanner=!1))},e.prototype.a2615=function(){var t=this,e=a1228.a1226.a2525(102),i=a1228.a1226.a2525(100);if(!e||!e.adImg2||0==e.adImg2.y)return void setTimeout(function(){t.a2615()},100);for(var a=a1228.a1226.a2529(),n=0,r=0;r<a.length;++r)100!=a[r]&&171!=a[r]&&(n+=1);if(1!=n||i)platform.hideCustomAd();else{var s=!1,o=0,l=a1228.a1226.a2525(102);l&&(o=(l.adImg2.a1263(0,0).y-a1228.a1122.a1873()/2+640)/1280),platform.shouCustomAd(s,o,l)}},e.prototype.a2616=function(t,e,i,a){var n=a1232.getServerTime();a?a>n&&(a=Math.floor(a/1e3)):a=n;var r=0;r=e.length>0?0:1;var s={type:t,Isread:0,a2262:r,reward:e||[],Time:a};i&&(s.content=i),4==t&&(1==s.Isread,1==s.a2262);var o=1,l=[],h=604800;for(var p in a1232.maildata)Number(p)+1>o&&(o=Number(p)+1),(4==t&&4==a1232.maildata[p].type||n-a1232.maildata[p].Time>h)&&l.push(p);for(var p=0;p<l.length;++p)delete a1232.maildata[l[p]];a1232.maildata[o]=s;var u=Object.keys(a1232.maildata);u.length>20&&delete a1232.maildata[u[0]],a1232.isDebug&&localStorage.setItem("maildata",JSON.stringify(a1232.maildata)),a1228.a1225.applyFunc(10004,5041,"extData")},e.prototype.formatDate=function(t){void 0===t&&(t=0);var e=t&&new Date(1e3*t)||new Date(a1232.getServerTime()),i=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return n+langue.year+a+langue.month+i+langue.day},e.prototype.random_num=function(t,e){var i=e-t,a=Math.random();return t+Math.round(a*i)},e.prototype.Rand_Animation=function(t,e,i,a,n,r,s,o,l,h,p){var u=this;void 0===t&&(t=!0),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=7);for(var c=[],d=a1228.a1122.a1872(),g=a1228.a1122.a1873(),f=a,m=n,v=[1,2,3,4,5],y=0;o>y;y++){var b;b=this.bitmapCachs.length>0?this.bitmapCachs.shift():new egret.Bitmap;var _=RES.getRes(i);if(b.texture=_,null==r||null==s)b.x=250*d/720+this.random_num(0,200),b.y=500*g/1280+this.random_num(0,40);else{var A=Math.floor(Math.random()*v.length);b.x=r+30*v[A]-60,b.y=s,v.splice(A,1)}l?(b.scaleX=l,b.scaleY=l):(b.scaleX=.7,b.scaleY=.7),c.push(b),e.addChild(b)}var T=p;T||(T=800);for(var C=function(e){var a=c[e],n=w.random_num(0,20);egret.Tween.get(a).to({y:a.y+50+n},100+20*e,egret.Ease.backInOut).to({x:a.x+5,y:a.y+50-n},40+20*e).to({x:a.x+10,y:a.y+50+n},40+20*e).to({x:a.x+15,y:a.y+50-n/2},20+20*e).to({x:a.x+20,y:a.y+50+n},20+20*e).wait(T).to({x:f,y:m},500+20*e).call(function(){t&&("ICON_longgu_png"==i?a1228.a1238.playEffect("Diamond_mp3"):"ICON_zs_png"==i&&a1228.a1238.playEffect("jinbizuanshi_mp3")),a.parent&&(a.parent.removeChild(a),u.bitmapCachs.push(a)),h&&h()})},w=this,x=0;x<c.length;x++)C(x)},e.prototype.createBitmap=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.a2619=function(t,e,i){return e.clickEnable?!1:(e.clickEnable=!0,a1228.a1252.doTimer(i,1,function(){e&&(e.clickEnable=!1)},this),!0)},e}(a1115);__reflect(a1245.prototype,"a1245");var CBitmapText=function(t){function e(e){var i=t.call(this)||this;i._lable=new egret.BitmapText;var a=RES.getRes(e);return i._lable.font=a,i.fontname=e,i._lable.verticalAlign=egret.VerticalAlign.MIDDLE,i.addChild(i._lable),i}return __extends(e,t),e.create=function(t){e.pool[t]||(e.pool[t]=[]);var i;return i=e.pool[t].length>0?e.pool[t].shift():new e(t),i.scaleX=1,i.scaleY=1,i.alpha=1,i},e.remove=function(t){e.pool[t.fontname]||(e.pool[t.fontname]=[]),e.pool[t.fontname].push(t),t.parent&&t.parent.removeChild(t)},e.prototype.setString=function(t){this._lable.text=t},e.prototype.setSpace=function(t){this._lable.letterSpacing=t},e.prototype.release=function(){this._lable&&(this.removeChild(this._lable),this._lable=null),this.parent&&this.parent.removeChild(this)},e.pool={},e}(egret.DisplayObjectContainer);__reflect(CBitmapText.prototype,"CBitmapText");var a1247=function(t){function e(){var e=t.call(this)||this;return e.errList=[],e.lastTime=0,e}return __extends(e,t),e.prototype.onError=function(t){},e.prototype.a2623=function(t,e,i,a,n,r){var s=this;if(void 0===e&&(e=egret.URLRequestMethod.GET),void 0===i&&(i=null),void 0===r&&(r=!0),t&&"999"!=a1232.trackId&&a1228.GlobalData&&!a1228.GlobalData.closeServerTip){-1==t.indexOf("http")&&(t=a1232.URL_BASE+t);var o="";if(platform.isLocal()&&i.propsId&&(o=i.propsId),i.sign||(t+=a1232.loginTime?"?t="+(1e3*a1232.loginTime+egret.getTimer()):"?t="+egret.getTimer()),r){if(i.stime=egret.getTimer()+1e3*a1232.TimeDifference,i.sign=a1248.md5(""+a1232.trackId+a1232.gameID+i.stime+a1228.a+(null!=i.num?i.num:"")+o),!a1232.trackId)return;if(i.stime<=this.lastTime)return void setTimeout(function(){s.a2623(t,e,i,a,n,r)},30);this.lastTime=i.stime}-1!=t.indexOf("openLogin")&&(i.s=a1248.md5(""+a1232.gameID+i.openid+i.type+t.replace("https","http"))),a1232.gameAreaId&&(i.gameAreaId=a1232.gameAreaId);var l={url:t,method:e,params:i,sucessCallback:a,errorCallback:n};if(!i||null==i.trackId||a1232.trackId&&i.trackId==a1232.trackId){var h=new egret.URLRequest;h.url=t,h.method=e;var p="";if(i)for(var u in i)p+=u+"="+encodeURIComponent(i[u])+"&";p=p.substring(0,p.length-1),h.data=new egret.URLVariables(p),this.load(h,l)}}},e.prototype.$getUrl=function(t){var e=t.url;return-1==e.indexOf("?")&&t.method==egret.URLRequestMethod.GET&&t.data&&t.data instanceof egret.URLVariables&&(e=e+"?"+t.data.toString()),e},e.prototype.load=function(t,e){var i=this,a=this.$getUrl(t),n=new egret.HttpRequest;n.open(a,t.method==egret.URLRequestMethod.POST?egret.HttpMethod.POST:egret.HttpMethod.GET);var r;if(t.method!=egret.URLRequestMethod.GET&&t.data)if(t.data instanceof egret.URLVariables){n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s=t.data;r=s.toString()}else n.setRequestHeader("Content-Type","multipart/form-data"),r=t.data;else;platform.isLocal()&&(n.timeout=15e3);for(var o=t.requestHeaders.length,l=0;o>l;l++){var h=t.requestHeaders[l];n.setRequestHeader(h.name,h.value)}n.addEventListener(egret.Event.COMPLETE,function(){var t,a=n.response,r=a&&a.toString();try{t=r&&JSON.parse(r)}catch(s){}var o=!1;if(t&&t.dateTime&&Math.abs(t.dateTime-1e3*a1232.getServerTime())>6e4&&-1==e.url.indexOf(a1232.URL_INIT)&&-1==e.url.indexOf(a1232.URL_CODE_LOGIN)&&(o=!0),!o&&t&&0==t.result&&4!=t.status&&3!=t.status&&2!=t.status&&t.status<10){if(1==t.status)return void a1228.a1245.a2612(t.msg);e.sucessCallback&&e.sucessCallback(t)}else{var l=a1228.a1226.a2525(102);if(e.errorCallback&&a1228.Main.loginCount<5&&e.errorCallback(null),!l)return;a1232.guideStep>5&&-1==e.url.indexOf("open/")&&-1==e.url.indexOf("water")&&setTimeout(function(){platform.isLocal()?-1==e.url.indexOf(a1232.URL_INIT)&&-1==e.url.indexOf(a1232.URL_CODE_LOGIN)&&i.a2623(e.url,e.method,e.params,e.sucessCallback,e.errorCallback):-1==e.url.indexOf(a1232.URL_INIT)&&-1==e.url.indexOf(a1232.URL_CODE_LOGIN)&&i.a2623(e.url,e.method,e.params,e.sucessCallback,e.errorCallback)},1e3),a1232.trackId&&-1==e.url.indexOf("open/")&&-1==e.url.indexOf("water")&&i.errList.push(a1232.getServerTime()),i.errList.length>0&&a1232.getServerTime()-i.errList[0]>300&&i.errList.shift(),(a1228.Main.loginCount>=5||o||t&&2==t.status||i.errList.length>=5)&&a1232.getServerTime()-a1232.loginTime>3&&(a1232.trackId="",i.errList=[],a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!0}}))}},this),n.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){var t=this;e.errorCallback&&a1228.Main.loginCount<5&&e.errorCallback(null);var i=a1228.a1226.a2525(102);i&&(a1232.trackId&&-1==e.url.indexOf("open/")&&-1==e.url.indexOf("water")&&this.errList.push(a1232.getServerTime()),this.errList.length>0&&a1232.getServerTime()-this.errList[0]>300&&this.errList.shift(),a1232.guideStep>5&&setTimeout(function(){-1==e.url.indexOf(a1232.URL_CODE_LOGIN)&&-1==e.url.indexOf(a1232.URL_INIT)&&t.a2623(e.url,e.method,e.params,e.sucessCallback,e.errorCallback)},1e3)),(this.errList.length>=5||a1228.Main.loginCount>=5)&&(this.errList=[],a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!0}})),platform.getNetworkType(function(e){e||(t.errList=[],a1232.trackId="",a1232.initdata=!1,a1228.Main.isLogining=!1,a1228.a1225.applyFunc(10004,5170,{content:langue.connectErr,type:3,callback:function(){return a1228.Main.loginCount=Math.min(a1228.Main.loginCount,2),a1228.Main.a2479(),!0}}))})},this),n.responseType=egret.HttpResponseType.TEXT,n.send(r)},e}(a1115);__reflect(a1247.prototype,"a1247");var a1248=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.base64decode=function(t){var e,i,a,n,r,s,o,l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];for(s=t.length,r=0,o="";s>r;){do e=l[255&t.charCodeAt(r++)];while(s>r&&-1==e);if(-1==e)break;do i=l[255&t.charCodeAt(r++)];while(s>r&&-1==i);if(-1==i)break;o+=String.fromCharCode(e<<2|(48&i)>>4);do{if(a=255&t.charCodeAt(r++),61==a)return o;a=l[a]}while(s>r&&-1==a);if(-1==a)break;o+=String.fromCharCode((15&i)<<4|(60&a)>>2);do{if(n=255&t.charCodeAt(r++),61==n)return o;n=l[n]}while(s>r&&-1==n);if(-1==n)break;o+=String.fromCharCode((3&a)<<6|n)}return o},e.base64encode=function(t){var e,i,a,n,r,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=t.length,i=0,e="";a>i;){if(n=255&t.charCodeAt(i++),i==a){e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4),e+="==";break}if(r=t.charCodeAt(i++),i==a){e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4|(240&r)>>4),e+=o.charAt((15&r)<<2),e+="=";break}s=t.charCodeAt(i++),e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4|(240&r)>>4),e+=o.charAt((15&r)<<2|(192&s)>>6),e+=o.charAt(63&s)}return e},e.md5=function(t){function e(t,e){return t<<e|t>>>32-e}function i(t,e){var i,a,n,r,s;return n=2147483648&t,r=2147483648&e,i=1073741824&t,a=1073741824&e,s=(1073741823&t)+(1073741823&e),i&a?2147483648^s^n^r:i|a?1073741824&s?3221225472^s^n^r:1073741824^s^n^r:s^n^r}function a(t,e,i){return t&e|~t&i}function n(t,e,i){return t&i|e&~i}function r(t,e,i){return t^e^i}function s(t,e,i){return e^(t|~i)}function o(t,n,r,s,o,l,h){return t=i(t,i(i(a(n,r,s),o),h)),i(e(t,l),n)}function l(t,a,r,s,o,l,h){return t=i(t,i(i(n(a,r,s),o),h)),i(e(t,l),a)}function h(t,a,n,s,o,l,h){return t=i(t,i(i(r(a,n,s),o),h)),i(e(t,l),a)}function p(t,a,n,r,o,l,h){return t=i(t,i(i(s(a,n,r),o),h)),i(e(t,l),a)}function u(t){for(var e,i=t.length,a=i+8,n=(a-a%64)/64,r=16*(n+1),s=Array(r-1),o=0,l=0;i>l;)e=(l-l%4)/4,o=l%4*8,s[e]=s[e]|t.charCodeAt(l)<<o,l++;
return e=(l-l%4)/4,o=l%4*8,s[e]=s[e]|128<<o,s[r-2]=i<<3,s[r-1]=i>>>29,s}function c(t){var e,i,a="",n="";for(i=0;3>=i;i++)e=t>>>8*i&255,n="0"+e.toString(16),a+=n.substr(n.length-2,2);return a}function d(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var a=t.charCodeAt(i);128>a?e+=String.fromCharCode(a):a>127&&2048>a?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e}var g,f,m,v,y,b,_,A,T,C=Array(),w=7,x=12,I=17,D=22,E=5,S=9,G=14,P=20,k=4,M=11,L=16,O=23,B=6,R=10,U=15,F=21;for(t=d(t),C=u(t),b=1732584193,_=4023233417,A=2562383102,T=271733878,g=0;g<C.length;g+=16)f=b,m=_,v=A,y=T,b=o(b,_,A,T,C[g+0],w,3614090360),T=o(T,b,_,A,C[g+1],x,3905402710),A=o(A,T,b,_,C[g+2],I,606105819),_=o(_,A,T,b,C[g+3],D,3250441966),b=o(b,_,A,T,C[g+4],w,4118548399),T=o(T,b,_,A,C[g+5],x,1200080426),A=o(A,T,b,_,C[g+6],I,2821735955),_=o(_,A,T,b,C[g+7],D,4249261313),b=o(b,_,A,T,C[g+8],w,1770035416),T=o(T,b,_,A,C[g+9],x,2336552879),A=o(A,T,b,_,C[g+10],I,4294925233),_=o(_,A,T,b,C[g+11],D,2304563134),b=o(b,_,A,T,C[g+12],w,1804603682),T=o(T,b,_,A,C[g+13],x,4254626195),A=o(A,T,b,_,C[g+14],I,2792965006),_=o(_,A,T,b,C[g+15],D,1236535329),b=l(b,_,A,T,C[g+1],E,4129170786),T=l(T,b,_,A,C[g+6],S,3225465664),A=l(A,T,b,_,C[g+11],G,643717713),_=l(_,A,T,b,C[g+0],P,3921069994),b=l(b,_,A,T,C[g+5],E,3593408605),T=l(T,b,_,A,C[g+10],S,38016083),A=l(A,T,b,_,C[g+15],G,3634488961),_=l(_,A,T,b,C[g+4],P,3889429448),b=l(b,_,A,T,C[g+9],E,568446438),T=l(T,b,_,A,C[g+14],S,3275163606),A=l(A,T,b,_,C[g+3],G,4107603335),_=l(_,A,T,b,C[g+8],P,1163531501),b=l(b,_,A,T,C[g+13],E,2850285829),T=l(T,b,_,A,C[g+2],S,4243563512),A=l(A,T,b,_,C[g+7],G,1735328473),_=l(_,A,T,b,C[g+12],P,2368359562),b=h(b,_,A,T,C[g+5],k,4294588738),T=h(T,b,_,A,C[g+8],M,2272392833),A=h(A,T,b,_,C[g+11],L,1839030562),_=h(_,A,T,b,C[g+14],O,4259657740),b=h(b,_,A,T,C[g+1],k,2763975236),T=h(T,b,_,A,C[g+4],M,1272893353),A=h(A,T,b,_,C[g+7],L,4139469664),_=h(_,A,T,b,C[g+10],O,3200236656),b=h(b,_,A,T,C[g+13],k,681279174),T=h(T,b,_,A,C[g+0],M,3936430074),A=h(A,T,b,_,C[g+3],L,3572445317),_=h(_,A,T,b,C[g+6],O,76029189),b=h(b,_,A,T,C[g+9],k,3654602809),T=h(T,b,_,A,C[g+12],M,3873151461),A=h(A,T,b,_,C[g+15],L,530742520),_=h(_,A,T,b,C[g+2],O,3299628645),b=p(b,_,A,T,C[g+0],B,4096336452),T=p(T,b,_,A,C[g+7],R,1126891415),A=p(A,T,b,_,C[g+14],U,2878612391),_=p(_,A,T,b,C[g+5],F,4237533241),b=p(b,_,A,T,C[g+12],B,1700485571),T=p(T,b,_,A,C[g+3],R,2399980690),A=p(A,T,b,_,C[g+10],U,4293915773),_=p(_,A,T,b,C[g+1],F,2240044497),b=p(b,_,A,T,C[g+8],B,1873313359),T=p(T,b,_,A,C[g+15],R,4264355552),A=p(A,T,b,_,C[g+6],U,2734768916),_=p(_,A,T,b,C[g+13],F,1309151649),b=p(b,_,A,T,C[g+4],B,4149444226),T=p(T,b,_,A,C[g+11],R,3174756917),A=p(A,T,b,_,C[g+2],U,718787259),_=p(_,A,T,b,C[g+9],F,3951481745),b=i(b,f),_=i(_,m),A=i(A,v),T=i(T,y);return(c(b)+c(_)+c(A)+c(T)).toLowerCase()},e}(a1115);__reflect(a1248.prototype,"a1248");var ObjectPool=function(){function t(){this._objs=new Array}return t.prototype.a2624=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.a2626=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){var i=t._content[e];if(i||(i=[],t._content[e]=i),i.length)return i.pop();var a=egret.getDefinitionByName(e),n=new a;return n.ObjectPoolKey=e,n},t.popWithExtraKey=function(e,i){var a=t._content[e];a||(a=[],t._content[e]=a);var n=null,r=a.length;if(r)for(var s=0;r>s;s++)if(a[s].extraKey==i){n=a[s],a.splice(s,1);break}if(!n){var o=egret.getDefinitionByName(e);n=new o(i),n.extraKey=i,n.ObjectPoolKey=e}return n},t.push=function(e){if(null==e)return!1;var i=e.ObjectPoolKey;return t._content[i]?(t._content[i].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,i){void 0===i&&(i=null);var a=t._content[e];if(null!=a){if(i)for(;a.length;){var n=a.pop();n[i]()}t._content[e]=null,delete t._content[e]}},t.dealFunc=function(e,i){var a=t._content[e];if(null!=a){var n=0,r=a.length;for(n;r>n;n++)a[n][i]()}},t._content={},t}();__reflect(ObjectPool.prototype,"ObjectPool");var a1250=function(t){function e(){var e=t.call(this)||this;return e._groupIndex=0,e.priority=0,e._configs=new Array,e._checks=new Array,e._observers=new Array,e._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceLoadProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.a2632,e),e}return __extends(e,t),e.prototype.clear=function(){this._groups={},this._configs=new Array,this._checks=new Array,this._observers=new Array},e.prototype.a2627=function(t,e){if(!this.checkConfigFileAdded(t,e)){var i=[t,e];this._configs.push(i),this._checks.push(i)}},e.prototype.loadConfig=function(t,e){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];this.a2628(t,e)||this._observers.push([t,e,i]),this.loadNextConfig()},e.prototype.checkConfigFileAdded=function(t,e){for(var i,a=!1,n=0,r=this._checks.length;r>n;++n)if(i=this._checks[n],i[0]==t&&i[1]==e){a=!0;break}return a},e.prototype.a2628=function(t,e){for(var i,a=!1,n=0,r=this._observers.length;r>n;++n)if(i=this._observers[n],i[0]==t&&i[1]==e){a=!0;break}return a},e.prototype.a2629=function(t,e){for(var i,a=0,n=this._observers.length;n>a;++a)if(i=this._observers[a],i[0]==t&&i[1]==e){this._observers.splice(a,1);break}},e.prototype.loadNextConfig=function(){if(0===this._configs.length){for(var t=void 0,e=0,i=this._observers.length;i>e;++e)t=this._observers[e],(n=t[0]).call.apply(n,[t[1]].concat(t[2]));return this._observers=[],void(this._configs=[])}var a=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(a[0],a[1]);var n},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,i,a){this._groups[t]=[e,i,a],RES.loadGroup(t,this.priority)},e.prototype.loadGroups=function(t,e,i,a,n){RES.createGroup(t,e,!0),this.loadGroup(t,i,a,n)},e.prototype.a2631=function(t,e){void 0===e&&(e=null);var i="pilferer_"+t;e||(e=[t]),RES.createGroup(i,e,!0),RES.loadGroup(i,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var i=this._groups[e][0],a=this._groups[e][2];null!=i&&i.apply(a,[e]),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var i=this._groups[e][1],a=this._groups[e][2];null!=i&&i.call(a,t.resItem.name,t.itemsLoaded,t.itemsTotal)}},e.prototype.a2632=function(t){console.error(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},e.prototype.a1515=function(t,e,i,a){void 0===t&&(t=[]),void 0===e&&(e=null),void 0===i&&(i=null),void 0===a&&(a=null);var n="loadGroup"+this._groupIndex++;RES.createGroup(n,t,!0),this._groups[n]=[e,i,a],RES.loadGroup(n)},e.prototype.a2633=function(t){var e=RES.a1517(t);if(e)for(var i in e){var a=e[i].name;RES.a1530(a)}},e}(a1115);__reflect(a1250.prototype,"a1250");var a1251=function(){function t(){}return t.addTweenEvent=function(e,i,a,n,r,s,o,l){void 0===s&&(s=!1),void 0===o&&(o=0),void 0===l&&(l=!1);var h=t.instances.get(e);null==h&&(h=[],t.instances.add(e,h));var p=function(t){a1232.musicState&&r&&a1228.a1238.playEffect(r),a1228.a1254.a2638(i)};i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,p,e,s,o,l),h.push([e,i,egret.TouchEvent.TOUCH_BEGIN,p,s]),i.addEventListener(a,n,e,s,o,l),h.push([e,i,a,n,s])},t.a1412=function(e,i,a,n,r,s,o,l,h){if(void 0===r&&(r=!0),void 0===s&&(s="click1_mp3"),void 0===o&&(o=!1),void 0===l&&(l=0),void 0===h&&(h=!1),!i)return void console.error("错误！！监听对象为空！");if(a===egret.TouchEvent.TOUCH_TAP&&r)t.addTweenEvent(e,i,a,n,s,o,l,h);else{var p=t.instances.get(e);null==p&&(p=[],t.instances.add(e,p)),i.addEventListener(a,n,e,o,l,h),p.push([e,i,a,n,o])}},t.addOnceEvent=function(e,i,a,n,r,s,o,l){void 0===r&&(r="click1_mp3"),void 0===s&&(s=!1),void 0===o&&(o=0),void 0===l&&(l=!1);var h=function(r){n.call(e),t.a1413(e,i,a,h,!1)};t.a1412(e,i,a,h,!1,r,s,o,l)},t.a1413=function(e,i,a,n,r){if(void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=null),void 0===r&&(r=!0),!e)return void console.log("监听者参数不能为空！");a===egret.TouchEvent.TOUCH_TAP&&r&&t.a1413(e,i,egret.TouchEvent.TOUCH_BEGIN);var s,o=!1,l=0;i?l|=4:0,a?l|=2:0,n?l|=1:0;var h=function(){switch(o=!1,l){case 0:s[t.DISPATHCH].removeEventListener(s[t.EVENT],s[t.FUNCTION],e,s[t.USECAPTURE]),o=!0;break;case 1:s[t.FUNCTION]==n&&(s[t.DISPATHCH].removeEventListener(s[t.EVENT],n,e,s[t.USECAPTURE]),o=!0);break;case 2:s[t.EVENT]==a&&(s[t.DISPATHCH].removeEventListener(a,s[t.FUNCTION],e,s[t.USECAPTURE]),o=!0);break;case 3:s[t.EVENT]==a&&s[t.FUNCTION]==n&&(s[t.DISPATHCH].removeEventListener(a,n,e,s[t.USECAPTURE]),o=!0);break;case 4:s[t.DISPATHCH]==i&&(s[t.DISPATHCH].removeEventListener(s[t.EVENT],s[t.FUNCTION],e,s[t.USECAPTURE]),o=!0);break;case 5:s[t.DISPATHCH]==i&&s[t.FUNCTION]==n&&(s[t.DISPATHCH].removeEventListener(s[t.EVENT],n,e,s[t.USECAPTURE]),o=!0);break;case 6:s[t.DISPATHCH]==i&&s[t.EVENT]==a&&(s[t.DISPATHCH].removeEventListener(a,s[t.FUNCTION],e,s[t.USECAPTURE]),o=!0);break;case 7:s[t.DISPATHCH]==i&&s[t.EVENT]==a&&s[t.FUNCTION]==n&&(s[t.DISPATHCH].removeEventListener(a,n,e,s[t.USECAPTURE]),o=!0)}},p=t.instances.get(e);if(p){for(var u,c=p.slice(),d=c.length-1;d>=0&&(s=c[d],h(),!o||(u=p.lastIndexOf(s),-1!==u&&p.splice(u,1),!n));d--);0===p.length&&t.instances.del(e)}},t.clear=function(){for(var e=t.instances.keys,i=0,a=e.length;a>i;i++)this.a1413(e[i])},t.instances=new Dictionary,t.KEY=0,t.DISPATHCH=1,t.EVENT=2,t.FUNCTION=3,t.USECAPTURE=4,t.PRIORITY=5,t.USEWEAKREFERENCE=6,t}();__reflect(a1251.prototype,"a1251");var a1252=function(t){function e(){var e=t.call(this)||this;return e._handlers=new Array,e._currTime=egret.getTimer(),e._currFrame=0,e._timeScale=1,egret.Ticker.getInstance().register(e.a2634,e),e}return __extends(e,t),e.prototype.a1497=function(t){this._timeScale=t},e.prototype.a2634=function(){this._currFrame++,this._currTime=egret.getTimer();for(var t,e=this._handlers.slice(),i=0,a=e.length;a>i;i++)if(t=e[i],t.method){var n=t.userFrame?this._currFrame:this._currTime;n>=t.exeTime&&(t.method.call(t.methodObj,(this._currTime-t.dealTime)*this._timeScale),t.dealTime=this._currTime,t.exeTime+=t.delay,t.repeat||(t.repeatCount>1?t.repeatCount--:t.complateMethod?(t.repeatCount=0,t.complateMethod.apply(t.complateMethodObj),t.repeat||0!==t.repeatCount||this.removeHandler(t)):this.removeHandler(t)))}},e.prototype.create=function(t,e,i,a,n,r,s){if(!(0>e||null==a)){var o=this.isExists(a,n);o||(o=ObjectPool.pop("TimerHandler"),this._handlers.push(o)),o.userFrame=t,o.repeat=0===i,o.repeatCount=i,o.delay=e,o.method=a,o.methodObj=n,o.complateMethod=r,o.complateMethodObj=s,o.exeTime=e+(t?this._currFrame:this._currTime),o.dealTime=this._currTime}},e.prototype.doTimer=function(t,e,i,a,n,r){void 0===n&&(n=null),void 0===r&&(r=null),this.create(!1,t,e,i,a,n,r)},e.prototype.doFrame=function(t,e,i,a,n,r){void 0===n&&(n=null),void 0===r&&(r=null),this.create(!0,t,e,i,a,n,r)},e.prototype.remove=function(t,e){for(var i,a=0,n=this._handlers.length;n>a;a++)if(i=this._handlers[a],i.methodObj===e&&i.method===t){i.clear(),ObjectPool.push(i),this._handlers.splice(a,1);break}},e.prototype.removeHandler=function(t){var e=this._handlers.indexOf(t);-1!==e&&(t.clear(),ObjectPool.push(t),this._handlers.splice(e,1))},e.prototype.removeAll=function(t){for(var e,i=0,a=this._handlers.length;a>i;)e=this._handlers[i],e.methodObj===t?(e.clear(),ObjectPool.push(e),this._handlers.splice(i,1),a--):i++},e.prototype.isExists=function(t,e){for(var i,a=0,n=this._handlers.length;n>a;a++)if(i=this._handlers[a],i.method===t&&i.methodObj===e)return i;return null},e}(a1115);__reflect(a1252.prototype,"a1252");var TimerHandler=function(){function t(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}return t.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},t}();__reflect(TimerHandler.prototype,"TimerHandler"),window.TimerHandler=TimerHandler;var a1254=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.a2638=function(t,e,i,a){if(void 0===e&&(e=null),t&&!t.tween_count){this.a2639(t,.5);var n=t.scaleX,r=t.scaleY;t.scaleX=1.2*n,t.scaleY=1.2*r,e?egret.Tween.get(t).to({scaleX:n,scaleY:r},200,egret.Ease.backOut).call(e,i,a):egret.Tween.get(t).to({scaleX:n,scaleY:r},200,egret.Ease.backOut)}},e.prototype.a2639=function(t,e){t&&0==t.anchorOffsetX&&(t.anchorOffsetX=t.width*e,t.anchorOffsetY=t.height*e,t.x+=t.width*e,t.y+=t.height*e)},e}(a1115);__reflect(a1254.prototype,"a1254");